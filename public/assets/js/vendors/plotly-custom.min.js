/**
* plotly.js (custom - minified) v3.0.0-rc.0
* Copyright 2012-2024, Plotly, Inc.
* All rights reserved.
* Licensed under the MIT license
*/
(
 function(root, factory) {
  if (typeof module === "object" && module.exports) {
   module.exports = factory();
  } else {
   root.moduleName = factory();
  }
} (typeof self !== "undefined" ? self : this, () => {
"use strict";var Plotly=(()=>{var O9=Object.defineProperty;var sae=Object.getOwnPropertyDescriptor;var uae=Object.getOwnPropertyNames;var fae=Object.prototype.hasOwnProperty;var z9=(e,r)=>()=>(e&&(r=e(e=0)),r);var R=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var cae=(e,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of uae(r))!fae.call(e,n)&&n!==t&&O9(e,n,{get:()=>r[n],enumerable:!(a=sae(r,n))||a.enumerable});return e};var vae=e=>cae(O9({},"__esModule",{value:!0}),e);var Em=R(B9=>{"use strict";B9.version="3.0.0-rc.0"});var H9=R((U9,Lm)=>{(function(r,t,a){t[r]=t[r]||a(),typeof Lm!="undefined"&&Lm.exports?Lm.exports=t[r]:typeof define=="function"&&define.amd&&define(function(){return t[r]})})("Promise",typeof window!="undefined"?window:U9,function(){"use strict";var r,t,a,n=Object.prototype.toString,i=typeof setImmediate!="undefined"?function(_){return setImmediate(_)}:setTimeout;try{Object.defineProperty({},"x",{}),r=function(_,w,x,T){return Object.defineProperty(_,w,{value:x,writable:!0,configurable:T!==!1})}}catch(b){r=function(w,x,T){return w[x]=T,w}}a=function(){var _,w,x;function T(S,M){this.fn=S,this.self=M,this.next=void 0}return{add:function(M,C){x=new T(M,C),w?w.next=x:_=x,w=x,x=void 0},drain:function(){var M=_;for(_=w=t=void 0;M;)M.fn.call(M.self),M=M.next}}}();function o(b,_){a.add(b,_),t||(t=i(a.drain))}function l(b){var _,w=typeof b;return b!=null&&(w=="object"||w=="function")&&(_=b.then),typeof _=="function"?_:!1}function s(){for(var b=0;b<this.chain.length;b++)u(this,this.state===1?this.chain[b].success:this.chain[b].failure,this.chain[b]);this.chain.length=0}function u(b,_,w){var x,T;try{_===!1?w.reject(b.msg):(_===!0?x=b.msg:x=_.call(void 0,b.msg),x===w.promise?w.reject(TypeError("Promise-chain cycle")):(T=l(x))?T.call(x,w.resolve,w.reject):w.resolve(x))}catch(S){w.reject(S)}}function f(b){var _,w=this;if(!w.triggered){w.triggered=!0,w.def&&(w=w.def);try{(_=l(b))?o(function(){var x=new d(w);try{_.call(b,function(){f.apply(x,arguments)},function(){c.apply(x,arguments)})}catch(T){c.call(x,T)}}):(w.msg=b,w.state=1,w.chain.length>0&&o(s,w))}catch(x){c.call(new d(w),x)}}}function c(b){var _=this;_.triggered||(_.triggered=!0,_.def&&(_=_.def),_.msg=b,_.state=2,_.chain.length>0&&o(s,_))}function h(b,_,w,x){for(var T=0;T<_.length;T++)(function(M){b.resolve(_[M]).then(function(q){w(M,q)},x)})(T)}function d(b){this.def=b,this.triggered=!1}function p(b){this.promise=b,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function g(b){if(typeof b!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var _=new p(this);this.then=function(x,T){var S={success:typeof x=="function"?x:!0,failure:typeof T=="function"?T:!1};return S.promise=new this.constructor(function(C,q){if(typeof C!="function"||typeof q!="function")throw TypeError("Not a function");S.resolve=C,S.reject=q}),_.chain.push(S),_.state!==0&&o(s,_),S.promise},this.catch=function(x){return this.then(void 0,x)};try{b.call(void 0,function(x){f.call(_,x)},function(x){c.call(_,x)})}catch(w){c.call(_,w)}}var y=r({},"constructor",g,!1);return g.prototype=y,r(y,"__NPO__",0,!1),r(g,"resolve",function(_){var w=this;return _&&typeof _=="object"&&_.__NPO__===1?_:new w(function(T,S){if(typeof T!="function"||typeof S!="function")throw TypeError("Not a function");T(_)})}),r(g,"reject",function(_){return new this(function(x,T){if(typeof x!="function"||typeof T!="function")throw TypeError("Not a function");T(_)})}),r(g,"all",function(_){var w=this;return n.call(_)!="[object Array]"?w.reject(TypeError("Not an array")):_.length===0?w.resolve([]):new w(function(T,S){if(typeof T!="function"||typeof S!="function")throw TypeError("Not a function");var M=_.length,C=Array(M),q=0;h(w,_,function(P,I){C[P]=I,++q===M&&T(C)},S)})}),r(g,"race",function(_){var w=this;return n.call(_)!="[object Array]"?w.reject(TypeError("Not an array")):new w(function(T,S){if(typeof T!="function"||typeof S!="function")throw TypeError("Not a function");h(w,_,function(C,q){T(q)},S)})}),g})});var aa=R((q9e,qm)=>{(function(){var e={version:"3.8.2"},r=[].slice,t=function(v){return r.call(v)},a=self.document;function n(v){return v&&(v.ownerDocument||v.document||v).documentElement}function i(v){return v&&(v.ownerDocument&&v.ownerDocument.defaultView||v.document&&v||v.defaultView)}if(a)try{t(a.documentElement.childNodes)[0].nodeType}catch(v){t=function(m){for(var A=m.length,k=new Array(A);A--;)k[A]=m[A];return k}}if(Date.now||(Date.now=function(){return+new Date}),a)try{a.createElement("DIV").style.setProperty("opacity",0,"")}catch(v){var o=this.Element.prototype,l=o.setAttribute,s=o.setAttributeNS,u=this.CSSStyleDeclaration.prototype,f=u.setProperty;o.setAttribute=function(m,A){l.call(this,m,A+"")},o.setAttributeNS=function(m,A,k){s.call(this,m,A,k+"")},u.setProperty=function(m,A,k){f.call(this,m,A+"",k)}}e.ascending=c;function c(v,m){return v<m?-1:v>m?1:v>=m?0:NaN}e.descending=function(v,m){return m<v?-1:m>v?1:m>=v?0:NaN},e.min=function(v,m){var A=-1,k=v.length,E,L;if(arguments.length===1){for(;++A<k;)if((L=v[A])!=null&&L>=L){E=L;break}for(;++A<k;)(L=v[A])!=null&&E>L&&(E=L)}else{for(;++A<k;)if((L=m.call(v,v[A],A))!=null&&L>=L){E=L;break}for(;++A<k;)(L=m.call(v,v[A],A))!=null&&E>L&&(E=L)}return E},e.max=function(v,m){var A=-1,k=v.length,E,L;if(arguments.length===1){for(;++A<k;)if((L=v[A])!=null&&L>=L){E=L;break}for(;++A<k;)(L=v[A])!=null&&L>E&&(E=L)}else{for(;++A<k;)if((L=m.call(v,v[A],A))!=null&&L>=L){E=L;break}for(;++A<k;)(L=m.call(v,v[A],A))!=null&&L>E&&(E=L)}return E},e.extent=function(v,m){var A=-1,k=v.length,E,L,N;if(arguments.length===1){for(;++A<k;)if((L=v[A])!=null&&L>=L){E=N=L;break}for(;++A<k;)(L=v[A])!=null&&(E>L&&(E=L),N<L&&(N=L))}else{for(;++A<k;)if((L=m.call(v,v[A],A))!=null&&L>=L){E=N=L;break}for(;++A<k;)(L=m.call(v,v[A],A))!=null&&(E>L&&(E=L),N<L&&(N=L))}return[E,N]};function h(v){return v===null?NaN:+v}function d(v){return!isNaN(v)}e.sum=function(v,m){var A=0,k=v.length,E,L=-1;if(arguments.length===1)for(;++L<k;)d(E=+v[L])&&(A+=E);else for(;++L<k;)d(E=+m.call(v,v[L],L))&&(A+=E);return A},e.mean=function(v,m){var A=0,k=v.length,E,L=-1,N=k;if(arguments.length===1)for(;++L<k;)d(E=h(v[L]))?A+=E:--N;else for(;++L<k;)d(E=h(m.call(v,v[L],L)))?A+=E:--N;if(N)return A/N},e.quantile=function(v,m){var A=(v.length-1)*m+1,k=Math.floor(A),E=+v[k-1],L=A-k;return L?E+L*(v[k]-E):E},e.median=function(v,m){var A=[],k=v.length,E,L=-1;if(arguments.length===1)for(;++L<k;)d(E=h(v[L]))&&A.push(E);else for(;++L<k;)d(E=h(m.call(v,v[L],L)))&&A.push(E);if(A.length)return e.quantile(A.sort(c),.5)},e.variance=function(v,m){var A=v.length,k=0,E,L,N=0,D=-1,B=0;if(arguments.length===1)for(;++D<A;)d(E=h(v[D]))&&(L=E-k,k+=L/++B,N+=L*(E-k));else for(;++D<A;)d(E=h(m.call(v,v[D],D)))&&(L=E-k,k+=L/++B,N+=L*(E-k));if(B>1)return N/(B-1)},e.deviation=function(){var v=e.variance.apply(this,arguments);return v&&Math.sqrt(v)};function p(v){return{left:function(m,A,k,E){for(arguments.length<3&&(k=0),arguments.length<4&&(E=m.length);k<E;){var L=k+E>>>1;v(m[L],A)<0?k=L+1:E=L}return k},right:function(m,A,k,E){for(arguments.length<3&&(k=0),arguments.length<4&&(E=m.length);k<E;){var L=k+E>>>1;v(m[L],A)>0?E=L:k=L+1}return k}}}var g=p(c);e.bisectLeft=g.left,e.bisect=e.bisectRight=g.right,e.bisector=function(v){return p(v.length===1?function(m,A){return c(v(m),A)}:v)},e.shuffle=function(v,m,A){(k=arguments.length)<3&&(A=v.length,k<2&&(m=0));for(var k=A-m,E,L;k;)L=Math.random()*k--|0,E=v[k+m],v[k+m]=v[L+m],v[L+m]=E;return v},e.permute=function(v,m){for(var A=m.length,k=new Array(A);A--;)k[A]=v[m[A]];return k},e.pairs=function(v){for(var m=0,A=v.length-1,k,E=v[0],L=new Array(A<0?0:A);m<A;)L[m]=[k=E,E=v[++m]];return L},e.transpose=function(v){if(!(L=v.length))return[];for(var m=-1,A=e.min(v,y),k=new Array(A);++m<A;)for(var E=-1,L,N=k[m]=new Array(L);++E<L;)N[E]=v[E][m];return k};function y(v){return v.length}e.zip=function(){return e.transpose(arguments)},e.keys=function(v){var m=[];for(var A in v)m.push(A);return m},e.values=function(v){var m=[];for(var A in v)m.push(v[A]);return m},e.entries=function(v){var m=[];for(var A in v)m.push({key:A,value:v[A]});return m},e.merge=function(v){for(var m=v.length,A,k=-1,E=0,L,N;++k<m;)E+=v[k].length;for(L=new Array(E);--m>=0;)for(N=v[m],A=N.length;--A>=0;)L[--E]=N[A];return L};var b=Math.abs;e.range=function(v,m,A){if(arguments.length<3&&(A=1,arguments.length<2&&(m=v,v=0)),(m-v)/A===1/0)throw new Error("infinite range");var k=[],E=_(b(A)),L=-1,N;if(v*=E,m*=E,A*=E,A<0)for(;(N=v+A*++L)>m;)k.push(N/E);else for(;(N=v+A*++L)<m;)k.push(N/E);return k};function _(v){for(var m=1;v*m%1;)m*=10;return m}function w(v,m){for(var A in m)Object.defineProperty(v.prototype,A,{value:m[A],enumerable:!1})}e.map=function(v,m){var A=new x;if(v instanceof x)v.forEach(function(D,B){A.set(D,B)});else if(Array.isArray(v)){var k=-1,E=v.length,L;if(arguments.length===1)for(;++k<E;)A.set(k,v[k]);else for(;++k<E;)A.set(m.call(v,L=v[k],k),L)}else for(var N in v)A.set(N,v[N]);return A};function x(){this._=Object.create(null)}var T="__proto__",S="\0";w(x,{has:q,get:function(v){return this._[M(v)]},set:function(v,m){return this._[M(v)]=m},remove:F,keys:P,values:function(){var v=[];for(var m in this._)v.push(this._[m]);return v},entries:function(){var v=[];for(var m in this._)v.push({key:C(m),value:this._[m]});return v},size:I,empty:H,forEach:function(v){for(var m in this._)v.call(this,C(m),this._[m])}});function M(v){return(v+="")===T||v[0]===S?S+v:v}function C(v){return(v+="")[0]===S?v.slice(1):v}function q(v){return M(v)in this._}function F(v){return(v=M(v))in this._&&delete this._[v]}function P(){var v=[];for(var m in this._)v.push(C(m));return v}function I(){var v=0;for(var m in this._)++v;return v}function H(){for(var v in this._)return!1;return!0}e.nest=function(){var v={},m=[],A=[],k,E;function L(D,B,J){if(J>=m.length)return E?E.call(v,B):k?B.sort(k):B;for(var $=-1,ee=B.length,re=m[J++],Ee,Re,oe,ge=new x,Me;++$<ee;)(Me=ge.get(Ee=re(Re=B[$])))?Me.push(Re):ge.set(Ee,[Re]);return D?(Re=D(),oe=function(Pe,Ne){Re.set(Pe,L(D,Ne,J))}):(Re={},oe=function(Pe,Ne){Re[Pe]=L(D,Ne,J)}),ge.forEach(oe),Re}function N(D,B){if(B>=m.length)return D;var J=[],$=A[B++];return D.forEach(function(ee,re){J.push({key:ee,values:N(re,B)})}),$?J.sort(function(ee,re){return $(ee.key,re.key)}):J}return v.map=function(D,B){return L(B,D,0)},v.entries=function(D){return N(L(e.map,D,0),0)},v.key=function(D){return m.push(D),v},v.sortKeys=function(D){return A[m.length-1]=D,v},v.sortValues=function(D){return k=D,v},v.rollup=function(D){return E=D,v},v},e.set=function(v){var m=new V;if(v)for(var A=0,k=v.length;A<k;++A)m.add(v[A]);return m};function V(){this._=Object.create(null)}w(V,{has:q,add:function(v){return this._[M(v+="")]=!0,v},remove:F,values:P,size:I,empty:H,forEach:function(v){for(var m in this._)v.call(this,C(m))}}),e.behavior={};function j(v){return v}e.rebind=function(v,m){for(var A=1,k=arguments.length,E;++A<k;)v[E=arguments[A]]=W(v,m,m[E]);return v};function W(v,m,A){return function(){var k=A.apply(m,arguments);return k===m?v:k}}function z(v,m){if(m in v)return m;m=m.charAt(0).toUpperCase()+m.slice(1);for(var A=0,k=O.length;A<k;++A){var E=O[A]+m;if(E in v)return E}}var O=["webkit","ms","moz","Moz","o","O"];function G(){}e.dispatch=function(){for(var v=new Z,m=-1,A=arguments.length;++m<A;)v[arguments[m]]=Q(v);return v};function Z(){}Z.prototype.on=function(v,m){var A=v.indexOf("."),k="";if(A>=0&&(k=v.slice(A+1),v=v.slice(0,A)),v)return arguments.length<2?this[v].on(k):this[v].on(k,m);if(arguments.length===2){if(m==null)for(v in this)this.hasOwnProperty(v)&&this[v].on(k,null);return this}};function Q(v){var m=[],A=new x;function k(){for(var E=m,L=-1,N=E.length,D;++L<N;)(D=E[L].on)&&D.apply(this,arguments);return v}return k.on=function(E,L){var N=A.get(E),D;return arguments.length<2?N&&N.on:(N&&(N.on=null,m=m.slice(0,D=m.indexOf(N)).concat(m.slice(D+1)),A.remove(E)),L&&m.push(A.set(E,{on:L})),v)},k}e.event=null;function ie(){e.event.preventDefault()}function be(){for(var v=e.event,m;m=v.sourceEvent;)v=m;return v}function ne(v){for(var m=new Z,A=0,k=arguments.length;++A<k;)m[arguments[A]]=Q(m);return m.of=function(E,L){return function(N){try{var D=N.sourceEvent=e.event;N.target=v,e.event=N,m[N.type].apply(E,L)}finally{e.event=D}}},m}e.requote=function(v){return v.replace(de,"\\$&")};var de=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,K={}.__proto__?function(v,m){v.__proto__=m}:function(v,m){for(var A in m)v[A]=m[A]};function me(v){return K(v,Ae),v}var fe=function(v,m){return m.querySelector(v)},ke=function(v,m){return m.querySelectorAll(v)},ve=function(v,m){var A=v.matches||v[z(v,"matchesSelector")];return ve=function(k,E){return A.call(k,E)},ve(v,m)};typeof Sizzle=="function"&&(fe=function(v,m){return Sizzle(v,m)[0]||null},ke=Sizzle,ve=Sizzle.matchesSelector),e.selection=function(){return e.select(a.documentElement)};var Ae=e.selection.prototype=[];Ae.select=function(v){var m=[],A,k,E,L;v=Y(v);for(var N=-1,D=this.length;++N<D;){m.push(A=[]),A.parentNode=(E=this[N]).parentNode;for(var B=-1,J=E.length;++B<J;)(L=E[B])?(A.push(k=v.call(L,L.__data__,B,N)),k&&"__data__"in L&&(k.__data__=L.__data__)):A.push(null)}return me(m)};function Y(v){return typeof v=="function"?v:function(){return fe(v,this)}}Ae.selectAll=function(v){var m=[],A,k;v=ae(v);for(var E=-1,L=this.length;++E<L;)for(var N=this[E],D=-1,B=N.length;++D<B;)(k=N[D])&&(m.push(A=t(v.call(k,k.__data__,D,E))),A.parentNode=k);return me(m)};function ae(v){return typeof v=="function"?v:function(){return ke(v,this)}}var X="http://www.w3.org/1999/xhtml",Se={svg:"http://www.w3.org/2000/svg",xhtml:X,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};e.ns={prefix:Se,qualify:function(v){var m=v.indexOf(":"),A=v;return m>=0&&(A=v.slice(0,m))!=="xmlns"&&(v=v.slice(m+1)),Se.hasOwnProperty(A)?{space:Se[A],local:v}:v}},Ae.attr=function(v,m){if(arguments.length<2){if(typeof v=="string"){var A=this.node();return v=e.ns.qualify(v),v.local?A.getAttributeNS(v.space,v.local):A.getAttribute(v)}for(m in v)this.each(qe(m,v[m]));return this}return this.each(qe(v,m))};function qe(v,m){v=e.ns.qualify(v);function A(){this.removeAttribute(v)}function k(){this.removeAttributeNS(v.space,v.local)}function E(){this.setAttribute(v,m)}function L(){this.setAttributeNS(v.space,v.local,m)}function N(){var B=m.apply(this,arguments);B==null?this.removeAttribute(v):this.setAttribute(v,B)}function D(){var B=m.apply(this,arguments);B==null?this.removeAttributeNS(v.space,v.local):this.setAttributeNS(v.space,v.local,B)}return m==null?v.local?k:A:typeof m=="function"?v.local?D:N:v.local?L:E}function De(v){return v.trim().replace(/\s+/g," ")}Ae.classed=function(v,m){if(arguments.length<2){if(typeof v=="string"){var A=this.node(),k=(v=$e(v)).length,E=-1;if(m=A.classList){for(;++E<k;)if(!m.contains(v[E]))return!1}else for(m=A.getAttribute("class");++E<k;)if(!tr(v[E]).test(m))return!1;return!0}for(m in v)this.each(Ze(m,v[m]));return this}return this.each(Ze(v,m))};function tr(v){return new RegExp("(?:^|\\s+)"+e.requote(v)+"(?:\\s+|$)","g")}function $e(v){return(v+"").trim().split(/^|\s+/)}function Ze(v,m){v=$e(v).map(lr);var A=v.length;function k(){for(var L=-1;++L<A;)v[L](this,m)}function E(){for(var L=-1,N=m.apply(this,arguments);++L<A;)v[L](this,N)}return typeof m=="function"?E:k}function lr(v){var m=tr(v);return function(A,k){if(E=A.classList)return k?E.add(v):E.remove(v);var E=A.getAttribute("class")||"";k?(m.lastIndex=0,m.test(E)||A.setAttribute("class",De(E+" "+v))):A.setAttribute("class",De(E.replace(m," ")))}}Ae.style=function(v,m,A){var k=arguments.length;if(k<3){if(typeof v!="string"){k<2&&(m="");for(A in v)this.each(pr(A,v[A],m));return this}if(k<2){var E=this.node();return i(E).getComputedStyle(E,null).getPropertyValue(v)}A=""}return this.each(pr(v,m,A))};function pr(v,m,A){function k(){this.style.removeProperty(v)}function E(){this.style.setProperty(v,m,A)}function L(){var N=m.apply(this,arguments);N==null?this.style.removeProperty(v):this.style.setProperty(v,N,A)}return m==null?k:typeof m=="function"?L:E}Ae.property=function(v,m){if(arguments.length<2){if(typeof v=="string")return this.node()[v];for(m in v)this.each(ir(m,v[m]));return this}return this.each(ir(v,m))};function ir(v,m){function A(){delete this[v]}function k(){this[v]=m}function E(){var L=m.apply(this,arguments);L==null?delete this[v]:this[v]=L}return m==null?A:typeof m=="function"?E:k}Ae.text=function(v){return arguments.length?this.each(typeof v=="function"?function(){var m=v.apply(this,arguments);this.textContent=m==null?"":m}:v==null?function(){this.textContent=""}:function(){this.textContent=v}):this.node().textContent},Ae.html=function(v){return arguments.length?this.each(typeof v=="function"?function(){var m=v.apply(this,arguments);this.innerHTML=m==null?"":m}:v==null?function(){this.innerHTML=""}:function(){this.innerHTML=v}):this.node().innerHTML},Ae.append=function(v){return v=Xe(v),this.select(function(){return this.appendChild(v.apply(this,arguments))})};function Xe(v){function m(){var k=this.ownerDocument,E=this.namespaceURI;return E===X&&k.documentElement.namespaceURI===X?k.createElement(v):k.createElementNS(E,v)}function A(){return this.ownerDocument.createElementNS(v.space,v.local)}return typeof v=="function"?v:(v=e.ns.qualify(v)).local?A:m}Ae.insert=function(v,m){return v=Xe(v),m=Y(m),this.select(function(){return this.insertBefore(v.apply(this,arguments),m.apply(this,arguments)||null)})},Ae.remove=function(){return this.each(Cr)};function Cr(){var v=this.parentNode;v&&v.removeChild(this)}Ae.data=function(v,m){var A=-1,k=this.length,E,L;if(!arguments.length){for(v=new Array(k=(E=this[0]).length);++A<k;)(L=E[A])&&(v[A]=L.__data__);return v}function N($,ee){var re,Ee=$.length,Re=ee.length,oe=Math.min(Ee,Re),ge=new Array(Re),Me=new Array(Re),Pe=new Array(Ee),Ne,_e;if(m){var cr=new x,Mr=new Array(Ee),Pr;for(re=-1;++re<Ee;)(Ne=$[re])&&(cr.has(Pr=m.call(Ne,Ne.__data__,re))?Pe[re]=Ne:cr.set(Pr,Ne),Mr[re]=Pr);for(re=-1;++re<Re;)(Ne=cr.get(Pr=m.call(ee,_e=ee[re],re)))?Ne!==!0&&(ge[re]=Ne,Ne.__data__=_e):Me[re]=br(_e),cr.set(Pr,!0);for(re=-1;++re<Ee;)re in Mr&&cr.get(Mr[re])!==!0&&(Pe[re]=$[re])}else{for(re=-1;++re<oe;)Ne=$[re],_e=ee[re],Ne?(Ne.__data__=_e,ge[re]=Ne):Me[re]=br(_e);for(;re<Re;++re)Me[re]=br(ee[re]);for(;re<Ee;++re)Pe[re]=$[re]}Me.update=ge,Me.parentNode=ge.parentNode=Pe.parentNode=$.parentNode,D.push(Me),B.push(ge),J.push(Pe)}var D=et([]),B=me([]),J=me([]);if(typeof v=="function")for(;++A<k;)N(E=this[A],v.call(E,E.parentNode.__data__,A));else for(;++A<k;)N(E=this[A],v);return B.enter=function(){return D},B.exit=function(){return J},B};function br(v){return{__data__:v}}Ae.datum=function(v){return arguments.length?this.property("__data__",v):this.property("__data__")},Ae.filter=function(v){var m=[],A,k,E;typeof v!="function"&&(v=pe(v));for(var L=0,N=this.length;L<N;L++){m.push(A=[]),A.parentNode=(k=this[L]).parentNode;for(var D=0,B=k.length;D<B;D++)(E=k[D])&&v.call(E,E.__data__,D,L)&&A.push(E)}return me(m)};function pe(v){return function(){return ve(this,v)}}Ae.order=function(){for(var v=-1,m=this.length;++v<m;)for(var A=this[v],k=A.length-1,E=A[k],L;--k>=0;)(L=A[k])&&(E&&E!==L.nextSibling&&E.parentNode.insertBefore(L,E),E=L);return this},Ae.sort=function(v){v=Ie.apply(this,arguments);for(var m=-1,A=this.length;++m<A;)this[m].sort(v);return this.order()};function Ie(v){return arguments.length||(v=c),function(m,A){return m&&A?v(m.__data__,A.__data__):!m-!A}}Ae.each=function(v){return ze(this,function(m,A,k){v.call(m,m.__data__,A,k)})};function ze(v,m){for(var A=0,k=v.length;A<k;A++)for(var E=v[A],L=0,N=E.length,D;L<N;L++)(D=E[L])&&m(D,L,A);return v}Ae.call=function(v){var m=t(arguments);return v.apply(m[0]=this,m),this},Ae.empty=function(){return!this.node()},Ae.node=function(){for(var v=0,m=this.length;v<m;v++)for(var A=this[v],k=0,E=A.length;k<E;k++){var L=A[k];if(L)return L}return null},Ae.size=function(){var v=0;return ze(this,function(){++v}),v};function et(v){return K(v,zr),v}var zr=[];e.selection.enter=et,e.selection.enter.prototype=zr,zr.append=Ae.append,zr.empty=Ae.empty,zr.node=Ae.node,zr.call=Ae.call,zr.size=Ae.size,zr.select=function(v){for(var m=[],A,k,E,L,N,D=-1,B=this.length;++D<B;){E=(L=this[D]).update,m.push(A=[]),A.parentNode=L.parentNode;for(var J=-1,$=L.length;++J<$;)(N=L[J])?(A.push(E[J]=k=v.call(L.parentNode,N.__data__,J,D)),k.__data__=N.__data__):A.push(null)}return me(m)},zr.insert=function(v,m){return arguments.length<2&&(m=Ve(this)),Ae.insert.call(this,v,m)};function Ve(v){var m,A;return function(k,E,L){var N=v[L].update,D=N.length,B;for(L!=A&&(A=L,m=0),E>=m&&(m=E+1);!(B=N[m])&&++m<D;);return B}}e.select=function(v){var m;return typeof v=="string"?(m=[fe(v,a)],m.parentNode=a.documentElement):(m=[v],m.parentNode=n(v)),me([m])},e.selectAll=function(v){var m;return typeof v=="string"?(m=t(ke(v,a)),m.parentNode=a.documentElement):(m=t(v),m.parentNode=null),me([m])},Ae.on=function(v,m,A){var k=arguments.length;if(k<3){if(typeof v!="string"){k<2&&(m=!1);for(A in v)this.each(He(A,v[A],m));return this}if(k<2)return(k=this.node()["__on"+v])&&k._;A=!1}return this.each(He(v,m,A))};function He(v,m,A){var k="__on"+v,E=v.indexOf("."),L=Tr;E>0&&(v=v.slice(0,E));var N=dr.get(v);N&&(v=N,L=mr);function D(){var $=this[k];$&&(this.removeEventListener(v,$,$.$),delete this[k])}function B(){var $=L(m,t(arguments));D.call(this),this.addEventListener(v,this[k]=$,$.$=A),$._=m}function J(){var $=new RegExp("^__on([^.]+)"+e.requote(v)+"$"),ee;for(var re in this)if(ee=re.match($)){var Ee=this[re];this.removeEventListener(ee[1],Ee,Ee.$),delete this[re]}}return E?m?B:D:m?G:J}var dr=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});a&&dr.forEach(function(v){"on"+v in a&&dr.remove(v)});function Tr(v,m){return function(A){var k=e.event;e.event=A,m[0]=this.__data__;try{v.apply(this,m)}finally{e.event=k}}}function mr(v,m){var A=Tr(v,m);return function(k){var E=this,L=k.relatedTarget;(!L||L!==E&&!(L.compareDocumentPosition(E)&8))&&A.call(E,k)}}var vr,Er=0;function Ir(v){var m=".dragsuppress-"+ ++Er,A="click"+m,k=e.select(i(v)).on("touchmove"+m,ie).on("dragstart"+m,ie).on("selectstart"+m,ie);if(vr==null&&(vr="onselectstart"in v?!1:z(v.style,"userSelect")),vr){var E=n(v).style,L=E[vr];E[vr]="none"}return function(N){if(k.on(m,null),vr&&(E[vr]=L),N){var D=function(){k.on(A,null)};k.on(A,function(){ie(),D()},!0),setTimeout(D,0)}}}e.mouse=function(v){return Je(v,be())};var Hr=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Je(v,m){m.changedTouches&&(m=m.changedTouches[0]);var A=v.ownerSVGElement||v;if(A.createSVGPoint){var k=A.createSVGPoint();if(Hr<0){var E=i(v);if(E.scrollX||E.scrollY){A=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var L=A[0][0].getScreenCTM();Hr=!(L.f||L.e),A.remove()}}return Hr?(k.x=m.pageX,k.y=m.pageY):(k.x=m.clientX,k.y=m.clientY),k=k.matrixTransform(v.getScreenCTM().inverse()),[k.x,k.y]}var N=v.getBoundingClientRect();return[m.clientX-N.left-v.clientLeft,m.clientY-N.top-v.clientTop]}e.touch=function(v,m,A){if(arguments.length<3&&(A=m,m=be().changedTouches),m){for(var k=0,E=m.length,L;k<E;++k)if((L=m[k]).identifier===A)return Je(v,L)}},e.behavior.drag=function(){var v=ne(E,"drag","dragstart","dragend"),m=null,A=L(G,e.mouse,i,"mousemove","mouseup"),k=L(se,e.touch,j,"touchmove","touchend");function E(){this.on("mousedown.drag",A).on("touchstart.drag",k)}function L(N,D,B,J,$){return function(){var ee=this,re=e.event.target.correspondingElement||e.event.target,Ee=ee.parentNode,Re=v.of(ee,arguments),oe=0,ge=N(),Me=".drag"+(ge==null?"":"-"+ge),Pe,Ne=e.select(B(re)).on(J+Me,Mr).on($+Me,Pr),_e=Ir(re),cr=D(Ee,ge);m?(Pe=m.apply(ee,arguments),Pe=[Pe.x-cr[0],Pe.y-cr[1]]):Pe=[0,0],Re({type:"dragstart"});function Mr(){var Yr=D(Ee,ge),it,ot;Yr&&(it=Yr[0]-cr[0],ot=Yr[1]-cr[1],oe|=it|ot,cr=Yr,Re({type:"drag",x:Yr[0]+Pe[0],y:Yr[1]+Pe[1],dx:it,dy:ot}))}function Pr(){D(Ee,ge)&&(Ne.on(J+Me,null).on($+Me,null),_e(oe),Re({type:"dragend"}))}}}return E.origin=function(N){return arguments.length?(m=N,E):m},e.rebind(E,v,"on")};function se(){return e.event.changedTouches[0].identifier}e.touches=function(v,m){return arguments.length<2&&(m=be().touches),m?t(m).map(function(A){var k=Je(v,A);return k.identifier=A.identifier,k}):[]};var we=1e-6,Ge=we*we,Oe=Math.PI,Wr=2*Oe,tt=Wr-we,$r=Oe/2,kt=Oe/180,ra=180/Oe;function pa(v){return v>0?1:v<0?-1:0}function na(v,m,A){return(m[0]-v[0])*(A[1]-v[1])-(m[1]-v[1])*(A[0]-v[0])}function Ka(v){return v>1?0:v<-1?Oe:Math.acos(v)}function En(v){return v>1?$r:v<-1?-$r:Math.asin(v)}function oi(v){return((v=Math.exp(v))-1/v)/2}function Ln(v){return((v=Math.exp(v))+1/v)/2}function Wi(v){return((v=Math.exp(2*v))-1)/(v+1)}function zn(v){return(v=Math.sin(v/2))*v}var qn=Math.SQRT2,yi=2,wt=4;e.interpolateZoom=function(v,m){var A=v[0],k=v[1],E=v[2],L=m[0],N=m[1],D=m[2],B=L-A,J=N-k,$=B*B+J*J,ee,re;if($<Ge)re=Math.log(D/E)/qn,ee=function(Pe){return[A+Pe*B,k+Pe*J,E*Math.exp(qn*Pe*re)]};else{var Ee=Math.sqrt($),Re=(D*D-E*E+wt*$)/(2*E*yi*Ee),oe=(D*D-E*E-wt*$)/(2*D*yi*Ee),ge=Math.log(Math.sqrt(Re*Re+1)-Re),Me=Math.log(Math.sqrt(oe*oe+1)-oe);re=(Me-ge)/qn,ee=function(Pe){var Ne=Pe*re,_e=Ln(ge),cr=E/(yi*Ee)*(_e*Wi(qn*Ne+ge)-oi(ge));return[A+cr*B,k+cr*J,E*_e/Ln(qn*Ne+ge)]}}return ee.duration=re*1e3,ee},e.behavior.zoom=function(){var v={x:0,y:0,k:1},m,A,k,E=[960,500],L=Ta,N=250,D=0,B="mousedown.zoom",J="mousemove.zoom",$="mouseup.zoom",ee,re="touchstart.zoom",Ee,Re=ne(Ne,"zoomstart","zoom","zoomend"),oe,ge,Me,Pe;Ra||(Ra="onwheel"in a?(ta=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in a?(ta=function(){return e.event.wheelDelta},"mousewheel"):(ta=function(){return-e.event.detail},"MozMousePixelScroll"));function Ne(Br){Br.on(B,Ct).on(Ra+".zoom",rn).on("dblclick.zoom",ba).on(re,va)}Ne.event=function(Br){Br.each(function(){var Ft=Re.of(this,arguments),Ut=v;Ql?e.select(this).transition().each("start.zoom",function(){v=this.__chart__||{x:0,y:0,k:1},ot(Ft)}).tween("zoom:zoom",function(){var sa=E[0],Ba=E[1],fn=A?A[0]:sa/2,Hn=A?A[1]:Ba/2,Kn=e.interpolateZoom([(fn-v.x)/v.k,(Hn-v.y)/v.k,sa/v.k],[(fn-Ut.x)/Ut.k,(Hn-Ut.y)/Ut.k,sa/Ut.k]);return function(mi){var U=Kn(mi),le=sa/U[2];this.__chart__=v={x:fn-U[0]*le,y:Hn-U[1]*le,k:le},Dt(Ft)}}).each("interrupt.zoom",function(){ct(Ft)}).each("end.zoom",function(){ct(Ft)}):(this.__chart__=v,ot(Ft),Dt(Ft),ct(Ft))})},Ne.translate=function(Br){return arguments.length?(v={x:+Br[0],y:+Br[1],k:v.k},it(),Ne):[v.x,v.y]},Ne.scale=function(Br){return arguments.length?(v={x:v.x,y:v.y,k:null},Mr(+Br),it(),Ne):v.k},Ne.scaleExtent=function(Br){return arguments.length?(L=Br==null?Ta:[+Br[0],+Br[1]],Ne):L},Ne.center=function(Br){return arguments.length?(k=Br&&[+Br[0],+Br[1]],Ne):k},Ne.size=function(Br){return arguments.length?(E=Br&&[+Br[0],+Br[1]],Ne):E},Ne.duration=function(Br){return arguments.length?(N=+Br,Ne):N},Ne.x=function(Br){return arguments.length?(ge=Br,oe=Br.copy(),v={x:0,y:0,k:1},Ne):ge},Ne.y=function(Br){return arguments.length?(Pe=Br,Me=Br.copy(),v={x:0,y:0,k:1},Ne):Pe};function _e(Br){return[(Br[0]-v.x)/v.k,(Br[1]-v.y)/v.k]}function cr(Br){return[Br[0]*v.k+v.x,Br[1]*v.k+v.y]}function Mr(Br){v.k=Math.max(L[0],Math.min(L[1],Br))}function Pr(Br,Ft){Ft=cr(Ft),v.x+=Br[0]-Ft[0],v.y+=Br[1]-Ft[1]}function Yr(Br,Ft,Ut,sa){Br.__chart__={x:v.x,y:v.y,k:v.k},Mr(Math.pow(2,sa)),Pr(A=Ft,Ut),Br=e.select(Br),N>0&&(Br=Br.transition().duration(N)),Br.call(Ne.event)}function it(){ge&&ge.domain(oe.range().map(function(Br){return(Br-v.x)/v.k}).map(oe.invert)),Pe&&Pe.domain(Me.range().map(function(Br){return(Br-v.y)/v.k}).map(Me.invert))}function ot(Br){D++||Br({type:"zoomstart"})}function Dt(Br){it(),Br({type:"zoom",scale:v.k,translate:[v.x,v.y]})}function ct(Br){--D||(Br({type:"zoomend"}),A=null)}function Ct(){var Br=this,Ft=Re.of(Br,arguments),Ut=0,sa=e.select(i(Br)).on(J,Hn).on($,Kn),Ba=_e(e.mouse(Br)),fn=Ir(Br);Yv.call(Br),ot(Ft);function Hn(){Ut=1,Pr(e.mouse(Br),Ba),Dt(Ft)}function Kn(){sa.on(J,null).on($,null),fn(Ut),ct(Ft)}}function va(){var Br=this,Ft=Re.of(Br,arguments),Ut={},sa=0,Ba,fn=".zoom-"+e.event.changedTouches[0].identifier,Hn="touchmove"+fn,Kn="touchend"+fn,mi=[],U=e.select(Br),le=Ir(Br);We(),ot(Ft),U.on(B,null).on(re,We);function ce(){var Ke=e.touches(Br);return Ba=v.k,Ke.forEach(function(xr){xr.identifier in Ut&&(Ut[xr.identifier]=_e(xr))}),Ke}function We(){var Ke=e.event.target;e.select(Ke).on(Hn,Qe).on(Kn,nr),mi.push(Ke);for(var xr=e.event.changedTouches,qr=0,Dr=xr.length;qr<Dr;++qr)Ut[xr[qr].identifier]=null;var Fr=ce(),xt=Date.now();if(Fr.length===1){if(xt-Ee<500){var ft=Fr[0];Yr(Br,ft,Ut[ft.identifier],Math.floor(Math.log(v.k)/Math.LN2)+1),ie()}Ee=xt}else if(Fr.length>1){var ft=Fr[0],Zr=Fr[1],hr=ft[0]-Zr[0],Be=ft[1]-Zr[1];sa=hr*hr+Be*Be}}function Qe(){var Ke=e.touches(Br),xr,qr,Dr,Fr;Yv.call(Br);for(var xt=0,ft=Ke.length;xt<ft;++xt,Fr=null)if(Dr=Ke[xt],Fr=Ut[Dr.identifier]){if(qr)break;xr=Dr,qr=Fr}if(Fr){var Zr=(Zr=Dr[0]-xr[0])*Zr+(Zr=Dr[1]-xr[1])*Zr,hr=sa&&Math.sqrt(Zr/sa);xr=[(xr[0]+Dr[0])/2,(xr[1]+Dr[1])/2],qr=[(qr[0]+Fr[0])/2,(qr[1]+Fr[1])/2],Mr(hr*Ba)}Ee=null,Pr(xr,qr),Dt(Ft)}function nr(){if(e.event.touches.length){for(var Ke=e.event.changedTouches,xr=0,qr=Ke.length;xr<qr;++xr)delete Ut[Ke[xr].identifier];for(var Dr in Ut)return void ce()}e.selectAll(mi).on(fn,null),U.on(B,Ct).on(re,va),le(),ct(Ft)}}function rn(){var Br=Re.of(this,arguments);ee?clearTimeout(ee):(Yv.call(this),m=_e(A=k||e.mouse(this)),ot(Br)),ee=setTimeout(function(){ee=null,ct(Br)},50),ie(),Mr(Math.pow(2,ta()*.002)*v.k),Pr(A,m),Dt(Br)}function ba(){var Br=e.mouse(this),Ft=Math.log(v.k)/Math.LN2;Yr(this,Br,_e(Br),e.event.shiftKey?Math.ceil(Ft)-1:Math.floor(Ft)+1)}return e.rebind(Ne,Re,"on")};var Ta=[0,1/0],ta,Ra;e.color=ja;function ja(){}ja.prototype.toString=function(){return this.rgb()+""},e.hsl=Ma;function Ma(v,m,A){return this instanceof Ma?(this.h=+v,this.s=+m,void(this.l=+A)):arguments.length<2?v instanceof Ma?new Ma(v.h,v.s,v.l):Xt(""+v,ca,Ma):new Ma(v,m,A)}var Ea=Ma.prototype=new ja;Ea.brighter=function(v){return v=Math.pow(.7,arguments.length?v:1),new Ma(this.h,this.s,this.l/v)},Ea.darker=function(v){return v=Math.pow(.7,arguments.length?v:1),new Ma(this.h,this.s,v*this.l)},Ea.rgb=function(){return Qa(this.h,this.s,this.l)};function Qa(v,m,A){var k,E;v=isNaN(v)?0:(v%=360)<0?v+360:v,m=isNaN(m)||m<0?0:m>1?1:m,A=A<0?0:A>1?1:A,E=A<=.5?A*(1+m):A+m-A*m,k=2*A-E;function L(D){return D>360?D-=360:D<0&&(D+=360),D<60?k+(E-k)*D/60:D<180?E:D<240?k+(E-k)*(240-D)/60:k}function N(D){return Math.round(L(D)*255)}return new li(N(v+120),N(v),N(v-120))}e.hcl=nn;function nn(v,m,A){return this instanceof nn?(this.h=+v,this.c=+m,void(this.l=+A)):arguments.length<2?v instanceof nn?new nn(v.h,v.c,v.l):v instanceof bn?Ts(v.l,v.a,v.b):Ts((v=jr((v=e.rgb(v)).r,v.g,v.b)).l,v.a,v.b):new nn(v,m,A)}var ji=nn.prototype=new ja;ji.brighter=function(v){return new nn(this.h,this.c,Math.min(100,this.l+wa*(arguments.length?v:1)))},ji.darker=function(v){return new nn(this.h,this.c,Math.max(0,this.l-wa*(arguments.length?v:1)))},ji.rgb=function(){return Xi(this.h,this.c,this.l).rgb()};function Xi(v,m,A){return isNaN(v)&&(v=0),isNaN(m)&&(m=0),new bn(A,Math.cos(v*=kt)*m,Math.sin(v)*m)}e.lab=bn;function bn(v,m,A){return this instanceof bn?(this.l=+v,this.a=+m,void(this.b=+A)):arguments.length<2?v instanceof bn?new bn(v.l,v.a,v.b):v instanceof nn?Xi(v.h,v.c,v.l):jr((v=li(v)).r,v.g,v.b):new bn(v,m,A)}var wa=18,Bn=.95047,ws=1,As=1.08883,Hl=bn.prototype=new ja;Hl.brighter=function(v){return new bn(Math.min(100,this.l+wa*(arguments.length?v:1)),this.a,this.b)},Hl.darker=function(v){return new bn(Math.max(0,this.l-wa*(arguments.length?v:1)),this.a,this.b)},Hl.rgb=function(){return gv(this.l,this.a,this.b)};function gv(v,m,A){var k=(v+16)/116,E=k+m/500,L=k-A/200;return E=Rf(E)*Bn,k=Rf(k)*ws,L=Rf(L)*As,new li(ul(3.2404542*E-1.5371385*k-.4985314*L),ul(-.969266*E+1.8760108*k+.041556*L),ul(.0556434*E-.2040259*k+1.0572252*L))}function Ts(v,m,A){return v>0?new nn(Math.atan2(A,m)*ra,Math.sqrt(m*m+A*A),v):new nn(NaN,NaN,v)}function Rf(v){return v>.206893034?v*v*v:(v-4/29)/7.787037}function Pf(v){return v>.008856?Math.pow(v,1/3):7.787037*v+4/29}function ul(v){return Math.round(255*(v<=.00304?12.92*v:1.055*Math.pow(v,1/2.4)-.055))}e.rgb=li;function li(v,m,A){return this instanceof li?(this.r=~~v,this.g=~~m,void(this.b=~~A)):arguments.length<2?v instanceof li?new li(v.r,v.g,v.b):Xt(""+v,li,Qa):new li(v,m,A)}function fl(v){return new li(v>>16,v>>8&255,v&255)}function Ms(v){return fl(v)+""}var _o=li.prototype=new ja;_o.brighter=function(v){v=Math.pow(.7,arguments.length?v:1);var m=this.r,A=this.g,k=this.b,E=30;return!m&&!A&&!k?new li(E,E,E):(m&&m<E&&(m=E),A&&A<E&&(A=E),k&&k<E&&(k=E),new li(Math.min(255,m/v),Math.min(255,A/v),Math.min(255,k/v)))},_o.darker=function(v){return v=Math.pow(.7,arguments.length?v:1),new li(v*this.r,v*this.g,v*this.b)},_o.hsl=function(){return ca(this.r,this.g,this.b)},_o.toString=function(){return"#"+mt(this.r)+mt(this.g)+mt(this.b)};function mt(v){return v<16?"0"+Math.max(0,v).toString(16):Math.min(255,v).toString(16)}function Xt(v,m,A){var k=0,E=0,L=0,N,D,B;if(N=/([a-z]+)\((.*)\)/.exec(v=v.toLowerCase()),N)switch(D=N[2].split(","),N[1]){case"hsl":return A(parseFloat(D[0]),parseFloat(D[1])/100,parseFloat(D[2])/100);case"rgb":return m(Ca(D[0]),Ca(D[1]),Ca(D[2]))}return(B=Dn.get(v))?m(B.r,B.g,B.b):(v!=null&&v.charAt(0)==="#"&&!isNaN(B=parseInt(v.slice(1),16))&&(v.length===4?(k=(B&3840)>>4,k=k>>4|k,E=B&240,E=E>>4|E,L=B&15,L=L<<4|L):v.length===7&&(k=(B&16711680)>>16,E=(B&65280)>>8,L=B&255)),m(k,E,L))}function ca(v,m,A){var k=Math.min(v/=255,m/=255,A/=255),E=Math.max(v,m,A),L=E-k,N,D,B=(E+k)/2;return L?(D=B<.5?L/(E+k):L/(2-E-k),v==E?N=(m-A)/L+(m<A?6:0):m==E?N=(A-v)/L+2:N=(v-m)/L+4,N*=60):(N=NaN,D=B>0&&B<1?0:N),new Ma(N,D,B)}function jr(v,m,A){v=Un(v),m=Un(m),A=Un(A);var k=Pf((.4124564*v+.3575761*m+.1804375*A)/Bn),E=Pf((.2126729*v+.7151522*m+.072175*A)/ws),L=Pf((.0193339*v+.119192*m+.9503041*A)/As);return bn(116*E-16,500*(k-E),200*(E-L))}function Un(v){return(v/=255)<=.04045?v/12.92:Math.pow((v+.055)/1.055,2.4)}function Ca(v){var m=parseFloat(v);return v.charAt(v.length-1)==="%"?Math.round(m*2.55):m}var Dn=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Dn.forEach(function(v,m){Dn.set(v,fl(m))});function Yt(v){return typeof v=="function"?v:function(){return v}}e.functor=Yt,e.xhr=wo(j);function wo(v){return function(m,A,k){return arguments.length===2&&typeof A=="function"&&(k=A,A=null),Gl(m,A,v,k)}}function Gl(v,m,A,k){var E={},L=e.dispatch("beforesend","progress","load","error"),N={},D=new XMLHttpRequest,B=null;self.XDomainRequest&&!("withCredentials"in D)&&/^(http(s)?:)?\/\//.test(v)&&(D=new XDomainRequest),"onload"in D?D.onload=D.onerror=J:D.onreadystatechange=function(){D.readyState>3&&J()};function J(){var $=D.status,ee;if(!$&&x5(D)||$>=200&&$<300||$===304){try{ee=A.call(E,D)}catch(re){L.error.call(E,re);return}L.load.call(E,ee)}else L.error.call(E,D)}return D.onprogress=function($){var ee=e.event;e.event=$;try{L.progress.call(E,D)}finally{e.event=ee}},E.header=function($,ee){return $=($+"").toLowerCase(),arguments.length<2?N[$]:(ee==null?delete N[$]:N[$]=ee+"",E)},E.mimeType=function($){return arguments.length?(m=$==null?null:$+"",E):m},E.responseType=function($){return arguments.length?(B=$,E):B},E.response=function($){return A=$,E},["get","post"].forEach(function($){E[$]=function(){return E.send.apply(E,[$].concat(t(arguments)))}}),E.send=function($,ee,re){if(arguments.length===2&&typeof ee=="function"&&(re=ee,ee=null),D.open($,v,!0),m!=null&&!("accept"in N)&&(N.accept=m+",*/*"),D.setRequestHeader)for(var Ee in N)D.setRequestHeader(Ee,N[Ee]);return m!=null&&D.overrideMimeType&&D.overrideMimeType(m),B!=null&&(D.responseType=B),re!=null&&E.on("error",re).on("load",function(Re){re(null,Re)}),L.beforesend.call(E,D),D.send(ee==null?null:ee),E},E.abort=function(){return D.abort(),E},e.rebind(E,L,"on"),k==null?E:E.get(Vl(k))}function Vl(v){return v.length===1?function(m,A){v(m==null?A:null)}:v}function x5(v){var m=v.responseType;return m&&m!=="text"?v.response:v.responseText}e.dsv=function(v,m){var A=new RegExp('["'+v+`
]`),k=v.charCodeAt(0);function E(J,$,ee){arguments.length<3&&(ee=$,$=null);var re=Gl(J,m,$==null?L:N($),ee);return re.row=function(Ee){return arguments.length?re.response(($=Ee)==null?L:N(Ee)):$},re}function L(J){return E.parse(J.responseText)}function N(J){return function($){return E.parse($.responseText,J)}}E.parse=function(J,$){var ee;return E.parseRows(J,function(re,Ee){if(ee)return ee(re,Ee-1);var Re=function(oe){for(var ge={},Me=re.length,Pe=0;Pe<Me;++Pe)ge[re[Pe]]=oe[Pe];return ge};ee=$?function(oe,ge){return $(Re(oe),ge)}:Re})},E.parseRows=function(J,$){var ee={},re={},Ee=[],Re=J.length,oe=0,ge=0,Me,Pe;function Ne(){if(oe>=Re)return re;if(Pe)return Pe=!1,ee;var cr=oe;if(J.charCodeAt(cr)===34){for(var Mr=cr;Mr++<Re;)if(J.charCodeAt(Mr)===34){if(J.charCodeAt(Mr+1)!==34)break;++Mr}oe=Mr+2;var Pr=J.charCodeAt(Mr+1);return Pr===13?(Pe=!0,J.charCodeAt(Mr+2)===10&&++oe):Pr===10&&(Pe=!0),J.slice(cr+1,Mr).replace(/""/g,'"')}for(;oe<Re;){var Pr=J.charCodeAt(oe++),Yr=1;if(Pr===10)Pe=!0;else if(Pr===13)Pe=!0,J.charCodeAt(oe)===10&&(++oe,++Yr);else if(Pr!==k)continue;return J.slice(cr,oe-Yr)}return J.slice(cr)}for(;(Me=Ne())!==re;){for(var _e=[];Me!==ee&&Me!==re;)_e.push(Me),Me=Ne();$&&(_e=$(_e,ge++))==null||Ee.push(_e)}return Ee},E.format=function(J){if(Array.isArray(J[0]))return E.formatRows(J);var $=new V,ee=[];return J.forEach(function(re){for(var Ee in re)$.has(Ee)||ee.push($.add(Ee))}),[ee.map(B).join(v)].concat(J.map(function(re){return ee.map(function(Ee){return B(re[Ee])}).join(v)})).join(`
`)},E.formatRows=function(J){return J.map(D).join(`
`)};function D(J){return J.map(B).join(v)}function B(J){return A.test(J)?'"'+J.replace(/\"/g,'""')+'"':J}return E},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values");var Ii,du,Ss,Fo,bv=this[z(this,"requestAnimationFrame")]||function(v){setTimeout(v,17)};e.timer=function(){ks.apply(this,arguments)};function ks(v,m,A){var k=arguments.length;k<2&&(m=0),k<3&&(A=Date.now());var E=A+m,L={c:v,t:E,n:null};return du?du.n=L:Ii=L,du=L,Ss||(Fo=clearTimeout(Fo),Ss=1,bv(Cs)),L}function Cs(){var v=Nf(),m=td()-v;m>24?(isFinite(m)&&(clearTimeout(Fo),Fo=setTimeout(Cs,m)),Ss=0):(Ss=1,bv(Cs))}e.timer.flush=function(){Nf(),td()};function Nf(){for(var v=Date.now(),m=Ii;m;)v>=m.t&&m.c(v-m.t)&&(m.c=null),m=m.n;return v}function td(){for(var v,m=Ii,A=1/0;m;)m.c?(m.t<A&&(A=m.t),m=(v=m).n):m=v?v.n=m.n:Ii=m.n;return du=v,A}e.round=function(v,m){return m?Math.round(v*(m=Math.pow(10,m)))/m:Math.round(v)},e.geom={};function Yl(v){return v[0]}function pu(v){return v[1]}e.geom.hull=function(v){var m=Yl,A=pu;if(arguments.length)return k(v);function k(E){if(E.length<3)return[];var L=Yt(m),N=Yt(A),D,B=E.length,J=[],$=[];for(D=0;D<B;D++)J.push([+L.call(this,E[D],D),+N.call(this,E[D],D),D]);for(J.sort(_5),D=0;D<B;D++)$.push([J[D][0],-J[D][1]]);var ee=ky(J),re=ky($),Ee=re[0]===ee[0],Re=re[re.length-1]===ee[ee.length-1],oe=[];for(D=ee.length-1;D>=0;--D)oe.push(E[J[ee[D]][2]]);for(D=+Ee;D<re.length-Re;++D)oe.push(E[J[re[D]][2]]);return oe}return k.x=function(E){return arguments.length?(m=E,k):m},k.y=function(E){return arguments.length?(A=E,k):A},k};function ky(v){for(var m=v.length,A=[0,1],k=2,E=2;E<m;E++){for(;k>1&&na(v[A[k-2]],v[A[k-1]],v[E])<=0;)--k;A[k++]=E}return A.slice(0,k)}function _5(v,m){return v[0]-m[0]||v[1]-m[1]}e.geom.polygon=function(v){return K(v,xv),v};var xv=e.geom.polygon.prototype=[];xv.area=function(){for(var v=-1,m=this.length,A,k=this[m-1],E=0;++v<m;)A=k,k=this[v],E+=A[1]*k[0]-A[0]*k[1];return E*.5},xv.centroid=function(v){var m=-1,A=this.length,k=0,E=0,L,N=this[A-1],D;for(arguments.length||(v=-1/(6*this.area()));++m<A;)L=N,N=this[m],D=L[0]*N[1]-N[0]*L[1],k+=(L[0]+N[0])*D,E+=(L[1]+N[1])*D;return[k*v,E*v]},xv.clip=function(v){for(var m,A=Of(v),k=-1,E=this.length-Of(this),L,N,D=this[E-1],B,J,$;++k<E;){for(m=v.slice(),v.length=0,B=this[k],J=m[(N=m.length-A)-1],L=-1;++L<N;)$=m[L],ad($,D,B)?(ad(J,D,B)||v.push(If(J,$,D,B)),v.push($)):ad(J,D,B)&&v.push(If(J,$,D,B)),J=$;A&&v.push(v[0]),D=B}return v};function ad(v,m,A){return(A[0]-m[0])*(v[1]-m[1])<(A[1]-m[1])*(v[0]-m[0])}function If(v,m,A,k){var E=v[0],L=A[0],N=m[0]-E,D=k[0]-L,B=v[1],J=A[1],$=m[1]-B,ee=k[1]-J,re=(D*(B-J)-ee*(E-L))/(ee*N-D*$);return[E+re*N,B+re*$]}function Of(v){var m=v[0],A=v[v.length-1];return!(m[0]-A[0]||m[1]-A[1])}var Wl,cl,Ao,_v=[],zf,Es,wv=[];function Cy(){Hf(this),this.edge=this.site=this.circle=null}function nd(v){var m=_v.pop()||new Cy;return m.site=v,m}function Av(v){mu(v),Ao.remove(v),_v.push(v),Hf(v)}function Ey(v){var m=v.circle,A=m.x,k=m.cy,E={x:A,y:k},L=v.P,N=v.N,D=[v];Av(v);for(var B=L;B.circle&&b(A-B.circle.x)<we&&b(k-B.circle.cy)<we;)L=B.P,D.unshift(B),Av(B),B=L;D.unshift(B),mu(B);for(var J=N;J.circle&&b(A-J.circle.x)<we&&b(k-J.circle.cy)<we;)N=J.N,D.push(J),Av(J),J=N;D.push(J),mu(J);var $=D.length,ee;for(ee=1;ee<$;++ee)J=D[ee],B=D[ee-1],gu(J.edge,B.site,J.site,E);B=D[0],J=D[$-1],J.edge=Bf(B.site,J.site,null,E),Ro(B),Ro(J)}function Ly(v){for(var m=v.x,A=v.y,k,E,L,N,D=Ao._;D;)if(L=id(D,A)-m,L>we)D=D.L;else if(N=m-qy(D,A),N>we){if(!D.R){k=D;break}D=D.R}else{L>-we?(k=D.P,E=D):N>-we?(k=D,E=D.N):k=E=D;break}var B=nd(v);if(Ao.insert(k,B),!(!k&&!E)){if(k===E){mu(k),E=nd(k.site),Ao.insert(B,E),B.edge=E.edge=Bf(k.site,B.site),Ro(k),Ro(E);return}if(!E){B.edge=Bf(k.site,B.site);return}mu(k),mu(E);var J=k.site,$=J.x,ee=J.y,re=v.x-$,Ee=v.y-ee,Re=E.site,oe=Re.x-$,ge=Re.y-ee,Me=2*(re*ge-Ee*oe),Pe=re*re+Ee*Ee,Ne=oe*oe+ge*ge,_e={x:(ge*Pe-Ee*Ne)/Me+$,y:(re*Ne-oe*Pe)/Me+ee};gu(E.edge,J,Re,_e),B.edge=Bf(J,v,null,_e),E.edge=Bf(v,Re,null,_e),Ro(k),Ro(E)}}function id(v,m){var A=v.site,k=A.x,E=A.y,L=E-m;if(!L)return k;var N=v.P;if(!N)return-1/0;A=N.site;var D=A.x,B=A.y,J=B-m;if(!J)return D;var $=D-k,ee=1/L-1/J,re=$/J;return ee?(-re+Math.sqrt(re*re-2*ee*($*$/(-2*J)-B+J/2+E-L/2)))/ee+k:(k+D)/2}function qy(v,m){var A=v.N;if(A)return id(A,m);var k=v.site;return k.y===m?k.x:1/0}function od(v){this.site=v,this.edges=[]}od.prototype.prepare=function(){for(var v=this.edges,m=v.length,A;m--;)A=v[m].edge,(!A.b||!A.a)&&v.splice(m,1);return v.sort(Tv),v.length};function yu(v){for(var m=v[0][0],A=v[1][0],k=v[0][1],E=v[1][1],L,N,D,B,J=cl,$=J.length,ee,re,Ee,Re,oe,ge;$--;)if(ee=J[$],!(!ee||!ee.prepare()))for(Ee=ee.edges,Re=Ee.length,re=0;re<Re;)ge=Ee[re].end(),D=ge.x,B=ge.y,oe=Ee[++re%Re].start(),L=oe.x,N=oe.y,(b(D-L)>we||b(B-N)>we)&&(Ee.splice(re,0,new Mv(T5(ee.site,ge,b(D-m)<we&&E-B>we?{x:m,y:b(L-m)<we?N:E}:b(B-E)<we&&A-D>we?{x:b(N-E)<we?L:A,y:E}:b(D-A)<we&&B-k>we?{x:A,y:b(L-A)<we?N:k}:b(B-k)<we&&D-m>we?{x:b(N-k)<we?L:m,y:k}:null),ee.site,null)),++Re)}function Tv(v,m){return m.angle-v.angle}function ld(){Hf(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ro(v){var m=v.P,A=v.N;if(!(!m||!A)){var k=m.site,E=v.site,L=A.site;if(k!==L){var N=E.x,D=E.y,B=k.x-N,J=k.y-D,$=L.x-N,ge=L.y-D,ee=2*(B*ge-J*$);if(!(ee>=-Ge)){var re=B*B+J*J,Ee=$*$+ge*ge,Re=(ge*re-J*Ee)/ee,oe=(B*Ee-$*re)/ee,ge=oe+D,Me=wv.pop()||new ld;Me.arc=v,Me.site=E,Me.x=Re+N,Me.y=ge+Math.sqrt(Re*Re+oe*oe),Me.cy=ge,v.circle=Me;for(var Pe=null,Ne=Es._;Ne;)if(Me.y<Ne.y||Me.y===Ne.y&&Me.x<=Ne.x)if(Ne.L)Ne=Ne.L;else{Pe=Ne.P;break}else if(Ne.R)Ne=Ne.R;else{Pe=Ne;break}Es.insert(Pe,Me),Pe||(zf=Me)}}}}function mu(v){var m=v.circle;m&&(m.P||(zf=m.N),Es.remove(m),wv.push(m),Hf(m),v.circle=null)}function w5(v,m,A,k){return function(E){var L=E.a,N=E.b,D=L.x,B=L.y,J=N.x,$=N.y,ee=0,re=1,Ee=J-D,Re=$-B,oe;if(oe=v-D,!(!Ee&&oe>0)){if(oe/=Ee,Ee<0){if(oe<ee)return;oe<re&&(re=oe)}else if(Ee>0){if(oe>re)return;oe>ee&&(ee=oe)}if(oe=A-D,!(!Ee&&oe<0)){if(oe/=Ee,Ee<0){if(oe>re)return;oe>ee&&(ee=oe)}else if(Ee>0){if(oe<ee)return;oe<re&&(re=oe)}if(oe=m-B,!(!Re&&oe>0)){if(oe/=Re,Re<0){if(oe<ee)return;oe<re&&(re=oe)}else if(Re>0){if(oe>re)return;oe>ee&&(ee=oe)}if(oe=k-B,!(!Re&&oe<0)){if(oe/=Re,Re<0){if(oe>re)return;oe>ee&&(ee=oe)}else if(Re>0){if(oe<ee)return;oe<re&&(re=oe)}return ee>0&&(E.a={x:D+ee*Ee,y:B+ee*Re}),re<1&&(E.b={x:D+re*Ee,y:B+re*Re}),E}}}}}}function A5(v){for(var m=Wl,A=w5(v[0][0],v[0][1],v[1][0],v[1][1]),k=m.length,E;k--;)E=m[k],(!sd(E,v)||!A(E)||b(E.a.x-E.b.x)<we&&b(E.a.y-E.b.y)<we)&&(E.a=E.b=null,m.splice(k,1))}function sd(v,m){var A=v.b;if(A)return!0;var k=v.a,E=m[0][0],L=m[1][0],N=m[0][1],D=m[1][1],B=v.l,J=v.r,$=B.x,ee=B.y,re=J.x,Ee=J.y,Re=($+re)/2,oe=(ee+Ee)/2,ge,Me;if(Ee===ee){if(Re<E||Re>=L)return;if($>re){if(!k)k={x:Re,y:N};else if(k.y>=D)return;A={x:Re,y:D}}else{if(!k)k={x:Re,y:D};else if(k.y<N)return;A={x:Re,y:N}}}else if(ge=($-re)/(Ee-ee),Me=oe-ge*Re,ge<-1||ge>1)if($>re){if(!k)k={x:(N-Me)/ge,y:N};else if(k.y>=D)return;A={x:(D-Me)/ge,y:D}}else{if(!k)k={x:(D-Me)/ge,y:D};else if(k.y<N)return;A={x:(N-Me)/ge,y:N}}else if(ee<Ee){if(!k)k={x:E,y:ge*E+Me};else if(k.x>=L)return;A={x:L,y:ge*L+Me}}else{if(!k)k={x:L,y:ge*L+Me};else if(k.x<E)return;A={x:E,y:ge*E+Me}}return v.a=k,v.b=A,!0}function Dy(v,m){this.l=v,this.r=m,this.a=this.b=null}function Bf(v,m,A,k){var E=new Dy(v,m);return Wl.push(E),A&&gu(E,v,m,A),k&&gu(E,m,v,k),cl[v.i].edges.push(new Mv(E,v,m)),cl[m.i].edges.push(new Mv(E,m,v)),E}function T5(v,m,A){var k=new Dy(v,null);return k.a=m,k.b=A,Wl.push(k),k}function gu(v,m,A,k){!v.a&&!v.b?(v.a=k,v.l=m,v.r=A):v.l===A?v.b=k:v.a=k}function Mv(v,m,A){var k=v.a,E=v.b;this.edge=v,this.site=m,this.angle=A?Math.atan2(A.y-m.y,A.x-m.x):v.l===m?Math.atan2(E.x-k.x,k.y-E.y):Math.atan2(k.x-E.x,E.y-k.y)}Mv.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Uf(){this._=null}function Hf(v){v.U=v.C=v.L=v.R=v.P=v.N=null}Uf.prototype={insert:function(v,m){var A,k,E;if(v){if(m.P=v,m.N=v.N,v.N&&(v.N.P=m),v.N=m,v.R){for(v=v.R;v.L;)v=v.L;v.L=m}else v.R=m;A=v}else this._?(v=Fy(this._),m.P=null,m.N=v,v.P=v.L=m,A=v):(m.P=m.N=null,this._=m,A=null);for(m.L=m.R=null,m.U=A,m.C=!0,v=m;A&&A.C;)k=A.U,A===k.L?(E=k.R,E&&E.C?(A.C=E.C=!1,k.C=!0,v=k):(v===A.R&&(bu(this,A),v=A,A=v.U),A.C=!1,k.C=!0,Ls(this,k))):(E=k.L,E&&E.C?(A.C=E.C=!1,k.C=!0,v=k):(v===A.L&&(Ls(this,A),v=A,A=v.U),A.C=!1,k.C=!0,bu(this,k))),A=v.U;this._.C=!1},remove:function(v){v.N&&(v.N.P=v.P),v.P&&(v.P.N=v.N),v.N=v.P=null;var m=v.U,A,k=v.L,E=v.R,L,N;if(k?E?L=Fy(E):L=k:L=E,m?m.L===v?m.L=L:m.R=L:this._=L,k&&E?(N=L.C,L.C=v.C,L.L=k,k.U=L,L!==E?(m=L.U,L.U=v.U,v=L.R,m.L=v,L.R=E,E.U=L):(L.U=m,m=L,v=L.R)):(N=v.C,v=L),v&&(v.U=m),!N){if(v&&v.C){v.C=!1;return}do{if(v===this._)break;if(v===m.L){if(A=m.R,A.C&&(A.C=!1,m.C=!0,bu(this,m),A=m.R),A.L&&A.L.C||A.R&&A.R.C){(!A.R||!A.R.C)&&(A.L.C=!1,A.C=!0,Ls(this,A),A=m.R),A.C=m.C,m.C=A.R.C=!1,bu(this,m),v=this._;break}}else if(A=m.L,A.C&&(A.C=!1,m.C=!0,Ls(this,m),A=m.L),A.L&&A.L.C||A.R&&A.R.C){(!A.L||!A.L.C)&&(A.R.C=!1,A.C=!0,bu(this,A),A=m.L),A.C=m.C,m.C=A.L.C=!1,Ls(this,m),v=this._;break}A.C=!0,v=m,m=m.U}while(!v.C);v&&(v.C=!1)}}};function bu(v,m){var A=m,k=m.R,E=A.U;E?E.L===A?E.L=k:E.R=k:v._=k,k.U=E,A.U=k,A.R=k.L,A.R&&(A.R.U=A),k.L=A}function Ls(v,m){var A=m,k=m.L,E=A.U;E?E.L===A?E.L=k:E.R=k:v._=k,k.U=E,A.U=k,A.L=k.R,A.L&&(A.L.U=A),k.R=A}function Fy(v){for(;v.L;)v=v.L;return v}function xu(v,m){var A=v.sort(M5).pop(),k,E,L;for(Wl=[],cl=new Array(v.length),Ao=new Uf,Es=new Uf;;)if(L=zf,A&&(!L||A.y<L.y||A.y===L.y&&A.x<L.x))(A.x!==k||A.y!==E)&&(cl[A.i]=new od(A),Ly(A),k=A.x,E=A.y),A=v.pop();else if(L)Ey(L.arc);else break;m&&(A5(m),yu(m));var N={cells:cl,edges:Wl};return Ao=Es=Wl=cl=null,N}function M5(v,m){return m.y-v.y||m.x-v.x}e.geom.voronoi=function(v){var m=Yl,A=pu,k=m,E=A,L=Sv;if(v)return N(v);function N(B){var J=new Array(B.length),$=L[0][0],ee=L[0][1],re=L[1][0],Ee=L[1][1];return xu(D(B),L).cells.forEach(function(Re,oe){var ge=Re.edges,Me=Re.site,Pe=J[oe]=ge.length?ge.map(function(Ne){var _e=Ne.start();return[_e.x,_e.y]}):Me.x>=$&&Me.x<=re&&Me.y>=ee&&Me.y<=Ee?[[$,Ee],[re,Ee],[re,ee],[$,ee]]:[];Pe.point=B[oe]}),J}function D(B){return B.map(function(J,$){return{x:Math.round(k(J,$)/we)*we,y:Math.round(E(J,$)/we)*we,i:$}})}return N.links=function(B){return xu(D(B)).edges.filter(function(J){return J.l&&J.r}).map(function(J){return{source:B[J.l.i],target:B[J.r.i]}})},N.triangles=function(B){var J=[];return xu(D(B)).cells.forEach(function($,ee){for(var re=$.site,Ee=$.edges.sort(Tv),Re=-1,oe=Ee.length,ge,Me,Pe=Ee[oe-1].edge,Ne=Pe.l===re?Pe.r:Pe.l;++Re<oe;)ge=Pe,Me=Ne,Pe=Ee[Re].edge,Ne=Pe.l===re?Pe.r:Pe.l,ee<Me.i&&ee<Ne.i&&S5(re,Me,Ne)<0&&J.push([B[ee],B[Me.i],B[Ne.i]])}),J},N.x=function(B){return arguments.length?(k=Yt(m=B),N):m},N.y=function(B){return arguments.length?(E=Yt(A=B),N):A},N.clipExtent=function(B){return arguments.length?(L=B==null?Sv:B,N):L===Sv?null:L},N.size=function(B){return arguments.length?N.clipExtent(B&&[[0,0],B]):L===Sv?null:L&&L[1]},N};var Sv=[[-1e6,-1e6],[1e6,1e6]];function S5(v,m,A){return(v.x-A.x)*(m.y-v.y)-(v.x-m.x)*(A.y-v.y)}e.geom.delaunay=function(v){return e.geom.voronoi().triangles(v)},e.geom.quadtree=function(v,m,A,k,E){var L=Yl,N=pu,D;if(D=arguments.length)return L=k5,N=C5,D===3&&(E=A,k=m,A=m=0),B(v);function B(J){var $,ee=Yt(L),re=Yt(N),Ee,Re,oe,ge,Me,Pe,Ne,_e;if(m!=null)Me=m,Pe=A,Ne=k,_e=E;else if(Ne=_e=-(Me=Pe=1/0),Ee=[],Re=[],ge=J.length,D)for(oe=0;oe<ge;++oe)$=J[oe],$.x<Me&&(Me=$.x),$.y<Pe&&(Pe=$.y),$.x>Ne&&(Ne=$.x),$.y>_e&&(_e=$.y),Ee.push($.x),Re.push($.y);else for(oe=0;oe<ge;++oe){var cr=+ee($=J[oe],oe),Mr=+re($,oe);cr<Me&&(Me=cr),Mr<Pe&&(Pe=Mr),cr>Ne&&(Ne=cr),Mr>_e&&(_e=Mr),Ee.push(cr),Re.push(Mr)}var Pr=Ne-Me,Yr=_e-Pe;Pr>Yr?_e=Pe+Pr:Ne=Me+Yr;function it(ct,Ct,va,rn,ba,Br,Ft,Ut){if(!(isNaN(va)||isNaN(rn)))if(ct.leaf){var sa=ct.x,Ba=ct.y;if(sa!=null)if(b(sa-va)+b(Ba-rn)<.01)ot(ct,Ct,va,rn,ba,Br,Ft,Ut);else{var fn=ct.point;ct.x=ct.y=ct.point=null,ot(ct,fn,sa,Ba,ba,Br,Ft,Ut),ot(ct,Ct,va,rn,ba,Br,Ft,Ut)}else ct.x=va,ct.y=rn,ct.point=Ct}else ot(ct,Ct,va,rn,ba,Br,Ft,Ut)}function ot(ct,Ct,va,rn,ba,Br,Ft,Ut){var sa=(ba+Ft)*.5,Ba=(Br+Ut)*.5,fn=va>=sa,Hn=rn>=Ba,Kn=Hn<<1|fn;ct.leaf=!1,ct=ct.nodes[Kn]||(ct.nodes[Kn]=Ry()),fn?ba=sa:Ft=sa,Hn?Br=Ba:Ut=Ba,it(ct,Ct,va,rn,ba,Br,Ft,Ut)}var Dt=Ry();if(Dt.add=function(ct){it(Dt,ct,+ee(ct,++oe),+re(ct,oe),Me,Pe,Ne,_e)},Dt.visit=function(ct){Gf(ct,Dt,Me,Pe,Ne,_e)},Dt.find=function(ct){return Py(Dt,ct[0],ct[1],Me,Pe,Ne,_e)},oe=-1,m==null){for(;++oe<ge;)it(Dt,J[oe],Ee[oe],Re[oe],Me,Pe,Ne,_e);--oe}else J.forEach(Dt.add);return Ee=Re=J=$=null,Dt}return B.x=function(J){return arguments.length?(L=J,B):L},B.y=function(J){return arguments.length?(N=J,B):N},B.extent=function(J){return arguments.length?(J==null?m=A=k=E=null:(m=+J[0][0],A=+J[0][1],k=+J[1][0],E=+J[1][1]),B):m==null?null:[[m,A],[k,E]]},B.size=function(J){return arguments.length?(J==null?m=A=k=E=null:(m=A=0,k=+J[0],E=+J[1]),B):m==null?null:[k-m,E-A]},B};function k5(v){return v.x}function C5(v){return v.y}function Ry(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Gf(v,m,A,k,E,L){if(!v(m,A,k,E,L)){var N=(A+E)*.5,D=(k+L)*.5,B=m.nodes;B[0]&&Gf(v,B[0],A,k,N,D),B[1]&&Gf(v,B[1],N,k,E,D),B[2]&&Gf(v,B[2],A,D,N,L),B[3]&&Gf(v,B[3],N,D,E,L)}}function Py(v,m,A,k,E,L,N){var D=1/0,B;return function J($,ee,re,Ee,Re){if(!(ee>L||re>N||Ee<k||Re<E)){if(oe=$.point){var oe,ge=m-$.x,Me=A-$.y,Pe=ge*ge+Me*Me;if(Pe<D){var Ne=Math.sqrt(D=Pe);k=m-Ne,E=A-Ne,L=m+Ne,N=A+Ne,B=oe}}for(var _e=$.nodes,cr=(ee+Ee)*.5,Mr=(re+Re)*.5,Pr=m>=cr,Yr=A>=Mr,it=Yr<<1|Pr,ot=it+4;it<ot;++it)if($=_e[it&3])switch(it&3){case 0:J($,ee,re,cr,Mr);break;case 1:J($,cr,re,Ee,Mr);break;case 2:J($,ee,Mr,cr,Re);break;case 3:J($,cr,Mr,Ee,Re);break}}}(v,k,E,L,N),B}e.interpolateRgb=qs;function qs(v,m){v=e.rgb(v),m=e.rgb(m);var A=v.r,k=v.g,E=v.b,L=m.r-A,N=m.g-k,D=m.b-E;return function(B){return"#"+mt(Math.round(A+L*B))+mt(Math.round(k+N*B))+mt(Math.round(E+D*B))}}e.interpolateObject=Ny;function Ny(v,m){var A={},k={},E;for(E in v)E in m?A[E]=Xl(v[E],m[E]):k[E]=v[E];for(E in m)E in v||(k[E]=m[E]);return function(L){for(E in A)k[E]=A[E](L);return k}}e.interpolateNumber=Zi;function Zi(v,m){return v=+v,m=+m,function(A){return v*(1-A)+m*A}}e.interpolateString=Ji;function Ji(v,m){var A=jl.lastIndex=kv.lastIndex=0,k,E,L,N=-1,D=[],B=[];for(v=v+"",m=m+"";(k=jl.exec(v))&&(E=kv.exec(m));)(L=E.index)>A&&(L=m.slice(A,L),D[N]?D[N]+=L:D[++N]=L),(k=k[0])===(E=E[0])?D[N]?D[N]+=E:D[++N]=E:(D[++N]=null,B.push({i:N,x:Zi(k,E)})),A=kv.lastIndex;return A<m.length&&(L=m.slice(A),D[N]?D[N]+=L:D[++N]=L),D.length<2?B[0]?(m=B[0].x,function(J){return m(J)+""}):function(){return m}:(m=B.length,function(J){for(var $=0,ee;$<m;++$)D[(ee=B[$]).i]=ee.x(J);return D.join("")})}var jl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kv=new RegExp(jl.source,"g");e.interpolate=Xl;function Xl(v,m){for(var A=e.interpolators.length,k;--A>=0&&!(k=e.interpolators[A](v,m)););return k}e.interpolators=[function(v,m){var A=typeof m;return(A==="string"?Dn.has(m.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(m)?qs:Ji:m instanceof ja?qs:Array.isArray(m)?Vf:A==="object"&&isNaN(m)?Ny:Zi)(v,m)}],e.interpolateArray=Vf;function Vf(v,m){var A=[],k=[],E=v.length,L=m.length,N=Math.min(v.length,m.length),D;for(D=0;D<N;++D)A.push(Xl(v[D],m[D]));for(;D<E;++D)k[D]=v[D];for(;D<L;++D)k[D]=m[D];return function(B){for(D=0;D<N;++D)k[D]=A[D](B);return k}}var ud=function(){return j},Iy=e.map({linear:ud,poly:Uy,quad:function(){return zy},cubic:function(){return By},sin:function(){return Hy},exp:function(){return L5},circle:function(){return q5},elastic:D5,back:F5,bounce:function(){return fd}}),Oy=e.map({in:j,out:Ds,"in-out":Fn,"out-in":function(v){return Fn(Ds(v))}});e.ease=function(v){var m=v.indexOf("-"),A=m>=0?v.slice(0,m):v,k=m>=0?v.slice(m+1):"in";return A=Iy.get(A)||ud,k=Oy.get(k)||j,E5(k(A.apply(null,r.call(arguments,1))))};function E5(v){return function(m){return m<=0?0:m>=1?1:v(m)}}function Ds(v){return function(m){return 1-v(1-m)}}function Fn(v){return function(m){return .5*(m<.5?v(2*m):2-v(2-2*m))}}function zy(v){return v*v}function By(v){return v*v*v}function Fs(v){if(v<=0)return 0;if(v>=1)return 1;var m=v*v,A=m*v;return 4*(v<.5?A:3*(v-m)+A-.75)}function Uy(v){return function(m){return Math.pow(m,v)}}function Hy(v){return 1-Math.cos(v*$r)}function L5(v){return Math.pow(2,10*(v-1))}function q5(v){return 1-Math.sqrt(1-v*v)}function D5(v,m){var A;return arguments.length<2&&(m=.45),arguments.length?A=m/Wr*Math.asin(1/v):(v=1,A=m/4),function(k){return 1+v*Math.pow(2,-10*k)*Math.sin((k-A)*Wr/m)}}function F5(v){return v||(v=1.70158),function(m){return m*m*((v+1)*m-v)}}function fd(v){return v<1/2.75?7.5625*v*v:v<2/2.75?7.5625*(v-=1.5/2.75)*v+.75:v<2.5/2.75?7.5625*(v-=2.25/2.75)*v+.9375:7.5625*(v-=2.625/2.75)*v+.984375}e.interpolateHcl=Gy;function Gy(v,m){v=e.hcl(v),m=e.hcl(m);var A=v.h,k=v.c,E=v.l,L=m.h-A,N=m.c-k,D=m.l-E;return isNaN(N)&&(N=0,k=isNaN(k)?m.c:k),isNaN(L)?(L=0,A=isNaN(A)?m.h:A):L>180?L-=360:L<-180&&(L+=360),function(B){return Xi(A+L*B,k+N*B,E+D*B)+""}}e.interpolateHsl=R5;function R5(v,m){v=e.hsl(v),m=e.hsl(m);var A=v.h,k=v.s,E=v.l,L=m.h-A,N=m.s-k,D=m.l-E;return isNaN(N)&&(N=0,k=isNaN(k)?m.s:k),isNaN(L)?(L=0,A=isNaN(A)?m.h:A):L>180?L-=360:L<-180&&(L+=360),function(B){return Qa(A+L*B,k+N*B,E+D*B)+""}}e.interpolateLab=Vy;function Vy(v,m){v=e.lab(v),m=e.lab(m);var A=v.l,k=v.a,E=v.b,L=m.l-A,N=m.a-k,D=m.b-E;return function(B){return gv(A+L*B,k+N*B,E+D*B)+""}}e.interpolateRound=cd;function cd(v,m){return m-=v,function(A){return Math.round(v+m*A)}}e.transform=function(v){var m=a.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(A){if(A!=null){m.setAttribute("transform",A);var k=m.transform.baseVal.consolidate()}return new Yy(k?k.matrix:Cv)})(v)};function Yy(v){var m=[v.a,v.b],A=[v.c,v.d],k=Wy(m),E=Yf(m,A),L=Wy(Zl(A,m,-E))||0;m[0]*A[1]<A[0]*m[1]&&(m[0]*=-1,m[1]*=-1,k*=-1,E*=-1),this.rotate=(k?Math.atan2(m[1],m[0]):Math.atan2(-A[0],A[1]))*ra,this.translate=[v.e,v.f],this.scale=[k,L],this.skew=L?Math.atan2(E,L)*ra:0}Yy.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Yf(v,m){return v[0]*m[0]+v[1]*m[1]}function Wy(v){var m=Math.sqrt(Yf(v,v));return m&&(v[0]/=m,v[1]/=m),m}function Zl(v,m,A){return v[0]+=A*m[0],v[1]+=A*m[1],v}var Cv={a:1,b:0,c:0,d:1,e:0,f:0};e.interpolateTransform=vd;function Rs(v){return v.length?v.pop()+",":""}function jy(v,m,A,k){if(v[0]!==m[0]||v[1]!==m[1]){var E=A.push("translate(",null,",",null,")");k.push({i:E-4,x:Zi(v[0],m[0])},{i:E-2,x:Zi(v[1],m[1])})}else(m[0]||m[1])&&A.push("translate("+m+")")}function Xy(v,m,A,k){v!==m?(v-m>180?m+=360:m-v>180&&(v+=360),k.push({i:A.push(Rs(A)+"rotate(",null,")")-2,x:Zi(v,m)})):m&&A.push(Rs(A)+"rotate("+m+")")}function Zy(v,m,A,k){v!==m?k.push({i:A.push(Rs(A)+"skewX(",null,")")-2,x:Zi(v,m)}):m&&A.push(Rs(A)+"skewX("+m+")")}function Jy(v,m,A,k){if(v[0]!==m[0]||v[1]!==m[1]){var E=A.push(Rs(A)+"scale(",null,",",null,")");k.push({i:E-4,x:Zi(v[0],m[0])},{i:E-2,x:Zi(v[1],m[1])})}else(m[0]!==1||m[1]!==1)&&A.push(Rs(A)+"scale("+m+")")}function vd(v,m){var A=[],k=[];return v=e.transform(v),m=e.transform(m),jy(v.translate,m.translate,A,k),Xy(v.rotate,m.rotate,A,k),Zy(v.skew,m.skew,A,k),Jy(v.scale,m.scale,A,k),v=m=null,function(E){for(var L=-1,N=k.length,D;++L<N;)A[(D=k[L]).i]=D.x(E);return A.join("")}}function $y(v,m){return m=(m-=v=+v)||1/m,function(A){return(A-v)/m}}function Ky(v,m){return m=(m-=v=+v)||1/m,function(A){return Math.max(0,Math.min(1,(A-v)/m))}}e.layout={},e.layout.bundle=function(){return function(v){for(var m=[],A=-1,k=v.length;++A<k;)m.push(Qy(v[A]));return m}};function Qy(v){for(var m=v.source,A=v.target,k=em(m,A),E=[m];m!==k;)m=m.parent,E.push(m);for(var L=E.length;A!==k;)E.splice(L,0,A),A=A.parent;return E}function $i(v){for(var m=[],A=v.parent;A!=null;)m.push(v),v=A,A=A.parent;return m.push(v),m}function em(v,m){if(v===m)return v;for(var A=$i(v),k=$i(m),E=A.pop(),L=k.pop(),N=null;E===L;)N=E,E=A.pop(),L=k.pop();return N}e.layout.chord=function(){var v={},m,A,k,E,L=0,N,D,B;function J(){var ee={},re=[],Ee=e.range(E),Re=[],oe,ge,Me,Pe,Ne;for(m=[],A=[],oe=0,Pe=-1;++Pe<E;){for(ge=0,Ne=-1;++Ne<E;)ge+=k[Pe][Ne];re.push(ge),Re.push(e.range(E)),oe+=ge}for(N&&Ee.sort(function(Dt,ct){return N(re[Dt],re[ct])}),D&&Re.forEach(function(Dt,ct){Dt.sort(function(Ct,va){return D(k[ct][Ct],k[ct][va])})}),oe=(Wr-L*E)/oe,ge=0,Pe=-1;++Pe<E;){for(Me=ge,Ne=-1;++Ne<E;){var _e=Ee[Pe],cr=Re[_e][Ne],Mr=k[_e][cr],Pr=ge,Yr=ge+=Mr*oe;ee[_e+"-"+cr]={index:_e,subindex:cr,startAngle:Pr,endAngle:Yr,value:Mr}}A[_e]={index:_e,startAngle:Me,endAngle:ge,value:re[_e]},ge+=L}for(Pe=-1;++Pe<E;)for(Ne=Pe-1;++Ne<E;){var it=ee[Pe+"-"+Ne],ot=ee[Ne+"-"+Pe];(it.value||ot.value)&&m.push(it.value<ot.value?{source:ot,target:it}:{source:it,target:ot})}B&&$()}function $(){m.sort(function(ee,re){return B((ee.source.value+ee.target.value)/2,(re.source.value+re.target.value)/2)})}return v.matrix=function(ee){return arguments.length?(E=(k=ee)&&k.length,m=A=null,v):k},v.padding=function(ee){return arguments.length?(L=ee,m=A=null,v):L},v.sortGroups=function(ee){return arguments.length?(N=ee,m=A=null,v):N},v.sortSubgroups=function(ee){return arguments.length?(D=ee,m=null,v):D},v.sortChords=function(ee){return arguments.length?(B=ee,m&&$(),v):B},v.chords=function(){return m||J(),m},v.groups=function(){return A||J(),A},v},e.layout.force=function(){var v={},m=e.dispatch("start","tick","end"),A,k=[1,1],E,L,N=.9,D=rm,B=tm,J=-30,$=am,ee=.1,re=.64,Ee=[],Re=[],oe,ge,Me;function Pe(_e){return function(cr,Mr,Pr,Yr){if(cr.point!==_e){var it=cr.cx-_e.x,ot=cr.cy-_e.y,Dt=Yr-Mr,ct=it*it+ot*ot;if(Dt*Dt/re<ct){if(ct<$){var Ct=cr.charge/ct;_e.px-=it*Ct,_e.py-=ot*Ct}return!0}if(cr.point&&ct&&ct<$){var Ct=cr.pointCharge/ct;_e.px-=it*Ct,_e.py-=ot*Ct}}return!cr.charge}}v.tick=function(){if((L*=.99)<.005)return A=null,m.end({type:"end",alpha:L=0}),!0;var _e=Ee.length,cr=Re.length,Mr,Pr,Yr,it,ot,Dt,ct,Ct,va;for(Pr=0;Pr<cr;++Pr)Yr=Re[Pr],it=Yr.source,ot=Yr.target,Ct=ot.x-it.x,va=ot.y-it.y,(Dt=Ct*Ct+va*va)&&(Dt=L*ge[Pr]*((Dt=Math.sqrt(Dt))-oe[Pr])/Dt,Ct*=Dt,va*=Dt,ot.x-=Ct*(ct=it.weight+ot.weight?it.weight/(it.weight+ot.weight):.5),ot.y-=va*ct,it.x+=Ct*(ct=1-ct),it.y+=va*ct);if((ct=L*ee)&&(Ct=k[0]/2,va=k[1]/2,Pr=-1,ct))for(;++Pr<_e;)Yr=Ee[Pr],Yr.x+=(Ct-Yr.x)*ct,Yr.y+=(va-Yr.y)*ct;if(J)for(dd(Mr=e.geom.quadtree(Ee),L,Me),Pr=-1;++Pr<_e;)(Yr=Ee[Pr]).fixed||Mr.visit(Pe(Yr));for(Pr=-1;++Pr<_e;)Yr=Ee[Pr],Yr.fixed?(Yr.x=Yr.px,Yr.y=Yr.py):(Yr.x-=(Yr.px-(Yr.px=Yr.x))*N,Yr.y-=(Yr.py-(Yr.py=Yr.y))*N);m.tick({type:"tick",alpha:L})},v.nodes=function(_e){return arguments.length?(Ee=_e,v):Ee},v.links=function(_e){return arguments.length?(Re=_e,v):Re},v.size=function(_e){return arguments.length?(k=_e,v):k},v.linkDistance=function(_e){return arguments.length?(D=typeof _e=="function"?_e:+_e,v):D},v.distance=v.linkDistance,v.linkStrength=function(_e){return arguments.length?(B=typeof _e=="function"?_e:+_e,v):B},v.friction=function(_e){return arguments.length?(N=+_e,v):N},v.charge=function(_e){return arguments.length?(J=typeof _e=="function"?_e:+_e,v):J},v.chargeDistance=function(_e){return arguments.length?($=_e*_e,v):Math.sqrt($)},v.gravity=function(_e){return arguments.length?(ee=+_e,v):ee},v.theta=function(_e){return arguments.length?(re=_e*_e,v):Math.sqrt(re)},v.alpha=function(_e){return arguments.length?(_e=+_e,L?_e>0?L=_e:(A.c=null,A.t=NaN,A=null,m.end({type:"end",alpha:L=0})):_e>0&&(m.start({type:"start",alpha:L=_e}),A=ks(v.tick)),v):L},v.start=function(){var _e,cr=Ee.length,Mr=Re.length,Pr=k[0],Yr=k[1],it,ot;for(_e=0;_e<cr;++_e)(ot=Ee[_e]).index=_e,ot.weight=0;for(_e=0;_e<Mr;++_e)ot=Re[_e],typeof ot.source=="number"&&(ot.source=Ee[ot.source]),typeof ot.target=="number"&&(ot.target=Ee[ot.target]),++ot.source.weight,++ot.target.weight;for(_e=0;_e<cr;++_e)ot=Ee[_e],isNaN(ot.x)&&(ot.x=Dt("x",Pr)),isNaN(ot.y)&&(ot.y=Dt("y",Yr)),isNaN(ot.px)&&(ot.px=ot.x),isNaN(ot.py)&&(ot.py=ot.y);if(oe=[],typeof D=="function")for(_e=0;_e<Mr;++_e)oe[_e]=+D.call(this,Re[_e],_e);else for(_e=0;_e<Mr;++_e)oe[_e]=D;if(ge=[],typeof B=="function")for(_e=0;_e<Mr;++_e)ge[_e]=+B.call(this,Re[_e],_e);else for(_e=0;_e<Mr;++_e)ge[_e]=B;if(Me=[],typeof J=="function")for(_e=0;_e<cr;++_e)Me[_e]=+J.call(this,Ee[_e],_e);else for(_e=0;_e<cr;++_e)Me[_e]=J;function Dt(ct,Ct){if(!it){for(it=new Array(cr),ba=0;ba<cr;++ba)it[ba]=[];for(ba=0;ba<Mr;++ba){var va=Re[ba];it[va.source.index].push(va.target),it[va.target.index].push(va.source)}}for(var rn=it[_e],ba=-1,Br=rn.length,Ft;++ba<Br;)if(!isNaN(Ft=rn[ba][ct]))return Ft;return Math.random()*Ct}return v.resume()},v.resume=function(){return v.alpha(.1)},v.stop=function(){return v.alpha(0)},v.drag=function(){if(E||(E=e.behavior.drag().origin(j).on("dragstart.force",P5).on("drag.force",Ne).on("dragend.force",vl)),!arguments.length)return E;this.on("mouseover.force",hd).on("mouseout.force",_u).call(E)};function Ne(_e){_e.px=e.event.x,_e.py=e.event.y,v.resume()}return e.rebind(v,m,"on")};function P5(v){v.fixed|=2}function vl(v){v.fixed&=-7}function hd(v){v.fixed|=4,v.px=v.x,v.py=v.y}function _u(v){v.fixed&=-5}function dd(v,m,A){var k=0,E=0;if(v.charge=0,!v.leaf)for(var L=v.nodes,N=L.length,D=-1,B;++D<N;)B=L[D],B!=null&&(dd(B,m,A),v.charge+=B.charge,k+=B.charge*B.cx,E+=B.charge*B.cy);if(v.point){v.leaf||(v.point.x+=Math.random()-.5,v.point.y+=Math.random()-.5);var J=m*A[v.point.index];v.charge+=v.pointCharge=J,k+=J*v.point.x,E+=J*v.point.y}v.cx=k/v.charge,v.cy=E/v.charge}var rm=20,tm=1,am=1/0;e.layout.hierarchy=function(){var v=O5,m=N5,A=I5;function k(E){var L=[E],N=[],D;for(E.depth=0;(D=L.pop())!=null;)if(N.push(D),(J=m.call(k,D,D.depth))&&(B=J.length)){for(var B,J,$;--B>=0;)L.push($=J[B]),$.parent=D,$.depth=D.depth+1;A&&(D.value=0),D.children=J}else A&&(D.value=+A.call(k,D,D.depth)||0),delete D.children;return Po(E,function(ee){var re,Ee;v&&(re=ee.children)&&re.sort(v),A&&(Ee=ee.parent)&&(Ee.value+=ee.value)}),N}return k.sort=function(E){return arguments.length?(v=E,k):v},k.children=function(E){return arguments.length?(m=E,k):m},k.value=function(E){return arguments.length?(A=E,k):A},k.revalue=function(E){return A&&(Wf(E,function(L){L.children&&(L.value=0)}),Po(E,function(L){var N;L.children||(L.value=+A.call(k,L,L.depth)||0),(N=L.parent)&&(N.value+=L.value)})),E},k};function wu(v,m){return e.rebind(v,m,"sort","children","value"),v.nodes=v,v.links=z5,v}function Wf(v,m){for(var A=[v];(v=A.pop())!=null;)if(m(v),(E=v.children)&&(k=E.length))for(var k,E;--k>=0;)A.push(E[k])}function Po(v,m){for(var A=[v],k=[];(v=A.pop())!=null;)if(k.push(v),(N=v.children)&&(L=N.length))for(var E=-1,L,N;++E<L;)A.push(N[E]);for(;(v=k.pop())!=null;)m(v)}function N5(v){return v.children}function I5(v){return v.value}function O5(v,m){return m.value-v.value}function z5(v){return e.merge(v.map(function(m){return(m.children||[]).map(function(A){return{source:m,target:A}})}))}e.layout.partition=function(){var v=e.layout.hierarchy(),m=[1,1];function A(L,N,D,B){var J=L.children;if(L.x=N,L.y=L.depth*B,L.dx=D,L.dy=B,J&&(ee=J.length)){var $=-1,ee,re,Ee;for(D=L.value?D/L.value:0;++$<ee;)A(re=J[$],N,Ee=re.value*D,B),N+=Ee}}function k(L){var N=L.children,D=0;if(N&&(J=N.length))for(var B=-1,J;++B<J;)D=Math.max(D,k(N[B]));return 1+D}function E(L,N){var D=v.call(this,L,N);return A(D[0],0,m[0],m[1]/k(D[0])),D}return E.size=function(L){return arguments.length?(m=L,E):m},wu(E,v)},e.layout.pie=function(){var v=Number,m=Ev,A=0,k=Wr,E=0;function L(N){var D=N.length,B=N.map(function(Pe,Ne){return+v.call(L,Pe,Ne)}),J=+(typeof A=="function"?A.apply(this,arguments):A),$=(typeof k=="function"?k.apply(this,arguments):k)-J,ee=Math.min(Math.abs($)/D,+(typeof E=="function"?E.apply(this,arguments):E)),re=ee*($<0?-1:1),Ee=e.sum(B),Re=Ee?($-D*re)/Ee:0,oe=e.range(D),ge=[],Me;return m!=null&&oe.sort(m===Ev?function(Pe,Ne){return B[Ne]-B[Pe]}:function(Pe,Ne){return m(N[Pe],N[Ne])}),oe.forEach(function(Pe){ge[Pe]={data:N[Pe],value:Me=B[Pe],startAngle:J,endAngle:J+=Me*Re+re,padAngle:ee}}),ge}return L.value=function(N){return arguments.length?(v=N,L):v},L.sort=function(N){return arguments.length?(m=N,L):m},L.startAngle=function(N){return arguments.length?(A=N,L):A},L.endAngle=function(N){return arguments.length?(k=N,L):k},L.padAngle=function(N){return arguments.length?(E=N,L):E},L};var Ev={};e.layout.stack=function(){var v=j,m=jf,A=pd,k=U5,E=Lv,L=B5;function N(D,B){if(!(Re=D.length))return D;var J=D.map(function(Pe,Ne){return v.call(N,Pe,Ne)}),$=J.map(function(Pe){return Pe.map(function(Ne,_e){return[E.call(N,Ne,_e),L.call(N,Ne,_e)]})}),ee=m.call(N,$,B);J=e.permute(J,ee),$=e.permute($,ee);var re=A.call(N,$,B),Ee=J[0].length,Re,oe,ge,Me;for(ge=0;ge<Ee;++ge)for(k.call(N,J[0][ge],Me=re[ge],$[0][ge][1]),oe=1;oe<Re;++oe)k.call(N,J[oe][ge],Me+=$[oe-1][ge][1],$[oe][ge][1]);return D}return N.values=function(D){return arguments.length?(v=D,N):v},N.order=function(D){return arguments.length?(m=typeof D=="function"?D:nm.get(D)||jf,N):m},N.offset=function(D){return arguments.length?(A=typeof D=="function"?D:qv.get(D)||pd,N):A},N.x=function(D){return arguments.length?(E=D,N):E},N.y=function(D){return arguments.length?(L=D,N):L},N.out=function(D){return arguments.length?(k=D,N):k},N};function Lv(v){return v.x}function B5(v){return v.y}function U5(v,m,A){v.y0=m,v.y=A}var nm=e.map({"inside-out":function(v){var m=v.length,A,k,E=v.map(im),L=v.map(H5),N=e.range(m).sort(function(ee,re){return E[ee]-E[re]}),D=0,B=0,J=[],$=[];for(A=0;A<m;++A)k=N[A],D<B?(D+=L[k],J.push(k)):(B+=L[k],$.push(k));return $.reverse().concat(J)},reverse:function(v){return e.range(v.length).reverse()},default:jf}),qv=e.map({silhouette:function(v){var m=v.length,A=v[0].length,k=[],E=0,L,N,D,B=[];for(N=0;N<A;++N){for(L=0,D=0;L<m;L++)D+=v[L][N][1];D>E&&(E=D),k.push(D)}for(N=0;N<A;++N)B[N]=(E-k[N])/2;return B},wiggle:function(v){var m=v.length,A=v[0],k=A.length,E,L,N,D,B,J,$,ee,re,Ee=[];for(Ee[0]=ee=re=0,L=1;L<k;++L){for(E=0,D=0;E<m;++E)D+=v[E][L][1];for(E=0,B=0,$=A[L][0]-A[L-1][0];E<m;++E){for(N=0,J=(v[E][L][1]-v[E][L-1][1])/(2*$);N<E;++N)J+=(v[N][L][1]-v[N][L-1][1])/$;B+=J*v[E][L][1]}Ee[L]=ee-=D?B/D*$:0,ee<re&&(re=ee)}for(L=0;L<k;++L)Ee[L]-=re;return Ee},expand:function(v){var m=v.length,A=v[0].length,k=1/m,E,L,N,D=[];for(L=0;L<A;++L){for(E=0,N=0;E<m;E++)N+=v[E][L][1];if(N)for(E=0;E<m;E++)v[E][L][1]/=N;else for(E=0;E<m;E++)v[E][L][1]=k}for(L=0;L<A;++L)D[L]=0;return D},zero:pd});function jf(v){return e.range(v.length)}function pd(v){for(var m=-1,A=v[0].length,k=[];++m<A;)k[m]=0;return k}function im(v){for(var m=1,A=0,k=v[0][1],E,L=v.length;m<L;++m)(E=v[m][1])>k&&(A=m,k=E);return A}function H5(v){return v.reduce(G5,0)}function G5(v,m){return v+m[1]}e.layout.histogram=function(){var v=!0,m=Number,A=Y5,k=V5;function E(L,re){for(var D=[],B=L.map(m,this),J=A.call(this,B,re),$=k.call(this,J,B,re),ee,re=-1,Ee=B.length,Re=$.length-1,oe=v?1:1/Ee,ge;++re<Re;)ee=D[re]=[],ee.dx=$[re+1]-(ee.x=$[re]),ee.y=0;if(Re>0)for(re=-1;++re<Ee;)ge=B[re],ge>=J[0]&&ge<=J[1]&&(ee=D[e.bisect($,ge,1,Re)-1],ee.y+=oe,ee.push(L[re]));return D}return E.value=function(L){return arguments.length?(m=L,E):m},E.range=function(L){return arguments.length?(A=Yt(L),E):A},E.bins=function(L){return arguments.length?(k=typeof L=="number"?function(N){return om(N,L)}:Yt(L),E):k},E.frequency=function(L){return arguments.length?(v=!!L,E):v},E};function V5(v,m){return om(v,Math.ceil(Math.log(m.length)/Math.LN2+1))}function om(v,m){for(var A=-1,k=+v[0],E=(v[1]-k)/m,L=[];++A<=m;)L[A]=E*A+k;return L}function Y5(v){return[e.min(v),e.max(v)]}e.layout.pack=function(){var v=e.layout.hierarchy().sort(yd),m=0,A=[1,1],k;function E(L,N){var D=v.call(this,L,N),B=D[0],J=A[0],$=A[1],ee=k==null?Math.sqrt:typeof k=="function"?k:function(){return k};if(B.x=B.y=0,Po(B,function(Ee){Ee.r=+ee(Ee.value)}),Po(B,sm),m){var re=m*(k?1:Math.max(2*B.r/J,2*B.r/$))/2;Po(B,function(Ee){Ee.r+=re}),Po(B,sm),Po(B,function(Ee){Ee.r-=re})}return um(B,J/2,$/2,k?1:1/Math.max(2*B.r/J,2*B.r/$)),D}return E.size=function(L){return arguments.length?(A=L,E):A},E.radius=function(L){return arguments.length?(k=L==null||typeof L=="function"?L:+L,E):k},E.padding=function(L){return arguments.length?(m=+L,E):m},wu(E,v)};function yd(v,m){return v.value-m.value}function md(v,m){var A=v._pack_next;v._pack_next=m,m._pack_prev=v,m._pack_next=A,A._pack_prev=m}function gd(v,m){v._pack_next=m,m._pack_prev=v}function lm(v,m){var A=m.x-v.x,k=m.y-v.y,E=v.r+m.r;return .999*E*E>A*A+k*k}function sm(v){if(!(m=v.children)||!(re=m.length))return;var m,A=1/0,k=-1/0,E=1/0,L=-1/0,N,D,B,J,$,ee,re;function Ee(_e){A=Math.min(_e.x-_e.r,A),k=Math.max(_e.x+_e.r,k),E=Math.min(_e.y-_e.r,E),L=Math.max(_e.y+_e.r,L)}if(m.forEach(W5),N=m[0],N.x=-N.r,N.y=0,Ee(N),re>1&&(D=m[1],D.x=D.r,D.y=0,Ee(D),re>2))for(B=m[2],X5(N,D,B),Ee(B),md(N,B),N._pack_prev=B,md(B,D),D=N._pack_next,J=3;J<re;J++){X5(N,D,B=m[J]);var Re=0,oe=1,ge=1;for($=D._pack_next;$!==D;$=$._pack_next,oe++)if(lm($,B)){Re=1;break}if(Re==1)for(ee=N._pack_prev;ee!==$._pack_prev&&!lm(ee,B);ee=ee._pack_prev,ge++);Re?(oe<ge||oe==ge&&D.r<N.r?gd(N,D=$):gd(N=ee,D),J--):(md(N,B),D=B,Ee(B))}var Me=(A+k)/2,Pe=(E+L)/2,Ne=0;for(J=0;J<re;J++)B=m[J],B.x-=Me,B.y-=Pe,Ne=Math.max(Ne,B.r+Math.sqrt(B.x*B.x+B.y*B.y));v.r=Ne,m.forEach(j5)}function W5(v){v._pack_next=v._pack_prev=v}function j5(v){delete v._pack_next,delete v._pack_prev}function um(v,m,A,k){var E=v.children;if(v.x=m+=k*v.x,v.y=A+=k*v.y,v.r*=k,E)for(var L=-1,N=E.length;++L<N;)um(E[L],m,A,k)}function X5(v,m,A){var k=v.r+A.r,E=m.x-v.x,L=m.y-v.y;if(k&&(E||L)){var N=m.r+A.r,D=E*E+L*L;N*=N,k*=k;var B=.5+(k-N)/(2*D),J=Math.sqrt(Math.max(0,2*N*(k+D)-(k-=D)*k-N*N))/(2*D);A.x=v.x+B*E+J*L,A.y=v.y+B*L-J*E}else A.x=v.x+k,A.y=v.y}e.layout.tree=function(){var v=e.layout.hierarchy().sort(null).value(null),m=fm,A=[1,1],k=null;function E($,ee){var re=v.call(this,$,ee),Ee=re[0],Re=L(Ee);if(Po(Re,N),Re.parent.m=-Re.z,Wf(Re,D),k)Wf(Ee,J);else{var oe=Ee,ge=Ee,Me=Ee;Wf(Ee,function(cr){cr.x<oe.x&&(oe=cr),cr.x>ge.x&&(ge=cr),cr.depth>Me.depth&&(Me=cr)});var Pe=m(oe,ge)/2-oe.x,Ne=A[0]/(ge.x+m(ge,oe)/2+Pe),_e=A[1]/(Me.depth||1);Wf(Ee,function(cr){cr.x=(cr.x+Pe)*Ne,cr.y=cr.depth*_e})}return re}function L($){for(var ee={A:null,children:[$]},re=[ee],Ee;(Ee=re.pop())!=null;)for(var Re=Ee.children,oe,ge=0,Me=Re.length;ge<Me;++ge)re.push((Re[ge]=oe={_:Re[ge],parent:Ee,children:(oe=Re[ge].children)&&oe.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:ge}).a=oe);return ee.children[0]}function N($){var ee=$.children,re=$.parent.children,Ee=$.i?re[$.i-1]:null;if(ee.length){bd($);var Re=(ee[0].z+ee[ee.length-1].z)/2;Ee?($.z=Ee.z+m($._,Ee._),$.m=$.z-Re):$.z=Re}else Ee&&($.z=Ee.z+m($._,Ee._));$.parent.A=B($,Ee,$.parent.A||re[0])}function D($){$._.x=$.z+$.parent.m,$.m+=$.parent.m}function B($,ee,re){if(ee){for(var Ee=$,Re=$,oe=ee,ge=Ee.parent.children[0],Me=Ee.m,Pe=Re.m,Ne=oe.m,_e=ge.m,cr;oe=vm(oe),Ee=cm(Ee),oe&&Ee;)ge=cm(ge),Re=vm(Re),Re.a=$,cr=oe.z+Ne-Ee.z-Me+m(oe._,Ee._),cr>0&&(Z5(hm(oe,$,re),$,cr),Me+=cr,Pe+=cr),Ne+=oe.m,Me+=Ee.m,_e+=ge.m,Pe+=Re.m;oe&&!vm(Re)&&(Re.t=oe,Re.m+=Ne-Pe),Ee&&!cm(ge)&&(ge.t=Ee,ge.m+=Me-_e,re=$)}return re}function J($){$.x*=A[0],$.y=$.depth*A[1]}return E.separation=function($){return arguments.length?(m=$,E):m},E.size=function($){return arguments.length?(k=(A=$)==null?J:null,E):k?null:A},E.nodeSize=function($){return arguments.length?(k=(A=$)==null?null:J,E):k?A:null},wu(E,v)};function fm(v,m){return v.parent==m.parent?1:2}function cm(v){var m=v.children;return m.length?m[0]:v.t}function vm(v){var m=v.children,A;return(A=m.length)?m[A-1]:v.t}function Z5(v,m,A){var k=A/(m.i-v.i);m.c-=k,m.s+=A,v.c+=k,m.z+=A,m.m+=A}function bd(v){for(var m=0,A=0,k=v.children,E=k.length,L;--E>=0;)L=k[E],L.z+=m,L.m+=m,m+=L.s+(A+=L.c)}function hm(v,m,A){return v.a.parent===m.parent?v.a:A}e.layout.cluster=function(){var v=e.layout.hierarchy().sort(null).value(null),m=fm,A=[1,1],k=!1;function E(L,N){var D=v.call(this,L,N),B=D[0],J,$=0;Po(B,function(oe){var ge=oe.children;ge&&ge.length?(oe.x=dm(ge),oe.y=No(ge)):(oe.x=J?$+=m(oe,J):0,oe.y=0,J=oe)});var ee=pm(B),re=ym(B),Ee=ee.x-m(ee,re)/2,Re=re.x+m(re,ee)/2;return Po(B,k?function(oe){oe.x=(oe.x-B.x)*A[0],oe.y=(B.y-oe.y)*A[1]}:function(oe){oe.x=(oe.x-Ee)/(Re-Ee)*A[0],oe.y=(1-(B.y?oe.y/B.y:1))*A[1]}),D}return E.separation=function(L){return arguments.length?(m=L,E):m},E.size=function(L){return arguments.length?(k=(A=L)==null,E):k?null:A},E.nodeSize=function(L){return arguments.length?(k=(A=L)!=null,E):k?A:null},wu(E,v)};function No(v){return 1+e.max(v,function(m){return m.y})}function dm(v){return v.reduce(function(m,A){return m+A.x},0)/v.length}function pm(v){var m=v.children;return m&&m.length?pm(m[0]):v}function ym(v){var m=v.children,A;return m&&(A=m.length)?ym(m[A-1]):v}e.layout.treemap=function(){var v=e.layout.hierarchy(),m=Math.round,A=[1,1],k=null,E=xd,L=!1,N,D="squarify",B=.5*(1+Math.sqrt(5));function J(oe,ge){for(var Me=-1,Pe=oe.length,Ne,_e;++Me<Pe;)_e=(Ne=oe[Me]).value*(ge<0?0:ge),Ne.area=isNaN(_e)||_e<=0?0:_e}function $(oe){var ge=oe.children;if(ge&&ge.length){var Me=E(oe),Pe=[],Ne=ge.slice(),_e,cr=1/0,Mr,Pr=D==="slice"?Me.dx:D==="dice"?Me.dy:D==="slice-dice"?oe.depth&1?Me.dy:Me.dx:Math.min(Me.dx,Me.dy),Yr;for(J(Ne,Me.dx*Me.dy/oe.value),Pe.area=0;(Yr=Ne.length)>0;)Pe.push(_e=Ne[Yr-1]),Pe.area+=_e.area,D!=="squarify"||(Mr=re(Pe,Pr))<=cr?(Ne.pop(),cr=Mr):(Pe.area-=Pe.pop().area,Ee(Pe,Pr,Me,!1),Pr=Math.min(Me.dx,Me.dy),Pe.length=Pe.area=0,cr=1/0);Pe.length&&(Ee(Pe,Pr,Me,!0),Pe.length=Pe.area=0),ge.forEach($)}}function ee(oe){var ge=oe.children;if(ge&&ge.length){var Me=E(oe),Pe=ge.slice(),Ne,_e=[];for(J(Pe,Me.dx*Me.dy/oe.value),_e.area=0;Ne=Pe.pop();)_e.push(Ne),_e.area+=Ne.area,Ne.z!=null&&(Ee(_e,Ne.z?Me.dx:Me.dy,Me,!Pe.length),_e.length=_e.area=0);ge.forEach(ee)}}function re(oe,ge){for(var Me=oe.area,Pe,Ne=0,_e=1/0,cr=-1,Mr=oe.length;++cr<Mr;)(Pe=oe[cr].area)&&(Pe<_e&&(_e=Pe),Pe>Ne&&(Ne=Pe));return Me*=Me,ge*=ge,Me?Math.max(ge*Ne*B/Me,Me/(ge*_e*B)):1/0}function Ee(oe,ge,Me,Pe){var Ne=-1,_e=oe.length,cr=Me.x,Mr=Me.y,Pr=ge?m(oe.area/ge):0,Yr;if(ge==Me.dx){for((Pe||Pr>Me.dy)&&(Pr=Me.dy);++Ne<_e;)Yr=oe[Ne],Yr.x=cr,Yr.y=Mr,Yr.dy=Pr,cr+=Yr.dx=Math.min(Me.x+Me.dx-cr,Pr?m(Yr.area/Pr):0);Yr.z=!0,Yr.dx+=Me.x+Me.dx-cr,Me.y+=Pr,Me.dy-=Pr}else{for((Pe||Pr>Me.dx)&&(Pr=Me.dx);++Ne<_e;)Yr=oe[Ne],Yr.x=cr,Yr.y=Mr,Yr.dx=Pr,Mr+=Yr.dy=Math.min(Me.y+Me.dy-Mr,Pr?m(Yr.area/Pr):0);Yr.z=!1,Yr.dy+=Me.y+Me.dy-Mr,Me.x+=Pr,Me.dx-=Pr}}function Re(oe){var ge=N||v(oe),Me=ge[0];return Me.x=Me.y=0,Me.value?(Me.dx=A[0],Me.dy=A[1]):Me.dx=Me.dy=0,N&&v.revalue(Me),J([Me],Me.dx*Me.dy/Me.value),(N?ee:$)(Me),L&&(N=ge),ge}return Re.size=function(oe){return arguments.length?(A=oe,Re):A},Re.padding=function(oe){if(!arguments.length)return k;function ge(Ne){var _e=oe.call(Re,Ne,Ne.depth);return _e==null?xd(Ne):mm(Ne,typeof _e=="number"?[_e,_e,_e,_e]:_e)}function Me(Ne){return mm(Ne,oe)}var Pe;return E=(k=oe)==null?xd:(Pe=typeof oe)=="function"?ge:(Pe==="number"&&(oe=[oe,oe,oe,oe]),Me),Re},Re.round=function(oe){return arguments.length?(m=oe?Math.round:Number,Re):m!=Number},Re.sticky=function(oe){return arguments.length?(L=oe,N=null,Re):L},Re.ratio=function(oe){return arguments.length?(B=oe,Re):B},Re.mode=function(oe){return arguments.length?(D=oe+"",Re):D},wu(Re,v)};function xd(v){return{x:v.x,y:v.y,dx:v.dx,dy:v.dy}}function mm(v,m){var A=v.x+m[3],k=v.y+m[0],E=v.dx-m[1]-m[3],L=v.dy-m[0]-m[2];return E<0&&(A+=E/2,E=0),L<0&&(k+=L/2,L=0),{x:A,y:k,dx:E,dy:L}}e.random={normal:function(v,m){var A=arguments.length;return A<2&&(m=1),A<1&&(v=0),function(){var k,E,L;do k=Math.random()*2-1,E=Math.random()*2-1,L=k*k+E*E;while(!L||L>1);return v+m*k*Math.sqrt(-2*Math.log(L)/L)}},logNormal:function(){var v=e.random.normal.apply(e,arguments);return function(){return Math.exp(v())}},bates:function(v){var m=e.random.irwinHall(v);return function(){return m()/v}},irwinHall:function(v){return function(){for(var m=0,A=0;A<v;A++)m+=Math.random();return m}}},e.scale={};function Dv(v){var m=v[0],A=v[v.length-1];return m<A?[m,A]:[A,m]}function Fv(v){return v.rangeExtent?v.rangeExtent():Dv(v.range())}function J5(v,m,A,k){var E=A(v[0],v[1]),L=k(m[0],m[1]);return function(N){return L(E(N))}}function Au(v,m){var A=0,k=v.length-1,E=v[A],L=v[k],N;return L<E&&(N=A,A=k,k=N,N=E,E=L,L=N),v[A]=m.floor(E),v[k]=m.ceil(L),v}function Rn(v){return v?{floor:function(m){return Math.floor(m/v)*v},ceil:function(m){return Math.ceil(m/v)*v}}:Tu}var Tu={floor:j,ceil:j};function Mu(v,m,A,k){var E=[],L=[],N=0,D=Math.min(v.length,m.length)-1;for(v[D]<v[0]&&(v=v.slice().reverse(),m=m.slice().reverse());++N<=D;)E.push(A(v[N-1],v[N])),L.push(k(m[N-1],m[N]));return function(B){var J=e.bisect(v,B,1,D)-1;return L[J](E[J](B))}}e.scale.linear=function(){return gm([0,1],[0,1],Xl,!1)};function gm(v,m,A,k){var E,L;function N(){var B=Math.min(v.length,m.length)>2?Mu:J5,J=k?Ky:$y;return E=B(v,m,J,A),L=B(m,v,J,Xl),D}function D(B){return E(B)}return D.invert=function(B){return L(B)},D.domain=function(B){return arguments.length?(v=B.map(Number),N()):v},D.range=function(B){return arguments.length?(m=B,N()):m},D.rangeRound=function(B){return D.range(B).interpolate(cd)},D.clamp=function(B){return arguments.length?(k=B,N()):k},D.interpolate=function(B){return arguments.length?(A=B,N()):A},D.ticks=function(B){return Xf(v,B)},D.tickFormat=function(B,J){return d3_scale_linearTickFormat(v,B,J)},D.nice=function(B){return _d(v,B),N()},D.copy=function(){return gm(v,m,A,k)},N()}function Ps(v,m){return e.rebind(v,m,"range","rangeRound","interpolate","clamp")}function _d(v,m){return Au(v,Rn(Jl(v,m)[2])),Au(v,Rn(Jl(v,m)[2])),v}function Jl(v,m){m==null&&(m=10);var A=Dv(v),k=A[1]-A[0],E=Math.pow(10,Math.floor(Math.log(k/m)/Math.LN10)),L=m/k*E;return L<=.15?E*=10:L<=.35?E*=5:L<=.75&&(E*=2),A[0]=Math.ceil(A[0]/E)*E,A[1]=Math.floor(A[1]/E)*E+E*.5,A[2]=E,A}function Xf(v,m){return e.range.apply(e,Jl(v,m))}var wd={s:1,g:1,p:1,r:1,e:1};function Rv(v){return-Math.floor(Math.log(v)/Math.LN10+.01)}function bm(v,m){var A=Rv(m[2]);return v in wd?Math.abs(A-Rv(Math.max(b(m[0]),b(m[1]))))+ +(v!=="e"):A-(v==="%")*2}e.scale.log=function(){return Pv(e.scale.linear().domain([0,1]),10,!0,[1,10])};function Pv(v,m,A,k){function E(D){return(A?Math.log(D<0?0:D):-Math.log(D>0?0:-D))/Math.log(m)}function L(D){return A?Math.pow(m,D):-Math.pow(m,-D)}function N(D){return v(E(D))}return N.invert=function(D){return L(v.invert(D))},N.domain=function(D){return arguments.length?(A=D[0]>=0,v.domain((k=D.map(Number)).map(E)),N):k},N.base=function(D){return arguments.length?(m=+D,v.domain(k.map(E)),N):m},N.nice=function(){var D=Au(k.map(E),A?Math:Nv);return v.domain(D),k=D.map(L),N},N.ticks=function(){var D=Dv(k),B=[],J=D[0],$=D[1],ee=Math.floor(E(J)),re=Math.ceil(E($)),Ee=m%1?2:m;if(isFinite(re-ee)){if(A){for(;ee<re;ee++)for(var Re=1;Re<Ee;Re++)B.push(L(ee)*Re);B.push(L(ee))}else for(B.push(L(ee));ee++<re;)for(var Re=Ee-1;Re>0;Re--)B.push(L(ee)*Re);for(ee=0;B[ee]<J;ee++);for(re=B.length;B[re-1]>$;re--);B=B.slice(ee,re)}return B},N.copy=function(){return Pv(v.copy(),m,A,k)},Ps(N,v)}var Nv={floor:function(v){return-Math.ceil(-v)},ceil:function(v){return-Math.floor(-v)}};e.scale.pow=function(){return Ad(e.scale.linear(),1,[0,1])};function Ad(v,m,A){var k=Zf(m),E=Zf(1/m);function L(N){return v(k(N))}return L.invert=function(N){return E(v.invert(N))},L.domain=function(N){return arguments.length?(v.domain((A=N.map(Number)).map(k)),L):A},L.ticks=function(N){return Xf(A,N)},L.tickFormat=function(N,D){return d3_scale_linearTickFormat(A,N,D)},L.nice=function(N){return L.domain(_d(A,N))},L.exponent=function(N){return arguments.length?(k=Zf(m=N),E=Zf(1/m),v.domain(A.map(k)),L):m},L.copy=function(){return Ad(v.copy(),m,A)},Ps(L,v)}function Zf(v){return function(m){return m<0?-Math.pow(-m,v):Math.pow(m,v)}}e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return Td([],{t:"range",a:[[]]})};function Td(v,m){var A,k,E;function L(D){return k[((A.get(D)||(m.t==="range"?A.set(D,v.push(D)):NaN))-1)%k.length]}function N(D,B){return e.range(v.length).map(function(J){return D+B*J})}return L.domain=function(D){if(!arguments.length)return v;v=[],A=new x;for(var B=-1,J=D.length,$;++B<J;)A.has($=D[B])||A.set($,v.push($));return L[m.t].apply(L,m.a)},L.range=function(D){return arguments.length?(k=D,E=0,m={t:"range",a:arguments},L):k},L.rangePoints=function(D,B){arguments.length<2&&(B=0);var J=D[0],$=D[1],ee=v.length<2?(J=(J+$)/2,0):($-J)/(v.length-1+B);return k=N(J+ee*B/2,ee),E=0,m={t:"rangePoints",a:arguments},L},L.rangeRoundPoints=function(D,B){arguments.length<2&&(B=0);var J=D[0],$=D[1],ee=v.length<2?(J=$=Math.round((J+$)/2),0):($-J)/(v.length-1+B)|0;return k=N(J+Math.round(ee*B/2+($-J-(v.length-1+B)*ee)/2),ee),E=0,m={t:"rangeRoundPoints",a:arguments},L},L.rangeBands=function(D,B,J){arguments.length<2&&(B=0),arguments.length<3&&(J=B);var $=D[1]<D[0],ee=D[$-0],re=D[1-$],Ee=(re-ee)/(v.length-B+2*J);return k=N(ee+Ee*J,Ee),$&&k.reverse(),E=Ee*(1-B),m={t:"rangeBands",a:arguments},L},L.rangeRoundBands=function(D,B,J){arguments.length<2&&(B=0),arguments.length<3&&(J=B);var $=D[1]<D[0],ee=D[$-0],re=D[1-$],Ee=Math.floor((re-ee)/(v.length-B+2*J));return k=N(ee+Math.round((re-ee-(v.length-B)*Ee)/2),Ee),$&&k.reverse(),E=Math.round(Ee*(1-B)),m={t:"rangeRoundBands",a:arguments},L},L.rangeBand=function(){return E},L.rangeExtent=function(){return Dv(m.a[0])},L.copy=function(){return Td(v,m)},L.domain(v)}e.scale.category10=function(){return e.scale.ordinal().range(xm)},e.scale.category20=function(){return e.scale.ordinal().range(_m)},e.scale.category20b=function(){return e.scale.ordinal().range(Md)},e.scale.category20c=function(){return e.scale.ordinal().range(Sd)};var xm=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ms),_m=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ms),Md=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ms),Sd=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ms);e.scale.quantile=function(){return kd([],[])};function kd(v,m){var A;function k(){var L=0,N=m.length;for(A=[];++L<N;)A[L-1]=e.quantile(v,L/N);return E}function E(L){if(!isNaN(L=+L))return m[e.bisect(A,L)]}return E.domain=function(L){return arguments.length?(v=L.map(h).filter(d).sort(c),k()):v},E.range=function(L){return arguments.length?(m=L,k()):m},E.quantiles=function(){return A},E.invertExtent=function(L){return L=m.indexOf(L),L<0?[NaN,NaN]:[L>0?A[L-1]:v[0],L<A.length?A[L]:v[v.length-1]]},E.copy=function(){return kd(v,m)},k()}e.scale.quantize=function(){return Cd(0,1,[0,1])};function Cd(v,m,A){var k,E;function L(D){return A[Math.max(0,Math.min(E,Math.floor(k*(D-v))))]}function N(){return k=A.length/(m-v),E=A.length-1,L}return L.domain=function(D){return arguments.length?(v=+D[0],m=+D[D.length-1],N()):[v,m]},L.range=function(D){return arguments.length?(A=D,N()):A},L.invertExtent=function(D){return D=A.indexOf(D),D=D<0?NaN:D/k+v,[D,D+1/k]},L.copy=function(){return Cd(v,m,A)},N()}e.scale.threshold=function(){return Ed([.5],[0,1])};function Ed(v,m){function A(k){if(k<=k)return m[e.bisect(v,k)]}return A.domain=function(k){return arguments.length?(v=k,A):v},A.range=function(k){return arguments.length?(m=k,A):m},A.invertExtent=function(k){return k=m.indexOf(k),[v[k-1],v[k]]},A.copy=function(){return Ed(v,m)},A}e.scale.identity=function(){return Ld([0,1])};function Ld(v){function m(A){return+A}return m.invert=m,m.domain=m.range=function(A){return arguments.length?(v=A.map(m),m):v},m.ticks=function(A){return Xf(v,A)},m.tickFormat=function(A,k){return d3_scale_linearTickFormat(v,A,k)},m.copy=function(){return Ld(v)},m}e.svg={};function qd(){return 0}e.svg.arc=function(){var v=wm,m=Dd,A=qd,k=Jf,E=Iv,L=Fd,N=Rd;function D(){var J=Math.max(0,+v.apply(this,arguments)),$=Math.max(0,+m.apply(this,arguments)),ee=E.apply(this,arguments)-$r,re=L.apply(this,arguments)-$r,Ee=Math.abs(re-ee),Re=ee>re?0:1;if($<J&&(oe=$,$=J,J=oe),Ee>=tt)return B($,Re)+(J?B(J,1-Re):"")+"Z";var oe,ge,Me,Pe,Ne=0,_e=0,cr,Mr,Pr,Yr,it,ot,Dt,ct,Ct=[];if((Pe=(+N.apply(this,arguments)||0)/2)&&(Me=k===Jf?Math.sqrt(J*J+$*$):+k.apply(this,arguments),Re||(_e*=-1),$&&(_e=En(Me/$*Math.sin(Pe))),J&&(Ne=En(Me/J*Math.sin(Pe)))),$){cr=$*Math.cos(ee+_e),Mr=$*Math.sin(ee+_e),Pr=$*Math.cos(re-_e),Yr=$*Math.sin(re-_e);var va=Math.abs(re-ee-2*_e)<=Oe?0:1;if(_e&&$f(cr,Mr,Pr,Yr)===Re^va){var rn=(ee+re)/2;cr=$*Math.cos(rn),Mr=$*Math.sin(rn),Pr=Yr=null}}else cr=Mr=0;if(J){it=J*Math.cos(re-Ne),ot=J*Math.sin(re-Ne),Dt=J*Math.cos(ee+Ne),ct=J*Math.sin(ee+Ne);var ba=Math.abs(ee-re+2*Ne)<=Oe?0:1;if(Ne&&$f(it,ot,Dt,ct)===1-Re^ba){var Br=(ee+re)/2;it=J*Math.cos(Br),ot=J*Math.sin(Br),Dt=ct=null}}else it=ot=0;if(Ee>we&&(oe=Math.min(Math.abs($-J)/2,+A.apply(this,arguments)))>.001){ge=J<$^Re?0:1;var Ft=oe,Ut=oe;if(Ee<Oe){var sa=Dt==null?[it,ot]:Pr==null?[cr,Mr]:If([cr,Mr],[Dt,ct],[Pr,Yr],[it,ot]),Ba=cr-sa[0],fn=Mr-sa[1],Hn=Pr-sa[0],Kn=Yr-sa[1],mi=1/Math.sin(Math.acos((Ba*Hn+fn*Kn)/(Math.sqrt(Ba*Ba+fn*fn)*Math.sqrt(Hn*Hn+Kn*Kn)))/2),U=Math.sqrt(sa[0]*sa[0]+sa[1]*sa[1]);Ut=Math.min(oe,(J-U)/(mi-1)),Ft=Math.min(oe,($-U)/(mi+1))}if(Pr!=null){var le=Kf(Dt==null?[it,ot]:[Dt,ct],[cr,Mr],$,Ft,Re),ce=Kf([Pr,Yr],[it,ot],$,Ft,Re);oe===Ft?Ct.push("M",le[0],"A",Ft,",",Ft," 0 0,",ge," ",le[1],"A",$,",",$," 0 ",1-Re^$f(le[1][0],le[1][1],ce[1][0],ce[1][1]),",",Re," ",ce[1],"A",Ft,",",Ft," 0 0,",ge," ",ce[0]):Ct.push("M",le[0],"A",Ft,",",Ft," 0 1,",ge," ",ce[0])}else Ct.push("M",cr,",",Mr);if(Dt!=null){var We=Kf([cr,Mr],[Dt,ct],J,-Ut,Re),Qe=Kf([it,ot],Pr==null?[cr,Mr]:[Pr,Yr],J,-Ut,Re);oe===Ut?Ct.push("L",Qe[0],"A",Ut,",",Ut," 0 0,",ge," ",Qe[1],"A",J,",",J," 0 ",Re^$f(Qe[1][0],Qe[1][1],We[1][0],We[1][1]),",",1-Re," ",We[1],"A",Ut,",",Ut," 0 0,",ge," ",We[0]):Ct.push("L",Qe[0],"A",Ut,",",Ut," 0 0,",ge," ",We[0])}else Ct.push("L",it,",",ot)}else Ct.push("M",cr,",",Mr),Pr!=null&&Ct.push("A",$,",",$," 0 ",va,",",Re," ",Pr,",",Yr),Ct.push("L",it,",",ot),Dt!=null&&Ct.push("A",J,",",J," 0 ",ba,",",1-Re," ",Dt,",",ct);return Ct.push("Z"),Ct.join("")}function B(J,$){return"M0,"+J+"A"+J+","+J+" 0 1,"+$+" 0,"+-J+"A"+J+","+J+" 0 1,"+$+" 0,"+J}return D.innerRadius=function(J){return arguments.length?(v=Yt(J),D):v},D.outerRadius=function(J){return arguments.length?(m=Yt(J),D):m},D.cornerRadius=function(J){return arguments.length?(A=Yt(J),D):A},D.padRadius=function(J){return arguments.length?(k=J==Jf?Jf:Yt(J),D):k},D.startAngle=function(J){return arguments.length?(E=Yt(J),D):E},D.endAngle=function(J){return arguments.length?(L=Yt(J),D):L},D.padAngle=function(J){return arguments.length?(N=Yt(J),D):N},D.centroid=function(){var J=(+v.apply(this,arguments)+ +m.apply(this,arguments))/2,$=(+E.apply(this,arguments)+ +L.apply(this,arguments))/2-$r;return[Math.cos($)*J,Math.sin($)*J]},D};var Jf="auto";function wm(v){return v.innerRadius}function Dd(v){return v.outerRadius}function Iv(v){return v.startAngle}function Fd(v){return v.endAngle}function Rd(v){return v&&v.padAngle}function $f(v,m,A,k){return(v-A)*m-(m-k)*v>0?0:1}function Kf(v,m,A,k,E){var L=v[0]-m[0],N=v[1]-m[1],D=(E?k:-k)/Math.sqrt(L*L+N*N),B=D*N,J=-D*L,$=v[0]+B,ee=v[1]+J,re=m[0]+B,Ee=m[1]+J,Re=($+re)/2,oe=(ee+Ee)/2,ge=re-$,Me=Ee-ee,Pe=ge*ge+Me*Me,Ne=A-k,_e=$*Ee-re*ee,cr=(Me<0?-1:1)*Math.sqrt(Math.max(0,Ne*Ne*Pe-_e*_e)),Mr=(_e*Me-ge*cr)/Pe,Pr=(-_e*ge-Me*cr)/Pe,Yr=(_e*Me+ge*cr)/Pe,it=(-_e*ge+Me*cr)/Pe,ot=Mr-Re,Dt=Pr-oe,ct=Yr-Re,Ct=it-oe;return ot*ot+Dt*Dt>ct*ct+Ct*Ct&&(Mr=Yr,Pr=it),[[Mr-B,Pr-J],[Mr*A/Ne,Pr*A/Ne]]}function Ov(){return!0}function Pd(v){var m=Yl,A=pu,k=Ov,E=Oi,L=E.key,N=.7;function D(B){var J=[],$=[],ee=-1,re=B.length,Ee,Re=Yt(m),oe=Yt(A);function ge(){J.push("M",E(v($),N))}for(;++ee<re;)k.call(this,Ee=B[ee],ee)?$.push([+Re.call(this,Ee,ee),+oe.call(this,Ee,ee)]):$.length&&(ge(),$=[]);return $.length&&ge(),J.length?J.join(""):null}return D.x=function(B){return arguments.length?(m=B,D):m},D.y=function(B){return arguments.length?(A=B,D):A},D.defined=function(B){return arguments.length?(k=B,D):k},D.interpolate=function(B){return arguments.length?(typeof B=="function"?L=E=B:L=(E=zv.get(B)||Oi).key,D):L},D.tension=function(B){return arguments.length?(N=B,D):N},D}e.svg.line=function(){return Pd(j)};var zv=e.map({linear:Oi,"linear-closed":Bv,step:Qf,"step-before":Uv,"step-after":Su,basis:Is,"basis-open":Eu,"basis-closed":Lu,bundle:Nd,cardinal:ku,"cardinal-open":hl,"cardinal-closed":Hv,monotone:Am});zv.forEach(function(v,m){m.key=v,m.closed=/-closed$/.test(v)});function Oi(v){return v.length>1?v.join("L"):v+"Z"}function Bv(v){return v.join("L")+"Z"}function Qf(v){for(var m=0,A=v.length,k=v[0],E=[k[0],",",k[1]];++m<A;)E.push("H",(k[0]+(k=v[m])[0])/2,"V",k[1]);return A>1&&E.push("H",k[0]),E.join("")}function Uv(v){for(var m=0,A=v.length,k=v[0],E=[k[0],",",k[1]];++m<A;)E.push("V",(k=v[m])[1],"H",k[0]);return E.join("")}function Su(v){for(var m=0,A=v.length,k=v[0],E=[k[0],",",k[1]];++m<A;)E.push("H",(k=v[m])[0],"V",k[1]);return E.join("")}function hl(v,m){return v.length<4?Oi(v):v[1]+Ns(v.slice(1,-1),Cu(v,m))}function Hv(v,m){return v.length<3?Bv(v):v[0]+Ns((v.push(v[0]),v),Cu([v[v.length-2]].concat(v,[v[1]]),m))}function ku(v,m){return v.length<3?Oi(v):v[0]+Ns(v,Cu(v,m))}function Ns(v,m){if(m.length<1||v.length!=m.length&&v.length!=m.length+2)return Oi(v);var A=v.length!=m.length,k="",E=v[0],L=v[1],N=m[0],D=N,B=1;if(A&&(k+="Q"+(L[0]-N[0]*2/3)+","+(L[1]-N[1]*2/3)+","+L[0]+","+L[1],E=v[1],B=2),m.length>1){D=m[1],L=v[B],B++,k+="C"+(E[0]+N[0])+","+(E[1]+N[1])+","+(L[0]-D[0])+","+(L[1]-D[1])+","+L[0]+","+L[1];for(var J=2;J<m.length;J++,B++)L=v[B],D=m[J],k+="S"+(L[0]-D[0])+","+(L[1]-D[1])+","+L[0]+","+L[1]}if(A){var $=v[B];k+="Q"+(L[0]+D[0]*2/3)+","+(L[1]+D[1]*2/3)+","+$[0]+","+$[1]}return k}function Cu(v,m){for(var A=[],k=(1-m)/2,E,L=v[0],N=v[1],D=1,B=v.length;++D<B;)E=L,L=N,N=v[D],A.push([k*(N[0]-E[0]),k*(N[1]-E[1])]);return A}function Is(v){if(v.length<3)return Oi(v);var m=1,A=v.length,k=v[0],E=k[0],L=k[1],N=[E,E,E,(k=v[1])[0]],D=[L,L,L,k[1]],B=[E,",",L,"L",Mi(Io,N),",",Mi(Io,D)];for(v.push(v[A-1]);++m<=A;)k=v[m],N.shift(),N.push(k[0]),D.shift(),D.push(k[1]),$l(B,N,D);return v.pop(),B.push("L",k),B.join("")}function Eu(v){if(v.length<4)return Oi(v);for(var m=[],A=-1,k=v.length,E,L=[0],N=[0];++A<3;)E=v[A],L.push(E[0]),N.push(E[1]);for(m.push(Mi(Io,L)+","+Mi(Io,N)),--A;++A<k;)E=v[A],L.shift(),L.push(E[0]),N.shift(),N.push(E[1]),$l(m,L,N);return m.join("")}function Lu(v){for(var m,A=-1,k=v.length,E=k+4,L,N=[],D=[];++A<4;)L=v[A%k],N.push(L[0]),D.push(L[1]);for(m=[Mi(Io,N),",",Mi(Io,D)],--A;++A<E;)L=v[A%k],N.shift(),N.push(L[0]),D.shift(),D.push(L[1]),$l(m,N,D);return m.join("")}function Nd(v,m){var A=v.length-1;if(A)for(var k=v[0][0],E=v[0][1],L=v[A][0]-k,N=v[A][1]-E,D=-1,B,J;++D<=A;)B=v[D],J=D/A,B[0]=m*B[0]+(1-m)*(k+J*L),B[1]=m*B[1]+(1-m)*(E+J*N);return Is(v)}function Mi(v,m){return v[0]*m[0]+v[1]*m[1]+v[2]*m[2]+v[3]*m[3]}var ec=[0,2/3,1/3,0],Gv=[0,1/3,2/3,0],Io=[0,1/6,2/3,1/6];function $l(v,m,A){v.push("C",Mi(ec,m),",",Mi(ec,A),",",Mi(Gv,m),",",Mi(Gv,A),",",Mi(Io,m),",",Mi(Io,A))}function Kl(v,m){return(m[1]-v[1])/(m[0]-v[0])}function $5(v){for(var m=0,A=v.length-1,k=[],E=v[0],L=v[1],N=k[0]=Kl(E,L);++m<A;)k[m]=(N+(N=Kl(E=L,L=v[m+1])))/2;return k[m]=N,k}function K5(v){for(var m=[],A,k,E,L,N=$5(v),D=-1,B=v.length-1;++D<B;)A=Kl(v[D],v[D+1]),b(A)<we?N[D]=N[D+1]=0:(k=N[D]/A,E=N[D+1]/A,L=k*k+E*E,L>9&&(L=A*3/Math.sqrt(L),N[D]=L*k,N[D+1]=L*E));for(D=-1;++D<=B;)L=(v[Math.min(B,D+1)][0]-v[Math.max(0,D-1)][0])/(6*(1+N[D]*N[D])),m.push([L||0,N[D]*L||0]);return m}function Am(v){return v.length<3?Oi(v):v[0]+Ns(v,K5(v))}e.svg.line.radial=function(){var v=Pd(Id);return v.radius=v.x,delete v.x,v.angle=v.y,delete v.y,v};function Id(v){for(var m,A=-1,k=v.length,E,L;++A<k;)m=v[A],E=m[0],L=m[1]-$r,m[0]=E*Math.cos(L),m[1]=E*Math.sin(L);return v}function Od(v){var m=Yl,A=Yl,k=0,E=pu,L=Ov,N=Oi,D=N.key,B=N,J="L",$=.7;function ee(re){var Ee=[],Re=[],oe=[],ge=-1,Me=re.length,Pe,Ne=Yt(m),_e=Yt(k),cr=m===A?function(){return Pr}:Yt(A),Mr=k===E?function(){return Yr}:Yt(E),Pr,Yr;function it(){Ee.push("M",N(v(oe),$),J,B(v(Re.reverse()),$),"Z")}for(;++ge<Me;)L.call(this,Pe=re[ge],ge)?(Re.push([Pr=+Ne.call(this,Pe,ge),Yr=+_e.call(this,Pe,ge)]),oe.push([+cr.call(this,Pe,ge),+Mr.call(this,Pe,ge)])):Re.length&&(it(),Re=[],oe=[]);return Re.length&&it(),Ee.length?Ee.join(""):null}return ee.x=function(re){return arguments.length?(m=A=re,ee):A},ee.x0=function(re){return arguments.length?(m=re,ee):m},ee.x1=function(re){return arguments.length?(A=re,ee):A},ee.y=function(re){return arguments.length?(k=E=re,ee):E},ee.y0=function(re){return arguments.length?(k=re,ee):k},ee.y1=function(re){return arguments.length?(E=re,ee):E},ee.defined=function(re){return arguments.length?(L=re,ee):L},ee.interpolate=function(re){return arguments.length?(typeof re=="function"?D=N=re:D=(N=zv.get(re)||Oi).key,B=N.reverse||N,J=N.closed?"M":"L",ee):D},ee.tension=function(re){return arguments.length?($=re,ee):$},ee}Uv.reverse=Su,Su.reverse=Uv,e.svg.area=function(){return Od(j)},e.svg.area.radial=function(){var v=Od(Id);return v.radius=v.x,delete v.x,v.innerRadius=v.x0,delete v.x0,v.outerRadius=v.x1,delete v.x1,v.angle=v.y,delete v.y,v.startAngle=v.y0,delete v.y0,v.endAngle=v.y1,delete v.y1,v};function Tm(v){return v.source}function Os(v){return v.target}e.svg.chord=function(){var v=Tm,m=Os,A=zd,k=Iv,E=Fd;function L($,ee){var re=N(this,v,$,ee),Ee=N(this,m,$,ee);return"M"+re.p0+B(re.r,re.p1,re.a1-re.a0)+(D(re,Ee)?J(re.r,re.p1,re.r,re.p0):J(re.r,re.p1,Ee.r,Ee.p0)+B(Ee.r,Ee.p1,Ee.a1-Ee.a0)+J(Ee.r,Ee.p1,re.r,re.p0))+"Z"}function N($,ee,re,Ee){var Re=ee.call($,re,Ee),oe=A.call($,Re,Ee),ge=k.call($,Re,Ee)-$r,Me=E.call($,Re,Ee)-$r;return{r:oe,a0:ge,a1:Me,p0:[oe*Math.cos(ge),oe*Math.sin(ge)],p1:[oe*Math.cos(Me),oe*Math.sin(Me)]}}function D($,ee){return $.a0==ee.a0&&$.a1==ee.a1}function B($,ee,re){return"A"+$+","+$+" 0 "+ +(re>Oe)+",1 "+ee}function J($,ee,re,Ee){return"Q 0,0 "+Ee}return L.radius=function($){return arguments.length?(A=Yt($),L):A},L.source=function($){return arguments.length?(v=Yt($),L):v},L.target=function($){return arguments.length?(m=Yt($),L):m},L.startAngle=function($){return arguments.length?(k=Yt($),L):k},L.endAngle=function($){return arguments.length?(E=Yt($),L):E},L};function zd(v){return v.radius}e.svg.diagonal=function(){var v=Tm,m=Os,A=Mm;function k(E,L){var N=v.call(this,E,L),D=m.call(this,E,L),B=(N.y+D.y)/2,J=[N,{x:N.x,y:B},{x:D.x,y:B},D];return J=J.map(A),"M"+J[0]+"C"+J[1]+" "+J[2]+" "+J[3]}return k.source=function(E){return arguments.length?(v=Yt(E),k):v},k.target=function(E){return arguments.length?(m=Yt(E),k):m},k.projection=function(E){return arguments.length?(A=E,k):A},k};function Mm(v){return[v.x,v.y]}e.svg.diagonal.radial=function(){var v=e.svg.diagonal(),m=Mm,A=v.projection;return v.projection=function(k){return arguments.length?A(Q5(m=k)):m},v};function Q5(v){return function(){var m=v.apply(this,arguments),A=m[0],k=m[1]-$r;return[A*Math.cos(k),A*Math.sin(k)]}}e.svg.symbol=function(){var v=r_,m=e_;function A(k,E){return(km.get(v.call(this,k,E))||Sm)(m.call(this,k,E))}return A.type=function(k){return arguments.length?(v=Yt(k),A):v},A.size=function(k){return arguments.length?(m=Yt(k),A):m},A};function e_(){return 64}function r_(){return"circle"}function Sm(v){var m=Math.sqrt(v/Oe);return"M0,"+m+"A"+m+","+m+" 0 1,1 0,"+-m+"A"+m+","+m+" 0 1,1 0,"+m+"Z"}var km=e.map({circle:Sm,cross:function(v){var m=Math.sqrt(v/5)/2;return"M"+-3*m+","+-m+"H"+-m+"V"+-3*m+"H"+m+"V"+-m+"H"+3*m+"V"+m+"H"+m+"V"+3*m+"H"+-m+"V"+m+"H"+-3*m+"Z"},diamond:function(v){var m=Math.sqrt(v/(2*Cm)),A=m*Cm;return"M0,"+-m+"L"+A+",0 0,"+m+" "+-A+",0Z"},square:function(v){var m=Math.sqrt(v)/2;return"M"+-m+","+-m+"L"+m+","+-m+" "+m+","+m+" "+-m+","+m+"Z"},"triangle-down":function(v){var m=Math.sqrt(v/Vv),A=m*Vv/2;return"M0,"+A+"L"+m+","+-A+" "+-m+","+-A+"Z"},"triangle-up":function(v){var m=Math.sqrt(v/Vv),A=m*Vv/2;return"M0,"+-A+"L"+m+","+A+" "+-m+","+A+"Z"}});e.svg.symbolTypes=km.keys();var Vv=Math.sqrt(3),Cm=Math.tan(30*kt);Ae.transition=function(v){for(var m=Ql||++Wv,A=jv(v),k=[],E,L,N=qu||{time:Date.now(),ease:Fs,delay:0,duration:250},D=-1,B=this.length;++D<B;){k.push(E=[]);for(var J=this[D],$=-1,ee=J.length;++$<ee;)(L=J[$])&&Du(L,$,A,m,N),E.push(L)}return zs(k,A,m)},Ae.interrupt=function(v){return this.each(v==null?Yv:Bd(jv(v)))};var Yv=Bd(jv());function Bd(v){return function(){var m,A,k;(m=this[v])&&(k=m[A=m.active])&&(k.timer.c=null,k.timer.t=NaN,--m.count?delete m[A]:delete this[v],m.active+=.5,k.event&&k.event.interrupt.call(this,this.__data__,k.index))}}function zs(v,m,A){return K(v,en),v.namespace=m,v.id=A,v}var en=[],Wv=0,Ql,qu;en.call=Ae.call,en.empty=Ae.empty,en.node=Ae.node,en.size=Ae.size,e.transition=function(v,m){return v&&v.transition?Ql?v.transition(m):v:e.selection().transition(v)},e.transition.prototype=en,en.select=function(v){var m=this.id,A=this.namespace,k=[],E,L,N;v=Y(v);for(var D=-1,B=this.length;++D<B;){k.push(E=[]);for(var J=this[D],$=-1,ee=J.length;++$<ee;)(N=J[$])&&(L=v.call(N,N.__data__,$,D))?("__data__"in N&&(L.__data__=N.__data__),Du(L,$,A,m,N[A][m]),E.push(L)):E.push(null)}return zs(k,A,m)},en.selectAll=function(v){var m=this.id,A=this.namespace,k=[],E,L,N,D,B;v=ae(v);for(var J=-1,$=this.length;++J<$;)for(var ee=this[J],re=-1,Ee=ee.length;++re<Ee;)if(N=ee[re]){B=N[A][m],L=v.call(N,N.__data__,re,J),k.push(E=[]);for(var Re=-1,oe=L.length;++Re<oe;)(D=L[Re])&&Du(D,Re,A,m,B),E.push(D)}return zs(k,A,m)},en.filter=function(v){var m=[],A,k,E;typeof v!="function"&&(v=pe(v));for(var L=0,N=this.length;L<N;L++){m.push(A=[]);for(var k=this[L],D=0,B=k.length;D<B;D++)(E=k[D])&&v.call(E,E.__data__,D,L)&&A.push(E)}return zs(m,this.namespace,this.id)},en.tween=function(v,m){var A=this.id,k=this.namespace;return arguments.length<2?this.node()[k][A].tween.get(v):ze(this,m==null?function(E){E[k][A].tween.remove(v)}:function(E){E[k][A].tween.set(v,m)})};function rc(v,m,A,k){var E=v.id,L=v.namespace;return ze(v,typeof A=="function"?function(N,D,B){N[L][E].tween.set(m,k(A.call(N,N.__data__,D,B)))}:(A=k(A),function(N){N[L][E].tween.set(m,A)}))}en.attr=function(v,m){if(arguments.length<2){for(m in v)this.attr(m,v[m]);return this}var A=v=="transform"?vd:Xl,k=e.ns.qualify(v);function E(){this.removeAttribute(k)}function L(){this.removeAttributeNS(k.space,k.local)}function N(B){return B==null?E:(B+="",function(){var J=this.getAttribute(k),$;return J!==B&&($=A(J,B),function(ee){this.setAttribute(k,$(ee))})})}function D(B){return B==null?L:(B+="",function(){var J=this.getAttributeNS(k.space,k.local),$;return J!==B&&($=A(J,B),function(ee){this.setAttributeNS(k.space,k.local,$(ee))})})}return rc(this,"attr."+v,m,k.local?D:N)},en.attrTween=function(v,m){var A=e.ns.qualify(v);function k(L,N){var D=m.call(this,L,N,this.getAttribute(A));return D&&function(B){this.setAttribute(A,D(B))}}function E(L,N){var D=m.call(this,L,N,this.getAttributeNS(A.space,A.local));return D&&function(B){this.setAttributeNS(A.space,A.local,D(B))}}return this.tween("attr."+v,A.local?E:k)},en.style=function(v,m,A){var k=arguments.length;if(k<3){if(typeof v!="string"){k<2&&(m="");for(A in v)this.style(A,v[A],m);return this}A=""}function E(){this.style.removeProperty(v)}function L(N){return N==null?E:(N+="",function(){var D=i(this).getComputedStyle(this,null).getPropertyValue(v),B;return D!==N&&(B=Xl(D,N),function(J){this.style.setProperty(v,B(J),A)})})}return rc(this,"style."+v,m,L)},en.styleTween=function(v,m,A){arguments.length<3&&(A="");function k(E,L){var N=m.call(this,E,L,i(this).getComputedStyle(this,null).getPropertyValue(v));return N&&function(D){this.style.setProperty(v,N(D),A)}}return this.tween("style."+v,k)},en.text=function(v){return rc(this,"text",v,Ud)};function Ud(v){return v==null&&(v=""),function(){this.textContent=v}}en.remove=function(){var v=this.namespace;return this.each("end.transition",function(){var m;this[v].count<2&&(m=this.parentNode)&&m.removeChild(this)})},en.ease=function(v){var m=this.id,A=this.namespace;return arguments.length<1?this.node()[A][m].ease:(typeof v!="function"&&(v=e.ease.apply(e,arguments)),ze(this,function(k){k[A][m].ease=v}))},en.delay=function(v){var m=this.id,A=this.namespace;return arguments.length<1?this.node()[A][m].delay:ze(this,typeof v=="function"?function(k,E,L){k[A][m].delay=+v.call(k,k.__data__,E,L)}:(v=+v,function(k){k[A][m].delay=v}))},en.duration=function(v){var m=this.id,A=this.namespace;return arguments.length<1?this.node()[A][m].duration:ze(this,typeof v=="function"?function(k,E,L){k[A][m].duration=Math.max(1,v.call(k,k.__data__,E,L))}:(v=Math.max(1,v),function(k){k[A][m].duration=v}))},en.each=function(v,m){var A=this.id,k=this.namespace;if(arguments.length<2){var E=qu,L=Ql;try{Ql=A,ze(this,function(N,D,B){qu=N[k][A],v.call(N,N.__data__,D,B)})}finally{qu=E,Ql=L}}else ze(this,function(N){var D=N[k][A];(D.event||(D.event=e.dispatch("start","end","interrupt"))).on(v,m)});return this},en.transition=function(){for(var v=this.id,m=++Wv,A=this.namespace,k=[],E,L,N,D,B=0,J=this.length;B<J;B++){k.push(E=[]);for(var L=this[B],$=0,ee=L.length;$<ee;$++)(N=L[$])&&(D=N[A][v],Du(N,$,A,m,{time:D.time,ease:D.ease,delay:D.delay+D.duration,duration:D.duration})),E.push(N)}return zs(k,A,m)};function jv(v){return v==null?"__transition__":"__transition_"+v+"__"}function Du(v,m,A,k,E){var L=v[A]||(v[A]={active:0,count:0}),N=L[k],D,B,J,$,ee;function re(oe){var ge=N.delay;if(B.t=ge+D,ge<=oe)return Ee(oe-ge);B.c=Ee}function Ee(oe){var ge=L.active,Me=L[ge];Me&&(Me.timer.c=null,Me.timer.t=NaN,--L.count,delete L[ge],Me.event&&Me.event.interrupt.call(v,v.__data__,Me.index));for(var Pe in L)if(+Pe<k){var Ne=L[Pe];Ne.timer.c=null,Ne.timer.t=NaN,--L.count,delete L[Pe]}B.c=Re,ks(function(){return B.c&&Re(oe||1)&&(B.c=null,B.t=NaN),1},0,D),L.active=k,N.event&&N.event.start.call(v,v.__data__,m),ee=[],N.tween.forEach(function(_e,cr){(cr=cr.call(v,v.__data__,m))&&ee.push(cr)}),$=N.ease,J=N.duration}function Re(oe){for(var ge=oe/J,Me=$(ge),Pe=ee.length;Pe>0;)ee[--Pe].call(v,Me);if(ge>=1)return N.event&&N.event.end.call(v,v.__data__,m),--L.count?delete L[k]:delete v[A],1}N||(D=E.time,B=ks(re,0,D),N=L[k]={tween:new x,time:D,timer:B,delay:E.delay,duration:E.duration,ease:E.ease,index:m},E=null,++L.count)}e.svg.axis=function(){var v=e.scale.linear(),m=Xv,A=6,k=6,E=3,L=[10],N=null,D;function B(J){J.each(function(){var $=e.select(this),ee=this.__chart__||v,re=this.__chart__=v.copy(),Ee=N==null?re.ticks?re.ticks.apply(re,L):re.domain():N,Re=D==null?re.tickFormat?re.tickFormat.apply(re,L):j:D,oe=$.selectAll(".tick").data(Ee,re),ge=oe.enter().insert("g",".domain").attr("class","tick").style("opacity",we),Me=e.transition(oe.exit()).style("opacity",we).remove(),Pe=e.transition(oe.order()).style("opacity",1),Ne=Math.max(A,0)+E,_e,cr=Fv(re),Mr=$.selectAll(".domain").data([0]),Pr=(Mr.enter().append("path").attr("class","domain"),e.transition(Mr));ge.append("line"),ge.append("text");var Yr=ge.select("line"),it=Pe.select("line"),ot=oe.select("text").text(Re),Dt=ge.select("text"),ct=Pe.select("text"),Ct=m==="top"||m==="left"?-1:1,va,rn,ba,Br;if(m==="bottom"||m==="top"?(_e=Gd,va="x",ba="y",rn="x2",Br="y2",ot.attr("dy",Ct<0?"0em":".71em").style("text-anchor","middle"),Pr.attr("d","M"+cr[0]+","+Ct*k+"V0H"+cr[1]+"V"+Ct*k)):(_e=Vd,va="y",ba="x",rn="y2",Br="x2",ot.attr("dy",".32em").style("text-anchor",Ct<0?"end":"start"),Pr.attr("d","M"+Ct*k+","+cr[0]+"H0V"+cr[1]+"H"+Ct*k)),Yr.attr(Br,Ct*A),Dt.attr(ba,Ct*Ne),it.attr(rn,0).attr(Br,Ct*A),ct.attr(va,0).attr(ba,Ct*Ne),re.rangeBand){var Ft=re,Ut=Ft.rangeBand()/2;ee=re=function(sa){return Ft(sa)+Ut}}else ee.rangeBand?ee=re:Me.call(_e,re,ee);ge.call(_e,ee,re),Pe.call(_e,re,re)})}return B.scale=function(J){return arguments.length?(v=J,B):v},B.orient=function(J){return arguments.length?(m=J in Hd?J+"":Xv,B):m},B.ticks=function(){return arguments.length?(L=t(arguments),B):L},B.tickValues=function(J){return arguments.length?(N=J,B):N},B.tickFormat=function(J){return arguments.length?(D=J,B):D},B.tickSize=function(J){var $=arguments.length;return $?(A=+J,k=+arguments[$-1],B):A},B.innerTickSize=function(J){return arguments.length?(A=+J,B):A},B.outerTickSize=function(J){return arguments.length?(k=+J,B):k},B.tickPadding=function(J){return arguments.length?(E=+J,B):E},B.tickSubdivide=function(){return arguments.length&&B},B};var Xv="bottom",Hd={top:1,right:1,bottom:1,left:1};function Gd(v,m,A){v.attr("transform",function(k){var E=m(k);return"translate("+(isFinite(E)?E:A(k))+",0)"})}function Vd(v,m,A){v.attr("transform",function(k){var E=m(k);return"translate(0,"+(isFinite(E)?E:A(k))+")"})}e.svg.brush=function(){var v=ne($,"brushstart","brush","brushend"),m=null,A=null,k=[0,0],E=[0,0],L,N,D=!0,B=!0,J=tc[0];function $(oe){oe.each(function(){var ge=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Re).on("touchstart.brush",Re),Me=ge.selectAll(".background").data([0]);Me.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),ge.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Pe=ge.selectAll(".resize").data(J,j);Pe.exit().remove(),Pe.enter().append("g").attr("class",function(Mr){return"resize "+Mr}).style("cursor",function(Mr){return Yd[Mr]}).append("rect").attr("x",function(Mr){return/[ew]$/.test(Mr)?-3:null}).attr("y",function(Mr){return/^[ns]/.test(Mr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Pe.style("display",$.empty()?"none":null);var Ne=e.transition(ge),_e=e.transition(Me),cr;m&&(cr=Fv(m),_e.attr("x",cr[0]).attr("width",cr[1]-cr[0]),re(Ne)),A&&(cr=Fv(A),_e.attr("y",cr[0]).attr("height",cr[1]-cr[0]),Ee(Ne)),ee(Ne)})}$.event=function(oe){oe.each(function(){var ge=v.of(this,arguments),Me={x:k,y:E,i:L,j:N},Pe=this.__chart__||Me;this.__chart__=Me,Ql?e.select(this).transition().each("start.brush",function(){L=Pe.i,N=Pe.j,k=Pe.x,E=Pe.y,ge({type:"brushstart"})}).tween("brush:brush",function(){var Ne=Vf(k,Me.x),_e=Vf(E,Me.y);return L=N=null,function(cr){k=Me.x=Ne(cr),E=Me.y=_e(cr),ge({type:"brush",mode:"resize"})}}).each("end.brush",function(){L=Me.i,N=Me.j,ge({type:"brush",mode:"resize"}),ge({type:"brushend"})}):(ge({type:"brushstart"}),ge({type:"brush",mode:"resize"}),ge({type:"brushend"}))})};function ee(oe){oe.selectAll(".resize").attr("transform",function(ge){return"translate("+k[+/e$/.test(ge)]+","+E[+/^s/.test(ge)]+")"})}function re(oe){oe.select(".extent").attr("x",k[0]),oe.selectAll(".extent,.n>rect,.s>rect").attr("width",k[1]-k[0])}function Ee(oe){oe.select(".extent").attr("y",E[0]),oe.selectAll(".extent,.e>rect,.w>rect").attr("height",E[1]-E[0])}function Re(){var oe=this,ge=e.select(e.event.target),Me=v.of(oe,arguments),Pe=e.select(oe),Ne=ge.datum(),_e=!/^(n|s)$/.test(Ne)&&m,cr=!/^(e|w)$/.test(Ne)&&A,Mr=ge.classed("extent"),Pr=Ir(oe),Yr,it=e.mouse(oe),ot,Dt=e.select(i(oe)).on("keydown.brush",va).on("keyup.brush",rn);if(e.event.changedTouches?Dt.on("touchmove.brush",ba).on("touchend.brush",Ft):Dt.on("mousemove.brush",ba).on("mouseup.brush",Ft),Pe.interrupt().selectAll("*").interrupt(),Mr)it[0]=k[0]-it[0],it[1]=E[0]-it[1];else if(Ne){var ct=+/w$/.test(Ne),Ct=+/^n/.test(Ne);ot=[k[1-ct]-it[0],E[1-Ct]-it[1]],it[0]=k[ct],it[1]=E[Ct]}else e.event.altKey&&(Yr=it.slice());Pe.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",ge.style("cursor")),Me({type:"brushstart"}),ba();function va(){e.event.keyCode==32&&(Mr||(Yr=null,it[0]-=k[1],it[1]-=E[1],Mr=2),ie())}function rn(){e.event.keyCode==32&&Mr==2&&(it[0]+=k[1],it[1]+=E[1],Mr=0,ie())}function ba(){var Ut=e.mouse(oe),sa=!1;ot&&(Ut[0]+=ot[0],Ut[1]+=ot[1]),Mr||(e.event.altKey?(Yr||(Yr=[(k[0]+k[1])/2,(E[0]+E[1])/2]),it[0]=k[+(Ut[0]<Yr[0])],it[1]=E[+(Ut[1]<Yr[1])]):Yr=null),_e&&Br(Ut,m,0)&&(re(Pe),sa=!0),cr&&Br(Ut,A,1)&&(Ee(Pe),sa=!0),sa&&(ee(Pe),Me({type:"brush",mode:Mr?"move":"resize"}))}function Br(Ut,sa,Ba){var fn=Fv(sa),Hn=fn[0],Kn=fn[1],mi=it[Ba],U=Ba?E:k,le=U[1]-U[0],ce,We;if(Mr&&(Hn-=mi,Kn-=le+mi),ce=(Ba?B:D)?Math.max(Hn,Math.min(Kn,Ut[Ba])):Ut[Ba],Mr?We=(ce+=mi)+le:(Yr&&(mi=Math.max(Hn,Math.min(Kn,2*Yr[Ba]-ce))),mi<ce?(We=ce,ce=mi):We=mi),U[0]!=ce||U[1]!=We)return Ba?N=null:L=null,U[0]=ce,U[1]=We,!0}function Ft(){ba(),Pe.style("pointer-events","all").selectAll(".resize").style("display",$.empty()?"none":null),e.select("body").style("cursor",null),Dt.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Pr(),Me({type:"brushend"})}}return $.x=function(oe){return arguments.length?(m=oe,J=tc[!m<<1|!A],$):m},$.y=function(oe){return arguments.length?(A=oe,J=tc[!m<<1|!A],$):A},$.clamp=function(oe){return arguments.length?(m&&A?(D=!!oe[0],B=!!oe[1]):m?D=!!oe:A&&(B=!!oe),$):m&&A?[D,B]:m?D:A?B:null},$.extent=function(oe){var ge,Me,Pe,Ne,_e;return arguments.length?(m&&(ge=oe[0],Me=oe[1],A&&(ge=ge[0],Me=Me[0]),L=[ge,Me],m.invert&&(ge=m(ge),Me=m(Me)),Me<ge&&(_e=ge,ge=Me,Me=_e),(ge!=k[0]||Me!=k[1])&&(k=[ge,Me])),A&&(Pe=oe[0],Ne=oe[1],m&&(Pe=Pe[1],Ne=Ne[1]),N=[Pe,Ne],A.invert&&(Pe=A(Pe),Ne=A(Ne)),Ne<Pe&&(_e=Pe,Pe=Ne,Ne=_e),(Pe!=E[0]||Ne!=E[1])&&(E=[Pe,Ne])),$):(m&&(L?(ge=L[0],Me=L[1]):(ge=k[0],Me=k[1],m.invert&&(ge=m.invert(ge),Me=m.invert(Me)),Me<ge&&(_e=ge,ge=Me,Me=_e))),A&&(N?(Pe=N[0],Ne=N[1]):(Pe=E[0],Ne=E[1],A.invert&&(Pe=A.invert(Pe),Ne=A.invert(Ne)),Ne<Pe&&(_e=Pe,Pe=Ne,Ne=_e))),m&&A?[[ge,Pe],[Me,Ne]]:m?[ge,Me]:A&&[Pe,Ne])},$.clear=function(){return $.empty()||(k=[0,0],E=[0,0],L=N=null),$},$.empty=function(){return!!m&&k[0]==k[1]||!!A&&E[0]==E[1]},e.rebind($,v,"on")};var Yd={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},tc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];e.text=wo(function(v){return v.responseText}),e.json=function(v,m){return Gl(v,"application/json",Wd,m)};function Wd(v){return JSON.parse(v.responseText)}e.html=function(v,m){return Gl(v,"text/html",jd,m)};function jd(v){var m=a.createRange();return m.selectNode(a.body),m.createContextualFragment(v.responseText)}e.xml=wo(function(v){return v.responseXML}),typeof define=="function"&&define.amd?define(e):typeof qm=="object"&&qm.exports?qm.exports=e:this.d3=e}).apply(self)});var t_=R((Dm,G9)=>{(function(e,r){typeof Dm=="object"&&typeof G9!="undefined"?r(Dm):typeof define=="function"&&define.amd?define(["exports"],r):(e=e||self,r(e.d3=e.d3||{}))})(Dm,function(e){"use strict";var r=new Date,t=new Date;function a(pe,Ie,ze,et){function zr(Ve){return pe(Ve=arguments.length===0?new Date:new Date(+Ve)),Ve}return zr.floor=function(Ve){return pe(Ve=new Date(+Ve)),Ve},zr.ceil=function(Ve){return pe(Ve=new Date(Ve-1)),Ie(Ve,1),pe(Ve),Ve},zr.round=function(Ve){var He=zr(Ve),dr=zr.ceil(Ve);return Ve-He<dr-Ve?He:dr},zr.offset=function(Ve,He){return Ie(Ve=new Date(+Ve),He==null?1:Math.floor(He)),Ve},zr.range=function(Ve,He,dr){var Tr=[],mr;if(Ve=zr.ceil(Ve),dr=dr==null?1:Math.floor(dr),!(Ve<He)||!(dr>0))return Tr;do Tr.push(mr=new Date(+Ve)),Ie(Ve,dr),pe(Ve);while(mr<Ve&&Ve<He);return Tr},zr.filter=function(Ve){return a(function(He){if(He>=He)for(;pe(He),!Ve(He);)He.setTime(He-1)},function(He,dr){if(He>=He)if(dr<0)for(;++dr<=0;)for(;Ie(He,-1),!Ve(He););else for(;--dr>=0;)for(;Ie(He,1),!Ve(He););})},ze&&(zr.count=function(Ve,He){return r.setTime(+Ve),t.setTime(+He),pe(r),pe(t),Math.floor(ze(r,t))},zr.every=function(Ve){return Ve=Math.floor(Ve),!isFinite(Ve)||!(Ve>0)?null:Ve>1?zr.filter(et?function(He){return et(He)%Ve===0}:function(He){return zr.count(0,He)%Ve===0}):zr}),zr}var n=a(function(){},function(pe,Ie){pe.setTime(+pe+Ie)},function(pe,Ie){return Ie-pe});n.every=function(pe){return pe=Math.floor(pe),!isFinite(pe)||!(pe>0)?null:pe>1?a(function(Ie){Ie.setTime(Math.floor(Ie/pe)*pe)},function(Ie,ze){Ie.setTime(+Ie+ze*pe)},function(Ie,ze){return(ze-Ie)/pe}):n};var i=n.range,o=1e3,l=6e4,s=36e5,u=864e5,f=6048e5,c=a(function(pe){pe.setTime(pe-pe.getMilliseconds())},function(pe,Ie){pe.setTime(+pe+Ie*o)},function(pe,Ie){return(Ie-pe)/o},function(pe){return pe.getUTCSeconds()}),h=c.range,d=a(function(pe){pe.setTime(pe-pe.getMilliseconds()-pe.getSeconds()*o)},function(pe,Ie){pe.setTime(+pe+Ie*l)},function(pe,Ie){return(Ie-pe)/l},function(pe){return pe.getMinutes()}),p=d.range,g=a(function(pe){pe.setTime(pe-pe.getMilliseconds()-pe.getSeconds()*o-pe.getMinutes()*l)},function(pe,Ie){pe.setTime(+pe+Ie*s)},function(pe,Ie){return(Ie-pe)/s},function(pe){return pe.getHours()}),y=g.range,b=a(function(pe){pe.setHours(0,0,0,0)},function(pe,Ie){pe.setDate(pe.getDate()+Ie)},function(pe,Ie){return(Ie-pe-(Ie.getTimezoneOffset()-pe.getTimezoneOffset())*l)/u},function(pe){return pe.getDate()-1}),_=b.range;function w(pe){return a(function(Ie){Ie.setDate(Ie.getDate()-(Ie.getDay()+7-pe)%7),Ie.setHours(0,0,0,0)},function(Ie,ze){Ie.setDate(Ie.getDate()+ze*7)},function(Ie,ze){return(ze-Ie-(ze.getTimezoneOffset()-Ie.getTimezoneOffset())*l)/f})}var x=w(0),T=w(1),S=w(2),M=w(3),C=w(4),q=w(5),F=w(6),P=x.range,I=T.range,H=S.range,V=M.range,j=C.range,W=q.range,z=F.range,O=a(function(pe){pe.setDate(1),pe.setHours(0,0,0,0)},function(pe,Ie){pe.setMonth(pe.getMonth()+Ie)},function(pe,Ie){return Ie.getMonth()-pe.getMonth()+(Ie.getFullYear()-pe.getFullYear())*12},function(pe){return pe.getMonth()}),G=O.range,Z=a(function(pe){pe.setMonth(0,1),pe.setHours(0,0,0,0)},function(pe,Ie){pe.setFullYear(pe.getFullYear()+Ie)},function(pe,Ie){return Ie.getFullYear()-pe.getFullYear()},function(pe){return pe.getFullYear()});Z.every=function(pe){return!isFinite(pe=Math.floor(pe))||!(pe>0)?null:a(function(Ie){Ie.setFullYear(Math.floor(Ie.getFullYear()/pe)*pe),Ie.setMonth(0,1),Ie.setHours(0,0,0,0)},function(Ie,ze){Ie.setFullYear(Ie.getFullYear()+ze*pe)})};var Q=Z.range,ie=a(function(pe){pe.setUTCSeconds(0,0)},function(pe,Ie){pe.setTime(+pe+Ie*l)},function(pe,Ie){return(Ie-pe)/l},function(pe){return pe.getUTCMinutes()}),be=ie.range,ne=a(function(pe){pe.setUTCMinutes(0,0,0)},function(pe,Ie){pe.setTime(+pe+Ie*s)},function(pe,Ie){return(Ie-pe)/s},function(pe){return pe.getUTCHours()}),de=ne.range,K=a(function(pe){pe.setUTCHours(0,0,0,0)},function(pe,Ie){pe.setUTCDate(pe.getUTCDate()+Ie)},function(pe,Ie){return(Ie-pe)/u},function(pe){return pe.getUTCDate()-1}),me=K.range;function fe(pe){return a(function(Ie){Ie.setUTCDate(Ie.getUTCDate()-(Ie.getUTCDay()+7-pe)%7),Ie.setUTCHours(0,0,0,0)},function(Ie,ze){Ie.setUTCDate(Ie.getUTCDate()+ze*7)},function(Ie,ze){return(ze-Ie)/f})}var ke=fe(0),ve=fe(1),Ae=fe(2),Y=fe(3),ae=fe(4),X=fe(5),Se=fe(6),qe=ke.range,De=ve.range,tr=Ae.range,$e=Y.range,Ze=ae.range,lr=X.range,pr=Se.range,ir=a(function(pe){pe.setUTCDate(1),pe.setUTCHours(0,0,0,0)},function(pe,Ie){pe.setUTCMonth(pe.getUTCMonth()+Ie)},function(pe,Ie){return Ie.getUTCMonth()-pe.getUTCMonth()+(Ie.getUTCFullYear()-pe.getUTCFullYear())*12},function(pe){return pe.getUTCMonth()}),Xe=ir.range,Cr=a(function(pe){pe.setUTCMonth(0,1),pe.setUTCHours(0,0,0,0)},function(pe,Ie){pe.setUTCFullYear(pe.getUTCFullYear()+Ie)},function(pe,Ie){return Ie.getUTCFullYear()-pe.getUTCFullYear()},function(pe){return pe.getUTCFullYear()});Cr.every=function(pe){return!isFinite(pe=Math.floor(pe))||!(pe>0)?null:a(function(Ie){Ie.setUTCFullYear(Math.floor(Ie.getUTCFullYear()/pe)*pe),Ie.setUTCMonth(0,1),Ie.setUTCHours(0,0,0,0)},function(Ie,ze){Ie.setUTCFullYear(Ie.getUTCFullYear()+ze*pe)})};var br=Cr.range;e.timeDay=b,e.timeDays=_,e.timeFriday=q,e.timeFridays=W,e.timeHour=g,e.timeHours=y,e.timeInterval=a,e.timeMillisecond=n,e.timeMilliseconds=i,e.timeMinute=d,e.timeMinutes=p,e.timeMonday=T,e.timeMondays=I,e.timeMonth=O,e.timeMonths=G,e.timeSaturday=F,e.timeSaturdays=z,e.timeSecond=c,e.timeSeconds=h,e.timeSunday=x,e.timeSundays=P,e.timeThursday=C,e.timeThursdays=j,e.timeTuesday=S,e.timeTuesdays=H,e.timeWednesday=M,e.timeWednesdays=V,e.timeWeek=x,e.timeWeeks=P,e.timeYear=Z,e.timeYears=Q,e.utcDay=K,e.utcDays=me,e.utcFriday=X,e.utcFridays=lr,e.utcHour=ne,e.utcHours=de,e.utcMillisecond=n,e.utcMilliseconds=i,e.utcMinute=ie,e.utcMinutes=be,e.utcMonday=ve,e.utcMondays=De,e.utcMonth=ir,e.utcMonths=Xe,e.utcSaturday=Se,e.utcSaturdays=pr,e.utcSecond=c,e.utcSeconds=h,e.utcSunday=ke,e.utcSundays=qe,e.utcThursday=ae,e.utcThursdays=Ze,e.utcTuesday=Ae,e.utcTuesdays=tr,e.utcWednesday=Y,e.utcWednesdays=$e,e.utcWeek=ke,e.utcWeeks=qe,e.utcYear=Cr,e.utcYears=br,Object.defineProperty(e,"__esModule",{value:!0})})});var Zv=R((Fm,V9)=>{(function(e,r){typeof Fm=="object"&&typeof V9!="undefined"?r(Fm,t_()):typeof define=="function"&&define.amd?define(["exports","d3-time"],r):(e=e||self,r(e.d3=e.d3||{},e.d3))})(Fm,function(e,r){"use strict";function t(se){if(0<=se.y&&se.y<100){var we=new Date(-1,se.m,se.d,se.H,se.M,se.S,se.L);return we.setFullYear(se.y),we}return new Date(se.y,se.m,se.d,se.H,se.M,se.S,se.L)}function a(se){if(0<=se.y&&se.y<100){var we=new Date(Date.UTC(-1,se.m,se.d,se.H,se.M,se.S,se.L));return we.setUTCFullYear(se.y),we}return new Date(Date.UTC(se.y,se.m,se.d,se.H,se.M,se.S,se.L))}function n(se,we,Ge){return{y:se,m:we,d:Ge,H:0,M:0,S:0,L:0}}function i(se){var we=se.dateTime,Ge=se.date,Oe=se.time,Wr=se.periods,tt=se.days,$r=se.shortDays,kt=se.months,ra=se.shortMonths,pa=h(Wr),na=d(Wr),Ka=h(tt),En=d(tt),oi=h($r),Ln=d($r),Wi=h(kt),zn=d(kt),qn=h(ra),yi=d(ra),wt={a:ws,A:As,b:Hl,B:gv,c:null,d:O,e:O,f:be,H:G,I:Z,j:Q,L:ie,m:ne,M:de,p:Ts,q:Rf,Q:He,s:dr,S:K,u:me,U:fe,V:ke,w:ve,W:Ae,x:null,X:null,y:Y,Y:ae,Z:X,"%":Ve},Ta={a:Pf,A:ul,b:li,B:fl,c:null,d:Se,e:Se,f:Ze,H:qe,I:De,j:tr,L:$e,m:lr,M:pr,p:Ms,q:_o,Q:He,s:dr,S:ir,u:Xe,U:Cr,V:br,w:pe,W:Ie,x:null,X:null,y:ze,Y:et,Z:zr,"%":Ve},ta={a:Qa,A:nn,b:ji,B:Xi,c:bn,d:C,e:C,f:V,H:F,I:F,j:q,L:H,m:M,M:P,p:Ea,q:S,Q:W,s:z,S:I,u:g,U:y,V:b,w:p,W:_,x:wa,X:Bn,y:x,Y:w,Z:T,"%":j};wt.x=Ra(Ge,wt),wt.X=Ra(Oe,wt),wt.c=Ra(we,wt),Ta.x=Ra(Ge,Ta),Ta.X=Ra(Oe,Ta),Ta.c=Ra(we,Ta);function Ra(mt,Xt){return function(ca){var jr=[],Un=-1,Ca=0,Dn=mt.length,Yt,wo,Gl;for(ca instanceof Date||(ca=new Date(+ca));++Un<Dn;)mt.charCodeAt(Un)===37&&(jr.push(mt.slice(Ca,Un)),(wo=o[Yt=mt.charAt(++Un)])!=null?Yt=mt.charAt(++Un):wo=Yt==="e"?" ":"0",(Gl=Xt[Yt])&&(Yt=Gl(ca,wo)),jr.push(Yt),Ca=Un+1);return jr.push(mt.slice(Ca,Un)),jr.join("")}}function ja(mt,Xt){return function(ca){var jr=n(1900,void 0,1),Un=Ma(jr,mt,ca+="",0),Ca,Dn;if(Un!=ca.length)return null;if("Q"in jr)return new Date(jr.Q);if("s"in jr)return new Date(jr.s*1e3+("L"in jr?jr.L:0));if(Xt&&!("Z"in jr)&&(jr.Z=0),"p"in jr&&(jr.H=jr.H%12+jr.p*12),jr.m===void 0&&(jr.m="q"in jr?jr.q:0),"V"in jr){if(jr.V<1||jr.V>53)return null;"w"in jr||(jr.w=1),"Z"in jr?(Ca=a(n(jr.y,0,1)),Dn=Ca.getUTCDay(),Ca=Dn>4||Dn===0?r.utcMonday.ceil(Ca):r.utcMonday(Ca),Ca=r.utcDay.offset(Ca,(jr.V-1)*7),jr.y=Ca.getUTCFullYear(),jr.m=Ca.getUTCMonth(),jr.d=Ca.getUTCDate()+(jr.w+6)%7):(Ca=t(n(jr.y,0,1)),Dn=Ca.getDay(),Ca=Dn>4||Dn===0?r.timeMonday.ceil(Ca):r.timeMonday(Ca),Ca=r.timeDay.offset(Ca,(jr.V-1)*7),jr.y=Ca.getFullYear(),jr.m=Ca.getMonth(),jr.d=Ca.getDate()+(jr.w+6)%7)}else("W"in jr||"U"in jr)&&("w"in jr||(jr.w="u"in jr?jr.u%7:"W"in jr?1:0),Dn="Z"in jr?a(n(jr.y,0,1)).getUTCDay():t(n(jr.y,0,1)).getDay(),jr.m=0,jr.d="W"in jr?(jr.w+6)%7+jr.W*7-(Dn+5)%7:jr.w+jr.U*7-(Dn+6)%7);return"Z"in jr?(jr.H+=jr.Z/100|0,jr.M+=jr.Z%100,a(jr)):t(jr)}}function Ma(mt,Xt,ca,jr){for(var Un=0,Ca=Xt.length,Dn=ca.length,Yt,wo;Un<Ca;){if(jr>=Dn)return-1;if(Yt=Xt.charCodeAt(Un++),Yt===37){if(Yt=Xt.charAt(Un++),wo=ta[Yt in o?Xt.charAt(Un++):Yt],!wo||(jr=wo(mt,ca,jr))<0)return-1}else if(Yt!=ca.charCodeAt(jr++))return-1}return jr}function Ea(mt,Xt,ca){var jr=pa.exec(Xt.slice(ca));return jr?(mt.p=na[jr[0].toLowerCase()],ca+jr[0].length):-1}function Qa(mt,Xt,ca){var jr=oi.exec(Xt.slice(ca));return jr?(mt.w=Ln[jr[0].toLowerCase()],ca+jr[0].length):-1}function nn(mt,Xt,ca){var jr=Ka.exec(Xt.slice(ca));return jr?(mt.w=En[jr[0].toLowerCase()],ca+jr[0].length):-1}function ji(mt,Xt,ca){var jr=qn.exec(Xt.slice(ca));return jr?(mt.m=yi[jr[0].toLowerCase()],ca+jr[0].length):-1}function Xi(mt,Xt,ca){var jr=Wi.exec(Xt.slice(ca));return jr?(mt.m=zn[jr[0].toLowerCase()],ca+jr[0].length):-1}function bn(mt,Xt,ca){return Ma(mt,we,Xt,ca)}function wa(mt,Xt,ca){return Ma(mt,Ge,Xt,ca)}function Bn(mt,Xt,ca){return Ma(mt,Oe,Xt,ca)}function ws(mt){return $r[mt.getDay()]}function As(mt){return tt[mt.getDay()]}function Hl(mt){return ra[mt.getMonth()]}function gv(mt){return kt[mt.getMonth()]}function Ts(mt){return Wr[+(mt.getHours()>=12)]}function Rf(mt){return 1+~~(mt.getMonth()/3)}function Pf(mt){return $r[mt.getUTCDay()]}function ul(mt){return tt[mt.getUTCDay()]}function li(mt){return ra[mt.getUTCMonth()]}function fl(mt){return kt[mt.getUTCMonth()]}function Ms(mt){return Wr[+(mt.getUTCHours()>=12)]}function _o(mt){return 1+~~(mt.getUTCMonth()/3)}return{format:function(mt){var Xt=Ra(mt+="",wt);return Xt.toString=function(){return mt},Xt},parse:function(mt){var Xt=ja(mt+="",!1);return Xt.toString=function(){return mt},Xt},utcFormat:function(mt){var Xt=Ra(mt+="",Ta);return Xt.toString=function(){return mt},Xt},utcParse:function(mt){var Xt=ja(mt+="",!0);return Xt.toString=function(){return mt},Xt}}}var o={"-":"",_:" ",0:"0"},l=/^\s*\d+/,s=/^%/,u=/[\\^$*+?|[\]().{}]/g;function f(se,we,Ge){var Oe=se<0?"-":"",Wr=(Oe?-se:se)+"",tt=Wr.length;return Oe+(tt<Ge?new Array(Ge-tt+1).join(we)+Wr:Wr)}function c(se){return se.replace(u,"\\$&")}function h(se){return new RegExp("^(?:"+se.map(c).join("|")+")","i")}function d(se){for(var we={},Ge=-1,Oe=se.length;++Ge<Oe;)we[se[Ge].toLowerCase()]=Ge;return we}function p(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+1));return Oe?(se.w=+Oe[0],Ge+Oe[0].length):-1}function g(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+1));return Oe?(se.u=+Oe[0],Ge+Oe[0].length):-1}function y(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+2));return Oe?(se.U=+Oe[0],Ge+Oe[0].length):-1}function b(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+2));return Oe?(se.V=+Oe[0],Ge+Oe[0].length):-1}function _(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+2));return Oe?(se.W=+Oe[0],Ge+Oe[0].length):-1}function w(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+4));return Oe?(se.y=+Oe[0],Ge+Oe[0].length):-1}function x(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+2));return Oe?(se.y=+Oe[0]+(+Oe[0]>68?1900:2e3),Ge+Oe[0].length):-1}function T(se,we,Ge){var Oe=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(we.slice(Ge,Ge+6));return Oe?(se.Z=Oe[1]?0:-(Oe[2]+(Oe[3]||"00")),Ge+Oe[0].length):-1}function S(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+1));return Oe?(se.q=Oe[0]*3-3,Ge+Oe[0].length):-1}function M(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+2));return Oe?(se.m=Oe[0]-1,Ge+Oe[0].length):-1}function C(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+2));return Oe?(se.d=+Oe[0],Ge+Oe[0].length):-1}function q(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+3));return Oe?(se.m=0,se.d=+Oe[0],Ge+Oe[0].length):-1}function F(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+2));return Oe?(se.H=+Oe[0],Ge+Oe[0].length):-1}function P(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+2));return Oe?(se.M=+Oe[0],Ge+Oe[0].length):-1}function I(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+2));return Oe?(se.S=+Oe[0],Ge+Oe[0].length):-1}function H(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+3));return Oe?(se.L=+Oe[0],Ge+Oe[0].length):-1}function V(se,we,Ge){var Oe=l.exec(we.slice(Ge,Ge+6));return Oe?(se.L=Math.floor(Oe[0]/1e3),Ge+Oe[0].length):-1}function j(se,we,Ge){var Oe=s.exec(we.slice(Ge,Ge+1));return Oe?Ge+Oe[0].length:-1}function W(se,we,Ge){var Oe=l.exec(we.slice(Ge));return Oe?(se.Q=+Oe[0],Ge+Oe[0].length):-1}function z(se,we,Ge){var Oe=l.exec(we.slice(Ge));return Oe?(se.s=+Oe[0],Ge+Oe[0].length):-1}function O(se,we){return f(se.getDate(),we,2)}function G(se,we){return f(se.getHours(),we,2)}function Z(se,we){return f(se.getHours()%12||12,we,2)}function Q(se,we){return f(1+r.timeDay.count(r.timeYear(se),se),we,3)}function ie(se,we){return f(se.getMilliseconds(),we,3)}function be(se,we){return ie(se,we)+"000"}function ne(se,we){return f(se.getMonth()+1,we,2)}function de(se,we){return f(se.getMinutes(),we,2)}function K(se,we){return f(se.getSeconds(),we,2)}function me(se){var we=se.getDay();return we===0?7:we}function fe(se,we){return f(r.timeSunday.count(r.timeYear(se)-1,se),we,2)}function ke(se,we){var Ge=se.getDay();return se=Ge>=4||Ge===0?r.timeThursday(se):r.timeThursday.ceil(se),f(r.timeThursday.count(r.timeYear(se),se)+(r.timeYear(se).getDay()===4),we,2)}function ve(se){return se.getDay()}function Ae(se,we){return f(r.timeMonday.count(r.timeYear(se)-1,se),we,2)}function Y(se,we){return f(se.getFullYear()%100,we,2)}function ae(se,we){return f(se.getFullYear()%1e4,we,4)}function X(se){var we=se.getTimezoneOffset();return(we>0?"-":(we*=-1,"+"))+f(we/60|0,"0",2)+f(we%60,"0",2)}function Se(se,we){return f(se.getUTCDate(),we,2)}function qe(se,we){return f(se.getUTCHours(),we,2)}function De(se,we){return f(se.getUTCHours()%12||12,we,2)}function tr(se,we){return f(1+r.utcDay.count(r.utcYear(se),se),we,3)}function $e(se,we){return f(se.getUTCMilliseconds(),we,3)}function Ze(se,we){return $e(se,we)+"000"}function lr(se,we){return f(se.getUTCMonth()+1,we,2)}function pr(se,we){return f(se.getUTCMinutes(),we,2)}function ir(se,we){return f(se.getUTCSeconds(),we,2)}function Xe(se){var we=se.getUTCDay();return we===0?7:we}function Cr(se,we){return f(r.utcSunday.count(r.utcYear(se)-1,se),we,2)}function br(se,we){var Ge=se.getUTCDay();return se=Ge>=4||Ge===0?r.utcThursday(se):r.utcThursday.ceil(se),f(r.utcThursday.count(r.utcYear(se),se)+(r.utcYear(se).getUTCDay()===4),we,2)}function pe(se){return se.getUTCDay()}function Ie(se,we){return f(r.utcMonday.count(r.utcYear(se)-1,se),we,2)}function ze(se,we){return f(se.getUTCFullYear()%100,we,2)}function et(se,we){return f(se.getUTCFullYear()%1e4,we,4)}function zr(){return"+0000"}function Ve(){return"%"}function He(se){return+se}function dr(se){return Math.floor(+se/1e3)}var Tr;mr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mr(se){return Tr=i(se),e.timeFormat=Tr.format,e.timeParse=Tr.parse,e.utcFormat=Tr.utcFormat,e.utcParse=Tr.utcParse,Tr}var vr="%Y-%m-%dT%H:%M:%S.%LZ";function Er(se){return se.toISOString()}var Ir=Date.prototype.toISOString?Er:e.utcFormat(vr);function Hr(se){var we=new Date(se);return isNaN(we)?null:we}var Je=+new Date("2000-01-01T00:00:00.000Z")?Hr:e.utcParse(vr);e.isoFormat=Ir,e.isoParse=Je,e.timeFormatDefaultLocale=mr,e.timeFormatLocale=i,Object.defineProperty(e,"__esModule",{value:!0})})});var a_=R((Rm,Y9)=>{(function(e,r){typeof Rm=="object"&&typeof Y9!="undefined"?r(Rm):typeof define=="function"&&define.amd?define(["exports"],r):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e.d3=e.d3||{}))})(Rm,function(e){"use strict";function r(M){return Math.abs(M=Math.round(M))>=1e21?M.toLocaleString("en").replace(/,/g,""):M.toString(10)}function t(M,C){if((q=(M=C?M.toExponential(C-1):M.toExponential()).indexOf("e"))<0)return null;var q,F=M.slice(0,q);return[F.length>1?F[0]+F.slice(2):F,+M.slice(q+1)]}function a(M){return M=t(Math.abs(M)),M?M[1]:NaN}function n(M,C){return function(q,F){for(var P=q.length,I=[],H=0,V=M[0],j=0;P>0&&V>0&&(j+V+1>F&&(V=Math.max(1,F-j)),I.push(q.substring(P-=V,P+V)),!((j+=V+1)>F));)V=M[H=(H+1)%M.length];return I.reverse().join(C)}}function i(M){return function(C){return C.replace(/[0-9]/g,function(q){return M[+q]})}}var o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(M){if(!(C=o.exec(M)))throw new Error("invalid format: "+M);var C;return new s({fill:C[1],align:C[2],sign:C[3],symbol:C[4],zero:C[5],width:C[6],comma:C[7],precision:C[8]&&C[8].slice(1),trim:C[9],type:C[10]})}l.prototype=s.prototype;function s(M){this.fill=M.fill===void 0?" ":M.fill+"",this.align=M.align===void 0?">":M.align+"",this.sign=M.sign===void 0?"-":M.sign+"",this.symbol=M.symbol===void 0?"":M.symbol+"",this.zero=!!M.zero,this.width=M.width===void 0?void 0:+M.width,this.comma=!!M.comma,this.precision=M.precision===void 0?void 0:+M.precision,this.trim=!!M.trim,this.type=M.type===void 0?"":M.type+""}s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function u(M){e:for(var C=M.length,q=1,F=-1,P;q<C;++q)switch(M[q]){case".":F=P=q;break;case"0":F===0&&(F=q),P=q;break;default:if(!+M[q])break e;F>0&&(F=0);break}return F>0?M.slice(0,F)+M.slice(P+1):M}var f;function c(M,C){var q=t(M,C);if(!q)return M+"";var F=q[0],P=q[1],I=P-(f=Math.max(-8,Math.min(8,Math.floor(P/3)))*3)+1,H=F.length;return I===H?F:I>H?F+new Array(I-H+1).join("0"):I>0?F.slice(0,I)+"."+F.slice(I):"0."+new Array(1-I).join("0")+t(M,Math.max(0,C+I-1))[0]}function h(M,C){var q=t(M,C);if(!q)return M+"";var F=q[0],P=q[1];return P<0?"0."+new Array(-P).join("0")+F:F.length>P+1?F.slice(0,P+1)+"."+F.slice(P+1):F+new Array(P-F.length+2).join("0")}var d={"%":function(M,C){return(M*100).toFixed(C)},b:function(M){return Math.round(M).toString(2)},c:function(M){return M+""},d:r,e:function(M,C){return M.toExponential(C)},f:function(M,C){return M.toFixed(C)},g:function(M,C){return M.toPrecision(C)},o:function(M){return Math.round(M).toString(8)},p:function(M,C){return h(M*100,C)},r:h,s:c,X:function(M){return Math.round(M).toString(16).toUpperCase()},x:function(M){return Math.round(M).toString(16)}};function p(M){return M}var g=Array.prototype.map,y=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function b(M){var C=M.grouping===void 0||M.thousands===void 0?p:n(g.call(M.grouping,Number),M.thousands+""),q=M.currency===void 0?"":M.currency[0]+"",F=M.currency===void 0?"":M.currency[1]+"",P=M.decimal===void 0?".":M.decimal+"",I=M.numerals===void 0?p:i(g.call(M.numerals,String)),H=M.percent===void 0?"%":M.percent+"",V=M.minus===void 0?"-":M.minus+"",j=M.nan===void 0?"NaN":M.nan+"";function W(O){O=l(O);var G=O.fill,Z=O.align,Q=O.sign,ie=O.symbol,be=O.zero,ne=O.width,de=O.comma,K=O.precision,me=O.trim,fe=O.type;fe==="n"?(de=!0,fe="g"):d[fe]||(K===void 0&&(K=12),me=!0,fe="g"),(be||G==="0"&&Z==="=")&&(be=!0,G="0",Z="=");var ke=ie==="$"?q:ie==="#"&&/[boxX]/.test(fe)?"0"+fe.toLowerCase():"",ve=ie==="$"?F:/[%p]/.test(fe)?H:"",Ae=d[fe],Y=/[defgprs%]/.test(fe);K=K===void 0?6:/[gprs]/.test(fe)?Math.max(1,Math.min(21,K)):Math.max(0,Math.min(20,K));function ae(X){var Se=ke,qe=ve,De,tr,$e;if(fe==="c")qe=Ae(X)+qe,X="";else{X=+X;var Ze=X<0||1/X<0;if(X=isNaN(X)?j:Ae(Math.abs(X),K),me&&(X=u(X)),Ze&&+X==0&&Q!=="+"&&(Ze=!1),Se=(Ze?Q==="("?Q:V:Q==="-"||Q==="("?"":Q)+Se,qe=(fe==="s"?y[8+f/3]:"")+qe+(Ze&&Q==="("?")":""),Y){for(De=-1,tr=X.length;++De<tr;)if($e=X.charCodeAt(De),48>$e||$e>57){qe=($e===46?P+X.slice(De+1):X.slice(De))+qe,X=X.slice(0,De);break}}}de&&!be&&(X=C(X,1/0));var lr=Se.length+X.length+qe.length,pr=lr<ne?new Array(ne-lr+1).join(G):"";switch(de&&be&&(X=C(pr+X,pr.length?ne-qe.length:1/0),pr=""),Z){case"<":X=Se+X+qe+pr;break;case"=":X=Se+pr+X+qe;break;case"^":X=pr.slice(0,lr=pr.length>>1)+Se+X+qe+pr.slice(lr);break;default:X=pr+Se+X+qe;break}return I(X)}return ae.toString=function(){return O+""},ae}function z(O,G){var Z=W((O=l(O),O.type="f",O)),Q=Math.max(-8,Math.min(8,Math.floor(a(G)/3)))*3,ie=Math.pow(10,-Q),be=y[8+Q/3];return function(ne){return Z(ie*ne)+be}}return{format:W,formatPrefix:z}}var _;w({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function w(M){return _=b(M),e.format=_.format,e.formatPrefix=_.formatPrefix,_}function x(M){return Math.max(0,-a(Math.abs(M)))}function T(M,C){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(a(C)/3)))*3-a(Math.abs(M)))}function S(M,C){return M=Math.abs(M),C=Math.abs(C)-M,Math.max(0,a(C)-a(M))+1}e.FormatSpecifier=s,e.formatDefaultLocale=w,e.formatLocale=b,e.formatSpecifier=l,e.precisionFixed=x,e.precisionPrefix=T,e.precisionRound=S,Object.defineProperty(e,"__esModule",{value:!0})})});var j9=R((D9e,W9)=>{"use strict";W9.exports=function(e){for(var r=e.length,t,a=0;a<r;a++)if(t=e.charCodeAt(a),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}});var Zt=R((F9e,X9)=>{"use strict";var hae=j9();X9.exports=function(e){var r=typeof e;if(r==="string"){var t=e;if(e=+e,e===0&&hae(t))return!1}else if(r!=="number")return!1;return e-e<1}});var vn=R((R9e,Z9)=>{"use strict";Z9.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}});var n_=R((Pm,J9)=>{(function(e,r){typeof Pm=="object"&&typeof J9!="undefined"?r(Pm):typeof define=="function"&&define.amd?define(["exports"],r):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e["base64-arraybuffer"]={}))})(Pm,function(e){"use strict";for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),a=0;a<r.length;a++)t[r.charCodeAt(a)]=a;var n=function(o){var l=new Uint8Array(o),s,u=l.length,f="";for(s=0;s<u;s+=3)f+=r[l[s]>>2],f+=r[(l[s]&3)<<4|l[s+1]>>4],f+=r[(l[s+1]&15)<<2|l[s+2]>>6],f+=r[l[s+2]&63];return u%3===2?f=f.substring(0,f.length-1)+"=":u%3===1&&(f=f.substring(0,f.length-2)+"=="),f},i=function(o){var l=o.length*.75,s=o.length,u,f=0,c,h,d,p;o[o.length-1]==="="&&(l--,o[o.length-2]==="="&&l--);var g=new ArrayBuffer(l),y=new Uint8Array(g);for(u=0;u<s;u+=4)c=t[o.charCodeAt(u)],h=t[o.charCodeAt(u+1)],d=t[o.charCodeAt(u+2)],p=t[o.charCodeAt(u+3)],y[f++]=c<<2|h>>4,y[f++]=(h&15)<<4|d>>2,y[f++]=(d&3)<<6|p&63;return g};e.decode=i,e.encode=n,Object.defineProperty(e,"__esModule",{value:!0})})});var Pu=R((P9e,$9)=>{"use strict";$9.exports=function(r){return window&&window.process&&window.process.versions?Object.prototype.toString.call(r)==="[object Object]":Object.prototype.toString.call(r)==="[object Object]"&&Object.getPrototypeOf(r).hasOwnProperty("hasOwnProperty")}});var ao=R(dl=>{"use strict";var dae=n_().decode,pae=Pu(),i_=Array.isArray,yae=ArrayBuffer,mae=DataView;function K9(e){return yae.isView(e)&&!(e instanceof mae)}dl.isTypedArray=K9;function Nm(e){return i_(e)||K9(e)}dl.isArrayOrTypedArray=Nm;function gae(e){return!Nm(e[0])}dl.isArray1D=gae;dl.ensureArray=function(e,r){return i_(e)||(e=[]),e.length=r,e};var ri={u1c:typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,i1:typeof Int8Array=="undefined"?void 0:Int8Array,u1:typeof Uint8Array=="undefined"?void 0:Uint8Array,i2:typeof Int16Array=="undefined"?void 0:Int16Array,u2:typeof Uint16Array=="undefined"?void 0:Uint16Array,i4:typeof Int32Array=="undefined"?void 0:Int32Array,u4:typeof Uint32Array=="undefined"?void 0:Uint32Array,f4:typeof Float32Array=="undefined"?void 0:Float32Array,f8:typeof Float64Array=="undefined"?void 0:Float64Array};ri.uint8c=ri.u1c;ri.uint8=ri.u1;ri.int8=ri.i1;ri.uint16=ri.u2;ri.int16=ri.i2;ri.uint32=ri.u4;ri.int32=ri.i4;ri.float32=ri.f4;ri.float64=ri.f8;function o_(e){return e.constructor===ArrayBuffer}dl.isArrayBuffer=o_;dl.decodeTypedArraySpec=function(e){var r=[],t=bae(e),a=t.dtype,n=ri[a];if(!n)throw new Error('Error in dtype: "'+a+'"');var i=n.BYTES_PER_ELEMENT,o=t.bdata;o_(o)||(o=dae(o));var l=t.shape===void 0?[o.byteLength/i]:(""+t.shape).split(",");l.reverse();var s=l.length,u,f,c=+l[0],h=i*c,d=0;if(s===1)r=new n(o);else if(s===2)for(u=+l[1],f=0;f<u;f++)r[f]=new n(o,d,c),d+=h;else if(s===3){u=+l[1];for(var p=+l[2],g=0;g<p;g++)for(r[g]=[],f=0;f<u;f++)r[g][f]=new n(o,d,c),d+=h}else throw new Error("ndim: "+s+'is not supported with the shape:"'+t.shape+'"');return r.bdata=t.bdata,r.dtype=t.dtype,r.shape=l.reverse().join(","),e._inputArray=r,r};dl.isTypedArraySpec=function(e){return pae(e)&&e.hasOwnProperty("dtype")&&typeof e.dtype=="string"&&e.hasOwnProperty("bdata")&&(typeof e.bdata=="string"||o_(e.bdata))&&(e.shape===void 0||e.hasOwnProperty("shape")&&(typeof e.shape=="string"||typeof e.shape=="number"))};function bae(e){return{bdata:e.bdata,dtype:e.dtype,shape:e.shape}}dl.concat=function(){var e=[],r=!0,t=0,a,n,i,o,l,s,u,f;for(i=0;i<arguments.length;i++)o=arguments[i],s=o.length,s&&(n?e.push(o):(n=o,l=s),i_(o)?a=!1:(r=!1,t?a!==o.constructor&&(a=!1):a=o.constructor),t+=s);if(!t)return[];if(!e.length)return n;if(r)return n.concat.apply(n,e);if(a){for(u=new a(t),u.set(n),i=0;i<e.length;i++)o=e[i],u.set(o,l),l+=o.length;return u}for(u=new Array(t),f=0;f<n.length;f++)u[f]=n[f];for(i=0;i<e.length;i++){for(o=e[i],f=0;f<o.length;f++)u[l+f]=o[f];l+=f}return u};dl.maxRowLength=function(e){return Q9(e,Math.max,0)};dl.minRowLength=function(e){return Q9(e,Math.min,1/0)};function Q9(e,r,t){if(Nm(e))if(Nm(e[0])){for(var a=t,n=0;n<e.length;n++)a=r(a,e[n].length);return a}else return e.length;return 0}});var Im=R((I9e,nM)=>{"use strict";var eM=Zt(),s_=ao().isArrayOrTypedArray;nM.exports=function(r,t){if(eM(t))t=String(t);else if(typeof t!="string"||t.substr(t.length-4)==="[-1]")throw"bad property string";var a=t.split("."),n,i,o,l;for(l=0;l<a.length;l++)if(String(a[l]).slice(0,2)==="__")throw"bad property string";for(l=0;l<a.length;){if(n=String(a[l]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),n){if(n[1])a[l]=n[1];else if(l===0)a.splice(0,1);else throw"bad property string";for(i=n[2].substr(1,n[2].length-2).split("]["),o=0;o<i.length;o++)l++,a.splice(l,0,Number(i[o]))}l++}return typeof r!="object"?Aae(r,t,a):{set:tM(r,a,t),get:rM(r,a),astr:t,parts:a,obj:r}};function rM(e,r){return function(){var t=e,a,n,i,o,l;for(o=0;o<r.length-1;o++){if(a=r[o],a===-1){for(n=!0,i=[],l=0;l<t.length;l++)i[l]=rM(t[l],r.slice(o+1))(),i[l]!==i[0]&&(n=!1);return n?i[0]:i}if(typeof a=="number"&&!s_(t)||(t=t[a],typeof t!="object"||t===null))return}if(!(typeof t!="object"||t===null)&&(i=t[r[o]],i!==null))return i}}var xae=/(^|\.)args\[/;function l_(e,r){return e===void 0||e===null&&!r.match(xae)}function tM(e,r,t){return function(a){var n=e,i="",o=[[e,i]],l=l_(a,t),s,u;for(u=0;u<r.length-1;u++){if(s=r[u],typeof s=="number"&&!s_(n))throw"array index but container is not an array";if(s===-1){if(l=!wae(n,r.slice(u+1),a,t),l)break;return}if(!aM(n,s,r[u+1],l))break;if(n=n[s],typeof n!="object"||n===null)throw"container is not an object";i=_ae(i,s),o.push([n,i])}if(l){if(u===r.length-1&&(delete n[r[u]],Array.isArray(n)&&+r[u]===n.length-1))for(;n.length&&n[n.length-1]===void 0;)n.pop()}else n[r[u]]=a}}function _ae(e,r){var t=r;return eM(r)?t="["+r+"]":e&&(t="."+r),e+t}function wae(e,r,t,a){var n=s_(t),i=!0,o=t,l=a.replace("-1",0),s=n?!1:l_(t,l),u=r[0],f;for(f=0;f<e.length;f++)l=a.replace("-1",f),n&&(o=t[f%t.length],s=l_(o,l)),s&&(i=!1),aM(e,f,u,s)&&tM(e[f],r,a.replace("-1",f))(o);return i}function aM(e,r,t,a){if(e[r]===void 0){if(a)return!1;typeof t=="number"?e[r]=[]:e[r]={}}return!0}function Aae(e,r,t){return{set:function(){throw"bad container"},get:function(){},astr:r,parts:t,obj:e}}});var sM=R((O9e,lM)=>{"use strict";var Jv=Im(),Tae=/^\w*$/,Mae=0,iM=1,Om=2,oM=3,ac=4;lM.exports=function(r,t,a,n){a=a||"name",n=n||"value";var i,o,l,s={};t&&t.length?(l=Jv(r,t),o=l.get()):o=r,t=t||"";var u={};if(o)for(i=0;i<o.length;i++)u[o[i][a]]=i;var f=Tae.test(n),c={set:function(h,d){var p=d===null?ac:Mae;if(!o){if(!l||p===ac)return;o=[],l.set(o)}var g=u[h];if(g===void 0){if(p===ac)return;p=p|oM,g=o.length,u[h]=g}else d!==(f?o[g][n]:Jv(o[g],n).get())&&(p=p|Om);var y=o[g]=o[g]||{};return y[a]=h,f?y[n]=d:Jv(y,n).set(d),d!==null&&(p=p&~ac),s[g]=s[g]|p,c},get:function(h){if(o){var d=u[h];if(d!==void 0)return f?o[d][n]:Jv(o[d],n).get()}},rename:function(h,d){var p=u[h];return p===void 0||(s[p]=s[p]|iM,u[d]=p,delete u[h],o[p][a]=d),c},remove:function(h){var d=u[h];if(d===void 0)return c;var p=o[d];if(Object.keys(p).length>2)return s[d]=s[d]|Om,c.set(h,null);if(f){for(i=d;i<o.length;i++)s[i]=s[i]|oM;for(i=d;i<o.length;i++)u[o[i][a]]--;o.splice(d,1),delete u[h]}else Jv(p,n).set(null),s[d]=s[d]|Om|ac;return c},constructUpdate:function(){for(var h,d,p={},g=Object.keys(s),y=0;y<g.length;y++)d=g[y],h=t+"["+d+"]",o[d]?(s[d]&iM&&(p[h+"."+a]=o[d][a]),s[d]&Om&&(f?p[h+"."+n]=s[d]&ac?null:o[d][n]:p[h+"."+n]=s[d]&ac?null:Jv(o[d],n).get())):p[h]=null;return p}};return c}});var fM=R((z9e,uM)=>{"use strict";var Sae=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,kae=/^[^\.\[\]]+$/;uM.exports=function(e,r){for(;r;){var t=e.match(Sae);if(t)e=t[1];else if(e.match(kae))e="";else throw new Error("bad relativeAttr call:"+[e,r]);if(r.charAt(0)==="^")r=r.slice(1);else break}return e&&r.charAt(0)!=="["?e+"."+r:e+r}});var zm=R((B9e,cM)=>{"use strict";var Cae=Zt();cM.exports=function(r,t){if(r>0)return Math.log(r)/Math.LN10;var a=Math.log(Math.min(t[0],t[1]))/Math.LN10;return Cae(a)||(a=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),a}});var dM=R((U9e,hM)=>{"use strict";var vM=ao().isArrayOrTypedArray,Zd=Pu();hM.exports=function e(r,t){for(var a in t){var n=t[a],i=r[a];if(i!==n)if(a.charAt(0)==="_"||typeof n=="function"){if(a in r)continue;r[a]=n}else if(vM(n)&&vM(i)&&Zd(n[0])){if(a==="customdata"||a==="ids")continue;for(var o=Math.min(n.length,i.length),l=0;l<o;l++)i[l]!==n[l]&&Zd(n[l])&&Zd(i[l])&&e(i[l],n[l])}else Zd(n)&&Zd(i)&&(e(i,n),Object.keys(i).length||delete r[a])}}});var $v=R((H9e,pM)=>{"use strict";function Eae(e,r){var t=e%r;return t<0?t+r:t}function Lae(e,r){return Math.abs(e)>r/2?e-Math.round(e/r)*r:e}pM.exports={mod:Eae,modHalf:Lae}});var zo=R((G9e,Bm)=>{(function(e){var r=/^\s+/,t=/\s+$/,a=0,n=e.round,i=e.min,o=e.max,l=e.random;function s(Y,ae){if(Y=Y||"",ae=ae||{},Y instanceof s)return Y;if(!(this instanceof s))return new s(Y,ae);var X=u(Y);this._originalInput=Y,this._r=X.r,this._g=X.g,this._b=X.b,this._a=X.a,this._roundA=n(100*this._a)/100,this._format=ae.format||X.format,this._gradientType=ae.gradientType,this._r<1&&(this._r=n(this._r)),this._g<1&&(this._g=n(this._g)),this._b<1&&(this._b=n(this._b)),this._ok=X.ok,this._tc_id=a++}s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Y=this.toRgb();return(Y.r*299+Y.g*587+Y.b*114)/1e3},getLuminance:function(){var Y=this.toRgb(),ae,X,Se,qe,De,tr;return ae=Y.r/255,X=Y.g/255,Se=Y.b/255,ae<=.03928?qe=ae/12.92:qe=e.pow((ae+.055)/1.055,2.4),X<=.03928?De=X/12.92:De=e.pow((X+.055)/1.055,2.4),Se<=.03928?tr=Se/12.92:tr=e.pow((Se+.055)/1.055,2.4),.2126*qe+.7152*De+.0722*tr},setAlpha:function(Y){return this._a=O(Y),this._roundA=n(100*this._a)/100,this},toHsv:function(){var Y=d(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,v:Y.v,a:this._a}},toHsvString:function(){var Y=d(this._r,this._g,this._b),ae=n(Y.h*360),X=n(Y.s*100),Se=n(Y.v*100);return this._a==1?"hsv("+ae+", "+X+"%, "+Se+"%)":"hsva("+ae+", "+X+"%, "+Se+"%, "+this._roundA+")"},toHsl:function(){var Y=c(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,l:Y.l,a:this._a}},toHslString:function(){var Y=c(this._r,this._g,this._b),ae=n(Y.h*360),X=n(Y.s*100),Se=n(Y.l*100);return this._a==1?"hsl("+ae+", "+X+"%, "+Se+"%)":"hsla("+ae+", "+X+"%, "+Se+"%, "+this._roundA+")"},toHex:function(Y){return g(this._r,this._g,this._b,Y)},toHexString:function(Y){return"#"+this.toHex(Y)},toHex8:function(Y){return y(this._r,this._g,this._b,this._a,Y)},toHex8String:function(Y){return"#"+this.toHex8(Y)},toRgb:function(){return{r:n(this._r),g:n(this._g),b:n(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+n(this._r)+", "+n(this._g)+", "+n(this._b)+")":"rgba("+n(this._r)+", "+n(this._g)+", "+n(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:n(G(this._r,255)*100)+"%",g:n(G(this._g,255)*100)+"%",b:n(G(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+n(G(this._r,255)*100)+"%, "+n(G(this._g,255)*100)+"%, "+n(G(this._b,255)*100)+"%)":"rgba("+n(G(this._r,255)*100)+"%, "+n(G(this._g,255)*100)+"%, "+n(G(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:W[g(this._r,this._g,this._b,!0)]||!1},toFilter:function(Y){var ae="#"+b(this._r,this._g,this._b,this._a),X=ae,Se=this._gradientType?"GradientType = 1, ":"";if(Y){var qe=s(Y);X="#"+b(qe._r,qe._g,qe._b,qe._a)}return"progid:DXImageTransform.Microsoft.gradient("+Se+"startColorstr="+ae+",endColorstr="+X+")"},toString:function(Y){var ae=!!Y;Y=Y||this._format;var X=!1,Se=this._a<1&&this._a>=0,qe=!ae&&Se&&(Y==="hex"||Y==="hex6"||Y==="hex3"||Y==="hex4"||Y==="hex8"||Y==="name");return qe?Y==="name"&&this._a===0?this.toName():this.toRgbString():(Y==="rgb"&&(X=this.toRgbString()),Y==="prgb"&&(X=this.toPercentageRgbString()),(Y==="hex"||Y==="hex6")&&(X=this.toHexString()),Y==="hex3"&&(X=this.toHexString(!0)),Y==="hex4"&&(X=this.toHex8String(!0)),Y==="hex8"&&(X=this.toHex8String()),Y==="name"&&(X=this.toName()),Y==="hsl"&&(X=this.toHslString()),Y==="hsv"&&(X=this.toHsvString()),X||this.toHexString())},clone:function(){return s(this.toString())},_applyModification:function(Y,ae){var X=Y.apply(null,[this].concat([].slice.call(ae)));return this._r=X._r,this._g=X._g,this._b=X._b,this.setAlpha(X._a),this},lighten:function(){return this._applyModification(T,arguments)},brighten:function(){return this._applyModification(S,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(_,arguments)},saturate:function(){return this._applyModification(w,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(Y,ae){return Y.apply(null,[this].concat([].slice.call(ae)))},analogous:function(){return this._applyCombination(H,arguments)},complement:function(){return this._applyCombination(q,arguments)},monochromatic:function(){return this._applyCombination(V,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(F,arguments)},tetrad:function(){return this._applyCombination(P,arguments)}},s.fromRatio=function(Y,ae){if(typeof Y=="object"){var X={};for(var Se in Y)Y.hasOwnProperty(Se)&&(Se==="a"?X[Se]=Y[Se]:X[Se]=de(Y[Se]));Y=X}return s(Y,ae)};function u(Y){var ae={r:0,g:0,b:0},X=1,Se=null,qe=null,De=null,tr=!1,$e=!1;return typeof Y=="string"&&(Y=ve(Y)),typeof Y=="object"&&(ke(Y.r)&&ke(Y.g)&&ke(Y.b)?(ae=f(Y.r,Y.g,Y.b),tr=!0,$e=String(Y.r).substr(-1)==="%"?"prgb":"rgb"):ke(Y.h)&&ke(Y.s)&&ke(Y.v)?(Se=de(Y.s),qe=de(Y.v),ae=p(Y.h,Se,qe),tr=!0,$e="hsv"):ke(Y.h)&&ke(Y.s)&&ke(Y.l)&&(Se=de(Y.s),De=de(Y.l),ae=h(Y.h,Se,De),tr=!0,$e="hsl"),Y.hasOwnProperty("a")&&(X=Y.a)),X=O(X),{ok:tr,format:Y.format||$e,r:i(255,o(ae.r,0)),g:i(255,o(ae.g,0)),b:i(255,o(ae.b,0)),a:X}}function f(Y,ae,X){return{r:G(Y,255)*255,g:G(ae,255)*255,b:G(X,255)*255}}function c(Y,ae,X){Y=G(Y,255),ae=G(ae,255),X=G(X,255);var Se=o(Y,ae,X),qe=i(Y,ae,X),De,tr,$e=(Se+qe)/2;if(Se==qe)De=tr=0;else{var Ze=Se-qe;switch(tr=$e>.5?Ze/(2-Se-qe):Ze/(Se+qe),Se){case Y:De=(ae-X)/Ze+(ae<X?6:0);break;case ae:De=(X-Y)/Ze+2;break;case X:De=(Y-ae)/Ze+4;break}De/=6}return{h:De,s:tr,l:$e}}function h(Y,ae,X){var Se,qe,De;Y=G(Y,360),ae=G(ae,100),X=G(X,100);function tr(lr,pr,ir){return ir<0&&(ir+=1),ir>1&&(ir-=1),ir<1/6?lr+(pr-lr)*6*ir:ir<1/2?pr:ir<2/3?lr+(pr-lr)*(2/3-ir)*6:lr}if(ae===0)Se=qe=De=X;else{var $e=X<.5?X*(1+ae):X+ae-X*ae,Ze=2*X-$e;Se=tr(Ze,$e,Y+1/3),qe=tr(Ze,$e,Y),De=tr(Ze,$e,Y-1/3)}return{r:Se*255,g:qe*255,b:De*255}}function d(Y,ae,X){Y=G(Y,255),ae=G(ae,255),X=G(X,255);var Se=o(Y,ae,X),qe=i(Y,ae,X),De,tr,$e=Se,Ze=Se-qe;if(tr=Se===0?0:Ze/Se,Se==qe)De=0;else{switch(Se){case Y:De=(ae-X)/Ze+(ae<X?6:0);break;case ae:De=(X-Y)/Ze+2;break;case X:De=(Y-ae)/Ze+4;break}De/=6}return{h:De,s:tr,v:$e}}function p(Y,ae,X){Y=G(Y,360)*6,ae=G(ae,100),X=G(X,100);var Se=e.floor(Y),qe=Y-Se,De=X*(1-ae),tr=X*(1-qe*ae),$e=X*(1-(1-qe)*ae),Ze=Se%6,lr=[X,tr,De,De,$e,X][Ze],pr=[$e,X,X,tr,De,De][Ze],ir=[De,De,$e,X,X,tr][Ze];return{r:lr*255,g:pr*255,b:ir*255}}function g(Y,ae,X,Se){var qe=[ne(n(Y).toString(16)),ne(n(ae).toString(16)),ne(n(X).toString(16))];return Se&&qe[0].charAt(0)==qe[0].charAt(1)&&qe[1].charAt(0)==qe[1].charAt(1)&&qe[2].charAt(0)==qe[2].charAt(1)?qe[0].charAt(0)+qe[1].charAt(0)+qe[2].charAt(0):qe.join("")}function y(Y,ae,X,Se,qe){var De=[ne(n(Y).toString(16)),ne(n(ae).toString(16)),ne(n(X).toString(16)),ne(K(Se))];return qe&&De[0].charAt(0)==De[0].charAt(1)&&De[1].charAt(0)==De[1].charAt(1)&&De[2].charAt(0)==De[2].charAt(1)&&De[3].charAt(0)==De[3].charAt(1)?De[0].charAt(0)+De[1].charAt(0)+De[2].charAt(0)+De[3].charAt(0):De.join("")}function b(Y,ae,X,Se){var qe=[ne(K(Se)),ne(n(Y).toString(16)),ne(n(ae).toString(16)),ne(n(X).toString(16))];return qe.join("")}s.equals=function(Y,ae){return!Y||!ae?!1:s(Y).toRgbString()==s(ae).toRgbString()},s.random=function(){return s.fromRatio({r:l(),g:l(),b:l()})};function _(Y,ae){ae=ae===0?0:ae||10;var X=s(Y).toHsl();return X.s-=ae/100,X.s=Z(X.s),s(X)}function w(Y,ae){ae=ae===0?0:ae||10;var X=s(Y).toHsl();return X.s+=ae/100,X.s=Z(X.s),s(X)}function x(Y){return s(Y).desaturate(100)}function T(Y,ae){ae=ae===0?0:ae||10;var X=s(Y).toHsl();return X.l+=ae/100,X.l=Z(X.l),s(X)}function S(Y,ae){ae=ae===0?0:ae||10;var X=s(Y).toRgb();return X.r=o(0,i(255,X.r-n(255*-(ae/100)))),X.g=o(0,i(255,X.g-n(255*-(ae/100)))),X.b=o(0,i(255,X.b-n(255*-(ae/100)))),s(X)}function M(Y,ae){ae=ae===0?0:ae||10;var X=s(Y).toHsl();return X.l-=ae/100,X.l=Z(X.l),s(X)}function C(Y,ae){var X=s(Y).toHsl(),Se=(X.h+ae)%360;return X.h=Se<0?360+Se:Se,s(X)}function q(Y){var ae=s(Y).toHsl();return ae.h=(ae.h+180)%360,s(ae)}function F(Y){var ae=s(Y).toHsl(),X=ae.h;return[s(Y),s({h:(X+120)%360,s:ae.s,l:ae.l}),s({h:(X+240)%360,s:ae.s,l:ae.l})]}function P(Y){var ae=s(Y).toHsl(),X=ae.h;return[s(Y),s({h:(X+90)%360,s:ae.s,l:ae.l}),s({h:(X+180)%360,s:ae.s,l:ae.l}),s({h:(X+270)%360,s:ae.s,l:ae.l})]}function I(Y){var ae=s(Y).toHsl(),X=ae.h;return[s(Y),s({h:(X+72)%360,s:ae.s,l:ae.l}),s({h:(X+216)%360,s:ae.s,l:ae.l})]}function H(Y,ae,X){ae=ae||6,X=X||30;var Se=s(Y).toHsl(),qe=360/X,De=[s(Y)];for(Se.h=(Se.h-(qe*ae>>1)+720)%360;--ae;)Se.h=(Se.h+qe)%360,De.push(s(Se));return De}function V(Y,ae){ae=ae||6;for(var X=s(Y).toHsv(),Se=X.h,qe=X.s,De=X.v,tr=[],$e=1/ae;ae--;)tr.push(s({h:Se,s:qe,v:De})),De=(De+$e)%1;return tr}s.mix=function(Y,ae,X){X=X===0?0:X||50;var Se=s(Y).toRgb(),qe=s(ae).toRgb(),De=X/100,tr={r:(qe.r-Se.r)*De+Se.r,g:(qe.g-Se.g)*De+Se.g,b:(qe.b-Se.b)*De+Se.b,a:(qe.a-Se.a)*De+Se.a};return s(tr)},s.readability=function(Y,ae){var X=s(Y),Se=s(ae);return(e.max(X.getLuminance(),Se.getLuminance())+.05)/(e.min(X.getLuminance(),Se.getLuminance())+.05)},s.isReadable=function(Y,ae,X){var Se=s.readability(Y,ae),qe,De;switch(De=!1,qe=Ae(X),qe.level+qe.size){case"AAsmall":case"AAAlarge":De=Se>=4.5;break;case"AAlarge":De=Se>=3;break;case"AAAsmall":De=Se>=7;break}return De},s.mostReadable=function(Y,ae,X){var Se=null,qe=0,De,tr,$e,Ze;X=X||{},tr=X.includeFallbackColors,$e=X.level,Ze=X.size;for(var lr=0;lr<ae.length;lr++)De=s.readability(Y,ae[lr]),De>qe&&(qe=De,Se=s(ae[lr]));return s.isReadable(Y,Se,{level:$e,size:Ze})||!tr?Se:(X.includeFallbackColors=!1,s.mostReadable(Y,["#fff","#000"],X))};var j=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=s.hexNames=z(j);function z(Y){var ae={};for(var X in Y)Y.hasOwnProperty(X)&&(ae[Y[X]]=X);return ae}function O(Y){return Y=parseFloat(Y),(isNaN(Y)||Y<0||Y>1)&&(Y=1),Y}function G(Y,ae){ie(Y)&&(Y="100%");var X=be(Y);return Y=i(ae,o(0,parseFloat(Y))),X&&(Y=parseInt(Y*ae,10)/100),e.abs(Y-ae)<1e-6?1:Y%ae/parseFloat(ae)}function Z(Y){return i(1,o(0,Y))}function Q(Y){return parseInt(Y,16)}function ie(Y){return typeof Y=="string"&&Y.indexOf(".")!=-1&&parseFloat(Y)===1}function be(Y){return typeof Y=="string"&&Y.indexOf("%")!=-1}function ne(Y){return Y.length==1?"0"+Y:""+Y}function de(Y){return Y<=1&&(Y=Y*100+"%"),Y}function K(Y){return e.round(parseFloat(Y)*255).toString(16)}function me(Y){return Q(Y)/255}var fe=function(){var Y="[-\\+]?\\d+%?",ae="[-\\+]?\\d*\\.\\d+%?",X="(?:"+ae+")|(?:"+Y+")",Se="[\\s|\\(]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")\\s*\\)?",qe="[\\s|\\(]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")[,|\\s]+("+X+")\\s*\\)?";return{CSS_UNIT:new RegExp(X),rgb:new RegExp("rgb"+Se),rgba:new RegExp("rgba"+qe),hsl:new RegExp("hsl"+Se),hsla:new RegExp("hsla"+qe),hsv:new RegExp("hsv"+Se),hsva:new RegExp("hsva"+qe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ke(Y){return!!fe.CSS_UNIT.exec(Y)}function ve(Y){Y=Y.replace(r,"").replace(t,"").toLowerCase();var ae=!1;if(j[Y])Y=j[Y],ae=!0;else if(Y=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var X;return(X=fe.rgb.exec(Y))?{r:X[1],g:X[2],b:X[3]}:(X=fe.rgba.exec(Y))?{r:X[1],g:X[2],b:X[3],a:X[4]}:(X=fe.hsl.exec(Y))?{h:X[1],s:X[2],l:X[3]}:(X=fe.hsla.exec(Y))?{h:X[1],s:X[2],l:X[3],a:X[4]}:(X=fe.hsv.exec(Y))?{h:X[1],s:X[2],v:X[3]}:(X=fe.hsva.exec(Y))?{h:X[1],s:X[2],v:X[3],a:X[4]}:(X=fe.hex8.exec(Y))?{r:Q(X[1]),g:Q(X[2]),b:Q(X[3]),a:me(X[4]),format:ae?"name":"hex8"}:(X=fe.hex6.exec(Y))?{r:Q(X[1]),g:Q(X[2]),b:Q(X[3]),format:ae?"name":"hex"}:(X=fe.hex4.exec(Y))?{r:Q(X[1]+""+X[1]),g:Q(X[2]+""+X[2]),b:Q(X[3]+""+X[3]),a:me(X[4]+""+X[4]),format:ae?"name":"hex8"}:(X=fe.hex3.exec(Y))?{r:Q(X[1]+""+X[1]),g:Q(X[2]+""+X[2]),b:Q(X[3]+""+X[3]),format:ae?"name":"hex"}:!1}function Ae(Y){var ae,X;return Y=Y||{level:"AA",size:"small"},ae=(Y.level||"AA").toUpperCase(),X=(Y.size||"small").toLowerCase(),ae!=="AA"&&ae!=="AAA"&&(ae="AA"),X!=="small"&&X!=="large"&&(X="small"),{level:ae,size:X}}typeof Bm!="undefined"&&Bm.exports?Bm.exports=s:typeof define=="function"&&define.amd?define(function(){return s}):window.tinycolor=s})(Math)});var xn=R(Kd=>{"use strict";var yM=Pu(),Jd=Array.isArray;function qae(e,r){var t,a;for(t=0;t<e.length;t++){if(a=e[t],a!==null&&typeof a=="object")return!1;a!==void 0&&(r[t]=a)}return!0}Kd.extendFlat=function(){return $d(arguments,!1,!1,!1)};Kd.extendDeep=function(){return $d(arguments,!0,!1,!1)};Kd.extendDeepAll=function(){return $d(arguments,!0,!0,!1)};Kd.extendDeepNoArrays=function(){return $d(arguments,!0,!1,!0)};function $d(e,r,t,a){var n=e[0],i=e.length,o,l,s,u,f,c,h;if(i===2&&Jd(n)&&Jd(e[1])&&n.length===0){if(h=qae(e[1],n),h)return n;n.splice(0,n.length)}for(var d=1;d<i;d++){o=e[d];for(l in o)s=n[l],u=o[l],a&&Jd(u)?n[l]=u:r&&u&&(yM(u)||(f=Jd(u)))?(f?(f=!1,c=s&&Jd(s)?s:[]):c=s&&yM(s)?s:{},n[l]=$d([c,u],r,t,a)):(typeof u!="undefined"||t)&&(n[l]=u)}return n}});var ti=R((Y9e,mM)=>{"use strict";mM.exports=function(e){var r=e.variantValues,t=e.editType,a=e.colorEditType;a===void 0&&(a=t);var n={editType:t,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};e.noNumericWeightValues&&(n.valType="enumerated",n.values=n.extras,n.extras=void 0,n.min=void 0,n.max=void 0);var i={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:a},weight:n,style:{editType:t,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:e.noFontVariant?void 0:{editType:t,valType:"enumerated",values:r||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:e.noFontTextcase?void 0:{editType:t,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:e.noFontLineposition?void 0:{editType:t,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:e.noFontShadow?void 0:{editType:t,valType:"string",dflt:e.autoShadowDflt?"auto":"none"},editType:t};return e.autoSize&&(i.size.dflt="auto"),e.autoColor&&(i.color.dflt="auto"),e.arrayOk&&(i.family.arrayOk=!0,i.weight.arrayOk=!0,i.style.arrayOk=!0,e.noFontVariant||(i.variant.arrayOk=!0),e.noFontTextcase||(i.textcase.arrayOk=!0),e.noFontLineposition||(i.lineposition.arrayOk=!0),e.noFontShadow||(i.shadow.arrayOk=!0),i.size.arrayOk=!0,i.color.arrayOk=!0),i}});var Qd=R((W9e,gM)=>{"use strict";gM.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}});var Kv=R((j9e,_M)=>{"use strict";var bM=Qd(),xM=ti(),u_=xM({editType:"none"});u_.family.dflt=bM.HOVERFONT;u_.size.dflt=bM.HOVERFONTSIZE;_M.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:u_,grouptitlefont:xM({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}});var Gm=R((X9e,wM)=>{"use strict";var Dae=ti(),Um=Kv().hoverlabel,Hm=xn().extendFlat;wM.exports={hoverlabel:{bgcolor:Hm({},Um.bgcolor,{arrayOk:!0}),bordercolor:Hm({},Um.bordercolor,{arrayOk:!0}),font:Dae({arrayOk:!0,editType:"none"}),align:Hm({},Um.align,{arrayOk:!0}),namelength:Hm({},Um.namelength,{arrayOk:!0}),editType:"none"}}});var pl=R((Z9e,AM)=>{"use strict";var Fae=ti(),Rae=Gm();AM.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:Fae({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:Rae.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}});var nc=R((J9e,SM)=>{"use strict";var Pae=zo(),Vm={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},TM=Vm.RdBu;function Nae(e,r){if(r||(r=TM),!e)return r;function t(){try{e=Vm[e]||JSON.parse(e)}catch(a){e=r}}return typeof e=="string"&&(t(),typeof e=="string"&&t()),MM(e)?e:r}function MM(e){var r=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var t=0;t<e.length;t++){var a=e[t];if(a.length!==2||+a[0]<r||!Pae(a[1]).isValid())return!1;r=+a[0]}return!0}function Iae(e){return Vm[e]!==void 0?!0:MM(e)}SM.exports={scales:Vm,defaultScale:TM,get:Nae,isValid:Iae}});var es=R(ic=>{"use strict";ic.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];ic.defaultLine="#444";ic.lightLine="#eee";ic.background="#fff";ic.borderLine="#BEC8D9";ic.lightFraction=100*10/11});var Vt=R((K9e,kM)=>{"use strict";var no=zo(),Oae=Zt(),zae=ao().isTypedArray,Yn=kM.exports={},Ym=es();Yn.defaults=Ym.defaults;var Bae=Yn.defaultLine=Ym.defaultLine;Yn.lightLine=Ym.lightLine;var c_=Yn.background=Ym.background;Yn.tinyRGB=function(e){var r=e.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"};Yn.rgb=function(e){return Yn.tinyRGB(no(e))};Yn.opacity=function(e){return e?no(e).getAlpha():0};Yn.addOpacity=function(e,r){var t=no(e).toRgb();return"rgba("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+", "+r+")"};Yn.combine=function(e,r){var t=no(e).toRgb();if(t.a===1)return no(e).toRgbString();var a=no(r||c_).toRgb(),n=a.a===1?a:{r:255*(1-a.a)+a.r*a.a,g:255*(1-a.a)+a.g*a.a,b:255*(1-a.a)+a.b*a.a},i={r:n.r*(1-t.a)+t.r*t.a,g:n.g*(1-t.a)+t.g*t.a,b:n.b*(1-t.a)+t.b*t.a};return no(i).toRgbString()};Yn.interpolate=function(e,r,t){var a=no(e).toRgb(),n=no(r).toRgb(),i={r:t*a.r+(1-t)*n.r,g:t*a.g+(1-t)*n.g,b:t*a.b+(1-t)*n.b};return no(i).toRgbString()};Yn.contrast=function(e,r,t){var a=no(e);a.getAlpha()!==1&&(a=no(Yn.combine(e,c_)));var n=a.isDark()?r?a.lighten(r):c_:t?a.darken(t):Bae;return n.toString()};Yn.stroke=function(e,r){var t=no(r);e.style({stroke:Yn.tinyRGB(t),"stroke-opacity":t.getAlpha()})};Yn.fill=function(e,r){var t=no(r);e.style({fill:Yn.tinyRGB(t),"fill-opacity":t.getAlpha()})};Yn.clean=function(e){if(!(!e||typeof e!="object")){var r=Object.keys(e),t,a,n,i;for(t=0;t<r.length;t++)if(n=r[t],i=e[n],n.substr(n.length-5)==="color")if(Array.isArray(i))for(a=0;a<i.length;a++)i[a]=f_(i[a]);else e[n]=f_(i);else if(n.substr(n.length-10)==="colorscale"&&Array.isArray(i))for(a=0;a<i.length;a++)Array.isArray(i[a])&&(i[a][1]=f_(i[a][1]));else if(Array.isArray(i)){var o=i[0];if(!Array.isArray(o)&&o&&typeof o=="object")for(a=0;a<i.length;a++)Yn.clean(i[a])}else i&&typeof i=="object"&&!zae(i)&&Yn.clean(i)}};function f_(e){if(Oae(e)||typeof e!="string")return e;var r=e.trim();if(r.substr(0,3)!=="rgb")return e;var t=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!t)return e;var a=t[1].trim().split(/\s*[\s,]\s*/),n=r.charAt(3)==="a"&&a.length===4;if(!n&&a.length!==3)return e;for(var i=0;i<a.length;i++){if(!a[i].length||(a[i]=Number(a[i]),!(a[i]>=0)))return e;if(i===3)a[i]>1&&(a[i]=1);else if(a[i]>=1)return e}var o=Math.round(a[0]*255)+", "+Math.round(a[1]*255)+", "+Math.round(a[2]*255);return n?"rgba("+o+", "+a[3]+")":"rgb("+o+")"}});var Qv=R((Q9e,CM)=>{"use strict";CM.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}});var e0=R(EM=>{"use strict";EM.counter=function(e,r,t,a){var n=(r||"")+(t?"":"$"),i=a===!1?"":"^";return e==="xy"?new RegExp(i+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+n):new RegExp(i+e+"([2-9]|[1-9][0-9]+)?"+n)}});var FM=R(io=>{"use strict";var v_=Zt(),LM=zo(),qM=xn().extendFlat,Uae=pl(),Hae=nc(),Gae=Vt(),Vae=Qv().DESELECTDIM,r0=Im(),DM=e0().counter,Yae=$v().modHalf,rs=ao().isArrayOrTypedArray,Nu=ao().isTypedArraySpec,Iu=ao().decodeTypedArraySpec;io.valObjectMeta={data_array:{coerceFunction:function(e,r,t){r.set(rs(e)?e:Nu(e)?Iu(e):t)}},enumerated:{coerceFunction:function(e,r,t,a){a.coerceNumber&&(e=+e),a.values.indexOf(e)===-1?r.set(t):r.set(e)},validateFunction:function(e,r){r.coerceNumber&&(e=+e);for(var t=r.values,a=0;a<t.length;a++){var n=String(t[a]);if(n.charAt(0)==="/"&&n.charAt(n.length-1)==="/"){var i=new RegExp(n.substr(1,n.length-2));if(i.test(e))return!0}else if(e===t[a])return!0}return!1}},boolean:{coerceFunction:function(e,r,t){e===!0||e===!1?r.set(e):r.set(t)}},number:{coerceFunction:function(e,r,t,a){Nu(e)&&(e=Iu(e)),!v_(e)||a.min!==void 0&&e<a.min||a.max!==void 0&&e>a.max?r.set(t):r.set(+e)}},integer:{coerceFunction:function(e,r,t,a){if((a.extras||[]).indexOf(e)!==-1){r.set(e);return}Nu(e)&&(e=Iu(e)),e%1||!v_(e)||a.min!==void 0&&e<a.min||a.max!==void 0&&e>a.max?r.set(t):r.set(+e)}},string:{coerceFunction:function(e,r,t,a){if(typeof e!="string"){var n=typeof e=="number";a.strict===!0||!n?r.set(t):r.set(String(e))}else a.noBlank&&!e?r.set(t):r.set(e)}},color:{coerceFunction:function(e,r,t){Nu(e)&&(e=Iu(e)),LM(e).isValid()?r.set(e):r.set(t)}},colorlist:{coerceFunction:function(e,r,t){function a(n){return LM(n).isValid()}!Array.isArray(e)||!e.length?r.set(t):e.every(a)?r.set(e):r.set(t)}},colorscale:{coerceFunction:function(e,r,t){r.set(Hae.get(e,t))}},angle:{coerceFunction:function(e,r,t){Nu(e)&&(e=Iu(e)),e==="auto"?r.set("auto"):v_(e)?r.set(Yae(+e,360)):r.set(t)}},subplotid:{coerceFunction:function(e,r,t,a){var n=a.regex||DM(t);if(typeof e=="string"&&n.test(e)){r.set(e);return}r.set(t)},validateFunction:function(e,r){var t=r.dflt;return e===t?!0:typeof e!="string"?!1:!!DM(t).test(e)}},flaglist:{coerceFunction:function(e,r,t,a){if((a.extras||[]).indexOf(e)!==-1){r.set(e);return}if(typeof e!="string"){r.set(t);return}for(var n=e.split("+"),i=0;i<n.length;){var o=n[i];a.flags.indexOf(o)===-1||n.indexOf(o)<i?n.splice(i,1):i++}n.length?r.set(n.join("+")):r.set(t)}},any:{coerceFunction:function(e,r,t){e===void 0?r.set(t):r.set(Nu(e)?Iu(e):e)}},info_array:{coerceFunction:function(e,r,t,a){function n(_,w,x){var T,S={set:function(M){T=M}};return x===void 0&&(x=w.dflt),io.valObjectMeta[w.valType].coerceFunction(_,S,x,w),T}if(Nu(e)&&(e=Iu(e)),!rs(e)){r.set(t);return}var i=a.dimensions===2||a.dimensions==="1-2"&&Array.isArray(e)&&rs(e[0]),o=a.items,l=[],s=Array.isArray(o),u=s&&i&&rs(o[0]),f=i&&s&&!u,c=s&&!f?o.length:e.length,h,d,p,g,y,b;if(t=Array.isArray(t)?t:[],i)for(h=0;h<c;h++)for(l[h]=[],p=rs(e[h])?e[h]:[],f?y=o.length:s?y=o[h].length:y=p.length,d=0;d<y;d++)f?g=o[d]:s?g=o[h][d]:g=o,b=n(p[d],g,(t[h]||[])[d]),b!==void 0&&(l[h][d]=b);else for(h=0;h<c;h++)b=n(e[h],s?o[h]:o,t[h]),b!==void 0&&(l[h]=b);r.set(l)},validateFunction:function(e,r){if(!rs(e))return!1;var t=r.items,a=Array.isArray(t),n=r.dimensions===2;if(!r.freeLength&&e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(n){if(!rs(e[i])||!r.freeLength&&e[i].length!==t[i].length)return!1;for(var o=0;o<e[i].length;o++)if(!Wm(e[i][o],a?t[i][o]:t))return!1}else if(!Wm(e[i],a?t[i]:t))return!1;return!0}}};io.coerce=function(e,r,t,a,n){var i=r0(t,a).get(),o=r0(e,a),l=r0(r,a),s=o.get(),u=r._template;if(s===void 0&&u&&(s=r0(u,a).get(),u=0),n===void 0&&(n=i.dflt),i.arrayOk){if(rs(s))return l.set(s),s;if(Nu(s))return s=Iu(s),l.set(s),s}var f=io.valObjectMeta[i.valType].coerceFunction;f(s,l,n,i);var c=l.get();return u&&c===n&&!Wm(s,i)&&(s=r0(u,a).get(),f(s,l,n,i),c=l.get()),c};io.coerce2=function(e,r,t,a,n){var i=r0(e,a),o=io.coerce(e,r,t,a,n),l=i.get();return l!=null?o:!1};io.coerceFont=function(e,r,t,a){a||(a={}),t=qM({},t),t=qM(t,a.overrideDflt||{});var n={family:e(r+".family",t.family),size:e(r+".size",t.size),color:e(r+".color",t.color),weight:e(r+".weight",t.weight),style:e(r+".style",t.style)};if(a.noFontVariant||(n.variant=e(r+".variant",t.variant)),a.noFontLineposition||(n.lineposition=e(r+".lineposition",t.lineposition)),a.noFontTextcase||(n.textcase=e(r+".textcase",t.textcase)),!a.noFontShadow){var i=t.shadow;i==="none"&&a.autoShadowDflt&&(i="auto"),n.shadow=e(r+".shadow",i)}return n};io.coercePattern=function(e,r,t,a){var n=e(r+".shape");if(n){e(r+".solidity"),e(r+".size");var i=e(r+".fillmode"),o=i==="overlay";if(!a){var l=e(r+".bgcolor",o?t:void 0);e(r+".fgcolor",o?Gae.contrast(l):t)}e(r+".fgopacity",o?.5:1)}};io.coerceHoverinfo=function(e,r,t){var a=r._module.attributes,n=a.hoverinfo?a:Uae,i=n.hoverinfo,o;if(t._dataLength===1){var l=i.dflt==="all"?i.flags.slice():i.dflt.split("+");l.splice(l.indexOf("name"),1),o=l.join("+")}return io.coerce(e,r,n,"hoverinfo",o)};io.coerceSelectionMarkerOpacity=function(e,r){if(e.marker){var t=e.marker.opacity;if(t!==void 0){var a,n;!rs(t)&&!e.selected&&!e.unselected&&(a=t,n=Vae*t),r("selected.marker.opacity",a),r("unselected.marker.opacity",n)}}};function Wm(e,r){var t=io.valObjectMeta[r.valType];if(r.arrayOk&&rs(e))return!0;if(t.validateFunction)return t.validateFunction(e,r);var a={},n=a,i={set:function(o){n=o}};return t.coerceFunction(e,i,a,r),n!==a}io.validate=Wm});var oc=R((tMe,IM)=>{"use strict";var RM={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},PM={};function NM(e,r){for(var t in e){var a=e[t];a.valType?r[t]=a.dflt:(r[t]||(r[t]={}),NM(a,r[t]))}}NM(RM,PM);IM.exports={configAttributes:RM,dfltConfig:PM}});var d_=R((aMe,OM)=>{"use strict";var h_=aa(),Wae=Zt(),e1=[];OM.exports=function(e,r){if(e1.indexOf(e)!==-1)return;e1.push(e);var t=1e3;Wae(r)?t=r:r==="long"&&(t=3e3);var a=h_.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0);var n=a.selectAll(".notifier-note").data(e1);function i(o){o.duration(700).style("opacity",0).each("end",function(l){var s=e1.indexOf(l);s!==-1&&e1.splice(s,1),h_.select(this).remove()})}n.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(o){var l=h_.select(this);l.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){l.transition().call(i)});for(var s=l.append("p"),u=o.split(/<br\s*\/?>/g),f=0;f<u.length;f++)f&&s.append("br"),s.append("span").text(u[f]);r==="stick"?l.transition().duration(350).style("opacity",1):l.transition().duration(700).style("opacity",1).transition().delay(t).call(i)})}});var lc=R((nMe,zM)=>{"use strict";var t0=oc().dfltConfig,p_=d_(),y_=zM.exports={};y_.log=function(){var e;if(t0.logging>1){var r=["LOG:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(t0.notifyOnLogging>1){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);p_(t.join("<br>"),"long")}};y_.warn=function(){var e;if(t0.logging>0){var r=["WARN:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(t0.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);p_(t.join("<br>"),"stick")}};y_.error=function(){var e;if(t0.logging>0){var r=["ERROR:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.error.apply(console,r)}if(t0.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);p_(t.join("<br>"),"stick")}}});var jm=R((iMe,BM)=>{"use strict";BM.exports=function(){}});var m_=R((oMe,UM)=>{"use strict";UM.exports=function(r,t){if(t instanceof RegExp){for(var a=t.toString(),n=0;n<r.length;n++)if(r[n]instanceof RegExp&&r[n].toString()===a)return r;r.push(t)}else(t||t===0)&&r.indexOf(t)===-1&&r.push(t);return r}});var GM=R((lMe,HM)=>{HM.exports=jae;function jae(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var YM=R((sMe,VM)=>{VM.exports=Xae;function Xae(e){var r=new Float32Array(16);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}});var jM=R((uMe,WM)=>{WM.exports=Zae;function Zae(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var g_=R((fMe,XM)=>{XM.exports=Jae;function Jae(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var JM=R((cMe,ZM)=>{ZM.exports=$ae;function $ae(e,r){if(e===r){var t=r[1],a=r[2],n=r[3],i=r[6],o=r[7],l=r[11];e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=t,e[6]=r[9],e[7]=r[13],e[8]=a,e[9]=i,e[11]=r[14],e[12]=n,e[13]=o,e[14]=l}else e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15];return e}});var KM=R((vMe,$M)=>{$M.exports=Kae;function Kae(e,r){var t=r[0],a=r[1],n=r[2],i=r[3],o=r[4],l=r[5],s=r[6],u=r[7],f=r[8],c=r[9],h=r[10],d=r[11],p=r[12],g=r[13],y=r[14],b=r[15],_=t*l-a*o,w=t*s-n*o,x=t*u-i*o,T=a*s-n*l,S=a*u-i*l,M=n*u-i*s,C=f*g-c*p,q=f*y-h*p,F=f*b-d*p,P=c*y-h*g,I=c*b-d*g,H=h*b-d*y,V=_*H-w*I+x*P+T*F-S*q+M*C;return V?(V=1/V,e[0]=(l*H-s*I+u*P)*V,e[1]=(n*I-a*H-i*P)*V,e[2]=(g*M-y*S+b*T)*V,e[3]=(h*S-c*M-d*T)*V,e[4]=(s*F-o*H-u*q)*V,e[5]=(t*H-n*F+i*q)*V,e[6]=(y*x-p*M-b*w)*V,e[7]=(f*M-h*x+d*w)*V,e[8]=(o*I-l*F+u*C)*V,e[9]=(a*F-t*I-i*C)*V,e[10]=(p*S-g*x+b*_)*V,e[11]=(c*x-f*S-d*_)*V,e[12]=(l*q-o*P-s*C)*V,e[13]=(t*P-a*q+n*C)*V,e[14]=(g*w-p*T-y*_)*V,e[15]=(f*T-c*w+h*_)*V,e):null}});var eS=R((hMe,QM)=>{QM.exports=Qae;function Qae(e,r){var t=r[0],a=r[1],n=r[2],i=r[3],o=r[4],l=r[5],s=r[6],u=r[7],f=r[8],c=r[9],h=r[10],d=r[11],p=r[12],g=r[13],y=r[14],b=r[15];return e[0]=l*(h*b-d*y)-c*(s*b-u*y)+g*(s*d-u*h),e[1]=-(a*(h*b-d*y)-c*(n*b-i*y)+g*(n*d-i*h)),e[2]=a*(s*b-u*y)-l*(n*b-i*y)+g*(n*u-i*s),e[3]=-(a*(s*d-u*h)-l*(n*d-i*h)+c*(n*u-i*s)),e[4]=-(o*(h*b-d*y)-f*(s*b-u*y)+p*(s*d-u*h)),e[5]=t*(h*b-d*y)-f*(n*b-i*y)+p*(n*d-i*h),e[6]=-(t*(s*b-u*y)-o*(n*b-i*y)+p*(n*u-i*s)),e[7]=t*(s*d-u*h)-o*(n*d-i*h)+f*(n*u-i*s),e[8]=o*(c*b-d*g)-f*(l*b-u*g)+p*(l*d-u*c),e[9]=-(t*(c*b-d*g)-f*(a*b-i*g)+p*(a*d-i*c)),e[10]=t*(l*b-u*g)-o*(a*b-i*g)+p*(a*u-i*l),e[11]=-(t*(l*d-u*c)-o*(a*d-i*c)+f*(a*u-i*l)),e[12]=-(o*(c*y-h*g)-f*(l*y-s*g)+p*(l*h-s*c)),e[13]=t*(c*y-h*g)-f*(a*y-n*g)+p*(a*h-n*c),e[14]=-(t*(l*y-s*g)-o*(a*y-n*g)+p*(a*s-n*l)),e[15]=t*(l*h-s*c)-o*(a*h-n*c)+f*(a*s-n*l),e}});var tS=R((dMe,rS)=>{rS.exports=ene;function ene(e){var r=e[0],t=e[1],a=e[2],n=e[3],i=e[4],o=e[5],l=e[6],s=e[7],u=e[8],f=e[9],c=e[10],h=e[11],d=e[12],p=e[13],g=e[14],y=e[15],b=r*o-t*i,_=r*l-a*i,w=r*s-n*i,x=t*l-a*o,T=t*s-n*o,S=a*s-n*l,M=u*p-f*d,C=u*g-c*d,q=u*y-h*d,F=f*g-c*p,P=f*y-h*p,I=c*y-h*g;return b*I-_*P+w*F+x*q-T*C+S*M}});var nS=R((pMe,aS)=>{aS.exports=rne;function rne(e,r,t){var a=r[0],n=r[1],i=r[2],o=r[3],l=r[4],s=r[5],u=r[6],f=r[7],c=r[8],h=r[9],d=r[10],p=r[11],g=r[12],y=r[13],b=r[14],_=r[15],w=t[0],x=t[1],T=t[2],S=t[3];return e[0]=w*a+x*l+T*c+S*g,e[1]=w*n+x*s+T*h+S*y,e[2]=w*i+x*u+T*d+S*b,e[3]=w*o+x*f+T*p+S*_,w=t[4],x=t[5],T=t[6],S=t[7],e[4]=w*a+x*l+T*c+S*g,e[5]=w*n+x*s+T*h+S*y,e[6]=w*i+x*u+T*d+S*b,e[7]=w*o+x*f+T*p+S*_,w=t[8],x=t[9],T=t[10],S=t[11],e[8]=w*a+x*l+T*c+S*g,e[9]=w*n+x*s+T*h+S*y,e[10]=w*i+x*u+T*d+S*b,e[11]=w*o+x*f+T*p+S*_,w=t[12],x=t[13],T=t[14],S=t[15],e[12]=w*a+x*l+T*c+S*g,e[13]=w*n+x*s+T*h+S*y,e[14]=w*i+x*u+T*d+S*b,e[15]=w*o+x*f+T*p+S*_,e}});var oS=R((yMe,iS)=>{iS.exports=tne;function tne(e,r,t){var a=t[0],n=t[1],i=t[2],o,l,s,u,f,c,h,d,p,g,y,b;return r===e?(e[12]=r[0]*a+r[4]*n+r[8]*i+r[12],e[13]=r[1]*a+r[5]*n+r[9]*i+r[13],e[14]=r[2]*a+r[6]*n+r[10]*i+r[14],e[15]=r[3]*a+r[7]*n+r[11]*i+r[15]):(o=r[0],l=r[1],s=r[2],u=r[3],f=r[4],c=r[5],h=r[6],d=r[7],p=r[8],g=r[9],y=r[10],b=r[11],e[0]=o,e[1]=l,e[2]=s,e[3]=u,e[4]=f,e[5]=c,e[6]=h,e[7]=d,e[8]=p,e[9]=g,e[10]=y,e[11]=b,e[12]=o*a+f*n+p*i+r[12],e[13]=l*a+c*n+g*i+r[13],e[14]=s*a+h*n+y*i+r[14],e[15]=u*a+d*n+b*i+r[15]),e}});var sS=R((mMe,lS)=>{lS.exports=ane;function ane(e,r,t){var a=t[0],n=t[1],i=t[2];return e[0]=r[0]*a,e[1]=r[1]*a,e[2]=r[2]*a,e[3]=r[3]*a,e[4]=r[4]*n,e[5]=r[5]*n,e[6]=r[6]*n,e[7]=r[7]*n,e[8]=r[8]*i,e[9]=r[9]*i,e[10]=r[10]*i,e[11]=r[11]*i,e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var fS=R((gMe,uS)=>{uS.exports=nne;function nne(e,r,t,a){var n=a[0],i=a[1],o=a[2],l=Math.sqrt(n*n+i*i+o*o),s,u,f,c,h,d,p,g,y,b,_,w,x,T,S,M,C,q,F,P,I,H,V,j;return Math.abs(l)<1e-6?null:(l=1/l,n*=l,i*=l,o*=l,s=Math.sin(t),u=Math.cos(t),f=1-u,c=r[0],h=r[1],d=r[2],p=r[3],g=r[4],y=r[5],b=r[6],_=r[7],w=r[8],x=r[9],T=r[10],S=r[11],M=n*n*f+u,C=i*n*f+o*s,q=o*n*f-i*s,F=n*i*f-o*s,P=i*i*f+u,I=o*i*f+n*s,H=n*o*f+i*s,V=i*o*f-n*s,j=o*o*f+u,e[0]=c*M+g*C+w*q,e[1]=h*M+y*C+x*q,e[2]=d*M+b*C+T*q,e[3]=p*M+_*C+S*q,e[4]=c*F+g*P+w*I,e[5]=h*F+y*P+x*I,e[6]=d*F+b*P+T*I,e[7]=p*F+_*P+S*I,e[8]=c*H+g*V+w*j,e[9]=h*H+y*V+x*j,e[10]=d*H+b*V+T*j,e[11]=p*H+_*V+S*j,r!==e&&(e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e)}});var vS=R((bMe,cS)=>{cS.exports=ine;function ine(e,r,t){var a=Math.sin(t),n=Math.cos(t),i=r[4],o=r[5],l=r[6],s=r[7],u=r[8],f=r[9],c=r[10],h=r[11];return r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=i*n+u*a,e[5]=o*n+f*a,e[6]=l*n+c*a,e[7]=s*n+h*a,e[8]=u*n-i*a,e[9]=f*n-o*a,e[10]=c*n-l*a,e[11]=h*n-s*a,e}});var dS=R((xMe,hS)=>{hS.exports=one;function one(e,r,t){var a=Math.sin(t),n=Math.cos(t),i=r[0],o=r[1],l=r[2],s=r[3],u=r[8],f=r[9],c=r[10],h=r[11];return r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=i*n-u*a,e[1]=o*n-f*a,e[2]=l*n-c*a,e[3]=s*n-h*a,e[8]=i*a+u*n,e[9]=o*a+f*n,e[10]=l*a+c*n,e[11]=s*a+h*n,e}});var yS=R((_Me,pS)=>{pS.exports=lne;function lne(e,r,t){var a=Math.sin(t),n=Math.cos(t),i=r[0],o=r[1],l=r[2],s=r[3],u=r[4],f=r[5],c=r[6],h=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=i*n+u*a,e[1]=o*n+f*a,e[2]=l*n+c*a,e[3]=s*n+h*a,e[4]=u*n-i*a,e[5]=f*n-o*a,e[6]=c*n-l*a,e[7]=h*n-s*a,e}});var gS=R((wMe,mS)=>{mS.exports=sne;function sne(e,r,t){var a,n,i,o=t[0],l=t[1],s=t[2],u=Math.sqrt(o*o+l*l+s*s);return Math.abs(u)<1e-6?null:(u=1/u,o*=u,l*=u,s*=u,a=Math.sin(r),n=Math.cos(r),i=1-n,e[0]=o*o*i+n,e[1]=l*o*i+s*a,e[2]=s*o*i-l*a,e[3]=0,e[4]=o*l*i-s*a,e[5]=l*l*i+n,e[6]=s*l*i+o*a,e[7]=0,e[8]=o*s*i+l*a,e[9]=l*s*i-o*a,e[10]=s*s*i+n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}});var xS=R((AMe,bS)=>{bS.exports=une;function une(e,r,t){var a=r[0],n=r[1],i=r[2],o=r[3],l=a+a,s=n+n,u=i+i,f=a*l,c=a*s,h=a*u,d=n*s,p=n*u,g=i*u,y=o*l,b=o*s,_=o*u;return e[0]=1-(d+g),e[1]=c+_,e[2]=h-b,e[3]=0,e[4]=c-_,e[5]=1-(f+g),e[6]=p+y,e[7]=0,e[8]=h+b,e[9]=p-y,e[10]=1-(f+d),e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}});var wS=R((TMe,_S)=>{_S.exports=fne;function fne(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var TS=R((MMe,AS)=>{AS.exports=cne;function cne(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}});var SS=R((SMe,MS)=>{MS.exports=vne;function vne(e,r){var t=Math.sin(r),a=Math.cos(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=t,e[7]=0,e[8]=0,e[9]=-t,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var CS=R((kMe,kS)=>{kS.exports=hne;function hne(e,r){var t=Math.sin(r),a=Math.cos(r);return e[0]=a,e[1]=0,e[2]=-t,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=t,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var LS=R((CMe,ES)=>{ES.exports=dne;function dne(e,r){var t=Math.sin(r),a=Math.cos(r);return e[0]=a,e[1]=t,e[2]=0,e[3]=0,e[4]=-t,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var b_=R((EMe,qS)=>{qS.exports=pne;function pne(e,r){var t=r[0],a=r[1],n=r[2],i=r[3],o=t+t,l=a+a,s=n+n,u=t*o,f=a*o,c=a*l,h=n*o,d=n*l,p=n*s,g=i*o,y=i*l,b=i*s;return e[0]=1-c-p,e[1]=f+b,e[2]=h-y,e[3]=0,e[4]=f-b,e[5]=1-u-p,e[6]=d+g,e[7]=0,e[8]=h+y,e[9]=d-g,e[10]=1-u-c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var FS=R((LMe,DS)=>{DS.exports=yne;function yne(e,r,t,a,n,i,o){var l=1/(t-r),s=1/(n-a),u=1/(i-o);return e[0]=i*2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*s,e[6]=0,e[7]=0,e[8]=(t+r)*l,e[9]=(n+a)*s,e[10]=(o+i)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*u,e[15]=0,e}});var PS=R((qMe,RS)=>{RS.exports=mne;function mne(e,r,t,a,n){var i=1/Math.tan(r/2),o=1/(a-n);return e[0]=i/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(n+a)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*n*a*o,e[15]=0,e}});var IS=R((DMe,NS)=>{NS.exports=gne;function gne(e,r,t,a){var n=Math.tan(r.upDegrees*Math.PI/180),i=Math.tan(r.downDegrees*Math.PI/180),o=Math.tan(r.leftDegrees*Math.PI/180),l=Math.tan(r.rightDegrees*Math.PI/180),s=2/(o+l),u=2/(n+i);return e[0]=s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-((o-l)*s*.5),e[9]=(n-i)*u*.5,e[10]=a/(t-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*t/(t-a),e[15]=0,e}});var zS=R((FMe,OS)=>{OS.exports=bne;function bne(e,r,t,a,n,i,o){var l=1/(r-t),s=1/(a-n),u=1/(i-o);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(r+t)*l,e[13]=(n+a)*s,e[14]=(o+i)*u,e[15]=1,e}});var US=R((RMe,BS)=>{var xne=g_();BS.exports=_ne;function _ne(e,r,t,a){var n,i,o,l,s,u,f,c,h,d,p=r[0],g=r[1],y=r[2],b=a[0],_=a[1],w=a[2],x=t[0],T=t[1],S=t[2];return Math.abs(p-x)<1e-6&&Math.abs(g-T)<1e-6&&Math.abs(y-S)<1e-6?xne(e):(f=p-x,c=g-T,h=y-S,d=1/Math.sqrt(f*f+c*c+h*h),f*=d,c*=d,h*=d,n=_*h-w*c,i=w*f-b*h,o=b*c-_*f,d=Math.sqrt(n*n+i*i+o*o),d?(d=1/d,n*=d,i*=d,o*=d):(n=0,i=0,o=0),l=c*o-h*i,s=h*n-f*o,u=f*i-c*n,d=Math.sqrt(l*l+s*s+u*u),d?(d=1/d,l*=d,s*=d,u*=d):(l=0,s=0,u=0),e[0]=n,e[1]=l,e[2]=f,e[3]=0,e[4]=i,e[5]=s,e[6]=c,e[7]=0,e[8]=o,e[9]=u,e[10]=h,e[11]=0,e[12]=-(n*p+i*g+o*y),e[13]=-(l*p+s*g+u*y),e[14]=-(f*p+c*g+h*y),e[15]=1,e)}});var GS=R((PMe,HS)=>{HS.exports=wne;function wne(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}});var x_=R((NMe,VS)=>{VS.exports={create:GM(),clone:YM(),copy:jM(),identity:g_(),transpose:JM(),invert:KM(),adjoint:eS(),determinant:tS(),multiply:nS(),translate:oS(),scale:sS(),rotate:fS(),rotateX:vS(),rotateY:dS(),rotateZ:yS(),fromRotation:gS(),fromRotationTranslation:xS(),fromScaling:wS(),fromTranslation:TS(),fromXRotation:SS(),fromYRotation:CS(),fromZRotation:LS(),fromQuat:b_(),frustum:FS(),perspective:PS(),perspectiveFromFieldOfView:IS(),ortho:zS(),lookAt:US(),str:GS()}});var Xm=R(hn=>{"use strict";var Ane=x_();hn.init2dArray=function(e,r){for(var t=new Array(e),a=0;a<e;a++)t[a]=new Array(r);return t};hn.transposeRagged=function(e){var r=0,t=e.length,a,n;for(a=0;a<t;a++)r=Math.max(r,e[a].length);var i=new Array(r);for(a=0;a<r;a++)for(i[a]=new Array(t),n=0;n<t;n++)i[a][n]=e[n][a];return i};hn.dot=function(e,r){if(!(e.length&&r.length)||e.length!==r.length)return null;var t=e.length,a,n;if(e[0].length)for(a=new Array(t),n=0;n<t;n++)a[n]=hn.dot(e[n],r);else if(r[0].length){var i=hn.transposeRagged(r);for(a=new Array(i.length),n=0;n<i.length;n++)a[n]=hn.dot(e,i[n])}else for(a=0,n=0;n<t;n++)a+=e[n]*r[n];return a};hn.translationMatrix=function(e,r){return[[1,0,e],[0,1,r],[0,0,1]]};hn.rotationMatrix=function(e){var r=e*Math.PI/180;return[[Math.cos(r),-Math.sin(r),0],[Math.sin(r),Math.cos(r),0],[0,0,1]]};hn.rotationXYMatrix=function(e,r,t){return hn.dot(hn.dot(hn.translationMatrix(r,t),hn.rotationMatrix(e)),hn.translationMatrix(-r,-t))};hn.apply3DTransform=function(e){return function(){var r=arguments,t=arguments.length===1?r[0]:[r[0],r[1],r[2]||0];return hn.dot(e,[t[0],t[1],t[2],1]).slice(0,3)}};hn.apply2DTransform=function(e){return function(){var r=arguments;r.length===3&&(r=r[0]);var t=arguments.length===1?r[0]:[r[0],r[1]];return hn.dot(e,[t[0],t[1],1]).slice(0,2)}};hn.apply2DTransform2=function(e){var r=hn.apply2DTransform(e);return function(t){return r(t.slice(0,2)).concat(r(t.slice(2,4)))}};hn.convertCssMatrix=function(e){if(e){var r=e.length;if(r===16)return e;if(r===6)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};hn.inverseTransformMatrix=function(e){var r=[];return Ane.invert(r,e),[[r[0],r[1],r[2],r[3]],[r[4],r[5],r[6],r[7]],[r[8],r[9],r[10],r[11]],[r[12],r[13],r[14],r[15]]]}});var r1=R((OMe,JS)=>{"use strict";var Tne=aa(),YS=lc(),Mne=Xm(),Sne=x_();function kne(e){var r;if(typeof e=="string"){if(r=document.getElementById(e),r===null)throw new Error("No DOM element with id '"+e+"' exists on the page.");return r}else if(e==null)throw new Error("DOM element provided is null or undefined");return e}function Cne(e){var r=Tne.select(e);return r.node()instanceof HTMLElement&&r.size()&&r.classed("js-plotly-plot")}function WS(e){var r=e&&e.parentNode;r&&r.removeChild(e)}function Ene(e,r){jS("global",e,r)}function jS(e,r,t){var a="plotly.js-style-"+e,n=document.getElementById(a);if(!(n&&n.matches(".no-inline-styles"))){n||(n=document.createElement("style"),n.setAttribute("id",a),n.appendChild(document.createTextNode("")),document.head.appendChild(n));var i=n.sheet;i?i.insertRule?i.insertRule(r+"{"+t+"}",0):i.addRule?i.addRule(r,t,0):YS.warn("addStyleRule failed"):YS.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function Lne(e){var r="plotly.js-style-"+e,t=document.getElementById(r);t&&WS(t)}function qne(e,r,t,a,n){var i=a.split(":"),o=n.split(":"),l="data-btn-style-event-added";document.querySelectorAll(e).forEach(function(s){s.getAttribute(l)||(s.addEventListener("mouseenter",function(){var u=this.querySelector(t);u&&(u.style[i[0]]=i[1])}),s.addEventListener("mouseleave",function(){var u=this.querySelector(t);u&&(r&&this.matches(r)?u.style[i[0]]=i[1]:u.style[o[0]]=o[1])}),s.setAttribute(l,!0))})}function Dne(e){var r=ZS(e),t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r.forEach(function(a){var n=XS(a);if(n){var i=Mne.convertCssMatrix(n);t=Sne.multiply(t,t,i)}}),t}function XS(e){var r=window.getComputedStyle(e,null),t=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform");return t==="none"?null:t.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(a){return+a})}function ZS(e){for(var r=[];Fne(e);)r.push(e),e=e.parentNode,typeof ShadowRoot=="function"&&e instanceof ShadowRoot&&(e=e.host);return r}function Fne(e){return e&&(e instanceof Element||e instanceof HTMLElement)}function Rne(e,r){return e&&r&&e.top===r.top&&e.left===r.left&&e.right===r.right&&e.bottom===r.bottom}JS.exports={getGraphDiv:kne,isPlotDiv:Cne,removeElement:WS,addStyleRule:Ene,addRelatedStyleRule:jS,deleteRelatedStyleRule:Lne,setStyleOnHover:qne,getFullTransformMatrix:Dne,getElementTransformMatrix:XS,getElementAndAncestors:ZS,equalDomRects:Rne}});var t1=R((zMe,$S)=>{"use strict";$S.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}});var yl=R((BMe,nk)=>{"use strict";var QS=xn().extendFlat,Pne=Pu(),ek={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},rk={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},Nne=ek.flags.slice().concat(["fullReplot"]),Ine=rk.flags.slice().concat("layoutReplot");nk.exports={traces:ek,layout:rk,traceFlags:function(){return KS(Nne)},layoutFlags:function(){return KS(Ine)},update:function(e,r){var t=r.editType;if(t&&t!=="none")for(var a=t.split("+"),n=0;n<a.length;n++)e[a[n]]=!0},overrideAll:tk};function KS(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!1;return r}function tk(e,r,t){var a=QS({},e);for(var n in a){var i=a[n];Pne(i)&&(a[n]=ak(i,r,t,n))}return t==="from-root"&&(a.editType=r),a}function ak(e,r,t,a){if(e.valType){var n=QS({},e);if(n.editType=r,Array.isArray(e.items)){n.items=new Array(e.items.length);for(var i=0;i<e.items.length;i++)n.items[i]=ak(e.items[i],r,"from-root")}return n}else return tk(e,r,a.charAt(0)==="_"?"nested":"from-root")}});var Us=R(__=>{"use strict";__.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"};__.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}});var w_=R((HMe,ik)=>{"use strict";ik.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}});var Hs=R(Zm=>{"use strict";var ok=w_(),GMe=ok.FORMAT_LINK,VMe=ok.DATE_FORMAT_LINK;function A_(e){var r=e.description?" "+e.description:"",t=e.keys||[];if(t.length>0){for(var a=[],n=0;n<t.length;n++)a[n]="`"+t[n]+"`";r=r+"Finally, the template string has access to ",t.length===1?r=r+"variable "+a[0]:r=r+"variables "+a.slice(0,-1).join(", ")+" and "+a.slice(-1)+"."}return r}Zm.hovertemplateAttrs=function(e,r){e=e||{},r=r||{};var t=A_(r),a={valType:"string",dflt:"",editType:e.editType||"none"};return e.arrayOk!==!1&&(a.arrayOk=!0),a};Zm.texttemplateAttrs=function(e,r){e=e||{},r=r||{};var t=A_(r),a={valType:"string",dflt:"",editType:e.editType||"calc"};return e.arrayOk!==!1&&(a.arrayOk=!0),a};Zm.shapeTexttemplateAttrs=function(e,r){e=e||{},r=r||{};var t=e.newshape?"new ":"",a=A_(r),n={valType:"string",dflt:"",editType:e.editType||"arraydraw"};return n}});var Km=R((WMe,vk)=>{"use strict";function Ou(e,r){return r?r.d2l(e):e}function lk(e,r){return r?r.l2d(e):e}function One(e){return e.x0}function zne(e){return e.x1}function Bne(e){return e.y0}function Une(e){return e.y1}function sk(e){return e.x0shift||0}function uk(e){return e.x1shift||0}function fk(e){return e.y0shift||0}function ck(e){return e.y1shift||0}function Jm(e,r){return Ou(e.x1,r)+uk(e)-Ou(e.x0,r)-sk(e)}function $m(e,r,t){return Ou(e.y1,t)+ck(e)-Ou(e.y0,t)-fk(e)}function Hne(e,r){return Math.abs(Jm(e,r))}function Gne(e,r,t){return Math.abs($m(e,r,t))}function Vne(e,r,t){return e.type!=="line"?void 0:Math.sqrt(Math.pow(Jm(e,r),2)+Math.pow($m(e,r,t),2))}function Yne(e,r){return lk((Ou(e.x1,r)+uk(e)+Ou(e.x0,r)+sk(e))/2,r)}function Wne(e,r,t){return lk((Ou(e.y1,t)+ck(e)+Ou(e.y0,t)+fk(e))/2,t)}function jne(e,r,t){return e.type!=="line"?void 0:$m(e,r,t)/Jm(e,r)}vk.exports={x0:One,x1:zne,y0:Bne,y1:Une,slope:jne,dx:Jm,dy:$m,width:Hne,height:Gne,length:Vne,xcenter:Yne,ycenter:Wne}});var pk=R((jMe,dk)=>{"use strict";var Xne=yl().overrideAll,sc=pl(),hk=ti(),Zne=Us().dash,zu=xn().extendFlat,Jne=Hs().shapeTexttemplateAttrs,$ne=Km();dk.exports=Xne({newshape:{visible:zu({},sc.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:zu({},sc.legend,{}),legendgroup:zu({},sc.legendgroup,{}),legendgrouptitle:{text:zu({},sc.legendgrouptitle.text,{}),font:hk({})},legendrank:zu({},sc.legendrank,{}),legendwidth:zu({},sc.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:zu({},Zne,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:zu({},sc.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:Jne({newshape:!0},{keys:Object.keys($ne)}),font:hk({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")});var mk=R((XMe,yk)=>{"use strict";var Kne=Us().dash,Qne=xn().extendFlat;yk.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:Qne({},Kne,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}});var Qm=R((ZMe,gk)=>{"use strict";gk.exports=function(e){var r=e.editType;return{t:{valType:"number",dflt:0,editType:r},r:{valType:"number",dflt:0,editType:r},b:{valType:"number",dflt:0,editType:r},l:{valType:"number",dflt:0,editType:r},editType:r}}});var a0=R((JMe,wk)=>{"use strict";var T_=ti(),eie=t1(),eg=es(),bk=pk(),xk=mk(),rie=Qm(),_k=xn().extendFlat,rg=T_({editType:"calc"});rg.family.dflt='"Open Sans", verdana, arial, sans-serif';rg.size.dflt=12;rg.color.dflt=eg.defaultLine;wk.exports={font:rg,title:{text:{valType:"string",editType:"layoutstyle"},font:T_({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:T_({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:_k(rie({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:eg.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:eg.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:eg.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:bk.newshape,activeshape:bk.activeshape,newselection:xk.newselection,activeselection:xk.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:_k({},eie.transition,{editType:"none"})}});var Ak=z9(()=>{});var tie={};var Tk=z9(()=>{Ak()});var _t=R(Jt=>{"use strict";var n0=lc(),Mk=jm(),Sk=m_(),aie=Pu(),nie=r1().addStyleRule,kk=xn(),iie=pl(),oie=a0(),lie=kk.extendFlat,M_=kk.extendDeepAll;Jt.modules={};Jt.allCategories={};Jt.allTypes=[];Jt.subplotsRegistry={};Jt.componentsRegistry={};Jt.layoutArrayContainers=[];Jt.layoutArrayRegexes=[];Jt.traceLayoutAttributes={};Jt.localeRegistry={};Jt.apiMethodRegistry={};Jt.collectableSubplotTypes=null;Jt.register=function(r){if(Jt.collectableSubplotTypes=null,r)r&&!Array.isArray(r)&&(r=[r]);else throw new Error("No argument passed to Plotly.register.");for(var t=0;t<r.length;t++){var a=r[t];if(!a)throw new Error("Invalid module was attempted to be registered!");switch(a.moduleType){case"trace":sie(a);break;case"transform":cie(a);break;case"component":fie(a);break;case"locale":vie(a);break;case"apiMethod":var n=a.name;Jt.apiMethodRegistry[n]=a.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}};Jt.getModule=function(e){var r=Jt.modules[qk(e)];return r?r._module:!1};Jt.traceIs=function(e,r){if(e=qk(e),e==="various")return!1;var t=Jt.modules[e];return t||(e&&n0.log("Unrecognized trace type "+e+"."),t=Jt.modules[iie.type.dflt]),!!t.categories[r]};Jt.getComponentMethod=function(e,r){var t=Jt.componentsRegistry[e];return t&&t[r]||Mk};Jt.call=function(){var e=arguments[0],r=[].slice.call(arguments,1);return Jt.apiMethodRegistry[e].apply(null,r)};function sie(e){var r=e.name,t=e.categories,a=e.meta;if(Jt.modules[r]){n0.log("Type "+r+" already registered");return}Jt.subplotsRegistry[e.basePlotModule.name]||uie(e.basePlotModule);for(var n={},i=0;i<t.length;i++)n[t[i]]=!0,Jt.allCategories[t[i]]=!0;Jt.modules[r]={_module:e,categories:n},a&&Object.keys(a).length&&(Jt.modules[r].meta=a),Jt.allTypes.push(r);for(var o in Jt.componentsRegistry)Ek(o,r);e.layoutAttributes&&lie(Jt.traceLayoutAttributes,e.layoutAttributes);var l=e.basePlotModule,s=l.name;if(s==="mapbox"){var u=l.constants.styleRules;for(var f in u)nie(".js-plotly-plot .plotly .mapboxgl-"+f,u[f])}s==="map"&&(Tk(),vae(tie)),(s==="geo"||s==="mapbox"||s==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function uie(e){var r=e.name;if(Jt.subplotsRegistry[r]){n0.log("Plot type "+r+" already registered.");return}Ck(e),Jt.subplotsRegistry[r]=e;for(var t in Jt.componentsRegistry)Lk(t,e.name)}function fie(e){if(typeof e.name!="string")throw new Error("Component module *name* must be a string.");var r=e.name;Jt.componentsRegistry[r]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&Sk(Jt.layoutArrayContainers,r),Ck(e));for(var t in Jt.modules)Ek(r,t);for(var a in Jt.subplotsRegistry)Lk(r,a);e.schema&&e.schema.layout&&M_(oie,e.schema.layout)}function cie(e){if(typeof e.name!="string")throw new Error("Transform module *name* must be a string.");var r="Transform module "+e.name,t=typeof e.transform=="function",a=typeof e.calcTransform=="function";if(!t&&!a)throw new Error(r+" is missing a *transform* or *calcTransform* method.");t&&a&&n0.log([r+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),aie(e.attributes)||n0.log(r+" registered without an *attributes* object."),typeof e.supplyDefaults!="function"&&n0.log(r+" registered without a *supplyDefaults* method.")}function vie(e){var r=e.name,t=r.split("-")[0],a=e.dictionary,n=e.format,i=a&&Object.keys(a).length,o=n&&Object.keys(n).length,l=Jt.localeRegistry,s=l[r];if(s||(l[r]=s={}),t!==r){var u=l[t];u||(l[t]=u={}),i&&u.dictionary===s.dictionary&&(u.dictionary=a),o&&u.format===s.format&&(u.format=n)}i&&(s.dictionary=a),o&&(s.format=n)}function Ck(e){if(e.layoutAttributes){var r=e.layoutAttributes._arrayAttrRegexps;if(r)for(var t=0;t<r.length;t++)Sk(Jt.layoutArrayRegexes,r[t])}}function Ek(e,r){var t=Jt.componentsRegistry[e].schema;if(!(!t||!t.traces)){var a=t.traces[r];a&&M_(Jt.modules[r]._module.attributes,a)}}function Lk(e,r){var t=Jt.componentsRegistry[e].schema;if(!(!t||!t.subplots)){var a=Jt.subplotsRegistry[r],n=a.layoutAttributes,i=a.attr==="subplot"?a.name:a.attr;Array.isArray(i)&&(i=i[0]);var o=t.subplots[i];n&&o&&M_(n,o)}}function qk(e){return typeof e=="object"&&(e=e.type),e}});var Bk=R(dn=>{"use strict";var hie=Zv().timeFormat,Ok=Zt(),S_=lc(),Uu=$v().mod,l0=vn(),Bo=l0.BADNUM,oo=l0.ONEDAY,a1=l0.ONEHOUR,Bu=l0.ONEMIN,o0=l0.ONESEC,n1=l0.EPOCHJD,Gs=_t(),Dk=Zv().utcFormat,die=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,pie=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,Fk=new Date().getFullYear()-70;function Vs(e){return e&&Gs.componentsRegistry.calendars&&typeof e=="string"&&e!=="gregorian"}dn.dateTick0=function(e,r){var t=yie(e,!!r);if(r<2)return t;var a=dn.dateTime2ms(t,e);return a+=oo*(r-1),dn.ms2DateTime(a,0,e)};function yie(e,r){return Vs(e)?r?Gs.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:Gs.getComponentMethod("calendars","CANONICAL_TICK")[e]:r?"2000-01-02":"2000-01-01"}dn.dfltRange=function(e){return Vs(e)?Gs.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]};dn.isJSDate=function(e){return typeof e=="object"&&e!==null&&typeof e.getTime=="function"};var ag,ng;dn.dateTime2ms=function(e,r){if(dn.isJSDate(e)){var t=e.getTimezoneOffset()*Bu,a=(e.getUTCMinutes()-e.getMinutes())*Bu+(e.getUTCSeconds()-e.getSeconds())*o0+(e.getUTCMilliseconds()-e.getMilliseconds());if(a){var n=3*Bu;t=t-n/2+Uu(a-t+n/2,n)}return e=Number(e)-t,e>=ag&&e<=ng?e:Bo}if(typeof e!="string"&&typeof e!="number")return Bo;e=String(e);var i=Vs(r),o=e.charAt(0);i&&(o==="G"||o==="g")&&(e=e.substr(1),r="");var l=i&&r.substr(0,7)==="chinese",s=e.match(l?pie:die);if(!s)return Bo;var u=s[1],f=s[3]||"1",c=Number(s[5]||1),h=Number(s[7]||0),d=Number(s[9]||0),p=Number(s[11]||0);if(i){if(u.length===2)return Bo;u=Number(u);var g;try{var y=Gs.getComponentMethod("calendars","getCal")(r);if(l){var b=f.charAt(f.length-1)==="i";f=parseInt(f,10),g=y.newDate(u,y.toMonthIndex(u,f,b),c)}else g=y.newDate(u,Number(f),c)}catch(w){return Bo}return g?(g.toJD()-n1)*oo+h*a1+d*Bu+p*o0:Bo}u.length===2?u=(Number(u)+2e3-Fk)%100+Fk:u=Number(u),f-=1;var _=new Date(Date.UTC(2e3,f,c,h,d));return _.setUTCFullYear(u),_.getUTCMonth()!==f||_.getUTCDate()!==c?Bo:_.getTime()+p*o0};ag=dn.MIN_MS=dn.dateTime2ms("-9999");ng=dn.MAX_MS=dn.dateTime2ms("9999-12-31 23:59:59.9999");dn.isDateTime=function(e,r){return dn.dateTime2ms(e,r)!==Bo};function i0(e,r){return String(e+Math.pow(10,r)).substr(1)}var tg=90*oo,Rk=3*a1,Pk=5*Bu;dn.ms2DateTime=function(e,r,t){if(typeof e!="number"||!(e>=ag&&e<=ng))return Bo;r||(r=0);var a=Math.floor(Uu(e+.05,1)*10),n=Math.round(e-a/10),i,o,l,s,u,f;if(Vs(t)){var c=Math.floor(n/oo)+n1,h=Math.floor(Uu(e,oo));try{i=Gs.getComponentMethod("calendars","getCal")(t).fromJD(c).formatDate("yyyy-mm-dd")}catch(d){i=Dk("G%Y-%m-%d")(new Date(n))}if(i.charAt(0)==="-")for(;i.length<11;)i="-0"+i.substr(1);else for(;i.length<10;)i="0"+i;o=r<tg?Math.floor(h/a1):0,l=r<tg?Math.floor(h%a1/Bu):0,s=r<Rk?Math.floor(h%Bu/o0):0,u=r<Pk?h%o0*10+a:0}else f=new Date(n),i=Dk("%Y-%m-%d")(f),o=r<tg?f.getUTCHours():0,l=r<tg?f.getUTCMinutes():0,s=r<Rk?f.getUTCSeconds():0,u=r<Pk?f.getUTCMilliseconds()*10+a:0;return zk(i,o,l,s,u)};dn.ms2DateTimeLocal=function(e){if(!(e>=ag+oo&&e<=ng-oo))return Bo;var r=Math.floor(Uu(e+.05,1)*10),t=new Date(Math.round(e-r/10)),a=hie("%Y-%m-%d")(t),n=t.getHours(),i=t.getMinutes(),o=t.getSeconds(),l=t.getUTCMilliseconds()*10+r;return zk(a,n,i,o,l)};function zk(e,r,t,a,n){if((r||t||a||n)&&(e+=" "+i0(r,2)+":"+i0(t,2),(a||n)&&(e+=":"+i0(a,2),n))){for(var i=4;n%10===0;)i-=1,n/=10;e+="."+i0(n,i)}return e}dn.cleanDate=function(e,r,t){if(e===Bo)return r;if(dn.isJSDate(e)||typeof e=="number"&&isFinite(e)){if(Vs(t))return S_.error("JS Dates and milliseconds are incompatible with world calendars",e),r;if(e=dn.ms2DateTimeLocal(+e),!e&&r!==void 0)return r}else if(!dn.isDateTime(e,t))return S_.error("unrecognized date",e),r;return e};var mie=/%\d?f/g,gie=/%h/g,bie={1:"1",2:"1",3:"2",4:"2"};function Nk(e,r,t,a){e=e.replace(mie,function(i){var o=Math.min(+i.charAt(1)||6,6),l=(r/1e3%1+2).toFixed(o).substr(2).replace(/0+$/,"")||"0";return l});var n=new Date(Math.floor(r+.05));if(e=e.replace(gie,function(){return bie[t("%q")(n)]}),Vs(a))try{e=Gs.getComponentMethod("calendars","worldCalFmt")(e,r,a)}catch(i){return"Invalid"}return t(e)(n)}var xie=[59,59.9,59.99,59.999,59.9999];function _ie(e,r){var t=Uu(e+.05,oo),a=i0(Math.floor(t/a1),2)+":"+i0(Uu(Math.floor(t/Bu),60),2);if(r!=="M"){Ok(r)||(r=0);var n=Math.min(Uu(e/o0,60),xie[r]),i=(100+n).toFixed(r).substr(1);r>0&&(i=i.replace(/0+$/,"").replace(/[\.]$/,"")),a+=":"+i}return a}dn.formatDate=function(e,r,t,a,n,i){if(n=Vs(n)&&n,!r)if(t==="y")r=i.year;else if(t==="m")r=i.month;else if(t==="d")r=i.dayMonth+`
`+i.year;else return _ie(e,t)+`
`+Nk(i.dayMonthYear,e,a,n);return Nk(r,e,a,n)};var Ik=3*oo;dn.incrementMonth=function(e,r,t){t=Vs(t)&&t;var a=Uu(e,oo);if(e=Math.round(e-a),t)try{var n=Math.round(e/oo)+n1,i=Gs.getComponentMethod("calendars","getCal")(t),o=i.fromJD(n);return r%12?i.add(o,r,"m"):i.add(o,r/12,"y"),(o.toJD()-n1)*oo+a}catch(s){S_.error("invalid ms "+e+" in calendar "+t)}var l=new Date(e+Ik);return l.setUTCMonth(l.getUTCMonth()+r)+a-Ik};dn.findExactDates=function(e,r){for(var t=0,a=0,n=0,i=0,o,l,s=Vs(r)&&Gs.getComponentMethod("calendars","getCal")(r),u=0;u<e.length;u++){if(l=e[u],!Ok(l)){i++;continue}if(!(l%oo))if(s)try{o=s.fromJD(l/oo+n1),o.day()===1?o.month()===1?t++:a++:n++}catch(c){}else o=new Date(l),o.getUTCDate()===1?o.getUTCMonth()===0?t++:a++:n++}a+=t,n+=a;var f=e.length-i;return{exactYears:t/f,exactMonths:a/f,exactDays:n/f}}});var k_=R((tSe,Uk)=>{"use strict";Uk.exports=function(r){return r}});var E_=R(Ys=>{"use strict";var wie=Zt(),Aie=lc(),Tie=k_(),Mie=vn().BADNUM,C_=1e-9;Ys.findBin=function(e,r,t){if(wie(r.start))return t?Math.ceil((e-r.start)/r.size-C_)-1:Math.floor((e-r.start)/r.size+C_);var a=0,n=r.length,i=0,o=n>1?(r[n-1]-r[0])/(n-1):1,l,s;for(o>=0?s=t?Sie:kie:s=t?Eie:Cie,e+=o*C_*(t?-1:1)*(o>=0?1:-1);a<n&&i++<100;)l=Math.floor((a+n)/2),s(r[l],e)?a=l+1:n=l;return i>90&&Aie.log("Long binary search..."),a-1};function Sie(e,r){return e<r}function kie(e,r){return e<=r}function Cie(e,r){return e>r}function Eie(e,r){return e>=r}Ys.sorterAsc=function(e,r){return e-r};Ys.sorterDes=function(e,r){return r-e};Ys.distinctVals=function(e){var r=e.slice();r.sort(Ys.sorterAsc);var t;for(t=r.length-1;t>-1&&r[t]===Mie;t--);for(var a=r[t]-r[0]||1,n=a/(t||1)/1e4,i=[],o,l=0;l<=t;l++){var s=r[l],u=s-o;o===void 0?(i.push(s),o=s):u>n&&(a=Math.min(a,u),i.push(s),o=s)}return{vals:i,minDiff:a}};Ys.roundUp=function(e,r,t){for(var a=0,n=r.length-1,i,o=0,l=t?0:1,s=t?1:0,u=t?Math.ceil:Math.floor;a<n&&o++<100;)i=u((a+n)/2),r[i]<=e?a=i+l:n=i-s;return r[a]};Ys.sort=function(e,r){for(var t=0,a=0,n=1;n<e.length;n++){var i=r(e[n],e[n-1]);if(i<0?t=1:i>0&&(a=1),t&&a)return e.sort(r)}return a?e:e.reverse()};Ys.findIndexOfMin=function(e,r){r=r||Tie;for(var t=1/0,a,n=0;n<e.length;n++){var i=r(e[n]);i<t&&(t=i,a=n)}return a}});var ig=R((nSe,Hk)=>{"use strict";Hk.exports=function(r){return Object.keys(r).sort()}});var Gk=R(pn=>{"use strict";var i1=Zt(),Lie=ao().isArrayOrTypedArray;pn.aggNums=function(e,r,t,a){var n,i;if((!a||a>t.length)&&(a=t.length),i1(r)||(r=!1),Lie(t[0])){for(i=new Array(a),n=0;n<a;n++)i[n]=pn.aggNums(e,r,t[n]);t=i}for(n=0;n<a;n++)i1(r)?i1(t[n])&&(r=e(+r,+t[n])):r=t[n];return r};pn.len=function(e){return pn.aggNums(function(r){return r+1},0,e)};pn.mean=function(e,r){return r||(r=pn.len(e)),pn.aggNums(function(t,a){return t+a},0,e)/r};pn.geometricMean=function(e,r){return r||(r=pn.len(e)),Math.pow(pn.aggNums(function(t,a){return t*a},1,e),1/r)};pn.midRange=function(e){if(!(e===void 0||e.length===0))return(pn.aggNums(Math.max,null,e)+pn.aggNums(Math.min,null,e))/2};pn.variance=function(e,r,t){return r||(r=pn.len(e)),i1(t)||(t=pn.mean(e,r)),pn.aggNums(function(a,n){return a+Math.pow(n-t,2)},0,e)/r};pn.stdev=function(e,r,t){return Math.sqrt(pn.variance(e,r,t))};pn.median=function(e){var r=e.slice().sort();return pn.interp(r,.5)};pn.interp=function(e,r){if(!i1(r))throw"n should be a finite number";if(r=r*e.length-.5,r<0)return e[0];if(r>e.length-1)return e[e.length-1];var t=r%1;return t*e[Math.ceil(r)]+(1-t)*e[Math.floor(r)]}});var Xk=R((oSe,jk)=>{"use strict";var Vk=$v(),L_=Vk.mod,qie=Vk.modHalf,o1=Math.PI,Hu=2*o1;function Die(e){return e/180*o1}function Fie(e){return e/o1*180}function q_(e){return Math.abs(e[1]-e[0])>Hu-1e-14}function Yk(e,r){return qie(r-e,Hu)}function Rie(e,r){return Math.abs(Yk(e,r))}function Wk(e,r){if(q_(r))return!0;var t,a;r[0]<r[1]?(t=r[0],a=r[1]):(t=r[1],a=r[0]),t=L_(t,Hu),a=L_(a,Hu),t>a&&(a+=Hu);var n=L_(e,Hu),i=n+Hu;return n>=t&&n<=a||i>=t&&i<=a}function Pie(e,r,t,a){if(!Wk(r,a))return!1;var n,i;return t[0]<t[1]?(n=t[0],i=t[1]):(n=t[1],i=t[0]),e>=n&&e<=i}function D_(e,r,t,a,n,i,o){n=n||0,i=i||0;var l=q_([t,a]),s,u,f,c,h;l?(s=0,u=o1,f=Hu):t<a?(s=t,f=a):(s=a,f=t),e<r?(c=e,h=r):(c=r,h=e);function d(b,_){return[b*Math.cos(_)+n,i-b*Math.sin(_)]}var p=Math.abs(f-s)<=o1?0:1;function g(b,_,w){return"A"+[b,b]+" "+[0,p,w]+" "+d(b,_)}var y;return l?c===null?y="M"+d(h,s)+g(h,u,0)+g(h,f,0)+"Z":y="M"+d(c,s)+g(c,u,0)+g(c,f,0)+"ZM"+d(h,s)+g(h,u,1)+g(h,f,1)+"Z":c===null?(y="M"+d(h,s)+g(h,f,0),o&&(y+="L0,0Z")):y="M"+d(c,s)+"L"+d(h,s)+g(h,f,0)+"L"+d(c,f)+g(c,s,1)+"Z",y}function Nie(e,r,t,a,n){return D_(null,e,r,t,a,n,0)}function Iie(e,r,t,a,n){return D_(null,e,r,t,a,n,1)}function Oie(e,r,t,a,n,i){return D_(e,r,t,a,n,i,1)}jk.exports={deg2rad:Die,rad2deg:Fie,angleDelta:Yk,angleDist:Rie,isFullCircle:q_,isAngleInsideSector:Wk,isPtInsideSector:Pie,pathArc:Nie,pathSector:Iie,pathAnnulus:Oie}});var Zk=R(uc=>{"use strict";uc.isLeftAnchor=function(r){return r.xanchor==="left"||r.xanchor==="auto"&&r.x<=1/3};uc.isCenterAnchor=function(r){return r.xanchor==="center"||r.xanchor==="auto"&&r.x>1/3&&r.x<2/3};uc.isRightAnchor=function(r){return r.xanchor==="right"||r.xanchor==="auto"&&r.x>=2/3};uc.isTopAnchor=function(r){return r.yanchor==="top"||r.yanchor==="auto"&&r.y>=2/3};uc.isMiddleAnchor=function(r){return r.yanchor==="middle"||r.yanchor==="auto"&&r.y>1/3&&r.y<2/3};uc.isBottomAnchor=function(r){return r.yanchor==="bottom"||r.yanchor==="auto"&&r.y<=1/3}});var Kk=R(fc=>{"use strict";var F_=$v().mod;fc.segmentsIntersect=$k;function $k(e,r,t,a,n,i,o,l){var s=t-e,u=n-e,f=o-n,c=a-r,h=i-r,d=l-i,p=s*d-f*c;if(p===0)return null;var g=(u*d-f*h)/p,y=(u*c-s*h)/p;return y<0||y>1||g<0||g>1?null:{x:e+s*g,y:r+c*g}}fc.segmentDistance=function(r,t,a,n,i,o,l,s){if($k(r,t,a,n,i,o,l,s))return 0;var u=a-r,f=n-t,c=l-i,h=s-o,d=u*u+f*f,p=c*c+h*h,g=Math.min(og(u,f,d,i-r,o-t),og(u,f,d,l-r,s-t),og(c,h,p,r-i,t-o),og(c,h,p,a-i,n-o));return Math.sqrt(g)};function og(e,r,t,a,n){var i=a*e+n*r;if(i<0)return a*a+n*n;if(i>t){var o=a-e,l=n-r;return o*o+l*l}else{var s=a*r-n*e;return s*s/t}}var lg,R_,Jk;fc.getTextLocation=function(r,t,a,n){if((r!==R_||n!==Jk)&&(lg={},R_=r,Jk=n),lg[a])return lg[a];var i=r.getPointAtLength(F_(a-n/2,t)),o=r.getPointAtLength(F_(a+n/2,t)),l=Math.atan((o.y-i.y)/(o.x-i.x)),s=r.getPointAtLength(F_(a,t)),u=(s.x*4+i.x+o.x)/6,f=(s.y*4+i.y+o.y)/6,c={x:u,y:f,theta:l};return lg[a]=c,c};fc.clearLocationCache=function(){R_=null};fc.getVisibleSegment=function(r,t,a){var n=t.left,i=t.right,o=t.top,l=t.bottom,s=0,u=r.getTotalLength(),f=u,c,h;function d(g){var y=r.getPointAtLength(g);g===0?c=y:g===u&&(h=y);var b=y.x<n?n-y.x:y.x>i?y.x-i:0,_=y.y<o?o-y.y:y.y>l?y.y-l:0;return Math.sqrt(b*b+_*_)}for(var p=d(s);p;){if(s+=p+a,s>f)return;p=d(s)}for(p=d(f);p;){if(f-=p+a,s>f)return;p=d(f)}return{min:s,max:f,len:f-s,total:u,isClosed:s===0&&f===u&&Math.abs(c.x-h.x)<.1&&Math.abs(c.y-h.y)<.1}};fc.findPointOnPath=function(r,t,a,n){n=n||{};for(var i=n.pathLength||r.getTotalLength(),o=n.tolerance||.001,l=n.iterationLimit||30,s=r.getPointAtLength(0)[a]>r.getPointAtLength(i)[a]?-1:1,u=0,f=0,c=i,h,d,p;u<l;){if(h=(f+c)/2,d=r.getPointAtLength(h),p=d[a]-t,Math.abs(p)<o)return d;s*p>0?c=h:f=h,u++}return d}});var sg=R(l1=>{"use strict";var Ws={};l1.throttle=function(r,t,a){var n=Ws[r],i=Date.now();if(!n){for(var o in Ws)Ws[o].ts<i-6e4&&delete Ws[o];n=Ws[r]={ts:0,timer:null}}Qk(n);function l(){a(),n.ts=Date.now(),n.onDone&&(n.onDone(),n.onDone=null)}if(i>n.ts+t){l();return}n.timer=setTimeout(function(){l(),n.timer=null},t)};l1.done=function(e){var r=Ws[e];return!r||!r.timer?Promise.resolve():new Promise(function(t){var a=r.onDone;r.onDone=function(){a&&a(),t(),r.onDone=null}})};l1.clear=function(e){if(e)Qk(Ws[e]),delete Ws[e];else for(var r in Ws)l1.clear(r)};function Qk(e){e&&e.timer!==null&&(clearTimeout(e.timer),e.timer=null)}});var rC=R((fSe,eC)=>{"use strict";eC.exports=function(r){r._responsiveChartHandler&&(window.removeEventListener("resize",r._responsiveChartHandler),delete r._responsiveChartHandler)}});var tC=R((cSe,ug)=>{"use strict";ug.exports=P_;ug.exports.isMobile=P_;ug.exports.default=P_;var zie=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,Bie=/CrOS/,Uie=/android|ipad|playbook|silk/i;function P_(e){e||(e={});let r=e.ua;if(!r&&typeof navigator!="undefined"&&(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),typeof r!="string")return!1;let t=zie.test(r)&&!Bie.test(r)||!!e.tablet&&Uie.test(r);return!t&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&r.indexOf("Macintosh")!==-1&&r.indexOf("Safari")!==-1&&(t=!0),t}});var nC=R((vSe,aC)=>{"use strict";var Hie=Zt(),Gie=tC();aC.exports=function(r){var t;if(r&&r.hasOwnProperty("userAgent")?t=r.userAgent:t=Vie(),typeof t!="string")return!0;var a=Gie({ua:{headers:{"user-agent":t}},tablet:!0,featureDetect:!1});if(!a)for(var n=t.split(" "),i=1;i<n.length;i++){var o=n[i];if(o.indexOf("Safari")!==-1)for(var l=i-1;l>-1;l--){var s=n[l];if(s.substr(0,8)==="Version/"){var u=s.substr(8).split(".")[0];if(Hie(u)&&(u=+u),u>=13)return!0}}}return a};function Vie(){var e;return typeof navigator!="undefined"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),e}});var oC=R((hSe,iC)=>{"use strict";var Yie=aa();iC.exports=function(r,t,a){var n=r.selectAll("g."+a.replace(/\s/g,".")).data(t,function(o){return o[0].trace.uid});n.exit().remove(),n.enter().append("g").attr("class",a),n.order();var i=r.classed("rangeplot")?"nodeRangePlot3":"node3";return n.each(function(o){o[0][i]=Yie.select(this)}),n}});var sC=R((dSe,lC)=>{"use strict";var Wie=_t();lC.exports=function(r,t){for(var a=r._context.locale,n=0;n<2;n++){for(var i=r._context.locales,o=0;o<2;o++){var l=(i[a]||{}).dictionary;if(l){var s=l[t];if(s)return s}i=Wie.localeRegistry}var u=a.split("-")[0];if(u===a)break;a=u}return t}});var fC=R((pSe,uC)=>{"use strict";uC.exports=function(r){for(var t={},a=[],n=0,i=0;i<r.length;i++){var o=r[i];t[o]!==1&&(t[o]=1,a[n++]=o)}return a}});var vC=R((ySe,cC)=>{"use strict";cC.exports=function(r){for(var t=Zie(r)?Xie:jie,a=[],n=0;n<r.length;n++){var i=r[n];t(i)&&a.push(i)}return a};function jie(e){return e.visible===!0}function Xie(e){var r=e[0].trace;return r.visible===!0&&r._length!==0}function Zie(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}});var dC=R((mSe,hC)=>{"use strict";hC.exports=function(r,t){if(!t)return r;var a=1/Math.abs(t),n=a>1?(a*r+a*t)/a:r+t,i=String(n).length;if(i>16){var o=String(t).length,l=String(r).length;if(i>=l+o){var s=parseFloat(n).toPrecision(12);s.indexOf("e+")===-1&&(n=+s)}}return n}});var yC=R((gSe,pC)=>{"use strict";var Jie=Zt(),$ie=vn().BADNUM,Kie=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;pC.exports=function(r){return typeof r=="string"&&(r=r.replace(Kie,"")),Jie(r)?Number(r):$ie}});var fr=R((bSe,EC)=>{"use strict";var s1=aa(),Qie=Zv().utcFormat,eoe=a_().format,wC=Zt(),AC=vn(),TC=AC.FP_SAFE,roe=-TC,mC=AC.BADNUM,Ce=EC.exports={};Ce.adjustFormat=function(r){return!r||/^\d[.]\df/.test(r)||/[.]\d%/.test(r)?r:r==="0.f"?"~f":/^\d%/.test(r)?"~%":/^\ds/.test(r)?"~s":!/^[~,.0$]/.test(r)&&/[&fps]/.test(r)?"~"+r:r};var gC={};Ce.warnBadFormat=function(e){var r=String(e);gC[r]||(gC[r]=1,Ce.warn('encountered bad format: "'+r+'"'))};Ce.noFormat=function(e){return String(e)};Ce.numberFormat=function(e){var r;try{r=eoe(Ce.adjustFormat(e))}catch(t){return Ce.warnBadFormat(e),Ce.noFormat}return r};Ce.nestedProperty=Im();Ce.keyedContainer=sM();Ce.relativeAttr=fM();Ce.isPlainObject=Pu();Ce.toLogRange=zm();Ce.relinkPrivateKeys=dM();var Gu=ao();Ce.isArrayBuffer=Gu.isArrayBuffer;Ce.isTypedArray=Gu.isTypedArray;Ce.isArrayOrTypedArray=Gu.isArrayOrTypedArray;Ce.isArray1D=Gu.isArray1D;Ce.ensureArray=Gu.ensureArray;Ce.concat=Gu.concat;Ce.maxRowLength=Gu.maxRowLength;Ce.minRowLength=Gu.minRowLength;var MC=$v();Ce.mod=MC.mod;Ce.modHalf=MC.modHalf;var Vu=FM();Ce.valObjectMeta=Vu.valObjectMeta;Ce.coerce=Vu.coerce;Ce.coerce2=Vu.coerce2;Ce.coerceFont=Vu.coerceFont;Ce.coercePattern=Vu.coercePattern;Ce.coerceHoverinfo=Vu.coerceHoverinfo;Ce.coerceSelectionMarkerOpacity=Vu.coerceSelectionMarkerOpacity;Ce.validate=Vu.validate;var To=Bk();Ce.dateTime2ms=To.dateTime2ms;Ce.isDateTime=To.isDateTime;Ce.ms2DateTime=To.ms2DateTime;Ce.ms2DateTimeLocal=To.ms2DateTimeLocal;Ce.cleanDate=To.cleanDate;Ce.isJSDate=To.isJSDate;Ce.formatDate=To.formatDate;Ce.incrementMonth=To.incrementMonth;Ce.dateTick0=To.dateTick0;Ce.dfltRange=To.dfltRange;Ce.findExactDates=To.findExactDates;Ce.MIN_MS=To.MIN_MS;Ce.MAX_MS=To.MAX_MS;var cc=E_();Ce.findBin=cc.findBin;Ce.sorterAsc=cc.sorterAsc;Ce.sorterDes=cc.sorterDes;Ce.distinctVals=cc.distinctVals;Ce.roundUp=cc.roundUp;Ce.sort=cc.sort;Ce.findIndexOfMin=cc.findIndexOfMin;Ce.sortObjectKeys=ig();var js=Gk();Ce.aggNums=js.aggNums;Ce.len=js.len;Ce.mean=js.mean;Ce.geometricMean=js.geometricMean;Ce.median=js.median;Ce.midRange=js.midRange;Ce.variance=js.variance;Ce.stdev=js.stdev;Ce.interp=js.interp;var ml=Xm();Ce.init2dArray=ml.init2dArray;Ce.transposeRagged=ml.transposeRagged;Ce.dot=ml.dot;Ce.translationMatrix=ml.translationMatrix;Ce.rotationMatrix=ml.rotationMatrix;Ce.rotationXYMatrix=ml.rotationXYMatrix;Ce.apply3DTransform=ml.apply3DTransform;Ce.apply2DTransform=ml.apply2DTransform;Ce.apply2DTransform2=ml.apply2DTransform2;Ce.convertCssMatrix=ml.convertCssMatrix;Ce.inverseTransformMatrix=ml.inverseTransformMatrix;var ts=Xk();Ce.deg2rad=ts.deg2rad;Ce.rad2deg=ts.rad2deg;Ce.angleDelta=ts.angleDelta;Ce.angleDist=ts.angleDist;Ce.isFullCircle=ts.isFullCircle;Ce.isAngleInsideSector=ts.isAngleInsideSector;Ce.isPtInsideSector=ts.isPtInsideSector;Ce.pathArc=ts.pathArc;Ce.pathSector=ts.pathSector;Ce.pathAnnulus=ts.pathAnnulus;var u0=Zk();Ce.isLeftAnchor=u0.isLeftAnchor;Ce.isCenterAnchor=u0.isCenterAnchor;Ce.isRightAnchor=u0.isRightAnchor;Ce.isTopAnchor=u0.isTopAnchor;Ce.isMiddleAnchor=u0.isMiddleAnchor;Ce.isBottomAnchor=u0.isBottomAnchor;var f0=Kk();Ce.segmentsIntersect=f0.segmentsIntersect;Ce.segmentDistance=f0.segmentDistance;Ce.getTextLocation=f0.getTextLocation;Ce.clearLocationCache=f0.clearLocationCache;Ce.getVisibleSegment=f0.getVisibleSegment;Ce.findPointOnPath=f0.findPointOnPath;var vg=xn();Ce.extendFlat=vg.extendFlat;Ce.extendDeep=vg.extendDeep;Ce.extendDeepAll=vg.extendDeepAll;Ce.extendDeepNoArrays=vg.extendDeepNoArrays;var N_=lc();Ce.log=N_.log;Ce.warn=N_.warn;Ce.error=N_.error;var toe=e0();Ce.counterRegex=toe.counter;var I_=sg();Ce.throttle=I_.throttle;Ce.throttleDone=I_.done;Ce.clearThrottle=I_.clear;var gl=r1();Ce.getGraphDiv=gl.getGraphDiv;Ce.isPlotDiv=gl.isPlotDiv;Ce.removeElement=gl.removeElement;Ce.addStyleRule=gl.addStyleRule;Ce.addRelatedStyleRule=gl.addRelatedStyleRule;Ce.deleteRelatedStyleRule=gl.deleteRelatedStyleRule;Ce.setStyleOnHover=gl.setStyleOnHover;Ce.getFullTransformMatrix=gl.getFullTransformMatrix;Ce.getElementTransformMatrix=gl.getElementTransformMatrix;Ce.getElementAndAncestors=gl.getElementAndAncestors;Ce.equalDomRects=gl.equalDomRects;Ce.clearResponsive=rC();Ce.preserveDrawingBuffer=nC();Ce.makeTraceGroups=oC();Ce._=sC();Ce.notifier=d_();Ce.filterUnique=fC();Ce.filterVisible=vC();Ce.pushUnique=m_();Ce.increment=dC();Ce.cleanNumber=yC();Ce.ensureNumber=function(r){return wC(r)?(r=Number(r),r>TC||r<roe?mC:r):mC};Ce.isIndex=function(e,r){return r!==void 0&&e>=r?!1:wC(e)&&e>=0&&e%1===0};Ce.noop=jm();Ce.identity=k_();Ce.repeat=function(e,r){for(var t=new Array(r),a=0;a<r;a++)t[a]=e;return t};Ce.swapAttrs=function(e,r,t,a){t||(t="x"),a||(a="y");for(var n=0;n<r.length;n++){var i=r[n],o=Ce.nestedProperty(e,i.replace("?",t)),l=Ce.nestedProperty(e,i.replace("?",a)),s=o.get();o.set(l.get()),l.set(s)}};Ce.raiseToTop=function(r){r.parentNode.appendChild(r)};Ce.cancelTransition=function(e){return e.transition().duration(0)};Ce.constrain=function(e,r,t){return r>t?Math.max(t,Math.min(r,e)):Math.max(r,Math.min(t,e))};Ce.bBoxIntersect=function(e,r,t){return t=t||0,e.left<=r.right+t&&r.left<=e.right+t&&e.top<=r.bottom+t&&r.top<=e.bottom+t};Ce.simpleMap=function(e,r,t,a,n){for(var i=e.length,o=new Array(i),l=0;l<i;l++)o[l]=r(e[l],t,a,n);return o};Ce.randstr=function e(r,t,a,n){if(a||(a=16),t===void 0&&(t=24),t<=0)return"0";var i=Math.log(Math.pow(2,t))/Math.log(a),o="",l,s,u;for(l=2;i===1/0;l*=2)i=Math.log(Math.pow(2,t/l))/Math.log(a)*l;var f=i-Math.floor(i);for(l=0;l<Math.floor(i);l++)u=Math.floor(Math.random()*a).toString(a),o=u+o;f&&(s=Math.pow(a,f),u=Math.floor(Math.random()*s).toString(a),o=u+o);var c=parseInt(o,a);return r&&r[o]||c!==1/0&&c>=Math.pow(2,t)?n>10?(Ce.warn("randstr failed uniqueness"),o):e(r,t,a,(n||0)+1):o};Ce.OptionControl=function(e,r){e||(e={}),r||(r="opt");var t={};return t.optionList=[],t._newoption=function(a){a[r]=e,t[a.name]=a,t.optionList.push(a)},t["_"+r]=e,t};Ce.smooth=function(e,r){if(r=Math.round(r)||0,r<2)return e;var t=e.length,a=2*t,n=2*r-1,i=new Array(n),o=new Array(t),l,s,u,f;for(l=0;l<n;l++)i[l]=(1-Math.cos(Math.PI*(l+1)/r))/(2*r);for(l=0;l<t;l++){for(f=0,s=0;s<n;s++)u=l+s+1-r,u<-t?u-=a*Math.round(u/a):u>=a&&(u-=a*Math.floor(u/a)),u<0?u=-1-u:u>=t&&(u=a-1-u),f+=e[u]*i[s];o[l]=f}return o};Ce.syncOrAsync=function(e,r,t){var a,n;function i(){return Ce.syncOrAsync(e,r,t)}for(;e.length;)if(n=e.splice(0,1)[0],a=n(r),a&&a.then)return a.then(i);return t&&t(r)};Ce.stripTrailingSlash=function(e){return e.substr(-1)==="/"?e.substr(0,e.length-1):e};Ce.noneOrAll=function(e,r,t){if(e){var a=!1,n=!0,i,o;for(i=0;i<t.length;i++)o=e[t[i]],o!=null?a=!0:n=!1;if(a&&!n)for(i=0;i<t.length;i++)e[t[i]]=r[t[i]]}};Ce.mergeArray=function(e,r,t,a){var n=typeof a=="function";if(Ce.isArrayOrTypedArray(e))for(var i=Math.min(e.length,r.length),o=0;o<i;o++){var l=e[o];r[o][t]=n?a(l):l}};Ce.mergeArrayCastPositive=function(e,r,t){return Ce.mergeArray(e,r,t,function(a){var n=+a;return isFinite(n)&&n>0?n:0})};Ce.fillArray=function(e,r,t,a){if(a=a||Ce.identity,Ce.isArrayOrTypedArray(e))for(var n=0;n<r.length;n++)r[n][t]=a(e[n])};Ce.castOption=function(e,r,t,a){a=a||Ce.identity;var n=Ce.nestedProperty(e,t).get();return Ce.isArrayOrTypedArray(n)?Array.isArray(r)&&Ce.isArrayOrTypedArray(n[r[0]])?a(n[r[0]][r[1]]):a(n[r]):n};Ce.extractOption=function(e,r,t,a){if(t in e)return e[t];var n=Ce.nestedProperty(r,a).get();if(!Array.isArray(n))return n};function SC(e){var r={};for(var t in e)for(var a=e[t],n=0;n<a.length;n++)r[a[n]]=+t;return r}Ce.tagSelected=function(e,r,t){var a=r.selectedpoints,n=r._indexToPoints,i;n&&(i=SC(n));function o(c){return c!==void 0&&c<e.length}for(var l=0;l<a.length;l++){var s=a[l];if(Ce.isIndex(s)||Ce.isArrayOrTypedArray(s)&&Ce.isIndex(s[0])&&Ce.isIndex(s[1])){var u=i?i[s]:s,f=t?t[u]:u;o(f)&&(e[f].selected=1)}}};Ce.selIndices2selPoints=function(e){var r=e.selectedpoints,t=e._indexToPoints;if(t){for(var a=SC(t),n=[],i=0;i<r.length;i++){var o=r[i];if(Ce.isIndex(o)){var l=a[o];Ce.isIndex(l)&&n.push(l)}}return n}else return r};Ce.getTargetArray=function(e,r){var t=r.target;if(typeof t=="string"&&t){var a=Ce.nestedProperty(e,t).get();return Ce.isArrayOrTypedArray(a)?a:!1}else if(Ce.isArrayOrTypedArray(t))return t;return!1};function kC(e,r,t){var a={};typeof r!="object"&&(r={});var n=t==="pieLike"?-1:3,i=Object.keys(e),o,l,s;for(o=0;o<i.length;o++)l=i[o],s=e[l],!(l.charAt(0)==="_"||typeof s=="function")&&(l==="module"?a[l]=s:Array.isArray(s)?l==="colorscale"||n===-1?a[l]=s.slice():a[l]=s.slice(0,n):Ce.isTypedArray(s)?n===-1?a[l]=s.subarray():a[l]=s.subarray(0,n):s&&typeof s=="object"?a[l]=kC(e[l],r[l],t):a[l]=s);for(i=Object.keys(r),o=0;o<i.length;o++)l=i[o],s=r[l],(typeof s!="object"||!(l in a)||typeof a[l]!="object")&&(a[l]=s);return a}Ce.minExtend=kC;Ce.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)};Ce.containsAny=function(e,r){for(var t=0;t<r.length;t++)if(e.indexOf(r[t])!==-1)return!0;return!1};var aoe=/Version\/[\d\.]+.*Safari/;Ce.isSafari=function(){return aoe.test(window.navigator.userAgent)};var noe=/iPad|iPhone|iPod/;Ce.isIOS=function(){return noe.test(window.navigator.userAgent)};var ioe=/Firefox\/(\d+)\.\d+/;Ce.getFirefoxVersion=function(){var e=ioe.exec(window.navigator.userAgent);if(e&&e.length===2){var r=parseInt(e[1]);if(!isNaN(r))return r}return null};Ce.isD3Selection=function(e){return e instanceof s1.selection};Ce.ensureSingle=function(e,r,t,a){var n=e.select(r+(t?"."+t:""));if(n.size())return n;var i=e.append(r);return t&&i.classed(t,!0),a&&i.call(a),i};Ce.ensureSingleById=function(e,r,t,a){var n=e.select(r+"#"+t);if(n.size())return n;var i=e.append(r).attr("id",t);return a&&i.call(a),i};Ce.objectFromPath=function(e,r){for(var t=e.split("."),a,n=a={},i=0;i<t.length;i++){var o=t[i],l=null,s=t[i].match(/(.*)\[([0-9]+)\]/);s?(o=s[1],l=s[2],a=a[o]=[],i===t.length-1?a[l]=r:a[l]={},a=a[l]):(i===t.length-1?a[o]=r:a[o]={},a=a[o])}return n};var ooe=/^([^\[\.]+)\.(.+)?/,loe=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function fg(e){return e.slice(0,2)==="__"}Ce.expandObjectPaths=function(e){var r,t,a,n,i,o,l;if(typeof e=="object"&&!Array.isArray(e)){for(t in e)if(e.hasOwnProperty(t))if(r=t.match(ooe)){if(n=e[t],a=r[1],fg(a))continue;delete e[t],e[a]=Ce.extendDeepNoArrays(e[a]||{},Ce.objectFromPath(t,Ce.expandObjectPaths(n))[a])}else if(r=t.match(loe)){if(n=e[t],a=r[1],fg(a))continue;if(i=parseInt(r[2]),delete e[t],e[a]=e[a]||[],r[3]===".")l=r[4],o=e[a][i]=e[a][i]||{},Ce.extendDeepNoArrays(o,Ce.objectFromPath(l,Ce.expandObjectPaths(n)));else{if(fg(a))continue;e[a][i]=Ce.expandObjectPaths(n)}}else{if(fg(t))continue;e[t]=Ce.expandObjectPaths(e[t])}}return e};Ce.numSeparate=function(e,r,t){if(t||(t=!1),typeof r!="string"||r.length===0)throw new Error("Separator string required for formatting!");typeof e=="number"&&(e=String(e));var a=/(\d+)(\d{3})/,n=r.charAt(0),i=r.charAt(1),o=e.split("."),l=o[0],s=o.length>1?n+o[1]:"";if(i&&(o.length>1||l.length>4||t))for(;a.test(l);)l=l.replace(a,"$1"+i+"$2");return l+s};Ce.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var CC=/^\w*$/;Ce.templateString=function(e,r){var t={};return e.replace(Ce.TEMPLATE_STRING_REGEX,function(a,n){var i;return CC.test(n)?i=r[n]:(t[n]=t[n]||Ce.nestedProperty(r,n).get,i=t[n]()),Ce.isValidTextValue(i)?i:""})};var soe={max:10,count:0,name:"hovertemplate"};Ce.hovertemplateString=function(){return O_.apply(soe,arguments)};var uoe={max:10,count:0,name:"texttemplate"};Ce.texttemplateString=function(){return O_.apply(uoe,arguments)};var foe=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function coe(e){var r=e.match(foe);return r?{key:r[1],op:r[2],number:Number(r[3])}:{key:e,op:null,number:null}}var voe={max:10,count:0,name:"texttemplate",parseMultDiv:!0};Ce.texttemplateStringForShapes=function(){return O_.apply(voe,arguments)};var bC=/^[:|\|]/;function O_(e,r,t){var a=this,n=arguments;r||(r={});var i={};return e.replace(Ce.TEMPLATE_STRING_REGEX,function(o,l,s){var u=l==="xother"||l==="yother",f=l==="_xother"||l==="_yother",c=l==="_xother_"||l==="_yother_",h=l==="xother_"||l==="yother_",d=u||f||h||c,p=l;(f||c)&&(p=p.substring(1)),(h||c)&&(p=p.substring(0,p.length-1));var g=null,y=null;if(a.parseMultDiv){var b=coe(p);p=b.key,g=b.op,y=b.number}var _;if(d){if(_=r[p],_===void 0)return""}else{var w,x;for(x=3;x<n.length;x++)if(w=n[x],!!w){if(w.hasOwnProperty(p)){_=w[p];break}if(CC.test(p)||(_=Ce.nestedProperty(w,p).get(),_=i[p]||Ce.nestedProperty(w,p).get(),_&&(i[p]=_)),_!==void 0)break}}if(_!==void 0&&(g==="*"&&(_*=y),g==="/"&&(_/=y)),_===void 0&&a)return a.count<a.max&&(Ce.warn("Variable '"+p+"' in "+a.name+" could not be found!"),_=o),a.count===a.max&&Ce.warn("Too many "+a.name+" warnings - additional warnings will be suppressed"),a.count++,o;if(s){var T;if(s[0]===":"&&(T=t?t.numberFormat:Ce.numberFormat,_!==""&&(_=T(s.replace(bC,""))(_))),s[0]==="|"){T=t?t.timeFormat:Qie;var S=Ce.dateTime2ms(_);_=Ce.formatDate(S,s.replace(bC,""),!1,T)}}else{var M=p+"Label";r.hasOwnProperty(M)&&(_=r[M])}return d&&(_="("+_+")",(f||c)&&(_=" "+_),(h||c)&&(_=_+" ")),_})}var cg=48,xC=57;Ce.subplotSort=function(e,r){for(var t=Math.min(e.length,r.length)+1,a=0,n=0,i=0;i<t;i++){var o=e.charCodeAt(i)||0,l=r.charCodeAt(i)||0,s=o>=cg&&o<=xC,u=l>=cg&&l<=xC;if(s&&(a=10*a+o-cg),u&&(n=10*n+l-cg),!s||!u){if(a!==n)return a-n;if(o!==l)return o-l}}return n-a};var s0=2e9;Ce.seedPseudoRandom=function(){s0=2e9};Ce.pseudoRandom=function(){var e=s0;return s0=(69069*s0+1)%4294967296,Math.abs(s0-e)<429496729?Ce.pseudoRandom():s0/4294967296};Ce.fillText=function(e,r,t){var a=Array.isArray(t)?function(o){t.push(o)}:function(o){t.text=o},n=Ce.extractOption(e,r,"htx","hovertext");if(Ce.isValidTextValue(n))return a(n);var i=Ce.extractOption(e,r,"tx","text");if(Ce.isValidTextValue(i))return a(i)};Ce.isValidTextValue=function(e){return e||e===0};Ce.formatPercent=function(e,r){r=r||0;for(var t=(Math.round(100*e*Math.pow(10,r))*Math.pow(.1,r)).toFixed(r)+"%",a=0;a<r;a++)t.indexOf(".")!==-1&&(t=t.replace("0%","%"),t=t.replace(".%","%"));return t};Ce.isHidden=function(e){var r=window.getComputedStyle(e).display;return!r||r==="none"};Ce.strTranslate=function(e,r){return e||r?"translate("+e+","+r+")":""};Ce.strRotate=function(e){return e?"rotate("+e+")":""};Ce.strScale=function(e){return e!==1?"scale("+e+")":""};Ce.getTextTransform=function(e){var r=e.noCenter,t=e.textX,a=e.textY,n=e.targetX,i=e.targetY,o=e.anchorX||0,l=e.anchorY||0,s=e.rotate,u=e.scale;return u?u>1&&(u=1):u=0,Ce.strTranslate(n-u*(t+o),i-u*(a+l))+Ce.strScale(u)+(s?"rotate("+s+(r?"":" "+t+" "+a)+")":"")};Ce.setTransormAndDisplay=function(e,r){e.attr("transform",Ce.getTextTransform(r)),e.style("display",r.scale?null:"none")};Ce.ensureUniformFontSize=function(e,r){var t=Ce.extendFlat({},r);return t.size=Math.max(r.size,e._fullLayout.uniformtext.minsize||0),t};Ce.join2=function(e,r,t){var a=e.length;return a>1?e.slice(0,-1).join(r)+t+e[a-1]:e.join(r)};Ce.bigFont=function(e){return Math.round(1.2*e)};var _C=Ce.getFirefoxVersion(),hoe=_C!==null&&_C<86;Ce.getPositionFromD3Event=function(){return hoe?[s1.event.layerX,s1.event.layerY]:[s1.event.offsetX,s1.event.offsetY]}});var DC=R(()=>{"use strict";var doe=fr(),LC={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(z_ in LC)qC=z_.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),doe.addStyleRule(qC,LC[z_]);var qC,z_});var B_=R((wSe,FC)=>{FC.exports=!0});var H_=R((ASe,RC)=>{"use strict";var poe=B_(),U_;typeof window.matchMedia=="function"?U_=!window.matchMedia("(hover: none)").matches:U_=poe;RC.exports=U_});var pg=R((TSe,G_)=>{"use strict";var c0=typeof Reflect=="object"?Reflect:null,PC=c0&&typeof c0.apply=="function"?c0.apply:function(r,t,a){return Function.prototype.apply.call(r,t,a)},hg;c0&&typeof c0.ownKeys=="function"?hg=c0.ownKeys:Object.getOwnPropertySymbols?hg=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:hg=function(r){return Object.getOwnPropertyNames(r)};function yoe(e){console&&console.warn&&console.warn(e)}var IC=Number.isNaN||function(r){return r!==r};function Ha(){Ha.init.call(this)}G_.exports=Ha;G_.exports.once=xoe;Ha.EventEmitter=Ha;Ha.prototype._events=void 0;Ha.prototype._eventsCount=0;Ha.prototype._maxListeners=void 0;var NC=10;function dg(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ha,"defaultMaxListeners",{enumerable:!0,get:function(){return NC},set:function(e){if(typeof e!="number"||e<0||IC(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");NC=e}});Ha.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ha.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||IC(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function OC(e){return e._maxListeners===void 0?Ha.defaultMaxListeners:e._maxListeners}Ha.prototype.getMaxListeners=function(){return OC(this)};Ha.prototype.emit=function(r){for(var t=[],a=1;a<arguments.length;a++)t.push(arguments[a]);var n=r==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var s=i[r];if(s===void 0)return!1;if(typeof s=="function")PC(s,this,t);else for(var u=s.length,f=GC(s,u),a=0;a<u;++a)PC(f[a],this,t);return!0};function zC(e,r,t,a){var n,i,o;if(dg(t),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",r,t.listener?t.listener:t),i=e._events),o=i[r]),o===void 0)o=i[r]=t,++e._eventsCount;else if(typeof o=="function"?o=i[r]=a?[t,o]:[o,t]:a?o.unshift(t):o.push(t),n=OC(e),n>0&&o.length>n&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=r,l.count=o.length,yoe(l)}return e}Ha.prototype.addListener=function(r,t){return zC(this,r,t,!1)};Ha.prototype.on=Ha.prototype.addListener;Ha.prototype.prependListener=function(r,t){return zC(this,r,t,!0)};function moe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function BC(e,r,t){var a={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},n=moe.bind(a);return n.listener=t,a.wrapFn=n,n}Ha.prototype.once=function(r,t){return dg(t),this.on(r,BC(this,r,t)),this};Ha.prototype.prependOnceListener=function(r,t){return dg(t),this.prependListener(r,BC(this,r,t)),this};Ha.prototype.removeListener=function(r,t){var a,n,i,o,l;if(dg(t),n=this._events,n===void 0)return this;if(a=n[r],a===void 0)return this;if(a===t||a.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[r],n.removeListener&&this.emit("removeListener",r,a.listener||t));else if(typeof a!="function"){for(i=-1,o=a.length-1;o>=0;o--)if(a[o]===t||a[o].listener===t){l=a[o].listener,i=o;break}if(i<0)return this;i===0?a.shift():goe(a,i),a.length===1&&(n[r]=a[0]),n.removeListener!==void 0&&this.emit("removeListener",r,l||t)}return this};Ha.prototype.off=Ha.prototype.removeListener;Ha.prototype.removeAllListeners=function(r){var t,a,n;if(a=this._events,a===void 0)return this;if(a.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):a[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete a[r]),this;if(arguments.length===0){var i=Object.keys(a),o;for(n=0;n<i.length;++n)o=i[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=a[r],typeof t=="function")this.removeListener(r,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(r,t[n]);return this};function UC(e,r,t){var a=e._events;if(a===void 0)return[];var n=a[r];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?boe(n):GC(n,n.length)}Ha.prototype.listeners=function(r){return UC(this,r,!0)};Ha.prototype.rawListeners=function(r){return UC(this,r,!1)};Ha.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):HC.call(e,r)};Ha.prototype.listenerCount=HC;function HC(e){var r=this._events;if(r!==void 0){var t=r[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Ha.prototype.eventNames=function(){return this._eventsCount>0?hg(this._events):[]};function GC(e,r){for(var t=new Array(r),a=0;a<r;++a)t[a]=e[a];return t}function goe(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}function boe(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}function xoe(e,r){return new Promise(function(t,a){function n(o){e.removeListener(r,i),a(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",n),t([].slice.call(arguments))}VC(e,r,i,{once:!0}),r!=="error"&&_oe(e,n,{once:!0})})}function _oe(e,r,t){typeof e.on=="function"&&VC(e,"error",r,t)}function VC(e,r,t,a){if(typeof e.on=="function")a.once?e.once(r,t):e.on(r,t);else if(typeof e.addEventListener=="function")e.addEventListener(r,function n(i){a.once&&e.removeEventListener(r,n),t(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var u1=R((MSe,YC)=>{"use strict";var V_=pg().EventEmitter,woe={init:function(e){if(e._ev instanceof V_)return e;var r=new V_,t=new V_;return e._ev=r,e._internalEv=t,e.on=r.on.bind(r),e.once=r.once.bind(r),e.removeListener=r.removeListener.bind(r),e.removeAllListeners=r.removeAllListeners.bind(r),e._internalOn=t.on.bind(t),e._internalOnce=t.once.bind(t),e._removeInternalListener=t.removeListener.bind(t),e._removeAllInternalListeners=t.removeAllListeners.bind(t),e.emit=function(a,n){r.emit(a,n),t.emit(a,n)},e},triggerHandler:function(e,r,t){var a,n=e._ev;if(!n)return;var i=n._events[r];if(!i)return;function o(s){if(s.listener){if(n.removeListener(r,s.listener),!s.fired)return s.fired=!0,s.listener.apply(n,[t])}else return s.apply(n,[t])}i=Array.isArray(i)?i:[i];var l;for(l=0;l<i.length-1;l++)o(i[l]);return a=o(i[l]),a},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};YC.exports=woe});var XC=R((SSe,jC)=>{"use strict";var WC=fr(),Aoe=oc().dfltConfig;function Toe(e,r){for(var t=[],a,n=0;n<r.length;n++)a=r[n],a===e?t[n]=a:typeof a=="object"?t[n]=Array.isArray(a)?WC.extendDeep([],a):WC.extendDeepAll({},a):t[n]=a;return t}var Xs={};Xs.add=function(e,r,t,a,n){var i,o;if(e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},o=e.undoQueue.index,e.autoplay){e.undoQueue.inSequence||(e.autoplay=!1);return}!e.undoQueue.sequence||e.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(o,e.undoQueue.queue.length-o,i),e.undoQueue.index+=1):i=e.undoQueue.queue[o-1],e.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(r),i.undo.args.unshift(t),i.redo.calls.push(a),i.redo.args.push(n)),e.undoQueue.queue.length>Aoe.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)};Xs.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0};Xs.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1};Xs.undo=function(r){var t,a;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index<=0)){for(r.undoQueue.index--,t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,a=0;a<t.undo.calls.length;a++)Xs.plotDo(r,t.undo.calls[a],t.undo.args[a]);r.undoQueue.inSequence=!1,r.autoplay=!1}};Xs.redo=function(r){var t,a;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index>=r.undoQueue.queue.length)){for(t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,a=0;a<t.redo.calls.length;a++)Xs.plotDo(r,t.redo.calls[a],t.redo.args[a]);r.undoQueue.inSequence=!1,r.autoplay=!1,r.undoQueue.index++}};Xs.plotDo=function(e,r,t){e.autoplay=!0,t=Toe(e,t),r.apply(null,t)};jC.exports=Xs});var Y_=R((kSe,ZC)=>{"use strict";ZC.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}});var d0=R(Pn=>{"use strict";var Uo=_t(),f1=fr(),mg=pl(),W_=a0(),Moe=Y_(),Soe=t1(),koe=oc().configAttributes,JC=yl(),bl=f1.extendDeepAll,v0=f1.isPlainObject,Coe=f1.isArrayOrTypedArray,gg=f1.nestedProperty,Eoe=f1.valObjectMeta,j_="_isSubplotObj",bg="_isLinkedToArray",Loe="_arrayAttrRegexps",KC="_deprecated",X_=[j_,bg,Loe,KC];Pn.IS_SUBPLOT_OBJ=j_;Pn.IS_LINKED_TO_ARRAY=bg;Pn.DEPRECATED=KC;Pn.UNDERSCORE_ATTRS=X_;Pn.get=function(){var e={};return Uo.allTypes.forEach(function(r){e[r]=Doe(r)}),{defs:{valObjects:Eoe,metaKeys:X_.concat(["description","role","editType","impliedEdits"]),editType:{traces:JC.traces,layout:JC.layout},impliedEdits:{}},traces:e,layout:Foe(),frames:Roe(),animation:h0(Soe),config:h0(koe)}};Pn.crawl=function(e,r,t,a){var n=t||0;a=a||"",Object.keys(e).forEach(function(i){var o=e[i];if(X_.indexOf(i)===-1){var l=(a?a+".":"")+i;r(o,i,e,n,l),!Pn.isValObject(o)&&v0(o)&&i!=="impliedEdits"&&Pn.crawl(o,r,n+1,l)}})};Pn.isValObject=function(e){return e&&e.valType!==void 0};Pn.findArrayAttributes=function(e){var r=[],t=[],a=[],n,i;function o(s,u,f,c){t=t.slice(0,c).concat([u]),a=a.slice(0,c).concat([s&&s._isLinkedToArray]);var h=s&&(s.valType==="data_array"||s.arrayOk===!0)&&!(t[c-1]==="colorbar"&&(u==="ticktext"||u==="tickvals"));h&&l(n,0,"")}function l(s,u,f){var c=s[t[u]],h=f+t[u];if(u===t.length-1)Coe(c)&&r.push(i+h);else if(a[u]){if(Array.isArray(c))for(var d=0;d<c.length;d++)v0(c[d])&&l(c[d],u+1,h+"["+d+"].")}else v0(c)&&l(c,u+1,h+".")}return n=e,i="",Pn.crawl(mg,o),e._module&&e._module.attributes&&Pn.crawl(e._module.attributes,o),r};Pn.getTraceValObject=function(e,r){var t=r[0],a=1,n,i,o=e._module;if(o||(o=(Uo.modules[e.type||mg.type.dflt]||{})._module),!o)return!1;if(n=o.attributes,i=n&&n[t],!i){var l=o.basePlotModule;l&&l.attributes&&(i=l.attributes[t])}return i||(i=mg[t]),QC(i,r,a)};Pn.getLayoutValObject=function(e,r){var t=qoe(e,r[0]);return QC(t,r,1)};function qoe(e,r){var t,a,n,i,o=e._basePlotModules;if(o){var l;for(t=0;t<o.length;t++){if(n=o[t],n.attrRegex&&n.attrRegex.test(r)){if(n.layoutAttrOverrides)return n.layoutAttrOverrides;!l&&n.layoutAttributes&&(l=n.layoutAttributes)}var s=n.baseLayoutAttrOverrides;if(s&&r in s)return s[r]}if(l)return l}var u=e._modules;if(u){for(t=0;t<u.length;t++)if(i=u[t].layoutAttributes,i&&r in i)return i[r]}for(a in Uo.componentsRegistry){if(n=Uo.componentsRegistry[a],n.name==="colorscale"&&r.indexOf("coloraxis")===0)return n.layoutAttributes[r];if(!n.schema&&r===n.name)return n.layoutAttributes}return r in W_?W_[r]:!1}function QC(e,r,t){if(!e)return!1;if(e._isLinkedToArray){if(yg(r[t]))t++;else if(t<r.length)return!1}for(;t<r.length;t++){var a=e[r[t]];if(v0(a))e=a;else break;if(t===r.length-1)break;if(e._isLinkedToArray){if(t++,!yg(r[t]))return!1}else if(e.valType==="info_array"){t++;var n=r[t];if(!yg(n))return!1;var i=e.items;if(Array.isArray(i)){if(n>=i.length)return!1;if(e.dimensions===2){if(t++,r.length===t)return e;var o=r[t];if(!yg(o))return!1;e=i[n][o]}else e=i[n]}else e=i}}return e}function yg(e){return e===Math.round(e)&&e>=0}function Doe(e){var r,t;r=Uo.modules[e]._module,t=r.basePlotModule;var a={};a.type=null;var n=bl({},mg),i=bl({},r.attributes);Pn.crawl(i,function(s,u,f,c,h){gg(n,h).set(void 0),s===void 0&&gg(i,h).set(void 0)}),bl(a,n),Uo.traceIs(e,"noOpacity")&&delete a.opacity,Uo.traceIs(e,"showLegend")||(delete a.showlegend,delete a.legendgroup),Uo.traceIs(e,"noHover")&&(delete a.hoverinfo,delete a.hoverlabel),r.selectPoints||delete a.selectedpoints,bl(a,i),t.attributes&&bl(a,t.attributes),a.type=e;var o={meta:r.meta||{},categories:r.categories||{},animatable:!!r.animatable,type:e,attributes:h0(a)};if(r.layoutAttributes){var l={};bl(l,r.layoutAttributes),o.layoutAttributes=h0(l)}return r.animatable||Pn.crawl(o,function(s){Pn.isValObject(s)&&"anim"in s&&delete s.anim}),o}function Foe(){var e={},r,t;bl(e,W_);for(r in Uo.subplotsRegistry)if(t=Uo.subplotsRegistry[r],!!t.layoutAttributes)if(Array.isArray(t.attr))for(var a=0;a<t.attr.length;a++)$C(e,t,t.attr[a]);else{var n=t.attr==="subplot"?t.name:t.attr;$C(e,t,n)}for(r in Uo.componentsRegistry){t=Uo.componentsRegistry[r];var i=t.schema;if(i&&(i.subplots||i.layout)){var o=i.subplots;if(o&&o.xaxis&&!o.yaxis)for(var l in o.xaxis)delete e.yaxis[l];delete e.xaxis.shift,delete e.xaxis.autoshift}else t.name==="colorscale"?bl(e,t.layoutAttributes):t.layoutAttributes&&Ooe(e,t.layoutAttributes,t.name)}return{layoutAttributes:h0(e)}}function Roe(){var e={frames:bl({},Moe)};return h0(e),e.frames}function h0(e){return Poe(e),Noe(e),Ioe(e),e}function Poe(e){function r(a){return{valType:"string",editType:"none"}}function t(a,n,i){Pn.isValObject(a)?(a.arrayOk===!0||a.valType==="data_array")&&(i[n+"src"]=r(n)):v0(a)&&(a.role="object")}Pn.crawl(e,t)}function Noe(e){function r(t,a,n){if(t){var i=t[bg];i&&(delete t[bg],n[a]={items:{}},n[a].items[i]=t,n[a].role="object")}}Pn.crawl(e,r)}function Ioe(e){function r(t){for(var a in t)if(v0(t[a]))r(t[a]);else if(Array.isArray(t[a]))for(var n=0;n<t[a].length;n++)r(t[a][n]);else t[a]instanceof RegExp&&(t[a]=t[a].toString())}r(e)}function $C(e,r,t){var a=gg(e,t),n=bl({},r.layoutAttributes);n[j_]=!0,a.set(n)}function Ooe(e,r,t){var a=gg(e,t);a.set(bl(a.get()||{},r))}});var Oa=R(vc=>{"use strict";var p0=fr(),zoe=pl(),Yu="templateitemname",Z_={name:{valType:"string",editType:"none"}};Z_[Yu]={valType:"string",editType:"calc"};vc.templatedArray=function(e,r){return r._isLinkedToArray=e,r.name=Z_.name,r[Yu]=Z_[Yu],r};vc.traceTemplater=function(e){var r={},t,a;for(t in e)a=e[t],Array.isArray(a)&&a.length&&(r[t]=0);function n(i){t=p0.coerce(i,{},zoe,"type");var o={type:t,_template:null};if(t in r){a=e[t];var l=r[t]%a.length;r[t]++,o._template=a[l]}return o}return{newTrace:n}};vc.newContainer=function(e,r,t){var a=e._template,n=a&&(a[r]||t&&a[t]);p0.isPlainObject(n)||(n=null);var i=e[r]={_template:n};return i};vc.arrayTemplater=function(e,r,t){var a=e._template,n=a&&a[rE(r)],i=a&&a[r];(!Array.isArray(i)||!i.length)&&(i=[]);var o={};function l(u){var f={name:u.name,_input:u},c=f[Yu]=u[Yu];if(!eE(c))return f._template=n,f;for(var h=0;h<i.length;h++){var d=i[h];if(d.name===c)return o[c]=1,f._template=d,f}return f[t]=u[t]||!1,f._template=!1,f}function s(){for(var u=[],f=0;f<i.length;f++){var c=i[f],h=c.name;if(eE(h)&&!o[h]){var d={_template:c,name:h,_input:{_templateitemname:h}};d[Yu]=c[Yu],u.push(d),o[h]=1}}return u}return{newItem:l,defaultItems:s}};function eE(e){return e&&typeof e=="string"}function rE(e){var r=e.length-1;return e.charAt(r)!=="s"&&p0.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}vc.arrayDefaultKey=rE;vc.arrayEditor=function(e,r,t){var a=(p0.nestedProperty(e,r).get()||[]).length,n=t._index,i=n>=a&&(t._input||{})._templateitemname;i&&(n=a);var o=r+"["+n+"]",l;function s(){l={},i&&(l[o]={},l[o][Yu]=i)}s();function u(d,p){l[d]=p}function f(d,p){i?p0.nestedProperty(l[o],d).set(p):l[o+"."+d]=p}function c(){var d=l;return s(),d}function h(d,p){d&&f(d,p);var g=c();for(var y in g)p0.nestedProperty(e,y).set(g[y])}return{modifyBase:u,modifyItem:f,getUpdateObj:c,applyUpdate:h}}});var ui=R((LSe,tE)=>{"use strict";var c1=e0().counter;tE.exports={idRegex:{x:c1("x","( domain)?"),y:c1("y","( domain)?")},attrRegex:c1("[xy]axis"),xAxisMatch:c1("xaxis"),yAxisMatch:c1("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}});var yn=R(lo=>{"use strict";var Boe=_t(),J_=ui();lo.id2name=function(r){if(!(typeof r!="string"||!r.match(J_.AX_ID_PATTERN))){var t=r.split(" ")[0].substr(1);return t==="1"&&(t=""),r.charAt(0)+"axis"+t}};lo.name2id=function(r){if(r.match(J_.AX_NAME_PATTERN)){var t=r.substr(5);return t==="1"&&(t=""),r.charAt(0)+t}};lo.cleanId=function(r,t,a){var n=/( domain)$/.test(r);if(!(typeof r!="string"||!r.match(J_.AX_ID_PATTERN))&&!(t&&r.charAt(0)!==t)&&!(n&&!a)){var i=r.split(" ")[0].substr(1).replace(/^0+/,"");return i==="1"&&(i=""),r.charAt(0)+i+(n&&a?" domain":"")}};lo.list=function(e,r,t){var a=e._fullLayout;if(!a)return[];var n=lo.listIds(e,r),i=new Array(n.length),o;for(o=0;o<n.length;o++){var l=n[o];i[o]=a[l.charAt(0)+"axis"+l.substr(1)]}if(!t){var s=a._subplots.gl3d||[];for(o=0;o<s.length;o++){var u=a[s[o]];r?i.push(u[r+"axis"]):i.push(u.xaxis,u.yaxis,u.zaxis)}}return i};lo.listIds=function(e,r){var t=e._fullLayout;if(!t)return[];var a=t._subplots;return r?a[r+"axis"]:a.xaxis.concat(a.yaxis)};lo.getFromId=function(e,r,t){var a=e._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),t==="x"?r=r.replace(/y[0-9]*/,""):t==="y"&&(r=r.replace(/x[0-9]*/,"")),a[lo.id2name(r)]};lo.getFromTrace=function(e,r,t){var a=e._fullLayout,n=null;if(Boe.traceIs(r,"gl3d")){var i=r.scene;i.substr(0,5)==="scene"&&(n=a[i][t+"axis"])}else n=lo.getFromId(e,r[t+"axis"]||t);return n};lo.idSort=function(e,r){var t=e.charAt(0),a=r.charAt(0);return t!==a?t>a?1:-1:+(e.substr(1)||1)-+(r.substr(1)||1)};lo.ref2id=function(e){return/^[xyz]/.test(e)?e.split(" ")[0]:!1};function aE(e,r){if(r&&r.length){for(var t=0;t<r.length;t++)if(r[t][e])return!0}return!1}lo.isLinked=function(e,r){return aE(r,e._axisMatchGroups)||aE(r,e._axisConstraintGroups)}});var Wu=R((DSe,nE)=>{"use strict";function Uoe(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()}function Hoe(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),e._fullLayout._outlining=!1}nE.exports={clearOutlineControllers:Uoe,clearOutline:Hoe}});var xg=R((FSe,iE)=>{"use strict";iE.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}});var $_=R(wg=>{"use strict";var _g=_t(),RSe=ui().SUBPLOT_PATTERN;wg.getSubplotCalcData=function(e,r,t){var a=_g.subplotsRegistry[r];if(!a)return[];for(var n=a.attr,i=[],o=0;o<e.length;o++){var l=e[o],s=l[0].trace;s[n]===t&&i.push(l)}return i};wg.getModuleCalcData=function(e,r,t){var a=[],n=[],i;if(typeof r=="string"?i=_g.getModule(r).plot:typeof r=="function"?i=r:i=r.plot,!i)return[a,e];for(var o=t,l=0;l<e.length;l++){var s=e[l],u=s[0].trace,f=u.zorder!==void 0;u.visible!==!0||u._length===0||(u._module&&u._module.plot===i&&(!f||u.zorder===o)?a.push(s):n.push(s))}return[a,n]};wg.getSubplotData=function(r,t,a){if(!_g.subplotsRegistry[t])return[];for(var n=_g.subplotsRegistry[t].attr,i=[],o,l,s,u=0;u<r.length;u++)o=r[u],o[n]===a&&i.push(o);return i}});var uE=R(hc=>{"use strict";var Goe=_t(),y0=fr();hc.manageCommandObserver=function(e,r,t,a){var n={},i=!0;r&&r._commandObserver&&(n=r._commandObserver),n.cache||(n.cache={}),n.lookupTable={};var o=hc.hasSimpleAPICommandBindings(e,t,n.lookupTable);if(r&&r._commandObserver){if(o)return n;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,n}if(o){oE(e,o,n.cache),n.check=function(){if(i){var f=oE(e,o,n.cache);return f.changed&&a&&n.lookupTable[f.value]!==void 0&&(n.disable(),Promise.resolve(a({value:f.value,type:o.type,prop:o.prop,traces:o.traces,index:n.lookupTable[f.value]})).then(n.enable,n.enable)),f.changed}};for(var l=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],s=0;s<l.length;s++)e._internalOn(l[s],n.check);n.remove=function(){for(var u=0;u<l.length;u++)e._removeInternalListener(l[u],n.check)}}else y0.log("Unable to automatically bind plot updates to API command"),n.lookupTable={},n.remove=function(){};return n.disable=function(){i=!1},n.enable=function(){i=!0},r&&(r._commandObserver=n),n};hc.hasSimpleAPICommandBindings=function(e,r,t){var a,n=r.length,i;for(a=0;a<n;a++){var o,l=r[a],s=l.method,u=l.args;if(Array.isArray(u)||(u=[]),!s)return!1;var f=hc.computeAPICommandBindings(e,s,u);if(f.length!==1)return!1;if(!i)i=f[0],Array.isArray(i.traces)&&i.traces.sort();else{if(o=f[0],o.type!==i.type||o.prop!==i.prop)return!1;if(Array.isArray(i.traces))if(Array.isArray(o.traces)){o.traces.sort();for(var c=0;c<i.traces.length;c++)if(i.traces[c]!==o.traces[c])return!1}else return!1;else if(o.prop!==i.prop)return!1}o=f[0];var h=o.value;if(Array.isArray(h))if(h.length===1)h=h[0];else return!1;t&&(t[h]=a)}return i};function oE(e,r,t){var a,n,i,o=!1;if(r.type==="data")a=e._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")a=e._fullLayout;else return!1;return n=y0.nestedProperty(a,r.prop).get(),i=t[r.type]=t[r.type]||{},i.hasOwnProperty(r.prop)&&i[r.prop]!==n&&(o=!0),i[r.prop]=n,{changed:o,value:n}}hc.executeAPICommand=function(e,r,t){if(r==="skip")return Promise.resolve();var a=Goe.apiMethodRegistry[r],n=[e];Array.isArray(t)||(t=[]);for(var i=0;i<t.length;i++)n.push(t[i]);return a.apply(null,n).catch(function(o){return y0.warn("API call to Plotly."+r+" rejected.",o),Promise.reject(o)})};hc.computeAPICommandBindings=function(e,r,t){var a;switch(Array.isArray(t)||(t=[]),r){case"restyle":a=sE(e,t);break;case"relayout":a=lE(e,t);break;case"update":a=sE(e,[t[0],t[2]]).concat(lE(e,[t[1]]));break;case"animate":a=Voe(e,t);break;default:a=[]}return a};function Voe(e,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function lE(e,r){var t=[],a=r[0],n={};if(typeof a=="string")n[a]=r[1];else if(y0.isPlainObject(a))n=a;else return t;return K_(n,function(i,o,l){t.push({type:"layout",prop:i,value:l})},"",0),t}function sE(e,r){var t,a,n,i,o=[];if(a=r[0],n=r[1],t=r[2],i={},typeof a=="string")i[a]=n;else if(y0.isPlainObject(a))i=a,t===void 0&&(t=n);else return o;return t===void 0&&(t=null),K_(i,function(l,s,u){var f,c;if(Array.isArray(u)){c=u.slice();var h=Math.min(c.length,e.data.length);t&&(h=Math.min(h,t.length)),f=[];for(var d=0;d<h;d++)f[d]=t?t[d]:d}else c=u,f=t?t.slice():null;if(f===null)Array.isArray(c)&&(c=c[0]);else if(Array.isArray(f)){if(!Array.isArray(c)){var p=c;c=[];for(var g=0;g<f.length;g++)c[g]=p}c.length=Math.min(f.length,c.length)}o.push({type:"data",prop:l,traces:f,value:c})},"",0),o}function K_(e,r,t,a){Object.keys(e).forEach(function(n){var i=e[n];if(n[0]!=="_"){var o=t+(a>0?".":"")+n;y0.isPlainObject(i)?K_(i,r,o,a+1):r(o,n,i)}})}});var Wn=R((ISe,AE)=>{"use strict";var yE=aa(),Yoe=Zv().timeFormatLocale,Woe=a_().formatLocale,v1=Zt(),joe=n_(),da=_t(),mE=d0(),Xoe=Oa(),Qr=fr(),gE=Vt(),fE=vn().BADNUM,so=yn(),Zoe=Wu().clearOutline,Joe=xg(),Q_=t1(),$oe=Y_(),Koe=$_().getModuleCalcData,cE=Qr.relinkPrivateKeys,dc=Qr._,Ur=AE.exports={};Qr.extendFlat(Ur,da);Ur.attributes=pl();Ur.attributes.type.values=Ur.allTypes;Ur.fontAttrs=ti();Ur.layoutAttributes=a0();var Tg=uE();Ur.executeAPICommand=Tg.executeAPICommand;Ur.computeAPICommandBindings=Tg.computeAPICommandBindings;Ur.manageCommandObserver=Tg.manageCommandObserver;Ur.hasSimpleAPICommandBindings=Tg.hasSimpleAPICommandBindings;Ur.redrawText=function(e){return e=Qr.getGraphDiv(e),new Promise(function(r){setTimeout(function(){e._fullLayout&&(da.getComponentMethod("annotations","draw")(e),da.getComponentMethod("legend","draw")(e),da.getComponentMethod("colorbar","draw")(e),r(Ur.previousPromises(e)))},300)})};Ur.resize=function(e){e=Qr.getGraphDiv(e);var r,t=new Promise(function(a,n){(!e||Qr.isHidden(e))&&n(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(r=e._resolveResize),e._resolveResize=a,e._redrawTimer=setTimeout(function(){if(!e.layout||e.layout.width&&e.layout.height||Qr.isHidden(e)){a(e);return}delete e.layout.width,delete e.layout.height;var i=e.changed;e.autoplay=!0,da.call("relayout",e,{autosize:!0}).then(function(){e.changed=i,e._resolveResize===a&&(delete e._resolveResize,a(e))})},100)});return r&&r(t),t};Ur.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})};Ur.addLinks=function(e){if(!(!e._context.showLink&&!e._context.showSources)){var r=e._fullLayout,t=Qr.ensureSingle(r._paper,"text","js-plot-link-container",function(s){s.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:gE.defaultLine,"pointer-events":"all"}).each(function(){var u=yE.select(this);u.append("tspan").classed("js-link-to-tool",!0),u.append("tspan").classed("js-link-spacer",!0),u.append("tspan").classed("js-sourcelinks",!0)})}),a=t.node(),n={y:r._paper.attr("height")-9};document.body.contains(a)&&a.getComputedTextLength()>=r.width-20?(n["text-anchor"]="start",n.x=5):(n["text-anchor"]="end",n.x=r._paper.attr("width")-7),t.attr(n);var i=t.select(".js-link-to-tool"),o=t.select(".js-link-spacer"),l=t.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&Qoe(e,i),o.text(i.text()&&l.text()?" - ":"")}};function Qoe(e,r){r.text("");var t=r.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" \xBB");if(e._context.sendData)t.on("click",function(){Ur.sendDataToCloud(e)});else{var a=window.location.pathname.split("/"),n=window.location.search;t.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+a[2].split(".")[0]+"/"+a[1]+n})}}Ur.sendDataToCloud=function(e){var r=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(r){e.emit("plotly_beforeexport");var t=yE.select(e).append("div").attr("id","hiddenform").style("display","none"),a=t.append("form").attr({action:r+"/external",method:"post",target:"_blank"}),n=a.append("input").attr({type:"text",name:"data"});return n.node().value=Ur.graphJson(e,!1,"keepdata"),a.node().submit(),t.remove(),e.emit("plotly_afterexport"),!1}};var ele=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],rle=["year","month","dayMonth","dayMonthYear"];Ur.supplyDefaults=function(e,r){var t=r&&r.skipUpdateCalc,a=e._fullLayout||{};if(a._skipDefaults){delete a._skipDefaults;return}var n=e._fullLayout={},i=e.layout||{},o=e._fullData||[],l=e._fullData=[],s=e.data||[],u=e.calcdata||[],f=e._context||{},c;e._transitionData||Ur.createTransitionData(e),n._dfltTitle={plot:dc(e,"Click to enter Plot title"),subtitle:dc(e,"Click to enter Plot subtitle"),x:dc(e,"Click to enter X axis title"),y:dc(e,"Click to enter Y axis title"),colorbar:dc(e,"Click to enter Colorscale title"),annotation:dc(e,"new text")},n._traceWord=dc(e,"trace");var h=vE(e,ele);if(n._mapboxAccessToken=f.mapboxAccessToken,a._initialAutoSizeIsDone){var d=a.width,p=a.height;Ur.supplyLayoutGlobalDefaults(i,n,h),i.width||(n.width=d),i.height||(n.height=p),Ur.sanitizeMargins(n)}else{Ur.supplyLayoutGlobalDefaults(i,n,h);var g=!i.width||!i.height,y=n.autosize,b=f.autosizable,_=g&&(y||b);_?Ur.plotAutoSize(e,i,n):g&&Ur.sanitizeMargins(n),!y&&g&&(i.width=n.width,i.height=n.height)}n._d3locale=nle(h,n.separators),n._extraFormat=vE(e,rle),n._initialAutoSizeIsDone=!0,n._dataLength=s.length,n._modules=[],n._visibleModules=[],n._basePlotModules=[];var w=n._subplots=ale(),x=n._splomAxes={x:{},y:{}},T=n._splomSubplots={};n._splomGridDflt={},n._scatterStackOpts={},n._firstScatter={},n._alignmentOpts={},n._colorAxes={},n._requestRangeslider={},n._traceUids=tle(o,s),Ur.supplyDataDefaults(s,l,i,n);var S=Object.keys(x.x),M=Object.keys(x.y);if(S.length>1&&M.length>1){for(da.getComponentMethod("grid","sizeDefaults")(i,n),c=0;c<S.length;c++)Qr.pushUnique(w.xaxis,S[c]);for(c=0;c<M.length;c++)Qr.pushUnique(w.yaxis,M[c]);for(var C in T)Qr.pushUnique(w.cartesian,C)}if(n._has=Ur._hasPlotType.bind(n),o.length===l.length)for(c=0;c<l.length;c++)cE(l[c],o[c]);Ur.supplyLayoutModuleDefaults(i,n,l,e._transitionData);var q=n._visibleModules,F=[];for(c=0;c<q.length;c++){var P=q[c].crossTraceDefaults;P&&Qr.pushUnique(F,P)}for(c=0;c<F.length;c++)F[c](l,n);n._hasOnlyLargeSploms=n._basePlotModules.length===1&&n._basePlotModules[0].name==="splom"&&S.length>15&&M.length>15&&n.shapes.length===0&&n.images.length===0,Ur.linkSubplots(l,n,o,a),Ur.cleanPlot(l,n,o,a);var I=!!(a._has&&a._has("cartesian")),H=!!(n._has&&n._has("cartesian")),V=I,j=H;V&&!j?a._bgLayer.remove():j&&!V&&(n._shouldCreateBgLayer=!0),a._zoomlayer&&!e._dragging&&Zoe({_fullLayout:a}),ile(l,n),cE(n,a),da.getComponentMethod("colorscale","crossTraceDefaults")(l,n),n._preGUI||(n._preGUI={}),n._tracePreGUI||(n._tracePreGUI={});var W=n._tracePreGUI,z={},O;for(O in W)z[O]="old";for(c=0;c<l.length;c++)O=l[c]._fullInput.uid,z[O]||(W[O]={}),z[O]="new";for(O in z)z[O]==="old"&&delete W[O];bE(n),da.getComponentMethod("rangeslider","makeData")(n),!t&&u.length===l.length&&Ur.supplyDefaultsUpdateCalc(u,l)};Ur.supplyDefaultsUpdateCalc=function(e,r){for(var t=0;t<r.length;t++){var a=r[t],n=(e[t]||[])[0];if(n&&n.trace){var i=n.trace;if(i._hasCalcTransform){var o=i._arrayAttrs,l,s,u;for(l=0;l<o.length;l++)s=o[l],u=Qr.nestedProperty(i,s).get().slice(),Qr.nestedProperty(a,s).set(u)}n.trace=a}}};function tle(e,r){var t=r.length,a=[],n,i;for(n=0;n<e.length;n++){var o=e[n]._fullInput;o!==i&&a.push(o),i=o}var l=a.length,s=new Array(t),u={};function f(d,p){s[p]=d,u[d]=1}function c(d,p){if(d&&typeof d=="string"&&!u[d])return f(d,p),!0}for(n=0;n<t;n++){var h=r[n].uid;typeof h=="number"&&(h=String(h)),!c(h,n)&&(n<l&&c(a[n].uid,n)||f(Qr.randstr(u),n))}return s}function ale(){var e=da.collectableSubplotTypes,r={},t,a;if(!e){e=[];var n=da.subplotsRegistry;for(var i in n){var o=n[i],l=o.attr;if(l&&(e.push(i),Array.isArray(l)))for(a=0;a<l.length;a++)Qr.pushUnique(e,l[a])}}for(t=0;t<e.length;t++)r[e[t]]=[];return r}function vE(e,r){var t=e._context.locale;t||(t="en-US");var a=!1,n={};function i(c){for(var h=!0,d=0;d<r.length;d++){var p=r[d];n[p]||(c[p]?n[p]=c[p]:h=!1)}h&&(a=!0)}for(var o=0;o<2;o++){for(var l=e._context.locales,s=0;s<2;s++){var u=(l[t]||{}).format;if(u&&(i(u),a))break;l=da.localeRegistry}var f=t.split("-")[0];if(a||f===t)break;t=f}return a||i(da.localeRegistry.en.format),n}function nle(e,r){return e.decimal=r.charAt(0),e.thousands=r.charAt(1),{numberFormat:function(t){try{t=Woe(e).format(Qr.adjustFormat(t))}catch(a){return Qr.warnBadFormat(t),Qr.noFormat}return t},timeFormat:Yoe(e).utcFormat}}function ile(e,r){var t,a=[];r.meta&&(t=r._meta={meta:r.meta,layout:{meta:r.meta}});for(var n=0;n<e.length;n++){var i=e[n];i.meta?a[i.index]=i._meta={meta:i.meta}:r.meta&&(i._meta={meta:r.meta}),r.meta&&(i._meta.layout={meta:r.meta})}a.length&&(t||(t=r._meta={}),t.data=a)}Ur.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])};Ur._hasPlotType=function(e){var r,t=this._basePlotModules||[];for(r=0;r<t.length;r++)if(t[r].name===e)return!0;var a=this._modules||[];for(r=0;r<a.length;r++){var n=a[r].name;if(n===e)return!0;var i=da.modules[n];if(i&&i.categories[e])return!0}return!1};Ur.cleanPlot=function(e,r,t,a){var n,i,o=a._basePlotModules||[];for(n=0;n<o.length;n++){var l=o[n];l.clean&&l.clean(e,r,t,a)}var s=a._has&&a._has("gl"),u=r._has&&r._has("gl");s&&!u&&a._glcontainer!==void 0&&(a._glcontainer.selectAll(".gl-canvas").remove(),a._glcontainer.selectAll(".no-webgl").remove(),a._glcanvas=null);var f=!!a._infolayer;e:for(n=0;n<t.length;n++){var c=t[n],h=c.uid;for(i=0;i<e.length;i++){var d=e[i];if(h===d.uid)continue e}f&&a._infolayer.select(".cb"+h).remove()}};Ur.linkSubplots=function(e,r,t,a){var n,i,o=a._plots||{},l=r._plots={},s=r._subplots,u={_fullData:e,_fullLayout:r},f=s.cartesian||[];for(n=0;n<f.length;n++){var c=f[n],h=o[c],d=so.getFromId(u,c,"x"),p=so.getFromId(u,c,"y"),g;for(h?g=l[c]=h:(g=l[c]={},g.id=c),d._counterAxes.push(p._id),p._counterAxes.push(d._id),d._subplotsWith.push(c),p._subplotsWith.push(c),g.xaxis=d,g.yaxis=p,g._hasClipOnAxisFalse=!1,i=0;i<e.length;i++){var y=e[i];if(y.xaxis===g.xaxis._id&&y.yaxis===g.yaxis._id&&y.cliponaxis===!1){g._hasClipOnAxisFalse=!0;break}}}var b=so.list(u,null,!0),_;for(n=0;n<b.length;n++){_=b[n];var w=null;_.overlaying&&(w=so.getFromId(u,_.overlaying),w&&w.overlaying&&(_.overlaying=!1,w=null)),_._mainAxis=w||_,w&&(_.domain=w.domain.slice()),_._anchorAxis=_.anchor==="free"?null:so.getFromId(u,_.anchor)}for(n=0;n<b.length;n++)if(_=b[n],_._counterAxes.sort(so.idSort),_._subplotsWith.sort(Qr.subplotSort),_._mainSubplot=ole(_,r),_._counterAxes.length&&(_.spikemode&&_.spikemode.indexOf("across")!==-1||_.automargin&&_.mirror&&_.anchor!=="free"||da.getComponentMethod("rangeslider","isVisible")(_))){var x=1,T=0;for(i=0;i<_._counterAxes.length;i++){var S=so.getFromId(u,_._counterAxes[i]);x=Math.min(x,S.domain[0]),T=Math.max(T,S.domain[1])}x<T&&(_._counterDomainMin=x,_._counterDomainMax=T)}};function ole(e,r){var t={_fullLayout:r},a=e._id.charAt(0)==="x",n=e._mainAxis._anchorAxis,i="",o="",l="";if(n&&(l=n._mainAxis._id,i=a?e._id+l:l+e._id),!i||!r._plots[i]){i="";for(var s=e._counterAxes,u=0;u<s.length;u++){var f=s[u],c=a?e._id+f:f+e._id;o||(o=c);var h=so.getFromId(t,f);if(l&&h.overlaying===l){i=c;break}}}return i||o}Ur.clearExpandedTraceDefaultColors=function(e){var r,t,a;function n(o,l,s,u){t[u]=l,t.length=u+1,o.valType==="color"&&o.dflt===void 0&&r.push(t.join("."))}for(t=[],r=e._module._colorAttrs,r||(e._module._colorAttrs=r=[],mE.crawl(e._module.attributes,n)),a=0;a<r.length;a++){var i=Qr.nestedProperty(e,"_input."+r[a]);i.get()||Qr.nestedProperty(e,r[a]).set(null)}};Ur.supplyDataDefaults=function(e,r,t,a){var n=a._modules,i=a._visibleModules,o=a._basePlotModules,l=0,s=0,u,f,c;a._transformModules=[];function h(_){r.push(_);var w=_._module;w&&(Qr.pushUnique(n,w),_.visible===!0&&Qr.pushUnique(i,w),Qr.pushUnique(o,_._module.basePlotModule),l++,_._input.visible!==!1&&s++)}var d={},p=[],g=(t.template||{}).data||{},y=Xoe.traceTemplater(g);for(u=0;u<e.length;u++)c=e[u],f=y.newTrace(c),f.uid=a._traceUids[u],Ur.supplyTraceDefaults(c,f,s,a,u),f.index=u,f._input=c,f._fullInput=f,h(f),da.traceIs(f,"carpetAxis")&&(d[f.carpet]=f),da.traceIs(f,"carpetDependent")&&p.push(u);for(u=0;u<p.length;u++)if(f=r[p[u]],!!f.visible){var b=d[f.carpet];if(f._carpet=b,!b||!b.visible){f.visible=!1;continue}f.xaxis=b.xaxis,f.yaxis=b.yaxis}};Ur.supplyAnimationDefaults=function(e){e=e||{};var r,t={};function a(n,i){return Qr.coerce(e||{},t,Q_,n,i)}if(a("mode"),a("direction"),a("fromcurrent"),Array.isArray(e.frame))for(t.frame=[],r=0;r<e.frame.length;r++)t.frame[r]=Ur.supplyAnimationFrameDefaults(e.frame[r]||{});else t.frame=Ur.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(t.transition=[],r=0;r<e.transition.length;r++)t.transition[r]=Ur.supplyAnimationTransitionDefaults(e.transition[r]||{});else t.transition=Ur.supplyAnimationTransitionDefaults(e.transition||{});return t};Ur.supplyAnimationFrameDefaults=function(e){var r={};function t(a,n){return Qr.coerce(e||{},r,Q_.frame,a,n)}return t("duration"),t("redraw"),r};Ur.supplyAnimationTransitionDefaults=function(e){var r={};function t(a,n){return Qr.coerce(e||{},r,Q_.transition,a,n)}return t("duration"),t("easing"),r};Ur.supplyFrameDefaults=function(e){var r={};function t(a,n){return Qr.coerce(e,r,$oe,a,n)}return t("group"),t("name"),t("traces"),t("baseframe"),t("data"),t("layout"),r};Ur.supplyTraceDefaults=function(e,r,t,a,n){var i=a.colorway||gE.defaults,o=i[t%i.length],l;function s(w,x){return Qr.coerce(e,r,Ur.attributes,w,x)}var u=s("visible");s("type"),s("name",a._traceWord+" "+n),s("uirevision",a.uirevision);var f=Ur.getModule(r);if(r._module=f,f){var c=f.basePlotModule,h=c.attr,d=c.attributes;if(h&&d){var p=a._subplots,g="";if(Array.isArray(h))for(l=0;l<h.length;l++){var y=h[l],b=Qr.coerce(e,r,d,y);p[y]&&Qr.pushUnique(p[y],b),g+=b}else g=Qr.coerce(e,r,d,h);p[c.name]&&Qr.pushUnique(p[c.name],g)}}if(u&&(s("customdata"),s("ids"),s("meta"),da.traceIs(r,"showLegend")?(Qr.coerce(e,r,f.attributes.showlegend?f.attributes:Ur.attributes,"showlegend"),s("legend"),s("legendwidth"),s("legendgroup"),s("legendgrouptitle.text"),s("legendrank"),r._dfltShowLegend=!0):r._dfltShowLegend=!1,f&&f.supplyDefaults(e,r,o,a),da.traceIs(r,"noOpacity")||s("opacity"),da.traceIs(r,"notLegendIsolatable")&&(r.visible=!!r.visible),da.traceIs(r,"noHover")||(r.hovertemplate||Qr.coerceHoverinfo(e,r,a),r.type!=="parcats"&&da.getComponentMethod("fx","supplyDefaults")(e,r,o,a)),f&&f.selectPoints)){var _=s("selectedpoints");Qr.isTypedArray(_)&&(r.selectedpoints=Array.from(_))}return r};Ur.supplyLayoutGlobalDefaults=function(e,r,t){function a(c,h){return Qr.coerce(e,r,Ur.layoutAttributes,c,h)}var n=e.template;Qr.isPlainObject(n)&&(r.template=n,r._template=n.layout,r._dataTemplate=n.data),a("autotypenumbers");var i=Qr.coerceFont(a,"font"),o=i.size;Qr.coerceFont(a,"title.font",i,{overrideDflt:{size:Math.round(o*1.4)}}),a("title.text",r._dfltTitle.plot),a("title.xref");var l=a("title.yref");a("title.pad.t"),a("title.pad.r"),a("title.pad.b"),a("title.pad.l");var s=a("title.automargin");a("title.x"),a("title.xanchor"),a("title.y"),a("title.yanchor"),a("title.subtitle.text",r._dfltTitle.subtitle),Qr.coerceFont(a,"title.subtitle.font",i,{overrideDflt:{size:Math.round(r.title.font.size*.7)}}),s&&(l==="paper"&&(r.title.y!==0&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y===0?"top":"bottom")),l==="container"&&(r.title.y==="auto"&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y<.5?"bottom":"top")));var u=a("uniformtext.mode");u&&a("uniformtext.minsize"),a("autosize",!(e.width&&e.height)),a("width"),a("height"),a("minreducedwidth"),a("minreducedheight"),a("margin.l"),a("margin.r"),a("margin.t"),a("margin.b"),a("margin.pad"),a("margin.autoexpand"),e.width&&e.height&&Ur.sanitizeMargins(r),da.getComponentMethod("grid","sizeDefaults")(e,r),a("paper_bgcolor"),a("separators",t.decimal+t.thousands),a("hidesources"),a("colorway"),a("datarevision");var f=a("uirevision");a("editrevision",f),a("selectionrevision",f),da.getComponentMethod("modebar","supplyLayoutDefaults")(e,r),da.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,r,a),da.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(e,r,a),a("meta"),Qr.isPlainObject(e.transition)&&(a("transition.duration"),a("transition.easing"),a("transition.ordering")),da.getComponentMethod("calendars","handleDefaults")(e,r,"calendar"),da.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,r,a),Qr.coerce(e,r,Joe,"scattermode")};function Ag(e){return typeof e=="string"&&e.substr(e.length-2)==="px"&&parseFloat(e)}Ur.plotAutoSize=function(r,t,a){var n=r._context||{},i=n.frameMargins,o,l,s=Qr.isPlotDiv(r);if(s&&r.emit("plotly_autosize"),n.fillFrame)o=window.innerWidth,l=window.innerHeight,document.body.style.overflow="hidden";else{var u=s?window.getComputedStyle(r):{};if(o=Ag(u.width)||Ag(u.maxWidth)||a.width,l=Ag(u.height)||Ag(u.maxHeight)||a.height,v1(i)&&i>0){var f=1-2*i;o=Math.round(f*o),l=Math.round(f*l)}}var c=Ur.layoutAttributes.width.min,h=Ur.layoutAttributes.height.min;o<c&&(o=c),l<h&&(l=h);var d=!t.width&&Math.abs(a.width-o)>1,p=!t.height&&Math.abs(a.height-l)>1;(p||d)&&(d&&(a.width=o),p&&(a.height=l)),r._initialAutoSize||(r._initialAutoSize={width:o,height:l}),Ur.sanitizeMargins(a)};Ur.supplyLayoutModuleDefaults=function(e,r,t,a){var n=da.componentsRegistry,i=r._basePlotModules,o,l,s,u=da.subplotsRegistry.cartesian;for(o in n)s=n[o],s.includeBasePlot&&s.includeBasePlot(e,r);i.length||i.push(u),r._has("cartesian")&&(da.getComponentMethod("grid","contentDefaults")(e,r),u.finalizeSubplots(e,r));for(var f in r._subplots)r._subplots[f].sort(Qr.subplotSort);for(l=0;l<i.length;l++)s=i[l],s.supplyLayoutDefaults&&s.supplyLayoutDefaults(e,r,t);var c=r._modules;for(l=0;l<c.length;l++)s=c[l],s.supplyLayoutDefaults&&s.supplyLayoutDefaults(e,r,t);var h=r._transformModules;for(l=0;l<h.length;l++)s=h[l],s.supplyLayoutDefaults&&s.supplyLayoutDefaults(e,r,t,a);for(o in n)s=n[o],s.supplyLayoutDefaults&&s.supplyLayoutDefaults(e,r,t)};Ur.purge=function(e){var r=e._fullLayout||{};r._glcontainer!==void 0&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.remove(),r._glcanvas=null),r._modeBar&&r._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),Qr.clearThrottle(),Qr.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()};Ur.style=function(e){var r=e._fullLayout._visibleModules,t=[],a;for(a=0;a<r.length;a++){var n=r[a];n.style&&Qr.pushUnique(t,n.style)}for(a=0;a<t.length;a++)t[a](e)};Ur.sanitizeMargins=function(e){if(!(!e||!e.margin)){var r=e.width,t=e.height,a=e.margin,n=r-(a.l+a.r),i=t-(a.t+a.b),o;n<0&&(o=(r-1)/(a.l+a.r),a.l=Math.floor(o*a.l),a.r=Math.floor(o*a.r)),i<0&&(o=(t-1)/(a.t+a.b),a.t=Math.floor(o*a.t),a.b=Math.floor(o*a.b))}};Ur.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}};Ur.allowAutoMargin=function(e,r){e._fullLayout._pushmarginIds[r]=1};function bE(e){var r=e.margin;if(!e._size){var t=e._size={l:Math.round(r.l),r:Math.round(r.r),t:Math.round(r.t),b:Math.round(r.b),p:Math.round(r.pad)};t.w=Math.round(e.width)-t.l-t.r,t.h=Math.round(e.height)-t.t-t.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={}),e._reservedMargin||(e._reservedMargin={})}var xE=2,_E=2;Ur.autoMargin=function(e,r,t){var a=e._fullLayout,n=a.width,i=a.height,o=a.margin,l=a.minreducedwidth,s=a.minreducedheight,u=Qr.constrain(n-o.l-o.r,xE,l),f=Qr.constrain(i-o.t-o.b,_E,s),c=Math.max(0,n-u),h=Math.max(0,i-f),d=a._pushmargin,p=a._pushmarginIds;if(o.autoexpand!==!1){if(!t)delete d[r],delete p[r];else{var g=t.pad;if(g===void 0&&(g=Math.min(12,o.l,o.r,o.t,o.b)),c){var y=(t.l+t.r)/c;y>1&&(t.l/=y,t.r/=y)}if(h){var b=(t.t+t.b)/h;b>1&&(t.t/=b,t.b/=b)}var _=t.xl!==void 0?t.xl:t.x,w=t.xr!==void 0?t.xr:t.x,x=t.yt!==void 0?t.yt:t.y,T=t.yb!==void 0?t.yb:t.y;d[r]={l:{val:_,size:t.l+g},r:{val:w,size:t.r+g},b:{val:T,size:t.b+g},t:{val:x,size:t.t+g}},p[r]=1}if(!a._replotting)return Ur.doAutoMargin(e)}};function lle(e){if("_redrawFromAutoMarginCount"in e._fullLayout)return!1;var r=so.list(e,"",!0);for(var t in r)if(r[t].autoshift||r[t].shift)return!0;return!1}Ur.doAutoMargin=function(e){var r=e._fullLayout,t=r.width,a=r.height;r._size||(r._size={}),bE(r);var n=r._size,i=r.margin,o={t:0,b:0,l:0,r:0},l=Qr.extendFlat({},n),s=i.l,u=i.r,f=i.t,c=i.b,h=r._pushmargin,d=r._pushmarginIds,p=r.minreducedwidth,g=r.minreducedheight;if(i.autoexpand!==!1){for(var y in h)d[y]||delete h[y];var b=e._fullLayout._reservedMargin;for(var _ in b)for(var w in b[_]){var x=b[_][w];o[w]=Math.max(o[w],x)}h.base={l:{val:0,size:s},r:{val:1,size:u},t:{val:1,size:f},b:{val:0,size:c}};for(var T in o){var S=0;for(var M in h)M!=="base"&&v1(h[M][T].size)&&(S=h[M][T].size>S?h[M][T].size:S);var C=Math.max(0,i[T]-S);o[T]=Math.max(0,o[T]-C)}for(var q in h){var F=h[q].l||{},P=h[q].b||{},I=F.val,H=F.size,V=P.val,j=P.size,W=t-o.r-o.l,z=a-o.t-o.b;for(var O in h){if(v1(H)&&h[O].r){var G=h[O].r.val,Z=h[O].r.size;if(G>I){var Q=(H*G+(Z-W)*I)/(G-I),ie=(Z*(1-I)+(H-W)*(1-G))/(G-I);Q+ie>s+u&&(s=Q,u=ie)}}if(v1(j)&&h[O].t){var be=h[O].t.val,ne=h[O].t.size;if(be>V){var de=(j*be+(ne-z)*V)/(be-V),K=(ne*(1-V)+(j-z)*(1-be))/(be-V);de+K>c+f&&(c=de,f=K)}}}}}var me=Qr.constrain(t-i.l-i.r,xE,p),fe=Qr.constrain(a-i.t-i.b,_E,g),ke=Math.max(0,t-me),ve=Math.max(0,a-fe);if(ke){var Ae=(s+u)/ke;Ae>1&&(s/=Ae,u/=Ae)}if(ve){var Y=(c+f)/ve;Y>1&&(c/=Y,f/=Y)}if(n.l=Math.round(s)+o.l,n.r=Math.round(u)+o.r,n.t=Math.round(f)+o.t,n.b=Math.round(c)+o.b,n.p=Math.round(i.pad),n.w=Math.round(t)-n.l-n.r,n.h=Math.round(a)-n.t-n.b,!r._replotting&&(Ur.didMarginChange(l,n)||lle(e))){"_redrawFromAutoMarginCount"in r?r._redrawFromAutoMarginCount++:r._redrawFromAutoMarginCount=1;var ae=3*(1+Object.keys(d).length);if(r._redrawFromAutoMarginCount<ae)return da.call("_doPlot",e);r._size=l,Qr.warn("Too many auto-margin redraws.")}sle(e)};function sle(e){var r=so.list(e,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(t){for(var a=0;a<r.length;a++){var n=r[a][t];n&&n()}})}var hE=["l","r","t","b","p","w","h"];Ur.didMarginChange=function(e,r){for(var t=0;t<hE.length;t++){var a=hE[t],n=e[a],i=r[a];if(!v1(n)||Math.abs(i-n)>1)return!0}return!1};Ur.graphJson=function(e,r,t,a,n,i){(n&&r&&!e._fullData||n&&!r&&!e._fullLayout)&&Ur.supplyDefaults(e);var o=n?e._fullData:e.data,l=n?e._fullLayout:e.layout,s=(e._transitionData||{})._frames;function u(h,d){if(typeof h=="function")return d?"_function_":null;if(Qr.isPlainObject(h)){var p={},g;return Object.keys(h).sort().forEach(function(w){if(["_","["].indexOf(w.charAt(0))===-1){if(typeof h[w]=="function"){d&&(p[w]="_function");return}if(t==="keepdata"){if(w.substr(w.length-3)==="src")return}else if(t==="keepstream"){if(g=h[w+"src"],typeof g=="string"&&g.indexOf(":")>0&&!Qr.isPlainObject(h.stream))return}else if(t!=="keepall"&&(g=h[w+"src"],typeof g=="string"&&g.indexOf(":")>0))return;p[w]=u(h[w],d)}}),p}var y=Array.isArray(h),b=Qr.isTypedArray(h);if((y||b)&&h.dtype&&h.shape){var _=h.bdata;return u({dtype:h.dtype,shape:h.shape,bdata:Qr.isArrayBuffer(_)?joe.encode(_):_},d)}return y?h.map(function(w){return u(w,d)}):b?Qr.simpleMap(h,Qr.identity):Qr.isJSDate(h)?Qr.ms2DateTimeLocal(+h):h}var f={data:(o||[]).map(function(h){var d=u(h);return r&&delete d.fit,d})};if(!r&&(f.layout=u(l),n)){var c=l._size;f.layout.computed={margin:{b:c.b,l:c.l,r:c.r,t:c.t}}}return s&&(f.frames=u(s)),i&&(f.config=u(e._context,!0)),a==="object"?f:JSON.stringify(f)};Ur.modifyFrames=function(e,r){var t,a,n,i=e._transitionData._frames,o=e._transitionData._frameHash;for(t=0;t<r.length;t++)switch(a=r[t],a.type){case"replace":n=a.value;var l=(i[a.index]||{}).name,s=n.name;i[a.index]=o[s]=n,s!==l&&(delete o[l],o[s]=n);break;case"insert":n=a.value,o[n.name]=n,i.splice(a.index,0,n);break;case"delete":n=i[a.index],delete o[n.name],i.splice(a.index,1);break}return Promise.resolve()};Ur.computeFrame=function(e,r){var t=e._transitionData._frameHash,a,n,i,o;if(!r)throw new Error("computeFrame must be given a string frame name");var l=t[r.toString()];if(!l)return!1;for(var s=[l],u=[l.name];l.baseframe&&(l=t[l.baseframe.toString()])&&u.indexOf(l.name)===-1;)s.push(l),u.push(l.name);for(var f={};l=s.pop();)if(l.layout&&(f.layout=Ur.extendLayout(f.layout,l.layout)),l.data){if(f.data||(f.data=[]),n=l.traces,!n)for(n=[],a=0;a<l.data.length;a++)n[a]=a;for(f.traces||(f.traces=[]),a=0;a<l.data.length;a++)i=n[a],i!=null&&(o=f.traces.indexOf(i),o===-1&&(o=f.data.length,f.traces[o]=i),f.data[o]=Ur.extendTrace(f.data[o],l.data[a]))}return f};Ur.recomputeFrameHash=function(e){for(var r=e._transitionData._frameHash={},t=e._transitionData._frames,a=0;a<t.length;a++){var n=t[a];n&&n.name&&(r[n.name]=n)}};Ur.extendObjectWithContainers=function(e,r,t){var a,n,i,o,l,s,u,f,c=Qr.extendDeepNoArrays({},r||{}),h=Qr.expandObjectPaths(c),d={};if(t&&t.length)for(i=0;i<t.length;i++)a=Qr.nestedProperty(h,t[i]),n=a.get(),n===void 0?Qr.nestedProperty(d,t[i]).set(null):(a.set(null),Qr.nestedProperty(d,t[i]).set(n));if(e=Qr.extendDeepNoArrays(e||{},h),t&&t.length){for(i=0;i<t.length;i++)if(l=Qr.nestedProperty(d,t[i]),u=l.get(),!!u){for(s=Qr.nestedProperty(e,t[i]),f=s.get(),Array.isArray(f)||(f=[],s.set(f)),o=0;o<u.length;o++){var p=u[o];p===null?f[o]=null:f[o]=Ur.extendObjectWithContainers(f[o],p)}s.set(f)}}return e};Ur.dataArrayContainers=["transforms","dimensions"];Ur.layoutArrayContainers=da.layoutArrayContainers;Ur.extendTrace=function(e,r){return Ur.extendObjectWithContainers(e,r,Ur.dataArrayContainers)};Ur.extendLayout=function(e,r){return Ur.extendObjectWithContainers(e,r,Ur.layoutArrayContainers)};Ur.transition=function(e,r,t,a,n,i){var o={redraw:n.redraw},l={},s=[];return o.prepareFn=function(){for(var u=Array.isArray(r)?r.length:0,f=a.slice(0,u),c=0;c<f.length;c++){var h=f[c],d=e._fullData[h],p=d._module;if(p){if(p.animatable){var g=p.basePlotModule.name;l[g]||(l[g]=[]),l[g].push(h)}e.data[f[c]]=Ur.extendTrace(e.data[f[c]],r[c])}}var y=Qr.expandObjectPaths(Qr.extendDeepNoArrays({},t)),b=/^[xy]axis[0-9]*$/;for(var _ in y)b.test(_)&&delete y[_].range;Ur.extendLayout(e.layout,y),delete e.calcdata,Ur.supplyDefaults(e),Ur.doCalcdata(e);var w=Qr.expandObjectPaths(t);if(w){var x=e._fullLayout._plots;for(var T in x){var S=x[T],M=S.xaxis,C=S.yaxis,q=M.range.slice(),F=C.range.slice(),P=null,I=null,H=null,V=null;Array.isArray(w[M._name+".range"])?P=w[M._name+".range"].slice():Array.isArray((w[M._name]||{}).range)&&(P=w[M._name].range.slice()),Array.isArray(w[C._name+".range"])?I=w[C._name+".range"].slice():Array.isArray((w[C._name]||{}).range)&&(I=w[C._name].range.slice()),q&&P&&(M.r2l(q[0])!==M.r2l(P[0])||M.r2l(q[1])!==M.r2l(P[1]))&&(H={xr0:q,xr1:P}),F&&I&&(C.r2l(F[0])!==C.r2l(I[0])||C.r2l(F[1])!==C.r2l(I[1]))&&(V={yr0:F,yr1:I}),(H||V)&&s.push(Qr.extendFlat({plotinfo:S},H,V))}}return Promise.resolve()},o.runFn=function(u){var f,c=e._fullLayout._basePlotModules,h=s.length,d;if(t)for(d=0;d<c.length;d++)c[d].transitionAxes&&c[d].transitionAxes(e,s,i,u);h?(f=Qr.extendFlat({},i),f.duration=0,delete l.cartesian):f=i;for(var p in l){var g=l[p],y=e._fullData[g[0]]._module;y.basePlotModule.plot(e,g,f,u)}},wE(e,i,o)};Ur.transitionFromReact=function(e,r,t,a){var n=e._fullLayout,i=n.transition,o={},l=[];return o.prepareFn=function(){var s=n._plots;o.redraw=!1,r.anim==="some"&&(o.redraw=!0),t.anim==="some"&&(o.redraw=!0);for(var u in s){var f=s[u],c=f.xaxis,h=f.yaxis,d=a[c._name].range.slice(),p=a[h._name].range.slice(),g=c.range.slice(),y=h.range.slice();c.setScale(),h.setScale();var b=null,_=null;(c.r2l(d[0])!==c.r2l(g[0])||c.r2l(d[1])!==c.r2l(g[1]))&&(b={xr0:d,xr1:g}),(h.r2l(p[0])!==h.r2l(y[0])||h.r2l(p[1])!==h.r2l(y[1]))&&(_={yr0:p,yr1:y}),(b||_)&&l.push(Qr.extendFlat({plotinfo:f},b,_))}return Promise.resolve()},o.runFn=function(s){for(var u=e._fullData,f=e._fullLayout,c=f._basePlotModules,h,d,p,g=[],y=0;y<u.length;y++)g.push(y);function b(){if(e._fullLayout)for(var w=0;w<c.length;w++)c[w].transitionAxes&&c[w].transitionAxes(e,l,h,s)}function _(){if(e._fullLayout)for(var w=0;w<c.length;w++)c[w].plot(e,p,d,s)}l.length&&r.anim?i.ordering==="traces first"?(h=Qr.extendFlat({},i,{duration:0}),p=g,d=i,setTimeout(b,i.duration),_()):(h=i,p=null,d=Qr.extendFlat({},i,{duration:0}),setTimeout(_,h.duration),b()):l.length?(h=i,b()):r.anim&&(p=g,d=i,_())},wE(e,i,o)};function wE(e,r,t){var a=!1;function n(c){var h=Promise.resolve();if(!c)return h;for(;c.length;)h=h.then(c.shift());return h}function i(c){if(c)for(;c.length;)c.shift()}function o(){return e.emit("plotly_transitioning",[]),new Promise(function(c){e._transitioning=!0,r.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){a=!0}),t.redraw&&e._transitionData._interruptCallbacks.push(function(){return da.call("redraw",e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var h=0,d=0;function p(){return h++,function(){d++,!a&&d===h&&l(c)}}t.runFn(p),setTimeout(p())})}function l(c){if(e._transitionData)return i(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(t.redraw)return da.call("redraw",e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(c)}function s(){if(e._transitionData)return e._transitioning=!1,n(e._transitionData._interruptCallbacks)}var u=[Ur.previousPromises,s,t.prepareFn,Ur.rehover,Ur.reselect,o],f=Qr.syncOrAsync(u,e);return(!f||!f.then)&&(f=Promise.resolve()),f.then(function(){return e})}Ur.doCalcdata=function(e,r){var t=so.list(e),a=e._fullData,n=e._fullLayout,i,o,l,s,u=new Array(a.length),f=(e.calcdata||[]).slice();for(e.calcdata=u,n._numBoxes=0,n._numViolins=0,n._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,n._piecolormap={},n._sunburstcolormap={},n._treemapcolormap={},n._iciclecolormap={},n._funnelareacolormap={},l=0;l<a.length;l++)if(Array.isArray(r)&&r.indexOf(l)===-1){u[l]=f[l];continue}for(l=0;l<a.length;l++)i=a[l],i._arrayAttrs=mE.findArrayAttributes(i),i._extremes={};var c=n._subplots.polar||[];for(l=0;l<c.length;l++)t.push(n[c[l]].radialaxis,n[c[l]].angularaxis);for(var h in n._colorAxes){var d=n[h];d.cauto!==!1&&(delete d.cmin,delete d.cmax)}var p=!1;function g(_){if(i=a[_],o=i._module,i.visible===!0&&i.transforms){if(o&&o.calc){var w=o.calc(e,i);w[0]&&w[0].t&&w[0].t._scene&&delete w[0].t._scene.dirty}for(s=0;s<i.transforms.length;s++){var x=i.transforms[s];o=transformsRegistry[x.type],o&&o.calcTransform&&(i._hasCalcTransform=!0,p=!0,o.calcTransform(e,i,x))}}}function y(_,w){if(i=a[_],o=i._module,!!o.isContainer===w){var x=[];if(i.visible===!0&&i._length!==0){delete i._indexToPoints;var T=i.transforms||[];for(s=T.length-1;s>=0;s--)if(T[s].enabled){i._indexToPoints=T[s]._indexToPoints;break}o&&o.calc&&(x=o.calc(e,i))}(!Array.isArray(x)||!x[0])&&(x=[{x:fE,y:fE}]),x[0].t||(x[0].t={}),x[0].trace=i,u[_]=x}}for(dE(t,a,n),l=0;l<a.length;l++)y(l,!0);for(l=0;l<a.length;l++)g(l);for(p&&dE(t,a,n),l=0;l<a.length;l++)y(l,!0);for(l=0;l<a.length;l++)y(l,!1);pE(e);var b=fle(t,e);if(b.length){for(n._numBoxes=0,n._numViolins=0,l=0;l<b.length;l++)y(b[l],!0);for(l=0;l<b.length;l++)y(b[l],!1);pE(e)}da.getComponentMethod("fx","calc")(e),da.getComponentMethod("errorbars","calc")(e)};var ule=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function fle(e,r){var t=[],a,n,i,o,l;function s(O,G,Z){var Q=G._id.charAt(0);if(O==="histogram2dcontour"){var ie=G._counterAxes[0],be=so.getFromId(r,ie),ne=Q==="x"||ie==="x"&&be.type==="category",de=Q==="y"||ie==="y"&&be.type==="category";return function(K,me){return K===0||me===0||ne&&K===Z[me].length-1||de&&me===Z.length-1?-1:(Q==="y"?me:K)-1}}else return function(K,me){return Q==="y"?me:K}}var u={min:function(O){return Qr.aggNums(Math.min,null,O)},max:function(O){return Qr.aggNums(Math.max,null,O)},sum:function(O){return Qr.aggNums(function(G,Z){return G+Z},null,O)},total:function(O){return Qr.aggNums(function(G,Z){return G+Z},null,O)},mean:function(O){return Qr.mean(O)},"geometric mean":function(O){return Qr.geometricMean(O)},median:function(O){return Qr.median(O)}};function f(O,G){return O[1]-G[1]}function c(O,G){return G[1]-O[1]}for(a=0;a<e.length;a++){var h=e[a];if(h.type==="category"){var d=h.categoryorder.match(ule);if(d){var p=d[1],g=d[2],y=h._id.charAt(0),b=y==="x",_=[];for(n=0;n<h._categories.length;n++)_.push([h._categories[n],[]]);for(n=0;n<h._traceIndices.length;n++){var w=h._traceIndices[n],x=r._fullData[w];if(x.visible===!0){var T=x.type;da.traceIs(x,"histogram")&&(delete x._xautoBinFinished,delete x._yautoBinFinished);var S=T==="splom",M=T==="scattergl",C=r.calcdata[w];for(i=0;i<C.length;i++){var q=C[i],F,P;if(S){var I=x._axesDim[h._id];if(!b){var H=x._diag[I][0];H&&(h=r._fullLayout[so.id2name(H)])}var V=q.trace.dimensions[I].values;for(o=0;o<V.length;o++)for(F=h._categoriesMap[V[o]],l=0;l<q.trace.dimensions.length;l++)if(l!==I){var j=q.trace.dimensions[l];_[F][1].push(j.values[o])}}else if(M){for(o=0;o<q.t.x.length;o++)b?(F=q.t.x[o],P=q.t.y[o]):(F=q.t.y[o],P=q.t.x[o]),_[F][1].push(P);q.t&&q.t._scene&&delete q.t._scene.dirty}else if(q.hasOwnProperty("z")){P=q.z;var W=s(x.type,h,P);for(o=0;o<P.length;o++)for(l=0;l<P[o].length;l++)F=W(l,o),F+1&&_[F][1].push(P[o][l])}else for(F=q.p,F===void 0&&(F=q[y]),P=q.s,P===void 0&&(P=q.v),P===void 0&&(P=b?q.y:q.x),Array.isArray(P)||(P===void 0?P=[]:P=[P]),o=0;o<P.length;o++)_[F][1].push(P[o])}}}h._categoriesValue=_;var z=[];for(n=0;n<_.length;n++)z.push([_[n][0],u[p](_[n][1])]);z.sort(g==="descending"?c:f),h._categoriesAggregatedValue=z,h._initialCategories=z.map(function(O){return O[0]}),t=t.concat(h.sortByInitialCategories())}}}return t}function dE(e,r,t){var a={};function n(s){s.clearCalc(),s.type==="multicategory"&&s.setupMultiCategory(r),a[s._id]=1}Qr.simpleMap(e,n);for(var i=t._axisMatchGroups||[],o=0;o<i.length;o++)for(var l in i[o])a[l]||n(t[so.id2name(l)])}function pE(e){var r=e._fullLayout,t=r._visibleModules,a={},n,i,o;for(i=0;i<t.length;i++){var l=t[i],s=l.crossTraceCalc;if(s){var u=l.basePlotModule.name;a[u]?Qr.pushUnique(a[u],s):a[u]=[s]}}for(o in a){var f=a[o],c=r._subplots[o];if(Array.isArray(c))for(n=0;n<c.length;n++){var h=c[n],d=o==="cartesian"?r._plots[h]:r[h];for(i=0;i<f.length;i++)f[i](e,d,h)}else for(i=0;i<f.length;i++)f[i](e)}}Ur.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()};Ur.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()};Ur.reselect=function(e){var r=e._fullLayout,t=(e.layout||{}).selections,a=r._previousSelections;r._previousSelections=t;var n=r._reselect||JSON.stringify(t)!==JSON.stringify(a);da.getComponentMethod("selections","reselect")(e,n)};Ur.generalUpdatePerTraceModule=function(e,r,t,a){var n=r.traceHash,i={},o;for(o=0;o<t.length;o++){var l=t[o],s=l[0].trace;s.visible&&(i[s.type]=i[s.type]||[],i[s.type].push(l))}for(var u in n)if(!i[u]){var f=n[u][0],c=f[0].trace;c.visible=!1,i[u]=[f]}for(var h in i){var d=i[h],p=d[0][0].trace._module;p.plot(e,r,Qr.filterVisible(d),a)}r.traceHash=i};Ur.plotBasePlot=function(e,r,t,a,n){var i=da.getModule(e),o=Koe(r.calcdata,i)[0];i.plot(r,o,a,n)};Ur.cleanBasePlot=function(e,r,t,a,n){var i=n._has&&n._has(e),o=t._has&&t._has(e);i&&!o&&n["_"+e+"layer"].selectAll("g.trace").remove()}});var yc=R(pc=>{"use strict";pc.xmlns="http://www.w3.org/2000/xmlns/";pc.svg="http://www.w3.org/2000/svg";pc.xlink="http://www.w3.org/1999/xlink";pc.svgAttrs={xmlns:pc.svg,"xmlns:xlink":pc.xlink}});var ki=R((zSe,TE)=>{"use strict";TE.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}});var Ci=R(Ho=>{"use strict";var _n=aa(),Zs=fr(),cle=Zs.strTranslate,e4=yc(),vle=ki().LINE_SPACING,hle=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;Ho.convertToTspans=function(e,r,t){var a=e.text(),n=!e.attr("data-notex")&&r&&r._context.typesetMath&&typeof MathJax!="undefined"&&a.match(hle),i=_n.select(e.node().parentNode);if(i.empty())return;var o=e.attr("class")?e.attr("class").split(" ")[0]:"text";o+="-math",i.selectAll("svg."+o).remove(),i.selectAll("g."+o+"-group").remove(),e.style("display",null).attr({"data-unformatted":a,"data-math":"N"});function l(){i.empty()||(o=e.attr("class")+"-math",i.select("svg."+o).remove()),e.text("").style("white-space","pre");var s=Sle(e.node(),a);s&&e.style("pointer-events","all"),Ho.positionText(e),t&&t.call(e)}return n?(r&&r._promises||[]).push(new Promise(function(s){e.style("display","none");var u=parseInt(e.node().style.fontSize,10),f={fontSize:u};mle(n[2],f,function(c,h,d){i.selectAll("svg."+o).remove(),i.selectAll("g."+o+"-group").remove();var p=c&&c.select("svg");if(!p||!p.node()){l(),s();return}var g=i.append("g").classed(o+"-group",!0).attr({"pointer-events":"none","data-unformatted":a,"data-math":"Y"});g.node().appendChild(p.node()),h&&h.node()&&p.node().insertBefore(h.node().cloneNode(!0),p.node().firstChild);var y=d.width,b=d.height;p.attr({class:o,height:b,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var _=e.node().style.fill||"black",w=p.select("g");w.attr({fill:_,stroke:_});var x=w.node().getBoundingClientRect(),T=x.width,S=x.height;(T>y||S>b)&&(p.style("overflow","hidden"),x=p.node().getBoundingClientRect(),T=x.width,S=x.height);var M=+e.attr("x"),C=+e.attr("y"),q=u||e.node().getBoundingClientRect().height,F=-q/4;if(o[0]==="y")g.attr({transform:"rotate("+[-90,M,C]+")"+cle(-T/2,F-S/2)});else if(o[0]==="l")C=F-S/2;else if(o[0]==="a"&&o.indexOf("atitle")!==0)M=0,C=F;else{var P=e.attr("text-anchor");M=M-T*(P==="middle"?.5:P==="end"?1:0),C=C+F-S/2}p.attr({x:M,y:C}),t&&t.call(e,g),s(g)})})):l(),e};var dle=/(<|&lt;|&#60;)/g,ple=/(>|&gt;|&#62;)/g;function yle(e){return e.replace(dle,"\\lt ").replace(ple,"\\gt ")}var ME=[["$","$"],["\\(","\\)"]];function mle(e,r,t){var a=parseInt((MathJax.version||"").split(".")[0]);if(a!==2&&a!==3){Zs.warn("No MathJax version:",MathJax.version);return}var n,i,o,l,s=function(){return i=Zs.extendDeepAll({},MathJax.Hub.config),o=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:ME},displayAlign:"left"})},u=function(){i=Zs.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=ME},f=function(){if(n=MathJax.Hub.config.menuSettings.renderer,n!=="SVG")return MathJax.Hub.setRenderer("SVG")},c=function(){n=MathJax.config.startup.output,n!=="svg"&&(MathJax.config.startup.output="svg")},h=function(){var _="math-output-"+Zs.randstr({},64);l=_n.select("body").append("div").attr({id:_}).style({visibility:"hidden",position:"absolute","font-size":r.fontSize+"px"}).text(yle(e));var w=l.node();return a===2?MathJax.Hub.Typeset(w):MathJax.typeset([w])},d=function(){var _=l.select(a===2?".MathJax_SVG":".MathJax"),w=!_.empty()&&l.select("svg").node();if(!w)Zs.log("There was an error in the tex syntax.",e),t();else{var x=w.getBoundingClientRect(),T;a===2?T=_n.select("body").select("#MathJax_SVG_glyphs"):T=_.select("defs"),t(_,T,x)}l.remove()},p=function(){if(n!=="SVG")return MathJax.Hub.setRenderer(n)},g=function(){n!=="svg"&&(MathJax.config.startup.output=n)},y=function(){return o!==void 0&&(MathJax.Hub.processSectionDelay=o),MathJax.Hub.Config(i)},b=function(){MathJax.config=i};a===2?MathJax.Hub.Queue(s,f,h,d,p,y):a===3&&(u(),c(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){h(),d(),g(),b()}))}var EE={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},gle={sub:"0.3em",sup:"-0.6em"},ble={sub:"-0.21em",sup:"0.42em"},SE="\u200B",kE=["http:","https:","mailto:","",void 0,":"],LE=Ho.NEWLINES=/(\r\n?|\n)/g,t4=/(<[^<>]*>)/,a4=/<(\/?)([^ >]*)(\s+(.*))?>/i,xle=/<br(\s+.*)?>/i;Ho.BR_TAG_ALL=/<br(\s+.*)?>/gi;var qE=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,DE=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,FE=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,_le=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function mc(e,r){if(!e)return null;var t=e.match(r),a=t&&(t[3]||t[4]);return a&&Mg(a)}var wle=/(^|;)\s*color:/;Ho.plainText=function(e,r){r=r||{};for(var t=r.len!==void 0&&r.len!==-1?r.len:1/0,a=r.allowedTags!==void 0?r.allowedTags:["br"],n="...",i=n.length,o=e.split(t4),l=[],s="",u=0,f=0;f<o.length;f++){var c=o[f],h=c.match(a4),d=h&&h[2].toLowerCase();if(d)a.indexOf(d)!==-1&&(l.push(c),s=d);else{var p=c.length;if(u+p<t)l.push(c),u+=p;else if(u<t){var g=t-u;s&&(s!=="br"||g<=i||p<=i)&&l.pop(),t>i?l.push(c.substr(0,g-i)+n):l.push(c.substr(0,g));break}s=""}}return l.join("")};var Ale={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},Tle=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function Mg(e){return e.replace(Tle,function(r,t){var a;return t.charAt(0)==="#"?a=Mle(t.charAt(1)==="x"?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):a=Ale[t],a||r})}Ho.convertEntities=Mg;function Mle(e){if(!(e>1114111)){var r=String.fromCodePoint;if(r)return r(e);var t=String.fromCharCode;return e<=65535?t(e):t((e>>10)+55232,e%1024+56320)}}function Sle(e,r){r=r.replace(LE," ");var t=!1,a=[],n,i=-1;function o(){i++;var S=document.createElementNS(e4.svg,"tspan");_n.select(S).attr({class:"line",dy:i*vle+"em"}),e.appendChild(S),n=S;var M=a;if(a=[{node:S}],M.length>1)for(var C=1;C<M.length;C++)l(M[C])}function l(S){var M=S.type,C={},q;if(M==="a"){q="a";var F=S.target,P=S.href,I=S.popup;P&&(C={"xlink:xlink:show":F==="_blank"||F.charAt(0)!=="_"?"new":"replace",target:F,"xlink:xlink:href":P},I&&(C.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+I+'");return false;'))}else q="tspan";S.style&&(C.style=S.style);var H=document.createElementNS(e4.svg,q);if(M==="sup"||M==="sub"){s(n,SE),n.appendChild(H);var V=document.createElementNS(e4.svg,"tspan");s(V,SE),_n.select(V).attr("dy",ble[M]),C.dy=gle[M],n.appendChild(H),n.appendChild(V)}else n.appendChild(H);_n.select(H).attr(C),n=S.node=H,a.push(S)}function s(S,M){S.appendChild(document.createTextNode(M))}function u(S){if(a.length===1){Zs.log("Ignoring unexpected end tag </"+S+">.",r);return}var M=a.pop();S!==M.type&&Zs.log("Start tag <"+M.type+"> doesnt match end tag <"+S+">. Pretending it did match.",r),n=a[a.length-1].node}var f=xle.test(r);f?o():(n=e,a=[{node:e}]);for(var c=r.split(t4),h=0;h<c.length;h++){var d=c[h],p=d.match(a4),g=p&&p[2].toLowerCase(),y=EE[g];if(g==="br")o();else if(y===void 0)s(n,Mg(d));else if(p[1])u(g);else{var b=p[4],_={type:g},w=mc(b,qE);if(w?(w=w.replace(wle,"$1 fill:"),y&&(w+=";"+y)):y&&(w=y),w&&(_.style=w),g==="a"){t=!0;var x=mc(b,DE);if(x){var T=RE(x);T&&(_.href=T,_.target=mc(b,FE)||"_blank",_.popup=mc(b,_le))}}l(_)}}return t}function RE(e){var r=encodeURI(decodeURI(e)),t=document.createElement("a"),a=document.createElement("a");t.href=e,a.href=r;var n=t.protocol,i=a.protocol;return kE.indexOf(n)!==-1&&kE.indexOf(i)!==-1?r:""}Ho.sanitizeHTML=function(r){r=r.replace(LE," ");for(var t=document.createElement("p"),a=t,n=[],i=r.split(t4),o=0;o<i.length;o++){var l=i[o],s=l.match(a4),u=s&&s[2].toLowerCase();if(u in EE)if(s[1])n.length&&(a=n.pop());else{var f=s[4],c=mc(f,qE),h=c?{style:c}:{};if(u==="a"){var d=mc(f,DE);if(d){var p=RE(d);if(p){h.href=p;var g=mc(f,FE);g&&(h.target=g)}}}var y=document.createElement(u);a.appendChild(y),_n.select(y).attr(h),a=y,n.push(y)}else a.appendChild(document.createTextNode(Mg(l)))}var b="innerHTML";return t[b]};Ho.lineCount=function(r){return r.selectAll("tspan.line").size()||1};Ho.positionText=function(r,t,a){return r.each(function(){var n=_n.select(this);function i(s,u){return u===void 0?(u=n.attr(s),u===null&&(n.attr(s,0),u=0)):n.attr(s,u),u}var o=i("x",t),l=i("y",a);this.nodeName==="text"&&n.selectAll("tspan.line").attr({x:o,y:l})})};function CE(e,r,t){var a=t.horizontalAlign,n=t.verticalAlign||"top",i=e.node().getBoundingClientRect(),o=r.node().getBoundingClientRect(),l,s,u;return n==="bottom"?s=function(){return i.bottom-l.height}:n==="middle"?s=function(){return i.top+(i.height-l.height)/2}:s=function(){return i.top},a==="right"?u=function(){return i.right-l.width}:a==="center"?u=function(){return i.left+(i.width-l.width)/2}:u=function(){return i.left},function(){l=this.node().getBoundingClientRect();var f=u()-o.left,c=s()-o.top,h=t.gd||{};if(t.gd){h._fullLayout._calcInverseTransform(h);var d=Zs.apply3DTransform(h._fullLayout._invTransform)(f,c);f=d[0],c=d[1]}return this.style({top:c+"px",left:f+"px","z-index":1e3}),this}}var r4="1px ";Ho.makeTextShadow=function(e){var r=r4,t=r4,a=r4;return r+t+a+e+", -"+r+"-"+t+a+e+", "+r+"-"+t+a+e+", -"+r+t+a+e};Ho.makeEditable=function(e,r){var t=r.gd,a=r.delegate,n=_n.dispatch("edit","input","cancel"),i=a||e;if(e.style({"pointer-events":a?"none":"all"}),e.size()!==1)throw new Error("boo");function o(){s(),e.style({opacity:0});var u=i.attr("class"),f;u?f="."+u.split(" ")[0]+"-math-group":f="[class*=-math-group]",f&&_n.select(e.node().parentNode).select(f).style({opacity:0})}function l(u){var f=u.node(),c=document.createRange();c.selectNodeContents(f);var h=window.getSelection();h.removeAllRanges(),h.addRange(c),f.focus()}function s(){var u=_n.select(t),f=u.select(".svg-container"),c=f.append("div"),h=e.node().style,d=parseFloat(h.fontSize||12),p=r.text;p===void 0&&(p=e.attr("data-unformatted")),c.classed("plugin-editable editable",!0).style({position:"absolute","font-family":h.fontFamily||"Arial","font-size":d,color:r.fill||h.fill||"black",opacity:1,"background-color":r.background||"transparent",outline:"#ffffff33 1px solid",margin:[-d/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(p).call(CE(e,f,r)).on("blur",function(){t._editing=!1,e.text(this.textContent).style({opacity:1});var g=_n.select(this).attr("class"),y;g?y="."+g.split(" ")[0]+"-math-group":y="[class*=-math-group]",y&&_n.select(e.node().parentNode).select(y).style({opacity:0});var b=this.textContent;_n.select(this).transition().duration(0).remove(),_n.select(document).on("mouseup",null),n.edit.call(e,b)}).on("focus",function(){var g=this;t._editing=!0,_n.select(document).on("mouseup",function(){if(_n.event.target===g)return!1;document.activeElement===c.node()&&c.node().blur()})}).on("keyup",function(){_n.event.which===27?(t._editing=!1,e.style({opacity:1}),_n.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),n.cancel.call(e,this.textContent)):(n.input.call(e,this.textContent),_n.select(this).call(CE(e,f,r)))}).on("keydown",function(){_n.event.which===13&&this.blur()}).call(l)}return r.immediate?o():i.on("click",o),_n.rebind(e,n,"on")}});var Go=R((USe,HE)=>{"use strict";var kle=aa(),kg=zo(),d1=Zt(),Sg=fr(),PE=Vt(),Cle=nc().isValid;function Ele(e,r,t){var a=r?Sg.nestedProperty(e,r).get()||{}:e,n=a[t||"color"];n&&n._inputArray&&(n=n._inputArray);var i=!1;if(Sg.isArrayOrTypedArray(n)){for(var o=0;o<n.length;o++)if(d1(n[o])){i=!0;break}}return Sg.isPlainObject(a)&&(i||a.showscale===!0||d1(a.cmin)&&d1(a.cmax)||Cle(a.colorscale)||Sg.isPlainObject(a.colorbar))}var NE=["showscale","autocolorscale","colorscale","reversescale","colorbar"],h1=["min","max","mid","auto"];function OE(e){var r=e._colorAx,t=r||e,a={},n,i,o;for(i=0;i<NE.length;i++)o=NE[i],a[o]=t[o];if(r)for(n="c",i=0;i<h1.length;i++)o=h1[i],a[o]=t["c"+o];else{var l;for(i=0;i<h1.length;i++){if(o=h1[i],l="c"+o,l in t){a[o]=t[l];continue}l="z"+o,l in t&&(a[o]=t[l])}n=l.charAt(0)}return a._sync=function(s,u){var f=h1.indexOf(s)!==-1?n+s:s;t[f]=t["_"+f]=u},a}function zE(e){for(var r=OE(e),t=r.min,a=r.max,n=r.reversescale?BE(r.colorscale):r.colorscale,i=n.length,o=new Array(i),l=new Array(i),s=0;s<i;s++){var u=n[s];o[s]=t+u[0]*(a-t),l[s]=u[1]}return{domain:o,range:l}}function BE(e){for(var r=e.length,t=new Array(r),a=r-1,n=0;a>=0;a--,n++){var i=e[a];t[n]=[1-i[0],i[1]]}return t}function UE(e,r){r=r||{};for(var t=e.domain,a=e.range,n=a.length,i=new Array(n),o=0;o<n;o++){var l=kg(a[o]).toRgb();i[o]=[l.r,l.g,l.b,l.a]}var s=kle.scale.linear().domain(t).range(i).clamp(!0),u=r.noNumericCheck,f=r.returnArray,c;return u&&f?c=s:u?c=function(h){return IE(s(h))}:f?c=function(h){return d1(h)?s(h):kg(h).isValid()?h:PE.defaultLine}:c=function(h){return d1(h)?IE(s(h)):kg(h).isValid()?h:PE.defaultLine},c.domain=s.domain,c.range=function(){return a},c}function Lle(e,r){return UE(zE(e),r)}function IE(e){var r={r:e[0],g:e[1],b:e[2],a:e[3]};return kg(r).toRgbString()}HE.exports={hasColorscale:Ele,extractOpts:OE,extractScale:zE,flipScale:BE,makeColorScaleFunc:UE,makeColorScaleFuncFromTrace:Lle}});var m0=R((HSe,YE)=>{"use strict";var GE=w_(),qle=GE.FORMAT_LINK,Dle=GE.DATE_FORMAT_LINK;function Fle(e,r){return{valType:"string",dflt:"",editType:"none",description:(r?n4:VE)("hover text",e)+["By default the values are formatted using "+(r?"generic number format":"`"+e+"axis.hoverformat`")+"."].join(" ")}}function n4(e,r){return["Sets the "+e+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+qle+"."].join(" ")}function VE(e,r){return n4(e,r)+[" And for dates see: "+Dle+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}YE.exports={axisHoverFormat:Fle,descriptionOnlyNumbers:n4,descriptionWithDates:VE}});var xl=R((GSe,sL)=>{"use strict";var WE=ti(),g0=es(),lL=Us().dash,o4=xn().extendFlat,jE=Oa().templatedArray,XE=m0().descriptionWithDates,Rle=vn().ONEDAY,as=ui(),Ple=as.HOUR_PATTERN,Nle=as.WEEKDAY_PATTERN,i4={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},Ile=o4({},i4,{values:i4.values.slice().concat(["sync"])});function ZE(e){return{valType:"integer",min:0,dflt:e?5:0,editType:"ticks"}}var JE={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},$E={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},KE={valType:"data_array",editType:"ticks"},QE={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function eL(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=5),r}function rL(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var tL={valType:"color",dflt:g0.defaultLine,editType:"ticks"},aL={valType:"color",dflt:g0.lightLine,editType:"ticks"};function nL(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var iL=o4({},lL,{editType:"ticks"}),oL={valType:"boolean",editType:"ticks"};sL.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:g0.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:WE({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[as.idRegex.x.toString(),as.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[as.idRegex.x.toString(),as.idRegex.y.toString()],editType:"calc"},rangebreaks:jE("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[Nle,Ple,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:Rle},editType:"calc"}),tickmode:Ile,nticks:ZE(),tick0:JE,dtick:$E,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:KE,ticktext:{valType:"data_array",editType:"ticks"},ticks:QE,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:eL(),tickwidth:rL(),tickcolor:tL,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:o4({},lL,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:WE({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:XE("tick label")},tickformatstops:jE("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:XE("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:g0.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:oL,gridcolor:aL,gridwidth:nL(),griddash:iL,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:g0.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:g0.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",as.idRegex.x.toString(),as.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",as.idRegex.x.toString(),as.idRegex.y.toString()],editType:"plot"},minor:{tickmode:i4,nticks:ZE("minor"),tick0:JE,dtick:$E,tickvals:KE,ticks:QE,ticklen:eL("minor"),tickwidth:rL("minor"),tickcolor:tL,gridcolor:aL,gridwidth:nL("minor"),griddash:iL,showgrid:oL,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}});var Cg=R((VSe,cL)=>{"use strict";var Ga=xl(),uL=ti(),fL=xn().extendFlat,Ole=yl().overrideAll;cL.exports=Ole({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:Ga.linecolor,outlinewidth:Ga.linewidth,bordercolor:Ga.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:Ga.minor.tickmode,nticks:Ga.nticks,tick0:Ga.tick0,dtick:Ga.dtick,tickvals:Ga.tickvals,ticktext:Ga.ticktext,ticks:fL({},Ga.ticks,{dflt:""}),ticklabeloverflow:fL({},Ga.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:Ga.ticklen,tickwidth:Ga.tickwidth,tickcolor:Ga.tickcolor,ticklabelstep:Ga.ticklabelstep,showticklabels:Ga.showticklabels,labelalias:Ga.labelalias,tickfont:uL({}),tickangle:Ga.tickangle,tickformat:Ga.tickformat,tickformatstops:Ga.tickformatstops,tickprefix:Ga.tickprefix,showtickprefix:Ga.showtickprefix,ticksuffix:Ga.ticksuffix,showticksuffix:Ga.showticksuffix,separatethousands:Ga.separatethousands,exponentformat:Ga.exponentformat,minexponent:Ga.minexponent,showexponent:Ga.showexponent,title:{text:{valType:"string"},font:uL({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")});var b0=R((WSe,hL)=>{"use strict";var zle=Cg(),Ble=e0().counter,Ule=ig(),vL=nc().scales,YSe=Ule(vL);function Eg(e){return"`"+e+"`"}hL.exports=function(r,t){r=r||"",t=t||{};var a=t.cLetter||"c",n="onlyIfNumerical"in t?t.onlyIfNumerical:!!r,i="noScale"in t?t.noScale:r==="marker.line",o="showScaleDflt"in t?t.showScaleDflt:a==="z",l=typeof t.colorscaleDflt=="string"?vL[t.colorscaleDflt]:null,s=t.editTypeOverride||"",u=r?r+".":"",f,c;"colorAttr"in t?(f=t.colorAttr,c=t.colorAttr):(f={z:"z",c:"color"}[a],c="in "+Eg(u+f));var h=n?" Has an effect only if "+c+" is set to a numerical array.":"",d=a+"auto",p=a+"min",g=a+"max",y=a+"mid",b=Eg(u+d),_=Eg(u+p),w=Eg(u+g),x=_+" and "+w,T={};T[p]=T[g]=void 0;var S={};S[d]=!1;var M={};return f==="color"&&(M.color={valType:"color",arrayOk:!0,editType:s||"style"},t.anim&&(M.color.anim=!0)),M[d]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:T},M[p]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:S},M[g]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:S},M[y]={valType:"number",dflt:null,editType:"calc",impliedEdits:T},M.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},M.autocolorscale={valType:"boolean",dflt:t.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},M.reversescale={valType:"boolean",dflt:!1,editType:"plot"},i||(M.showscale={valType:"boolean",dflt:o,editType:"calc"},M.colorbar=zle),t.noColorAxis||(M.coloraxis={valType:"subplotid",regex:Ble("coloraxis"),dflt:null,editType:"calc"}),M}});var s4=R((jSe,dL)=>{"use strict";var Hle=xn().extendFlat,Gle=b0(),l4=nc().scales;dL.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:l4.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:l4.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:l4.RdBu,editType:"calc"}},coloraxis:Hle({_isSubplotObj:!0,editType:"calc"},Gle("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}});var u4=R((XSe,pL)=>{"use strict";var Vle=fr();pL.exports=function(r){return Vle.isPlainObject(r.colorbar)}});var v4=R(c4=>{"use strict";var f4=Zt(),yL=fr(),mL=vn(),Yle=mL.ONEDAY,Wle=mL.ONEWEEK;c4.dtick=function(e,r){var t=r==="log",a=r==="date",n=r==="category",i=a?Yle:1;if(!e)return i;if(f4(e))return e=Number(e),e<=0?i:n?Math.max(1,Math.round(e)):a?Math.max(.1,e):e;if(typeof e!="string"||!(a||t))return i;var o=e.charAt(0),l=e.substr(1);return l=f4(l)?Number(l):0,l<=0||!(a&&o==="M"&&l===Math.round(l)||t&&o==="L"||t&&o==="D"&&(l===1||l===2))?i:e};c4.tick0=function(e,r,t,a){if(r==="date")return yL.cleanDate(e,yL.dateTick0(t,a%Wle===0?1:0));if(!(a==="D1"||a==="D2"))return f4(e)?Number(e):0}});var h4=R((JSe,bL)=>{"use strict";var gL=v4(),jle=fr().isArrayOrTypedArray,Xle=ao().isTypedArraySpec,Zle=ao().decodeTypedArraySpec;bL.exports=function(r,t,a,n,i){i||(i={});var o=i.isMinor,l=o?r.minor||{}:r,s=o?t.minor:t,u=o?"minor.":"";function f(_){var w=l[_];return Xle(w)&&(w=Zle(w)),w!==void 0?w:(s._template||{})[_]}var c=f("tick0"),h=f("dtick"),d=f("tickvals"),p=jle(d)?"array":h?"linear":"auto",g=a(u+"tickmode",p);if(g==="auto"||g==="sync")a(u+"nticks");else if(g==="linear"){var y=s.dtick=gL.dtick(h,n);s.tick0=gL.tick0(c,n,t.calendar,y)}else if(n!=="multicategory"){var b=a(u+"tickvals");b===void 0?s.tickmode="auto":o||a("ticktext")}}});var p4=R(($Se,_L)=>{"use strict";var d4=fr(),xL=xl();_L.exports=function(r,t,a,n){var i=n.isMinor,o=i?r.minor||{}:r,l=i?t.minor:t,s=i?xL.minor:xL,u=i?"minor.":"",f=d4.coerce2(o,l,s,"ticklen",i?(t.ticklen||5)*.6:void 0),c=d4.coerce2(o,l,s,"tickwidth",i?t.tickwidth||1:void 0),h=d4.coerce2(o,l,s,"tickcolor",(i?t.tickcolor:void 0)||l.color),d=a(u+"ticks",!i&&n.outerTicks||f||c||h?"outside":"");d||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}});var y4=R((KSe,wL)=>{"use strict";wL.exports=function(r){var t=["showexponent","showtickprefix","showticksuffix"],a=t.filter(function(i){return r[i]!==void 0}),n=function(i){return r[i]===r[a[0]]};if(a.every(n)||a.length===1)return r[a[0]]}});var _l=R((QSe,AL)=>{"use strict";var Lg=fr(),Jle=Oa();AL.exports=function(r,t,a){var n=a.name,i=a.inclusionAttr||"visible",o=t[n],l=Lg.isArrayOrTypedArray(r[n])?r[n]:[],s=t[n]=[],u=Jle.arrayTemplater(t,n,i),f,c;for(f=0;f<l.length;f++){var h=l[f];Lg.isPlainObject(h)?c=u.newItem(h):(c=u.newItem({}),c[i]=!1),c._index=f,c[i]!==!1&&a.handleItemDefaults(h,c,t,a),s.push(c)}var d=u.defaultItems();for(f=0;f<d.length;f++)c=d[f],c._index=s.length,a.handleItemDefaults({},c,t,a,{}),s.push(c);if(Lg.isArrayOrTypedArray(o)){var p=Math.min(o.length,s.length);for(f=0;f<p;f++)Lg.relinkPrivateKeys(s[f],o[f])}return s}});var g4=R((eke,ML)=>{"use strict";var m4=fr(),$le=Vt().contrast,TL=xl(),Kle=y4(),Qle=_l();ML.exports=function(r,t,a,n,i){i||(i={});var o=a("labelalias");m4.isPlainObject(o)||delete t.labelalias;var l=Kle(r),s=a("showticklabels");if(s){i.noTicklabelshift||a("ticklabelshift"),i.noTicklabelstandoff||a("ticklabelstandoff");var u=i.font||{},f=t.color,c=t.ticklabelposition||"",h=c.indexOf("inside")!==-1?$le(i.bgColor):f&&f!==TL.color.dflt?f:u.color;if(m4.coerceFont(a,"tickfont",u,{overrideDflt:{color:h}}),!i.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&a("ticklabelstep"),!i.noAng){var d=a("tickangle");!i.noAutotickangles&&d==="auto"&&a("autotickangles")}if(n!=="category"){var p=a("tickformat");Qle(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:ese}),t.tickformatstops.length||delete t.tickformatstops,!i.noExp&&!p&&n!=="date"&&(a("showexponent",l),a("exponentformat"),a("minexponent"),a("separatethousands"))}}};function ese(e,r){function t(n,i){return m4.coerce(e,r,TL.tickformatstops,n,i)}var a=t("enabled");a&&(t("dtickrange"),t("value"))}});var b4=R((rke,SL)=>{"use strict";var rse=y4();SL.exports=function(r,t,a,n,i){i||(i={});var o=i.tickSuffixDflt,l=rse(r),s=a("tickprefix");s&&a("showtickprefix",l);var u=a("ticksuffix",o);u&&a("showticksuffix",l)}});var x4=R((tke,kL)=>{"use strict";var ju=fr(),tse=Oa(),ase=h4(),nse=p4(),ise=g4(),ose=b4(),lse=Cg();kL.exports=function(r,t,a){var n=tse.newContainer(t,"colorbar"),i=r.colorbar||{};function o(P,I){return ju.coerce(i,n,lse,P,I)}var l=a.margin||{t:0,b:0,l:0,r:0},s=a.width-l.l-l.r,u=a.height-l.t-l.b,f=o("orientation"),c=f==="v",h=o("thicknessmode");o("thickness",h==="fraction"?30/(c?s:u):30);var d=o("lenmode");o("len",d==="fraction"?1:c?u:s);var p=o("yref"),g=o("xref"),y=p==="paper",b=g==="paper",_,w,x,T="left";c?(x="middle",T=b?"left":"right",_=b?1.02:1,w=.5):(x=y?"bottom":"top",T="center",_=.5,w=y?1.02:1),ju.coerce(i,n,{x:{valType:"number",min:b?-2:0,max:b?3:1,dflt:_}},"x"),ju.coerce(i,n,{y:{valType:"number",min:y?-2:0,max:y?3:1,dflt:w}},"y"),o("xanchor",T),o("xpad"),o("yanchor",x),o("ypad"),ju.noneOrAll(i,n,["x","y"]),o("outlinecolor"),o("outlinewidth"),o("bordercolor"),o("borderwidth"),o("bgcolor");var S=ju.coerce(i,n,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:c?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");o("ticklabeloverflow",S.indexOf("inside")!==-1?"hide past domain":"hide past div"),ase(i,n,o,"linear");var M=a.font,C={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:M};S.indexOf("inside")!==-1&&(C.bgColor="black"),ose(i,n,o,"linear",C),ise(i,n,o,"linear",C),nse(i,n,o,"linear",C),o("title.text",a._dfltTitle.colorbar);var q=n.showticklabels?n.tickfont:M,F=ju.extendFlat({},M,{family:q.family,size:ju.bigFont(q.size)});ju.coerceFont(o,"title.font",F),o("title.side",c?"top":"right")}});var x0=R((ake,LL)=>{"use strict";var CL=Zt(),w4=fr(),sse=u4(),use=x4(),EL=nc().isValid,fse=_t().traceIs;function _4(e,r){var t=r.slice(0,r.length-1);return r?w4.nestedProperty(e,t).get()||{}:e}LL.exports=function e(r,t,a,n,i){var o=i.prefix,l=i.cLetter,s="_module"in t,u=_4(r,o),f=_4(t,o),c=_4(t._template||{},o)||{},h=function(){return delete r.coloraxis,delete t.coloraxis,e(r,t,a,n,i)};if(s){var d=a._colorAxes||{},p=n(o+"coloraxis");if(p){var g=fse(t,"contour")&&w4.nestedProperty(t,"contours.coloring").get()||"heatmap",y=d[p];y?(y[2].push(h),y[0]!==g&&(y[0]=!1,w4.warn(["Ignoring coloraxis:",p,"setting","as it is linked to incompatible colorscales."].join(" ")))):d[p]=[g,t,[h]];return}}var b=u[l+"min"],_=u[l+"max"],w=CL(b)&&CL(_)&&b<_,x=n(o+l+"auto",!w);x?n(o+l+"mid"):(n(o+l+"min"),n(o+l+"max"));var T=u.colorscale,S=c.colorscale,M;if(T!==void 0&&(M=!EL(T)),S!==void 0&&(M=!EL(S)),n(o+"autocolorscale",M),n(o+"colorscale"),n(o+"reversescale"),o!=="marker.line."){var C;o&&s&&(C=sse(u));var q=n(o+"showscale",C);q&&(o&&c&&(f._template=c),use(u,f,a))}}});var RL=R((nke,FL)=>{"use strict";var qL=fr(),cse=Oa(),DL=s4(),vse=x0();FL.exports=function(r,t){function a(c,h){return qL.coerce(r,t,DL,c,h)}a("colorscale.sequential"),a("colorscale.sequentialminus"),a("colorscale.diverging");var n=t._colorAxes,i,o;function l(c,h){return qL.coerce(i,o,DL.coloraxis,c,h)}for(var s in n){var u=n[s];if(u[0])i=r[s]||{},o=cse.newContainer(t,s,"coloraxis"),o._name=s,vse(i,o,t,l,{prefix:"",cLetter:"c"});else{for(var f=0;f<u[2].length;f++)u[2][f]();delete t._colorAxes[s]}}}});var NL=R((ike,PL)=>{"use strict";var hse=fr(),dse=Go().hasColorscale,pse=Go().extractOpts;PL.exports=function(r,t){function a(f,c){var h=f["_"+c];h!==void 0&&(f[c]=h)}function n(f,c){var h=c.container?hse.nestedProperty(f,c.container).get():f;if(h)if(h.coloraxis)h._colorAx=t[h.coloraxis];else{var d=pse(h),p=d.auto;(p||d.min===void 0)&&a(h,c.min),(p||d.max===void 0)&&a(h,c.max),d.autocolorscale&&a(h,"colorscale")}}for(var i=0;i<r.length;i++){var o=r[i],l=o._module.colorbar;if(l)if(Array.isArray(l))for(var s=0;s<l.length;s++)n(o,l[s]);else n(o,l);dse(o,"marker.line")&&n(o,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in t._colorAxes)n(t[u],{min:"cmin",max:"cmax"})}});var qg=R((oke,OL)=>{"use strict";var IL=Zt(),A4=fr(),yse=Go().extractOpts;OL.exports=function(r,t,a){var n=r._fullLayout,i=a.vals,o=a.containerStr,l=o?A4.nestedProperty(t,o).get():t,s=yse(l),u=s.auto!==!1,f=s.min,c=s.max,h=s.mid,d=function(){return A4.aggNums(Math.min,null,i)},p=function(){return A4.aggNums(Math.max,null,i)};if(f===void 0?f=d():u&&(l._colorAx&&IL(f)?f=Math.min(f,d()):f=d()),c===void 0?c=p():u&&(l._colorAx&&IL(c)?c=Math.max(c,p()):c=p()),u&&h!==void 0&&(c-h>h-f?f=h-(c-h):c-h<h-f&&(c=h+(h-f))),f===c&&(f-=.5,c+=.5),s._sync("min",f),s._sync("max",c),s.autocolorscale){var g;f*c<0?g=n.colorscale.diverging:f>=0?g=n.colorscale.sequential:g=n.colorscale.sequentialminus,s._sync("colorscale",g)}}});var Fg=R((lke,zL)=>{"use strict";var Dg=nc(),_0=Go();zL.exports={moduleType:"component",name:"colorscale",attributes:b0(),layoutAttributes:s4(),supplyLayoutDefaults:RL(),handleDefaults:x0(),crossTraceDefaults:NL(),calc:qg(),scales:Dg.scales,defaultScale:Dg.defaultScale,getScale:Dg.get,isValidScale:Dg.isValid,hasColorscale:_0.hasColorscale,extractOpts:_0.extractOpts,extractScale:_0.extractScale,flipScale:_0.flipScale,makeColorScaleFunc:_0.makeColorScaleFunc,makeColorScaleFuncFromTrace:_0.makeColorScaleFuncFromTrace}});var gi=R((ske,UL)=>{"use strict";var BL=fr(),mse=ao().isTypedArraySpec;UL.exports={hasLines:function(e){return e.visible&&e.mode&&e.mode.indexOf("lines")!==-1},hasMarkers:function(e){return e.visible&&(e.mode&&e.mode.indexOf("markers")!==-1||e.type==="splom")},hasText:function(e){return e.visible&&e.mode&&e.mode.indexOf("text")!==-1},isBubble:function(e){var r=e.marker;return BL.isPlainObject(r)&&(BL.isArrayOrTypedArray(r.size)||mse(r.size))}}});var T4=R((uke,HL)=>{"use strict";var gse=Zt();HL.exports=function(r,t){t||(t=2);var a=r.marker,n=a.sizeref||1,i=a.sizemin||0,o=a.sizemode==="area"?function(l){return Math.sqrt(l/n)}:function(l){return l/n};return function(l){var s=o(l/t);return gse(s)&&s>0?Math.max(s,i):0}}});var ns=R(bi=>{"use strict";var GL=fr();bi.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo};bi.isTraceInSubplots=function(e,r){if(e.type==="splom"){for(var t=e.xaxes||[],a=e.yaxes||[],n=0;n<t.length;n++)for(var i=0;i<a.length;i++)if(r.indexOf(t[n]+a[i])!==-1)return!0;return!1}return r.indexOf(bi.getSubplot(e))!==-1};bi.flat=function(e,r){for(var t=new Array(e.length),a=0;a<e.length;a++)t[a]=r;return t};bi.p2c=function(e,r){for(var t=new Array(e.length),a=0;a<e.length;a++)t[a]=e[a].p2c(r);return t};bi.getDistanceFunction=function(e,r,t,a){return e==="closest"?a||bi.quadrature(r,t):e.charAt(0)==="x"?r:t};bi.getClosest=function(e,r,t){if(t.index!==!1)t.index>=0&&t.index<e.length?t.distance=0:t.index=!1;else for(var a=0;a<e.length;a++){var n=r(e[a]);n<=t.distance&&(t.index=a,t.distance=n)}return t};bi.inbox=function(e,r,t){return e*r<0||e===0?t:1/0};bi.quadrature=function(e,r){return function(t){var a=e(t),n=r(t);return Math.sqrt(a*a+n*n)}};bi.makeEventData=function(e,r,t){var a="index"in e?e.index:e.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:a};if(r._indexToPoints){var i=r._indexToPoints[a];i.length===1?n.pointIndex=i[0]:n.pointIndices=i}else n.pointIndex=a;return r._module.eventData?n=r._module.eventData(n,e,r,t,a):("xVal"in e?n.x=e.xVal:"x"in e&&(n.x=e.x),"yVal"in e?n.y=e.yVal:"y"in e&&(n.y=e.y),e.xa&&(n.xaxis=e.xa),e.ya&&(n.yaxis=e.ya),e.zLabelVal!==void 0&&(n.z=e.zLabelVal)),bi.appendArrayPointValue(n,r,a),n};bi.appendArrayPointValue=function(e,r,t){var a=r._arrayAttrs;if(a)for(var n=0;n<a.length;n++){var i=a[n],o=VL(i);if(e[o]===void 0){var l=GL.nestedProperty(r,i).get(),s=YL(l,t);s!==void 0&&(e[o]=s)}}};bi.appendArrayMultiPointValues=function(e,r,t){var a=r._arrayAttrs;if(a)for(var n=0;n<a.length;n++){var i=a[n],o=VL(i);if(e[o]===void 0){for(var l=GL.nestedProperty(r,i).get(),s=new Array(t.length),u=0;u<t.length;u++)s[u]=YL(l,t[u]);e[o]=s}}};var bse={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function VL(e){return bse[e]||e}function YL(e,r){if(Array.isArray(r)){if(Array.isArray(e)&&Array.isArray(e[r[0]]))return e[r[0]][r[1]]}else return e[r]}var xse={x:!0,y:!0},_se={"x unified":!0,"y unified":!0};bi.isUnifiedHover=function(e){return typeof e!="string"?!1:!!_se[e]};bi.isXYhover=function(e){return typeof e!="string"?!1:!!xse[e]}});var p1=R((cke,WL)=>{WL.exports=Ase;var M4={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},wse=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function Ase(e){var r=[];return e.replace(wse,function(t,a,n){var i=a.toLowerCase();for(n=Mse(n),i=="m"&&n.length>2&&(r.push([a].concat(n.splice(0,2))),i="l",a=a=="m"?"l":"L");;){if(n.length==M4[i])return n.unshift(a),r.push(n);if(n.length<M4[i])throw new Error("malformed path data");r.push([a].concat(n.splice(0,M4[i])))}}),r}var Tse=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function Mse(e){var r=e.match(Tse);return r?r.map(Number):[]}});var QL=R((vke,KL)=>{"use strict";var Sse=p1(),kr=function(e,r){return r?Math.round(e*(r=Math.pow(10,r)))/r:Math.round(e)},Nt="M0,0Z",jL=Math.sqrt(2),Xu=Math.sqrt(3),S4=Math.PI,k4=Math.cos,C4=Math.sin;KL.exports={circle:{n:0,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2),n="M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z";return t?Ot(r,t,n):n}},square:{n:1,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2);return Ot(r,t,"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")}},diamond:{n:2,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.3,2);return Ot(r,t,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"Z")}},cross:{n:3,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*.4,2),n=kr(e*1.2,2);return Ot(r,t,"M"+n+","+a+"H"+a+"V"+n+"H-"+a+"V"+a+"H-"+n+"V-"+a+"H-"+a+"V-"+n+"H"+a+"V-"+a+"H"+n+"Z")}},x:{n:4,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*.8/jL,2),n="l"+a+","+a,i="l"+a+",-"+a,o="l-"+a+",-"+a,l="l-"+a+","+a;return Ot(r,t,"M0,"+a+n+i+o+i+o+l+o+l+n+l+n+"Z")}},"triangle-up":{n:5,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*2/Xu,2),n=kr(e/2,2),i=kr(e,2);return Ot(r,t,"M-"+a+","+n+"H"+a+"L0,-"+i+"Z")}},"triangle-down":{n:6,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*2/Xu,2),n=kr(e/2,2),i=kr(e,2);return Ot(r,t,"M-"+a+",-"+n+"H"+a+"L0,"+i+"Z")}},"triangle-left":{n:7,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*2/Xu,2),n=kr(e/2,2),i=kr(e,2);return Ot(r,t,"M"+n+",-"+a+"V"+a+"L-"+i+",0Z")}},"triangle-right":{n:8,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*2/Xu,2),n=kr(e/2,2),i=kr(e,2);return Ot(r,t,"M-"+n+",-"+a+"V"+a+"L"+i+",0Z")}},"triangle-ne":{n:9,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*.6,2),n=kr(e*1.2,2);return Ot(r,t,"M-"+n+",-"+a+"H"+a+"V"+n+"Z")}},"triangle-se":{n:10,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*.6,2),n=kr(e*1.2,2);return Ot(r,t,"M"+a+",-"+n+"V"+a+"H-"+n+"Z")}},"triangle-sw":{n:11,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*.6,2),n=kr(e*1.2,2);return Ot(r,t,"M"+n+","+a+"H-"+a+"V-"+n+"Z")}},"triangle-nw":{n:12,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*.6,2),n=kr(e*1.2,2);return Ot(r,t,"M-"+a+","+n+"V-"+a+"H"+n+"Z")}},pentagon:{n:13,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*.951,2),n=kr(e*.588,2),i=kr(-e,2),o=kr(e*-.309,2),l=kr(e*.809,2);return Ot(r,t,"M"+a+","+o+"L"+n+","+l+"H-"+n+"L-"+a+","+o+"L0,"+i+"Z")}},hexagon:{n:14,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2),n=kr(e/2,2),i=kr(e*Xu/2,2);return Ot(r,t,"M"+i+",-"+n+"V"+n+"L0,"+a+"L-"+i+","+n+"V-"+n+"L0,-"+a+"Z")}},hexagon2:{n:15,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2),n=kr(e/2,2),i=kr(e*Xu/2,2);return Ot(r,t,"M-"+n+","+i+"H"+n+"L"+a+",0L"+n+",-"+i+"H-"+n+"L-"+a+",0Z")}},octagon:{n:16,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*.924,2),n=kr(e*.383,2);return Ot(r,t,"M-"+n+",-"+a+"H"+n+"L"+a+",-"+n+"V"+n+"L"+n+","+a+"H-"+n+"L-"+a+","+n+"V-"+n+"Z")}},star:{n:17,f:function(e,r,t){if(It(r))return Nt;var a=e*1.4,n=kr(a*.225,2),i=kr(a*.951,2),o=kr(a*.363,2),l=kr(a*.588,2),s=kr(-a,2),u=kr(a*-.309,2),f=kr(a*.118,2),c=kr(a*.809,2),h=kr(a*.382,2);return Ot(r,t,"M"+n+","+u+"H"+i+"L"+o+","+f+"L"+l+","+c+"L0,"+h+"L-"+l+","+c+"L-"+o+","+f+"L-"+i+","+u+"H-"+n+"L0,"+s+"Z")}},hexagram:{n:18,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*.66,2),n=kr(e*.38,2),i=kr(e*.76,2);return Ot(r,t,"M-"+i+",0l-"+n+",-"+a+"h"+i+"l"+n+",-"+a+"l"+n+","+a+"h"+i+"l-"+n+","+a+"l"+n+","+a+"h-"+i+"l-"+n+","+a+"l-"+n+",-"+a+"h-"+i+"Z")}},"star-triangle-up":{n:19,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*Xu*.8,2),n=kr(e*.8,2),i=kr(e*1.6,2),o=kr(e*4,2),l="A "+o+","+o+" 0 0 1 ";return Ot(r,t,"M-"+a+","+n+l+a+","+n+l+"0,-"+i+l+"-"+a+","+n+"Z")}},"star-triangle-down":{n:20,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*Xu*.8,2),n=kr(e*.8,2),i=kr(e*1.6,2),o=kr(e*4,2),l="A "+o+","+o+" 0 0 1 ";return Ot(r,t,"M"+a+",-"+n+l+"-"+a+",-"+n+l+"0,"+i+l+a+",-"+n+"Z")}},"star-square":{n:21,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.1,2),n=kr(e*2,2),i="A "+n+","+n+" 0 0 1 ";return Ot(r,t,"M-"+a+",-"+a+i+"-"+a+","+a+i+a+","+a+i+a+",-"+a+i+"-"+a+",-"+a+"Z")}},"star-diamond":{n:22,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.4,2),n=kr(e*1.9,2),i="A "+n+","+n+" 0 0 1 ";return Ot(r,t,"M-"+a+",0"+i+"0,"+a+i+a+",0"+i+"0,-"+a+i+"-"+a+",0Z")}},"diamond-tall":{n:23,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*.7,2),n=kr(e*1.4,2);return Ot(r,t,"M0,"+n+"L"+a+",0L0,-"+n+"L-"+a+",0Z")}},"diamond-wide":{n:24,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.4,2),n=kr(e*.7,2);return Ot(r,t,"M0,"+n+"L"+a+",0L0,-"+n+"L-"+a+",0Z")}},hourglass:{n:25,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2);return Ot(r,t,"M"+a+","+a+"H-"+a+"L"+a+",-"+a+"H-"+a+"Z")},noDot:!0},bowtie:{n:26,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2);return Ot(r,t,"M"+a+","+a+"V-"+a+"L-"+a+","+a+"V-"+a+"Z")},noDot:!0},"circle-cross":{n:27,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2);return Ot(r,t,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2),n=kr(e/jL,2);return Ot(r,t,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+a+",0A"+a+","+a+" 0 1,1 0,-"+a+"A"+a+","+a+" 0 0,1 "+a+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2);return Ot(r,t,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2);return Ot(r,t,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+a+","+a+"H-"+a+"V-"+a+"H"+a+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.3,2);return Ot(r,t,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"ZM0,-"+a+"V"+a+"M-"+a+",0H"+a)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.3,2),n=kr(e*.65,2);return Ot(r,t,"M"+a+",0L0,"+a+"L-"+a+",0L0,-"+a+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.4,2);return Ot(r,t,"M0,"+a+"V-"+a+"M"+a+",0H-"+a)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2);return Ot(r,t,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.2,2),n=kr(e*.85,2);return Ot(r,t,"M0,"+a+"V-"+a+"M"+a+",0H-"+a+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e,r,t){if(It(r))return Nt;var a=kr(e/2,2),n=kr(e,2);return Ot(r,t,"M"+a+","+n+"V-"+n+"M"+(a-n)+",-"+n+"V"+n+"M"+n+","+a+"H-"+n+"M-"+n+","+(a-n)+"H"+n)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.2,2),n=kr(e*1.6,2),i=kr(e*.8,2);return Ot(r,t,"M-"+a+","+i+"L0,0M"+a+","+i+"L0,0M0,-"+n+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.2,2),n=kr(e*1.6,2),i=kr(e*.8,2);return Ot(r,t,"M-"+a+",-"+i+"L0,0M"+a+",-"+i+"L0,0M0,"+n+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.2,2),n=kr(e*1.6,2),i=kr(e*.8,2);return Ot(r,t,"M"+i+","+a+"L0,0M"+i+",-"+a+"L0,0M-"+n+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.2,2),n=kr(e*1.6,2),i=kr(e*.8,2);return Ot(r,t,"M-"+i+","+a+"L0,0M-"+i+",-"+a+"L0,0M"+n+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.4,2);return Ot(r,t,"M"+a+",0H-"+a)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*1.4,2);return Ot(r,t,"M0,"+a+"V-"+a)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2);return Ot(r,t,"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2);return Ot(r,t,"M"+a+","+a+"L-"+a+",-"+a)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2),n=kr(e*2,2);return Ot(r,t,"M0,0L-"+a+","+n+"H"+a+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2),n=kr(e*2,2);return Ot(r,t,"M0,0L-"+a+",-"+n+"H"+a+"Z")},noDot:!0},"arrow-left":{n:47,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*2,2),n=kr(e,2);return Ot(r,t,"M0,0L"+a+",-"+n+"V"+n+"Z")},noDot:!0},"arrow-right":{n:48,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*2,2),n=kr(e,2);return Ot(r,t,"M0,0L-"+a+",-"+n+"V"+n+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2),n=kr(e*2,2);return Ot(r,t,"M-"+a+",0H"+a+"M0,0L-"+a+","+n+"H"+a+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e,r,t){if(It(r))return Nt;var a=kr(e,2),n=kr(e*2,2);return Ot(r,t,"M-"+a+",0H"+a+"M0,0L-"+a+",-"+n+"H"+a+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*2,2),n=kr(e,2);return Ot(r,t,"M0,-"+n+"V"+n+"M0,0L"+a+",-"+n+"V"+n+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e,r,t){if(It(r))return Nt;var a=kr(e*2,2),n=kr(e,2);return Ot(r,t,"M0,-"+n+"V"+n+"M0,0L-"+a+",-"+n+"V"+n+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(e,r,t){if(It(r))return Nt;var a=S4/2.5,n=2*e*k4(a),i=2*e*C4(a);return Ot(r,t,"M0,0L"+-n+","+i+"L"+n+","+i+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(e,r,t){if(It(r))return Nt;var a=S4/4,n=2*e*k4(a),i=2*e*C4(a);return Ot(r,t,"M0,0L"+-n+","+i+"A "+2*e+","+2*e+" 0 0 1 "+n+","+i+"Z")},backoff:.4,noDot:!0}};function It(e){return e===null}var XL,ZL,JL,$L;function Ot(e,r,t){if((!e||e%360===0)&&!r)return t;if(JL===e&&$L===r&&XL===t)return ZL;JL=e,$L=r,XL=t;function a(y,b){var _=k4(y),w=C4(y),x=b[0],T=b[1]+(r||0);return[x*_-T*w,x*w+T*_]}for(var n=e/180*S4,i=0,o=0,l=Sse(t),s="",u=0;u<l.length;u++){var f=l[u],c=f[0],h=i,d=o;if(c==="M"||c==="L")i=+f[1],o=+f[2];else if(c==="m"||c==="l")i+=+f[1],o+=+f[2];else if(c==="H")i=+f[1];else if(c==="h")i+=+f[1];else if(c==="V")o=+f[1];else if(c==="v")o+=+f[1];else if(c==="A"){i=+f[1],o=+f[2];var p=a(n,[+f[6],+f[7]]);f[6]=p[0],f[7]=p[1],f[3]=+f[3]+e}(c==="H"||c==="V")&&(c="L"),(c==="h"||c==="v")&&(c="l"),(c==="m"||c==="l")&&(i-=h,o-=d);var g=a(n,[i,o]);(c==="H"||c==="V")&&(c="L"),(c==="M"||c==="L"||c==="m"||c==="l")&&(f[1]=g[0],f[2]=g[1]),f[0]=c,s+=f[0]+f.slice(1).join(",")}return ZL=s,s}});var Sa=R((hke,bq)=>{"use strict";var jn=aa(),ka=fr(),kse=ka.numberFormat,_c=Zt(),R4=zo(),Pg=_t(),fi=Vt(),Cse=Fg(),m1=ka.strTranslate,Ng=Ci(),Ese=yc(),Lse=ki(),qse=Lse.LINE_SPACING,uq=Qv().DESELECTDIM,Dse=gi(),Fse=T4(),Rse=ns().appendArrayPointValue,Rr=bq.exports={};Rr.font=function(e,r){var t=r.variant,a=r.style,n=r.weight,i=r.color,o=r.size,l=r.family,s=r.shadow,u=r.lineposition,f=r.textcase;l&&e.style("font-family",l),o+1&&e.style("font-size",o+"px"),i&&e.call(fi.fill,i),n&&e.style("font-weight",n),a&&e.style("font-style",a),t&&e.style("font-variant",t),f&&e.style("text-transform",E4(Nse(f))),s&&e.style("text-shadow",s==="auto"?Ng.makeTextShadow(fi.contrast(i)):E4(s)),u&&e.style("text-decoration-line",E4(Ise(u)))};function E4(e){return e==="none"?void 0:e}var Pse={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function Nse(e){return Pse[e]}function Ise(e){return e.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}Rr.setPosition=function(e,r,t){e.attr("x",r).attr("y",t)};Rr.setSize=function(e,r,t){e.attr("width",r).attr("height",t)};Rr.setRect=function(e,r,t,a,n){e.call(Rr.setPosition,r,t).call(Rr.setSize,a,n)};Rr.translatePoint=function(e,r,t,a){var n=t.c2p(e.x),i=a.c2p(e.y);if(_c(n)&&_c(i)&&r.node())r.node().nodeName==="text"?r.attr("x",n).attr("y",i):r.attr("transform",m1(n,i));else return!1;return!0};Rr.translatePoints=function(e,r,t){e.each(function(a){var n=jn.select(this);Rr.translatePoint(a,n,r,t)})};Rr.hideOutsideRangePoint=function(e,r,t,a,n,i){r.attr("display",t.isPtWithinRange(e,n)&&a.isPtWithinRange(e,i)?null:"none")};Rr.hideOutsideRangePoints=function(e,r){if(r._hasClipOnAxisFalse){var t=r.xaxis,a=r.yaxis;e.each(function(n){var i=n[0].trace,o=i.xcalendar,l=i.ycalendar,s=Pg.traceIs(i,"bar-like")?".bartext":".point,.textpoint";e.selectAll(s).each(function(u){Rr.hideOutsideRangePoint(u,jn.select(this),t,a,o,l)})})}};Rr.crispRound=function(e,r,t){return!r||!_c(r)?t||0:e._context.staticPlot?r:r<1?1:Math.round(r)};Rr.singleLineStyle=function(e,r,t,a,n){r.style("fill","none");var i=(((e||[])[0]||{}).trace||{}).line||{},o=t||i.width||0,l=n||i.dash||"";fi.stroke(r,a||i.color),Rr.dashLine(r,l,o)};Rr.lineGroupStyle=function(e,r,t,a){e.style("fill","none").each(function(n){var i=(((n||[])[0]||{}).trace||{}).line||{},o=r||i.width||0,l=a||i.dash||"";jn.select(this).call(fi.stroke,t||i.color).call(Rr.dashLine,l,o)})};Rr.dashLine=function(e,r,t){t=+t||0,r=Rr.dashStyle(r,t),e.style({"stroke-dasharray":r,"stroke-width":t+"px"})};Rr.dashStyle=function(e,r){r=+r||1;var t=Math.max(r,3);return e==="solid"?e="":e==="dot"?e=t+"px,"+t+"px":e==="dash"?e=3*t+"px,"+3*t+"px":e==="longdash"?e=5*t+"px,"+5*t+"px":e==="dashdot"?e=3*t+"px,"+t+"px,"+t+"px,"+t+"px":e==="longdashdot"&&(e=5*t+"px,"+2*t+"px,"+t+"px,"+2*t+"px"),e};function fq(e,r,t,a){var n=r.fillpattern,i=r.fillgradient,o=n&&Rr.getPatternAttr(n.shape,0,"");if(o){var l=Rr.getPatternAttr(n.bgcolor,0,null),s=Rr.getPatternAttr(n.fgcolor,0,null),u=n.fgopacity,f=Rr.getPatternAttr(n.size,0,8),c=Rr.getPatternAttr(n.solidity,0,.3),h=r.uid;Rr.pattern(e,"point",t,h,o,f,c,void 0,n.fillmode,l,s,u)}else if(i&&i.type!=="none"){var d=i.type,p="scatterfill-"+r.uid;if(a&&(p="legendfill-"+r.uid),!a&&(i.start!==void 0||i.stop!==void 0)){var g,y;d==="horizontal"?(g={x:i.start,y:0},y={x:i.stop,y:0}):d==="vertical"&&(g={x:0,y:i.start},y={x:0,y:i.stop}),g.x=r._xA.c2p(g.x===void 0?r._extremes.x.min[0].val:g.x,!0),g.y=r._yA.c2p(g.y===void 0?r._extremes.y.min[0].val:g.y,!0),y.x=r._xA.c2p(y.x===void 0?r._extremes.x.max[0].val:y.x,!0),y.y=r._yA.c2p(y.y===void 0?r._extremes.y.max[0].val:y.y,!0),e.call(hq,t,p,"linear",i.colorscale,"fill",g,y,!0,!1)}else d==="horizontal"&&(d=d+"reversed"),e.call(Rr.gradient,t,p,d,i.colorscale,"fill")}else r.fillcolor&&e.call(fi.fill,r.fillcolor)}Rr.singleFillStyle=function(e,r){var t=jn.select(e.node()),a=t.data(),n=((a[0]||[])[0]||{}).trace||{};fq(e,n,r,!1)};Rr.fillGroupStyle=function(e,r,t){e.style("stroke-width",0).each(function(a){var n=jn.select(this);a[0].trace&&fq(n,a[0].trace,r,t)})};var eq=QL();Rr.symbolNames=[];Rr.symbolFuncs=[];Rr.symbolBackOffs=[];Rr.symbolNeedLines={};Rr.symbolNoDot={};Rr.symbolNoFill={};Rr.symbolList=[];Object.keys(eq).forEach(function(e){var r=eq[e],t=r.n;Rr.symbolList.push(t,String(t),e,t+100,String(t+100),e+"-open"),Rr.symbolNames[t]=e,Rr.symbolFuncs[t]=r.f,Rr.symbolBackOffs[t]=r.backoff||0,r.needLine&&(Rr.symbolNeedLines[t]=!0),r.noDot?Rr.symbolNoDot[t]=!0:Rr.symbolList.push(t+200,String(t+200),e+"-dot",t+300,String(t+300),e+"-open-dot"),r.noFill&&(Rr.symbolNoFill[t]=!0)});var Ose=Rr.symbolNames.length,zse="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";Rr.symbolNumber=function(e){if(_c(e))e=+e;else if(typeof e=="string"){var r=0;e.indexOf("-open")>0&&(r=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(r+=200,e=e.replace("-dot","")),e=Rr.symbolNames.indexOf(e),e>=0&&(e+=r)}return e%100>=Ose||e>=400?0:Math.floor(Math.max(e,0))};function cq(e,r,t,a){var n=e%100;return Rr.symbolFuncs[n](r,t,a)+(e>=200?zse:"")}var rq=kse("~f"),vq={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};Rr.gradient=function(e,r,t,a,n,i){var o=vq[a];return hq(e,r,t,o.type,n,i,o.start,o.stop,!1,o.reversed)};function hq(e,r,t,a,n,i,o,l,s,u){var f=n.length,c;a==="linear"?c={node:"linearGradient",attrs:{x1:o.x,y1:o.y,x2:l.x,y2:l.y,gradientUnits:s?"userSpaceOnUse":"objectBoundingBox"},reversed:u}:a==="radial"&&(c={node:"radialGradient",reversed:u});for(var h=new Array(f),d=0;d<f;d++)c.reversed?h[f-1-d]=[rq((1-n[d][0])*100),n[d][1]]:h[d]=[rq(n[d][0]*100),n[d][1]];var p=r._fullLayout,g="g"+p._uid+"-"+t,y=p._defs.select(".gradients").selectAll("#"+g).data([a+h.join(";")],ka.identity);y.exit().remove(),y.enter().append(c.node).each(function(){var b=jn.select(this);c.attrs&&b.attr(c.attrs),b.attr("id",g);var _=b.selectAll("stop").data(h);_.exit().remove(),_.enter().append("stop"),_.each(function(w){var x=R4(w[1]);jn.select(this).attr({offset:w[0]+"%","stop-color":fi.tinyRGB(x),"stop-opacity":x.getAlpha()})})}),e.style(i,P4(g,r)).style(i+"-opacity",null),e.classed("gradient_filled",!0)}Rr.pattern=function(e,r,t,a,n,i,o,l,s,u,f,c){var h=r==="legend";l&&(s==="overlay"?(u=l,f=fi.contrast(u)):(u=void 0,f=l));var d=t._fullLayout,p="p"+d._uid+"-"+a,g,y,b=function(H,V,j,W,z){return W+(z-W)*(H-V)/(j-V)},_,w,x,T,S={},M=R4(f),C=fi.tinyRGB(M),q=M.getAlpha(),F=c*q;switch(n){case"/":g=i*Math.sqrt(2),y=i*Math.sqrt(2),_="M-"+g/4+","+y/4+"l"+g/2+",-"+y/2+"M0,"+y+"L"+g+",0M"+g/4*3+","+y/4*5+"l"+g/2+",-"+y/2,w=o*i,T="path",S={d:_,opacity:F,stroke:C,"stroke-width":w+"px"};break;case"\\":g=i*Math.sqrt(2),y=i*Math.sqrt(2),_="M"+g/4*3+",-"+y/4+"l"+g/2+","+y/2+"M0,0L"+g+","+y+"M-"+g/4+","+y/4*3+"l"+g/2+","+y/2,w=o*i,T="path",S={d:_,opacity:F,stroke:C,"stroke-width":w+"px"};break;case"x":g=i*Math.sqrt(2),y=i*Math.sqrt(2),_="M-"+g/4+","+y/4+"l"+g/2+",-"+y/2+"M0,"+y+"L"+g+",0M"+g/4*3+","+y/4*5+"l"+g/2+",-"+y/2+"M"+g/4*3+",-"+y/4+"l"+g/2+","+y/2+"M0,0L"+g+","+y+"M-"+g/4+","+y/4*3+"l"+g/2+","+y/2,w=i-i*Math.sqrt(1-o),T="path",S={d:_,opacity:F,stroke:C,"stroke-width":w+"px"};break;case"|":g=i,y=i,T="path",_="M"+g/2+",0L"+g/2+","+y,w=o*i,T="path",S={d:_,opacity:F,stroke:C,"stroke-width":w+"px"};break;case"-":g=i,y=i,T="path",_="M0,"+y/2+"L"+g+","+y/2,w=o*i,T="path",S={d:_,opacity:F,stroke:C,"stroke-width":w+"px"};break;case"+":g=i,y=i,T="path",_="M"+g/2+",0L"+g/2+","+y+"M0,"+y/2+"L"+g+","+y/2,w=i-i*Math.sqrt(1-o),T="path",S={d:_,opacity:F,stroke:C,"stroke-width":w+"px"};break;case".":g=i,y=i,o<Math.PI/4?x=Math.sqrt(o*i*i/Math.PI):x=b(o,Math.PI/4,1,i/2,i/Math.sqrt(2)),T="circle",S={cx:g/2,cy:y/2,r:x,opacity:F,fill:C};break}var P=[n||"noSh",u||"noBg",f||"noFg",i,o].join(";"),I=d._defs.select(".patterns").selectAll("#"+p).data([P],ka.identity);I.exit().remove(),I.enter().append("pattern").each(function(){var H=jn.select(this);if(H.attr({id:p,width:g+"px",height:y+"px",patternUnits:"userSpaceOnUse",patternTransform:h?"scale(0.8)":""}),u){var V=R4(u),j=fi.tinyRGB(V),W=V.getAlpha(),z=H.selectAll("rect").data([0]);z.exit().remove(),z.enter().append("rect").attr({width:g+"px",height:y+"px",fill:j,"fill-opacity":W})}var O=H.selectAll(T).data([0]);O.exit().remove(),O.enter().append(T).attr(S)}),e.style("fill",P4(p,t)).style("fill-opacity",null),e.classed("pattern_filled",!0)};Rr.initGradients=function(e){var r=e._fullLayout,t=ka.ensureSingle(r._defs,"g","gradients");t.selectAll("linearGradient,radialGradient").remove(),jn.select(e).selectAll(".gradient_filled").classed("gradient_filled",!1)};Rr.initPatterns=function(e){var r=e._fullLayout,t=ka.ensureSingle(r._defs,"g","patterns");t.selectAll("pattern").remove(),jn.select(e).selectAll(".pattern_filled").classed("pattern_filled",!1)};Rr.getPatternAttr=function(e,r,t){return e&&ka.isArrayOrTypedArray(e)?r<e.length?e[r]:t:e};Rr.pointStyle=function(e,r,t,a){if(e.size()){var n=Rr.makePointStyleFns(r);e.each(function(i){Rr.singlePointStyle(i,jn.select(this),r,n,t,a)})}};Rr.singlePointStyle=function(e,r,t,a,n,i){var o=t.marker,l=o.line;if(i&&i.i>=0&&e.i===void 0&&(e.i=i.i),r.style("opacity",a.selectedOpacityFn?a.selectedOpacityFn(e):e.mo===void 0?o.opacity:e.mo),a.ms2mrc){var s;e.ms==="various"||o.size==="various"?s=3:s=a.ms2mrc(e.ms),e.mrc=s,a.selectedSizeFn&&(s=e.mrc=a.selectedSizeFn(e));var u=Rr.symbolNumber(e.mx||o.symbol)||0;e.om=u%200>=100;var f=I4(e,t),c=N4(e,t);r.attr("d",cq(u,s,f,c))}var h=!1,d,p,g;if(e.so)g=l.outlierwidth,p=l.outliercolor,d=o.outliercolor;else{var y=(l||{}).width;g=(e.mlw+1||y+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in e?p=e.mlcc=a.lineScale(e.mlc):ka.isArrayOrTypedArray(l.color)?p=fi.defaultLine:p=l.color,ka.isArrayOrTypedArray(o.color)&&(d=fi.defaultLine,h=!0),"mc"in e?d=e.mcc=a.markerScale(e.mc):d=o.color||o.colors||"rgba(0,0,0,0)",a.selectedColorFn&&(d=a.selectedColorFn(e))}if(e.om)r.call(fi.stroke,d).style({"stroke-width":(g||1)+"px",fill:"none"});else{r.style("stroke-width",(e.isBlank?0:g)+"px");var b=o.gradient,_=e.mgt;_?h=!0:_=b&&b.type,ka.isArrayOrTypedArray(_)&&(_=_[0],vq[_]||(_=0));var w=o.pattern,x=w&&Rr.getPatternAttr(w.shape,e.i,"");if(_&&_!=="none"){var T=e.mgc;T?h=!0:T=b.color;var S=t.uid;h&&(S+="-"+e.i),Rr.gradient(r,n,S,_,[[0,T],[1,d]],"fill")}else if(x){var M=!1,C=w.fgcolor;!C&&i&&i.color&&(C=i.color,M=!0);var q=Rr.getPatternAttr(C,e.i,i&&i.color||null),F=Rr.getPatternAttr(w.bgcolor,e.i,null),P=w.fgopacity,I=Rr.getPatternAttr(w.size,e.i,8),H=Rr.getPatternAttr(w.solidity,e.i,.3);M=M||e.mcc||ka.isArrayOrTypedArray(w.shape)||ka.isArrayOrTypedArray(w.bgcolor)||ka.isArrayOrTypedArray(w.fgcolor)||ka.isArrayOrTypedArray(w.size)||ka.isArrayOrTypedArray(w.solidity);var V=t.uid;M&&(V+="-"+e.i),Rr.pattern(r,"point",n,V,x,I,H,e.mcc,w.fillmode,F,q,P)}else ka.isArrayOrTypedArray(d)?fi.fill(r,d[e.i]):fi.fill(r,d);g&&fi.stroke(r,p)}};Rr.makePointStyleFns=function(e){var r={},t=e.marker;return r.markerScale=Rr.tryColorscale(t,""),r.lineScale=Rr.tryColorscale(t,"line"),Pg.traceIs(e,"symbols")&&(r.ms2mrc=Dse.isBubble(e)?Fse(e):function(){return(t.size||6)/2}),e.selectedpoints&&ka.extendFlat(r,Rr.makeSelectedPointStyleFns(e)),r};Rr.makeSelectedPointStyleFns=function(e){var r={},t=e.selected||{},a=e.unselected||{},n=e.marker||{},i=t.marker||{},o=a.marker||{},l=n.opacity,s=i.opacity,u=o.opacity,f=s!==void 0,c=u!==void 0;(ka.isArrayOrTypedArray(l)||f||c)&&(r.selectedOpacityFn=function(x){var T=x.mo===void 0?n.opacity:x.mo;return x.selected?f?s:T:c?u:uq*T});var h=n.color,d=i.color,p=o.color;(d||p)&&(r.selectedColorFn=function(x){var T=x.mcc||h;return x.selected?d||T:p||T});var g=n.size,y=i.size,b=o.size,_=y!==void 0,w=b!==void 0;return Pg.traceIs(e,"symbols")&&(_||w)&&(r.selectedSizeFn=function(x){var T=x.mrc||g/2;return x.selected?_?y/2:T:w?b/2:T}),r};Rr.makeSelectedTextStyleFns=function(e){var r={},t=e.selected||{},a=e.unselected||{},n=e.textfont||{},i=t.textfont||{},o=a.textfont||{},l=n.color,s=i.color,u=o.color;return r.selectedTextColorFn=function(f){var c=f.tc||l;return f.selected?s||c:u||(s?c:fi.addOpacity(c,uq))},r};Rr.selectedPointStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=Rr.makeSelectedPointStyleFns(r),a=r.marker||{},n=[];t.selectedOpacityFn&&n.push(function(i,o){i.style("opacity",t.selectedOpacityFn(o))}),t.selectedColorFn&&n.push(function(i,o){fi.fill(i,t.selectedColorFn(o))}),t.selectedSizeFn&&n.push(function(i,o){var l=o.mx||a.symbol||0,s=t.selectedSizeFn(o);i.attr("d",cq(Rr.symbolNumber(l),s,I4(o,r),N4(o,r))),o.mrc2=s}),n.length&&e.each(function(i){for(var o=jn.select(this),l=0;l<n.length;l++)n[l](o,i)})}};Rr.tryColorscale=function(e,r){var t=r?ka.nestedProperty(e,r).get():e;if(t){var a=t.color;if((t.colorscale||t._colorAx)&&ka.isArrayOrTypedArray(a))return Cse.makeColorScaleFuncFromTrace(t)}return ka.identity};var L4={start:1,end:-1,middle:0,bottom:1,top:-1};function dq(e,r,t,a,n){var i=jn.select(e.node().parentNode),o=r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle",l=r.indexOf("left")!==-1?"end":r.indexOf("right")!==-1?"start":"middle",s=a?a/.8+1:0,u=(Ng.lineCount(e)-1)*qse+1,f=L4[l]*s,c=t*.75+L4[o]*s+(L4[o]-1)*u*t/2;e.attr("text-anchor",l),n||i.attr("transform",m1(f,c))}function pq(e,r){var t=e.ts||r.textfont.size;return _c(t)&&t>0?t:0}Rr.textPointStyle=function(e,r,t){if(e.size()){var a;if(r.selectedpoints){var n=Rr.makeSelectedTextStyleFns(r);a=n.selectedTextColorFn}var i=r.texttemplate,o=t._fullLayout;e.each(function(l){var s=jn.select(this),u=i?ka.extractOption(l,r,"txt","texttemplate"):ka.extractOption(l,r,"tx","text");if(!u&&u!==0){s.remove();return}if(i){var f=r._module.formatLabels,c=f?f(l,r,o):{},h={};Rse(h,r,l.i);var d=r._meta||{};u=ka.texttemplateString(u,c,o._d3locale,h,l,d)}var p=l.tp||r.textposition,g=pq(l,r),y=a?a(l):l.tc||r.textfont.color;s.call(Rr.font,{family:l.tf||r.textfont.family,weight:l.tw||r.textfont.weight,style:l.ty||r.textfont.style,variant:l.tv||r.textfont.variant,textcase:l.tC||r.textfont.textcase,lineposition:l.tE||r.textfont.lineposition,shadow:l.tS||r.textfont.shadow,size:g,color:y}).text(u).call(Ng.convertToTspans,t).call(dq,p,g,l.mrc)})}};Rr.selectedTextStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=Rr.makeSelectedTextStyleFns(r);e.each(function(a){var n=jn.select(this),i=t.selectedTextColorFn(a),o=a.tp||r.textposition,l=pq(a,r);fi.fill(n,i);var s=Pg.traceIs(r,"bar-like");dq(n,o,l,a.mrc2||a.mrc,s)})}};var tq=.5;Rr.smoothopen=function(e,r){if(e.length<3)return"M"+e.join("L");var t="M"+e[0],a=[],n;for(n=1;n<e.length-1;n++)a.push(Rg(e[n-1],e[n],e[n+1],r));for(t+="Q"+a[0][0]+" "+e[1],n=2;n<e.length-1;n++)t+="C"+a[n-2][1]+" "+a[n-1][0]+" "+e[n];return t+="Q"+a[e.length-3][1]+" "+e[e.length-1],t};Rr.smoothclosed=function(e,r){if(e.length<3)return"M"+e.join("L")+"Z";var t="M"+e[0],a=e.length-1,n=[Rg(e[a],e[0],e[1],r)],i;for(i=1;i<a;i++)n.push(Rg(e[i-1],e[i],e[i+1],r));for(n.push(Rg(e[a-1],e[a],e[0],r)),i=1;i<=a;i++)t+="C"+n[i-1][1]+" "+n[i][0]+" "+e[i];return t+="C"+n[a][1]+" "+n[0][0]+" "+e[0]+"Z",t};var yq,mq;function w0(e,r,t){return t&&(e=gq(e)),r?xc(e[1]):bc(e[0])}function bc(e){var r=jn.round(e,2);return yq=r,r}function xc(e){var r=jn.round(e,2);return mq=r,r}function Rg(e,r,t,a){var n=e[0]-r[0],i=e[1]-r[1],o=t[0]-r[0],l=t[1]-r[1],s=Math.pow(n*n+i*i,tq/2),u=Math.pow(o*o+l*l,tq/2),f=(u*u*n-s*s*o)*a,c=(u*u*i-s*s*l)*a,h=3*u*(s+u),d=3*s*(s+u);return[[bc(r[0]+(h&&f/h)),xc(r[1]+(h&&c/h))],[bc(r[0]-(d&&f/d)),xc(r[1]-(d&&c/d))]]}var Bse={hv:function(e,r,t){return"H"+bc(r[0])+"V"+w0(r,1,t)},vh:function(e,r,t){return"V"+xc(r[1])+"H"+w0(r,0,t)},hvh:function(e,r,t){return"H"+bc((e[0]+r[0])/2)+"V"+xc(r[1])+"H"+w0(r,0,t)},vhv:function(e,r,t){return"V"+xc((e[1]+r[1])/2)+"H"+bc(r[0])+"V"+w0(r,1,t)}},Use=function(e,r,t){return"L"+w0(r,0,t)+","+w0(r,1,t)};Rr.steps=function(e){var r=Bse[e]||Use;return function(t){for(var a="M"+bc(t[0][0])+","+xc(t[0][1]),n=t.length,i=1;i<n;i++)a+=r(t[i-1],t[i],i===n-1);return a}};function gq(e,r){var t=e.backoff,a=e.trace,n=e.d,i=e.i;if(t&&a&&a.marker&&a.marker.angle%360===0&&a.line&&a.line.shape!=="spline"){var o=ka.isArrayOrTypedArray(t),l=e,s=r?r[0]:yq||0,u=r?r[1]:mq||0,f=l[0],c=l[1],h=f-s,d=c-u,p=Math.atan2(d,h),g=o?t[i]:t;if(g==="auto"){var y=l.i;a.type==="scatter"&&y--;var b=l.marker,_=b.symbol;ka.isArrayOrTypedArray(_)&&(_=_[y]);var w=b.size;ka.isArrayOrTypedArray(w)&&(w=w[y]),g=b?Rr.symbolBackOffs[Rr.symbolNumber(_)]*w:0,g+=Rr.getMarkerStandoff(n[y],a)||0}var x=f-g*Math.cos(p),T=c-g*Math.sin(p);(x<=f&&x>=s||x>=f&&x<=s)&&(T<=c&&T>=u||T>=c&&T<=u)&&(e=[x,T])}return e}Rr.applyBackoff=gq;Rr.makeTester=function(){var e=ka.ensureSingleById(jn.select("body"),"svg","js-plotly-tester",function(t){t.attr(Ese.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),r=ka.ensureSingle(e,"path","js-reference-point",function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});Rr.tester=e,Rr.testref=r};Rr.savedBBoxes={};var q4=0,Hse=1e4;Rr.bBox=function(e,r,t){t||(t=aq(e));var a;if(t){if(a=Rr.savedBBoxes[t],a)return ka.extendFlat({},a)}else if(e.childNodes.length===1){var n=e.childNodes[0];if(t=aq(n),t){var i=+n.getAttribute("x")||0,o=+n.getAttribute("y")||0,l=n.getAttribute("transform");if(!l){var s=Rr.bBox(n,!1,t);return i&&(s.left+=i,s.right+=i),o&&(s.top+=o,s.bottom+=o),s}if(t+="~"+i+"~"+o+"~"+l,a=Rr.savedBBoxes[t],a)return ka.extendFlat({},a)}}var u,f;r?u=e:(f=Rr.tester.node(),u=e.cloneNode(!0),f.appendChild(u)),jn.select(u).attr("transform",null).call(Ng.positionText,0,0);var c=u.getBoundingClientRect(),h=Rr.testref.node().getBoundingClientRect();r||f.removeChild(u);var d={height:c.height,width:c.width,left:c.left-h.left,top:c.top-h.top,right:c.right-h.left,bottom:c.bottom-h.top};return q4>=Hse&&(Rr.savedBBoxes={},q4=0),t&&(Rr.savedBBoxes[t]=d),q4++,ka.extendFlat({},d)};function aq(e){var r=e.getAttribute("data-unformatted");if(r!==null)return r+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}Rr.setClipUrl=function(e,r,t){e.attr("clip-path",P4(r,t))};function P4(e,r){if(!e)return null;var t=r._context,a=t._exportedPlot?"":t._baseUrl||"";return a?"url('"+a+"#"+e+"')":"url(#"+e+")"}Rr.getTranslate=function(e){var r=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",a=e[t]("transform")||"",n=a.replace(r,function(i,o,l){return[o,l].join(" ")}).split(" ");return{x:+n[0]||0,y:+n[1]||0}};Rr.setTranslate=function(e,r,t){var a=/(\btranslate\(.*?\);?)/,n=e.attr?"attr":"getAttribute",i=e.attr?"attr":"setAttribute",o=e[n]("transform")||"";return r=r||0,t=t||0,o=o.replace(a,"").trim(),o+=m1(r,t),o=o.trim(),e[i]("transform",o),o};Rr.getScale=function(e){var r=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",a=e[t]("transform")||"",n=a.replace(r,function(i,o,l){return[o,l].join(" ")}).split(" ");return{x:+n[0]||1,y:+n[1]||1}};Rr.setScale=function(e,r,t){var a=/(\bscale\(.*?\);?)/,n=e.attr?"attr":"getAttribute",i=e.attr?"attr":"setAttribute",o=e[n]("transform")||"";return r=r||1,t=t||1,o=o.replace(a,"").trim(),o+="scale("+r+","+t+")",o=o.trim(),e[i]("transform",o),o};var Gse=/\s*sc.*/;Rr.setPointGroupScale=function(e,r,t){if(r=r||1,t=t||1,!!e){var a=r===1&&t===1?"":"scale("+r+","+t+")";e.each(function(){var n=(this.getAttribute("transform")||"").replace(Gse,"");n+=a,n=n.trim(),this.setAttribute("transform",n)})}};var Vse=/translate\([^)]*\)\s*$/;Rr.setTextPointsScale=function(e,r,t){e&&e.each(function(){var a,n=jn.select(this),i=n.select("text");if(i.node()){var o=parseFloat(i.attr("x")||0),l=parseFloat(i.attr("y")||0),s=(n.attr("transform")||"").match(Vse);r===1&&t===1?a=[]:a=[m1(o,l),"scale("+r+","+t+")",m1(-o,-l)],s&&a.push(s),n.attr("transform",a.join(""))}})};function N4(e,r){var t;return e&&(t=e.mf),t===void 0&&(t=r.marker&&r.marker.standoff||0),!r._geo&&!r._xA?-t:t}Rr.getMarkerStandoff=N4;var y1=Math.atan2,gc=Math.cos,A0=Math.sin;function nq(e,r){var t=r[0],a=r[1];return[t*gc(e)-a*A0(e),t*A0(e)+a*gc(e)]}var iq,oq,lq,sq,D4,F4;function I4(e,r){var t=e.ma;t===void 0&&(t=r.marker.angle,(!t||ka.isArrayOrTypedArray(t))&&(t=0));var a,n,i=r.marker.angleref;if(i==="previous"||i==="north"){if(r._geo){var o=r._geo.project(e.lonlat);a=o[0],n=o[1]}else{var l=r._xA,s=r._yA;if(l&&s)a=l.c2p(e.x),n=s.c2p(e.y);else return 90}if(r._geo){var u=e.lonlat[0],f=e.lonlat[1],c=r._geo.project([u,f+1e-5]),h=r._geo.project([u+1e-5,f]),d=y1(h[1]-n,h[0]-a),p=y1(c[1]-n,c[0]-a),g;if(i==="north")g=t/180*Math.PI;else if(i==="previous"){var y=u/180*Math.PI,b=f/180*Math.PI,_=iq/180*Math.PI,w=oq/180*Math.PI,x=_-y,T=gc(w)*A0(x),S=A0(w)*gc(b)-gc(w)*A0(b)*gc(x);g=-y1(T,S)-Math.PI,iq=u,oq=f}var M=nq(d,[gc(g),0]),C=nq(p,[A0(g),0]);t=y1(M[1]+C[1],M[0]+C[0])/Math.PI*180,i==="previous"&&!(F4===r.uid&&e.i===D4+1)&&(t=null)}if(i==="previous"&&!r._geo)if(F4===r.uid&&e.i===D4+1&&_c(a)&&_c(n)){var q=a-lq,F=n-sq,P=r.line&&r.line.shape||"",I=P.slice(P.length-1);I==="h"&&(F=0),I==="v"&&(q=0),t+=y1(F,q)/Math.PI*180+90}else t=null}return lq=a,sq=n,D4=e.i,F4=r.uid,t}Rr.getMarkerAngle=I4});var g1=R((dke,Aq)=>{"use strict";var T0=aa(),Yse=Zt(),Wse=Wn(),O4=_t(),wc=fr(),xq=wc.strTranslate,Ig=Sa(),Og=Vt(),M0=Ci(),_q=Qv(),jse=ki().OPPOSITE_SIDE,wq=/ [XY][0-9]* /,z4=1.6,B4=1.6;function Xse(e,r,t){var a=e._fullLayout,n=t.propContainer,i=t.propName,o=t.placeholder,l=t.traceIndex,s=t.avoid||{},u=t.attributes,f=t.transform,c=t.containerGroup,h=1,d=n.title,p=(d&&d.text?d.text:"").trim(),g=!1,y=d&&d.font?d.font:{},b=y.family,_=y.size,w=y.color,x=y.weight,T=y.style,S=y.variant,M=y.textcase,C=y.lineposition,q=y.shadow,F=t.subtitlePropName,P=!!F,I=t.subtitlePlaceholder,H=(n.title||{}).subtitle||{text:"",font:{}},V=H.text.trim(),j=!1,W=1,z=H.font,O=z.family,G=z.size,Z=z.color,Q=z.weight,ie=z.style,be=z.variant,ne=z.textcase,de=z.lineposition,K=z.shadow,me;i==="title.text"?me="titleText":i.indexOf("axis")!==-1?me="axisTitleText":i.indexOf("colorbar"!==-1)&&(me="colorbarTitleText");var fe=e._context.edits[me];function ke(pr,ir){return pr===void 0||ir===void 0?!1:pr.replace(wq," % ")===ir.replace(wq," % ")}p===""?h=0:ke(p,o)&&(fe||(p=""),h=.2,g=!0),P&&(V===""?W=0:ke(V,I)&&(fe||(V=""),W=.2,j=!0)),t._meta?p=wc.templateString(p,t._meta):a._meta&&(p=wc.templateString(p,a._meta));var ve=p||V||fe,Ae;c||(c=wc.ensureSingle(a._infolayer,"g","g-"+r),Ae=a._hColorbarMoveTitle);var Y=c.selectAll("text."+r).data(ve?[0]:[]);Y.enter().append("text"),Y.text(p).attr("class",r),Y.exit().remove();var ae=null,X=r+"-subtitle",Se=V||fe;if(P&&Se&&(ae=c.selectAll("text."+X).data(Se?[0]:[]),ae.enter().append("text"),ae.text(V).attr("class",X),ae.exit().remove()),!ve)return c;function qe(pr,ir){wc.syncOrAsync([De,tr],{title:pr,subtitle:ir})}function De(pr){var ir=pr.title,Xe=pr.subtitle,Cr;!f&&Ae&&(f={}),f?(Cr="",f.rotate&&(Cr+="rotate("+[f.rotate,u.x,u.y]+")"),(f.offset||Ae)&&(Cr+=xq(0,(f.offset||0)-(Ae||0)))):Cr=null,ir.attr("transform",Cr);function br(Ve){if(Ve){var He=T0.select(Ve.node().parentNode).select("."+X);if(!He.empty()){var dr=Ve.node().getBBox();if(dr.height){var Tr=dr.y+dr.height+z4*G;He.attr("y",Tr)}}}}if(ir.style("opacity",h*Og.opacity(w)).call(Ig.font,{color:Og.rgb(w),size:T0.round(_,2),family:b,weight:x,style:T,variant:S,textcase:M,shadow:q,lineposition:C}).attr(u).call(M0.convertToTspans,e,br),Xe){var pe=c.select("."+r+"-math-group"),Ie=ir.node().getBBox(),ze=pe.node()?pe.node().getBBox():void 0,et=ze?ze.y+ze.height+z4*G:Ie.y+Ie.height+B4*G,zr=wc.extendFlat({},u,{y:et});Xe.attr("transform",Cr),Xe.style("opacity",W*Og.opacity(Z)).call(Ig.font,{color:Og.rgb(Z),size:T0.round(G,2),family:O,weight:Q,style:ie,variant:be,textcase:ne,shadow:K,lineposition:de}).attr(zr).call(M0.convertToTspans,e)}return Wse.previousPromises(e)}function tr(pr){var ir=pr.title,Xe=T0.select(ir.node().parentNode);if(s&&s.selection&&s.side&&p){Xe.attr("transform",null);var Cr=jse[s.side],br=s.side==="left"||s.side==="top"?-1:1,pe=Yse(s.pad)?s.pad:2,Ie=Ig.bBox(Xe.node()),ze={t:0,b:0,l:0,r:0},et=e._fullLayout._reservedMargin;for(var zr in et)for(var Ve in et[zr]){var He=et[zr][Ve];ze[Ve]=Math.max(ze[Ve],He)}var dr={left:ze.l,top:ze.t,right:a.width-ze.r,bottom:a.height-ze.b},Tr=s.maxShift||br*(dr[s.side]-Ie[s.side]),mr=0;if(Tr<0)mr=Tr;else{var vr=s.offsetLeft||0,Er=s.offsetTop||0;Ie.left-=vr,Ie.right-=vr,Ie.top-=Er,Ie.bottom-=Er,s.selection.each(function(){var Hr=Ig.bBox(this);wc.bBoxIntersect(Ie,Hr,pe)&&(mr=Math.max(mr,br*(Hr[s.side]-Ie[Cr])+pe))}),mr=Math.min(Tr,mr),n._titleScoot=Math.abs(mr)}if(mr>0||Tr<0){var Ir={left:[-mr,0],right:[mr,0],top:[0,-mr],bottom:[0,mr]}[s.side];Xe.attr("transform",xq(Ir[0],Ir[1]))}}}Y.call(qe,ae);function $e(pr,ir){pr.text(ir).on("mouseover.opacity",function(){T0.select(this).transition().duration(_q.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){T0.select(this).transition().duration(_q.HIDE_PLACEHOLDER).style("opacity",0)})}if(fe&&(p?Y.on(".opacity",null):($e(Y,o),g=!0),Y.call(M0.makeEditable,{gd:e}).on("edit",function(pr){l!==void 0?O4.call("_guiRestyle",e,i,pr,l):O4.call("_guiRelayout",e,i,pr)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(qe)}).on("input",function(pr){this.text(pr||" ").call(M0.positionText,u.x,u.y)}),P)){if(P&&!p){var Ze=Y.node().getBBox(),lr=Ze.y+Ze.height+B4*G;ae.attr("y",lr)}V?ae.on(".opacity",null):($e(ae,I),j=!0),ae.call(M0.makeEditable,{gd:e}).on("edit",function(pr){O4.call("_guiRelayout",e,"title.subtitle.text",pr)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(qe)}).on("input",function(pr){this.text(pr||" ").call(M0.positionText,ae.attr("x"),ae.attr("y"))})}return Y.classed("js-placeholder",g),ae&&ae.classed("js-placeholder",j),c}Aq.exports={draw:Xse,SUBTITLE_PADDING_EM:B4,SUBTITLE_PADDING_MATHJAX_EM:z4}});var Wg=R((pke,Cq)=>{"use strict";var Zse=aa(),Jse=Zv().utcFormat,La=fr(),$se=La.numberFormat,is=Zt(),Zu=La.cleanNumber,Kse=La.ms2DateTime,Tq=La.dateTime2ms,os=La.ensureNumber,Mq=La.isArrayOrTypedArray,Ju=vn(),zg=Ju.FP_SAFE,wl=Ju.BADNUM,Qse=Ju.LOG_CLIP,eue=Ju.ONEWEEK,Bg=Ju.ONEDAY,Ug=Ju.ONEHOUR,Sq=Ju.ONEMIN,kq=Ju.ONESEC,Hg=yn(),Yg=ui(),Gg=Yg.HOUR_PATTERN,Vg=Yg.WEEKDAY_PATTERN;function b1(e){return Math.pow(10,e)}function U4(e){return e!=null}Cq.exports=function(r,t){t=t||{};var a=r._id||"x",n=a.charAt(0);function i(x,T){if(x>0)return Math.log(x)/Math.LN10;if(x<=0&&T&&r.range&&r.range.length===2){var S=r.range[0],M=r.range[1];return .5*(S+M-2*Qse*Math.abs(S-M))}else return wl}function o(x,T,S,M){if((M||{}).msUTC&&is(x))return+x;var C=Tq(x,S||r.calendar);if(C===wl)if(is(x)){x=+x;var q=Math.floor(La.mod(x+.05,1)*10),F=Math.round(x-q/10);C=Tq(new Date(F))+q/10}else return wl;return C}function l(x,T,S){return Kse(x,T,S||r.calendar)}function s(x){return r._categories[Math.round(x)]}function u(x){if(U4(x)){if(r._categoriesMap===void 0&&(r._categoriesMap={}),r._categoriesMap[x]!==void 0)return r._categoriesMap[x];r._categories.push(typeof x=="number"?String(x):x);var T=r._categories.length-1;return r._categoriesMap[x]=T,T}return wl}function f(x,T){for(var S=new Array(T),M=0;M<T;M++){var C=(x[0]||[])[M],q=(x[1]||[])[M];S[M]=c([C,q])}return S}function c(x){if(r._categoriesMap)return r._categoriesMap[x]}function h(x){var T=c(x);if(T!==void 0)return T;if(is(x))return+x}function d(x){return is(x)?+x:c(x)}function p(x,T,S){return Zse.round(S+T*x,2)}function g(x,T,S){return(x-S)/T}var y=function(T){return is(T)?p(T,r._m,r._b):wl},b=function(x){return g(x,r._m,r._b)};if(r.rangebreaks){var _=n==="y";y=function(x){if(!is(x))return wl;var T=r._rangebreaks.length;if(!T)return p(x,r._m,r._b);var S=_;r.range[0]>r.range[1]&&(S=!S);for(var M=S?-1:1,C=M*x,q=0,F=0;F<T;F++){var P=M*r._rangebreaks[F].min,I=M*r._rangebreaks[F].max;if(C<P)break;if(C>I)q=F+1;else{q=C<(P+I)/2?F:F+1;break}}var H=r._B[q]||0;return isFinite(H)?p(x,r._m2,H):0},b=function(x){var T=r._rangebreaks.length;if(!T)return g(x,r._m,r._b);for(var S=0,M=0;M<T&&!(x<r._rangebreaks[M].pmin);M++)x>r._rangebreaks[M].pmax&&(S=M+1);return g(x,r._m2,r._B[S])}}r.c2l=r.type==="log"?i:os,r.l2c=r.type==="log"?b1:os,r.l2p=y,r.p2l=b,r.c2p=r.type==="log"?function(x,T){return y(i(x,T))}:y,r.p2c=r.type==="log"?function(x){return b1(b(x))}:b,["linear","-"].indexOf(r.type)!==-1?(r.d2r=r.r2d=r.d2c=r.r2c=r.d2l=r.r2l=Zu,r.c2d=r.c2r=r.l2d=r.l2r=os,r.d2p=r.r2p=function(x){return r.l2p(Zu(x))},r.p2d=r.p2r=b,r.cleanPos=os):r.type==="log"?(r.d2r=r.d2l=function(x,T){return i(Zu(x),T)},r.r2d=r.r2c=function(x){return b1(Zu(x))},r.d2c=r.r2l=Zu,r.c2d=r.l2r=os,r.c2r=i,r.l2d=b1,r.d2p=function(x,T){return r.l2p(r.d2r(x,T))},r.p2d=function(x){return b1(b(x))},r.r2p=function(x){return r.l2p(Zu(x))},r.p2r=b,r.cleanPos=os):r.type==="date"?(r.d2r=r.r2d=La.identity,r.d2c=r.r2c=r.d2l=r.r2l=o,r.c2d=r.c2r=r.l2d=r.l2r=l,r.d2p=r.r2p=function(x,T,S){return r.l2p(o(x,0,S))},r.p2d=r.p2r=function(x,T,S){return l(b(x),T,S)},r.cleanPos=function(x){return La.cleanDate(x,wl,r.calendar)}):r.type==="category"?(r.d2c=r.d2l=u,r.r2d=r.c2d=r.l2d=s,r.d2r=r.d2l_noadd=h,r.r2c=function(x){var T=d(x);return T!==void 0?T:r.fraction2r(.5)},r.l2r=r.c2r=os,r.r2l=d,r.d2p=function(x){return r.l2p(r.r2c(x))},r.p2d=function(x){return s(b(x))},r.r2p=r.d2p,r.p2r=b,r.cleanPos=function(x){return typeof x=="string"&&x!==""?x:os(x)}):r.type==="multicategory"&&(r.r2d=r.c2d=r.l2d=s,r.d2r=r.d2l_noadd=h,r.r2c=function(x){var T=h(x);return T!==void 0?T:r.fraction2r(.5)},r.r2c_just_indices=c,r.l2r=r.c2r=os,r.r2l=h,r.d2p=function(x){return r.l2p(r.r2c(x))},r.p2d=function(x){return s(b(x))},r.r2p=r.d2p,r.p2r=b,r.cleanPos=function(x){return Array.isArray(x)||typeof x=="string"&&x!==""?x:os(x)},r.setupMultiCategory=function(x){var T=r._traceIndices,S,M,C=r._matchGroup;if(C&&r._categories.length===0){for(var q in C)if(q!==a){var F=t[Hg.id2name(q)];T=T.concat(F._traceIndices)}}var P=[[0,{}],[0,{}]],I=[];for(S=0;S<T.length;S++){var H=x[T[S]];if(n in H){var V=H[n],j=H._length||La.minRowLength(V);if(Mq(V[0])&&Mq(V[1]))for(M=0;M<j;M++){var W=V[0][M],z=V[1][M];U4(W)&&U4(z)&&(I.push([W,z]),W in P[0][1]||(P[0][1][W]=P[0][0]++),z in P[1][1]||(P[1][1][z]=P[1][0]++))}}}for(I.sort(function(O,G){var Z=P[0][1],Q=Z[O[0]]-Z[G[0]];if(Q)return Q;var ie=P[1][1];return ie[O[1]]-ie[G[1]]}),S=0;S<I.length;S++)u(I[S])}),r.fraction2r=function(x){var T=r.r2l(r.range[0]),S=r.r2l(r.range[1]);return r.l2r(T+x*(S-T))},r.r2fraction=function(x){var T=r.r2l(r.range[0]),S=r.r2l(r.range[1]);return(r.r2l(x)-T)/(S-T)},r.limitRange=function(x){var T=r.minallowed,S=r.maxallowed;if(!(T===void 0&&S===void 0)){x||(x="range");var M=La.nestedProperty(r,x).get(),C=La.simpleMap(M,r.r2l),q=C[1]<C[0];q&&C.reverse();var F=La.simpleMap([T,S],r.r2l);if(T!==void 0&&C[0]<F[0]&&(M[q?1:0]=T),S!==void 0&&C[1]>F[1]&&(M[q?0:1]=S),M[0]===M[1]){var P=r.l2r(T),I=r.l2r(S);if(T!==void 0){var H=P+1;S!==void 0&&(H=Math.min(H,I)),M[q?1:0]=H}if(S!==void 0){var V=I+1;T!==void 0&&(V=Math.max(V,P)),M[q?0:1]=V}}}},r.cleanRange=function(x,T){r._cleanRange(x,T),r.limitRange(x)},r._cleanRange=function(x,T){T||(T={}),x||(x="range");var S=La.nestedProperty(r,x).get(),M,C;if(r.type==="date"?C=La.dfltRange(r.calendar):n==="y"?C=Yg.DFLTRANGEY:r._name==="realaxis"?C=[0,1]:C=T.dfltRange||Yg.DFLTRANGEX,C=C.slice(),(r.rangemode==="tozero"||r.rangemode==="nonnegative")&&(C[0]=0),!S||S.length!==2){La.nestedProperty(r,x).set(C);return}var q=S[0]===null,F=S[1]===null;for(r.type==="date"&&!r.autorange&&(S[0]=La.cleanDate(S[0],wl,r.calendar),S[1]=La.cleanDate(S[1],wl,r.calendar)),M=0;M<2;M++)if(r.type==="date"){if(!La.isDateTime(S[M],r.calendar)){r[x]=C;break}if(r.r2l(S[0])===r.r2l(S[1])){var P=La.constrain(r.r2l(S[0]),La.MIN_MS+1e3,La.MAX_MS-1e3);S[0]=r.l2r(P-1e3),S[1]=r.l2r(P+1e3);break}}else{if(!is(S[M]))if(!(q||F)&&is(S[1-M]))S[M]=S[1-M]*(M?10:.1);else{r[x]=C;break}if(S[M]<-zg?S[M]=-zg:S[M]>zg&&(S[M]=zg),S[0]===S[1]){var I=Math.max(1,Math.abs(S[0]*1e-6));S[0]-=I,S[1]+=I}}},r.setScale=function(x){var T=t._size;if(r.overlaying){var S=Hg.getFromId({_fullLayout:t},r.overlaying);r.domain=S.domain}var M=x&&r._r?"_r":"range",C=r.calendar;r.cleanRange(M);var q=r.r2l(r[M][0],C),F=r.r2l(r[M][1],C),P=n==="y";if(P?(r._offset=T.t+(1-r.domain[1])*T.h,r._length=T.h*(r.domain[1]-r.domain[0]),r._m=r._length/(q-F),r._b=-r._m*F):(r._offset=T.l+r.domain[0]*T.w,r._length=T.w*(r.domain[1]-r.domain[0]),r._m=r._length/(F-q),r._b=-r._m*q),r._rangebreaks=[],r._lBreaks=0,r._m2=0,r._B=[],r.rangebreaks){var I,H;if(r._rangebreaks=r.locateBreaks(Math.min(q,F),Math.max(q,F)),r._rangebreaks.length){for(I=0;I<r._rangebreaks.length;I++)H=r._rangebreaks[I],r._lBreaks+=Math.abs(H.max-H.min);var V=P;q>F&&(V=!V),V&&r._rangebreaks.reverse();var j=V?-1:1;for(r._m2=j*r._length/(Math.abs(F-q)-r._lBreaks),r._B.push(-r._m2*(P?F:q)),I=0;I<r._rangebreaks.length;I++)H=r._rangebreaks[I],r._B.push(r._B[r._B.length-1]-j*r._m2*(H.max-H.min));for(I=0;I<r._rangebreaks.length;I++)H=r._rangebreaks[I],H.pmin=y(H.min),H.pmax=y(H.max)}}if(!isFinite(r._m)||!isFinite(r._b)||r._length<0)throw t._replotting=!1,new Error("Something went wrong with axis scaling")},r.maskBreaks=function(x){var T=r.rangebreaks||[],S,M,C,q,F;T._cachedPatterns||(T._cachedPatterns=T.map(function(Z){return Z.enabled&&Z.bounds?La.simpleMap(Z.bounds,Z.pattern?Zu:r.d2c):null})),T._cachedValues||(T._cachedValues=T.map(function(Z){return Z.enabled&&Z.values?La.simpleMap(Z.values,r.d2c).sort(La.sorterAsc):null}));for(var P=0;P<T.length;P++){var I=T[P];if(I.enabled){if(I.bounds){var H=I.pattern;switch(S=T._cachedPatterns[P],M=S[0],C=S[1],H){case Vg:F=new Date(x),q=F.getUTCDay(),M>C&&(C+=7,q<M&&(q+=7));break;case Gg:F=new Date(x);var V=F.getUTCHours(),j=F.getUTCMinutes(),W=F.getUTCSeconds(),z=F.getUTCMilliseconds();q=V+(j/60+W/3600+z/36e5),M>C&&(C+=24,q<M&&(q+=24));break;case"":q=x;break}if(q>=M&&q<C)return wl}else for(var O=T._cachedValues[P],G=0;G<O.length;G++)if(M=O[G],C=M+I.dvalue,x>=M&&x<C)return wl}}return x},r.locateBreaks=function(x,T){var S,M,C,q,F=[];if(!r.rangebreaks)return F;var P=r.rangebreaks.slice().sort(function(ie,be){return ie.pattern===Vg&&be.pattern===Gg?-1:be.pattern===Vg&&ie.pattern===Gg?1:0}),I=function(ie,be){if(ie=La.constrain(ie,x,T),be=La.constrain(be,x,T),ie!==be){for(var ne=!0,de=0;de<F.length;de++){var K=F[de];ie<K.max&&be>=K.min&&(ie<K.min&&(K.min=ie),be>K.max&&(K.max=be),ne=!1)}ne&&F.push({min:ie,max:be})}};for(S=0;S<P.length;S++){var H=P[S];if(H.enabled)if(H.bounds){var V=x,j=T;H.pattern&&(V=Math.floor(V)),M=La.simpleMap(H.bounds,H.pattern?Zu:r.r2l),C=M[0],q=M[1];var W=new Date(V),z,O;switch(H.pattern){case Vg:O=eue,z=((q<C?7:0)+(q-C))*Bg,V+=C*Bg-(W.getUTCDay()*Bg+W.getUTCHours()*Ug+W.getUTCMinutes()*Sq+W.getUTCSeconds()*kq+W.getUTCMilliseconds());break;case Gg:O=Bg,z=((q<C?24:0)+(q-C))*Ug,V+=C*Ug-(W.getUTCHours()*Ug+W.getUTCMinutes()*Sq+W.getUTCSeconds()*kq+W.getUTCMilliseconds());break;default:V=Math.min(M[0],M[1]),j=Math.max(M[0],M[1]),O=j-V,z=O}for(var G=V;G<j;G+=O)I(G,G+z)}else for(var Z=La.simpleMap(H.values,r.d2c),Q=0;Q<Z.length;Q++)C=Z[Q],q=C+H.dvalue,I(C,q)}return F.sort(function(ie,be){return ie.min-be.min}),F},r.makeCalcdata=function(x,T,S){var M,C,q,F,P=r.type,I=P==="date"&&x[T+"calendar"];if(T in x){if(M=x[T],F=x._length||La.minRowLength(M),La.isTypedArray(M)&&(P==="linear"||P==="log")){if(F===M.length)return M;if(M.subarray)return M.subarray(0,F)}if(P==="multicategory")return f(M,F);for(C=new Array(F),q=0;q<F;q++)C[q]=r.d2c(M[q],0,I,S)}else{var H=T+"0"in x?r.d2c(x[T+"0"],0,I):0,V=x["d"+T]?Number(x["d"+T]):1;for(M=x[{x:"y",y:"x"}[T]],F=x._length||M.length,C=new Array(F),q=0;q<F;q++)C[q]=H+q*V}if(r.rangebreaks)for(q=0;q<F;q++)C[q]=r.maskBreaks(C[q]);return C},r.isValidRange=function(x,T){return Array.isArray(x)&&x.length===2&&(T&&x[0]===null||is(r.r2l(x[0])))&&(T&&x[1]===null||is(r.r2l(x[1])))},r.getAutorangeDflt=function(x,T){var S=!r.isValidRange(x,"nullOk");return S&&T&&T.reverseDflt?S="reversed":x&&(x[0]===null&&x[1]===null?S=!0:x[0]===null&&x[1]!==null?S="min":x[0]!==null&&x[1]===null&&(S="max")),S},r.isReversed=function(){var x=r.autorange;return x==="reversed"||x==="min reversed"||x==="max reversed"},r.isPtWithinRange=function(x,T){var S=r.c2l(x[n],null,T),M=r.r2l(r.range[0]),C=r.r2l(r.range[1]);return M<C?M<=S&&S<=C:C<=S&&S<=M},r._emptyCategories=function(){r._categories=[],r._categoriesMap={}},r.clearCalc=function(){var x=r._matchGroup;if(x){var T=null,S=null;for(var M in x){var C=t[Hg.id2name(M)];if(C._categories){T=C._categories,S=C._categoriesMap;break}}T&&S?(r._categories=T,r._categoriesMap=S):r._emptyCategories()}else r._emptyCategories();if(r._initialCategories)for(var q=0;q<r._initialCategories.length;q++)u(r._initialCategories[q])},r.sortByInitialCategories=function(){var x=[];if(r._emptyCategories(),r._initialCategories)for(var T=0;T<r._initialCategories.length;T++)u(r._initialCategories[T]);x=x.concat(r._traceIndices);var S=r._matchGroup;for(var M in S)if(a!==M){var C=t[Hg.id2name(M)];C._categories=r._categories,C._categoriesMap=r._categoriesMap,x=x.concat(C._traceIndices)}return x};var w=t._d3locale;r.type==="date"&&(r._dateFormat=w?w.timeFormat:Jse,r._extraFormat=t._extraFormat),r._separators=t.separators,r._numFormat=w?w.numberFormat:$se,delete r._minDtick,delete r._forceTick0}});var G4=R((yke,Dq)=>{"use strict";var Eq=Zt(),H4=fr(),rue=vn().BADNUM,jg=H4.isArrayOrTypedArray,tue=H4.isDateTime,aue=H4.cleanNumber,Lq=Math.round;Dq.exports=function(r,t,a){var n=r,i=a.noMultiCategory;if(jg(n)&&!n.length)return"-";if(!i&&sue(n))return"multicategory";if(i&&Array.isArray(n[0])){for(var o=[],l=0;l<n.length;l++)if(jg(n[l]))for(var s=0;s<n[l].length;s++)o.push(n[l][s]);n=o}if(oue(n,t))return"date";var u=a.autotypenumbers!=="strict";return lue(n,u)?"category":iue(n,u)?"linear":"-"};function nue(e,r){return r?Eq(e):typeof e=="number"}function iue(e,r){for(var t=e.length,a=0;a<t;a++)if(nue(e[a],r))return!0;return!1}function oue(e,r){for(var t=e.length,a=qq(t),n=0,i=0,o={},l=0;l<t;l+=a){var s=Lq(l),u=e[s],f=String(u);o[f]||(o[f]=1,tue(u,r)&&n++,Eq(u)&&i++)}return n>i*2}function qq(e){return Math.max(1,(e-1)/1e3)}function lue(e,r){for(var t=e.length,a=qq(t),n=0,i=0,o={},l=0;l<t;l+=a){var s=Lq(l),u=e[s],f=String(u);if(!o[f]){o[f]=1;var c=typeof u;c==="boolean"?i++:(r?aue(u)!==rue:c==="number")?n++:c==="string"&&i++}}return i>n*2}function sue(e){return jg(e[0])&&jg(e[1])}});var S0=R((mke,Bq)=>{"use strict";var uue=aa(),Nq=Zt(),$u=fr(),Xg=vn().FP_SAFE,fue=_t(),cue=Sa(),Iq=yn(),vue=Iq.getFromId,hue=Iq.isLinked;Bq.exports={applyAutorangeOptions:zq,getAutoRange:V4,makePadFn:Y4,doAutoRange:pue,findExtremes:yue,concatExtremes:X4};function V4(e,r){var t,a,n=[],i=e._fullLayout,o=Y4(i,r,0),l=Y4(i,r,1),s=X4(e,r),u=s.min,f=s.max;if(u.length===0||f.length===0)return $u.simpleMap(r.range,r.r2l);var c=u[0].val,h=f[0].val;for(t=1;t<u.length&&c===h;t++)c=Math.min(c,u[t].val);for(t=1;t<f.length&&c===h;t++)h=Math.max(h,f[t].val);var d=r.autorange,p=d==="reversed"||d==="min reversed"||d==="max reversed";if(!p&&r.range){var g=$u.simpleMap(r.range,r.r2l);p=g[1]<g[0]}r.autorange==="reversed"&&(r.autorange=!0);var y=r.rangemode,b=y==="tozero",_=y==="nonnegative",w=r._length,x=w/10,T=0,S,M,C,q,F,P;for(t=0;t<u.length;t++)for(S=u[t],a=0;a<f.length;a++)M=f[a],P=M.val-S.val-Fq(r,S.val,M.val),P>0&&(F=w-o(S)-l(M),F>x?P/F>T&&(C=S,q=M,T=P/F):P/w>T&&(C={val:S.val,nopad:1},q={val:M.val,nopad:1},T=P/w));function I(z,O){return Math.max(z,l(O))}if(c===h){var H=c-1,V=c+1;if(b)if(c===0)n=[0,1];else{var j=(c>0?f:u).reduce(I,0),W=c/(1-Math.min(.5,j/w));n=c>0?[0,W]:[W,0]}else _?n=[Math.max(0,H),Math.max(1,V)]:n=[H,V]}else b?(C.val>=0&&(C={val:0,nopad:1}),q.val<=0&&(q={val:0,nopad:1})):_&&(C.val-T*o(C)<0&&(C={val:0,nopad:1}),q.val<=0&&(q={val:1,nopad:1})),T=(q.val-C.val-Fq(r,S.val,M.val))/(w-o(C)-l(q)),n=[C.val-T*o(C),q.val+T*l(q)];return n=zq(n,r),r.limitRange&&r.limitRange(),p&&n.reverse(),$u.simpleMap(n,r.l2r||Number)}function Fq(e,r,t){var a=0;if(e.rangebreaks)for(var n=e.locateBreaks(r,t),i=0;i<n.length;i++){var o=n[i];a+=o.max-o.min}return a}function Y4(e,r,t){var a=.05*r._length,n=r._anchorAxis||{};if((r.ticklabelposition||"").indexOf("inside")!==-1||(n.ticklabelposition||"").indexOf("inside")!==-1){var i=r.isReversed();if(!i){var o=$u.simpleMap(r.range,r.r2l);i=o[1]<o[0]}i&&(t=!t)}var l=0;return hue(e,r._id)||(l=due(e,r,t)),a=Math.max(l,a),r.constrain==="domain"&&r._inputDomain&&(a*=(r._inputDomain[1]-r._inputDomain[0])/(r.domain[1]-r.domain[0])),function(u){return u.nopad?0:u.pad+(u.extrapad?a:l)}}var Rq=3;function due(e,r,t){var a=0,n=r._id.charAt(0)==="x";for(var i in e._plots){var o=e._plots[i];if(!(r._id!==o.xaxis._id&&r._id!==o.yaxis._id)){var l=(n?o.yaxis:o.xaxis)||{};if((l.ticklabelposition||"").indexOf("inside")!==-1&&(!t&&(l.side==="left"||l.side==="bottom")||t&&(l.side==="top"||l.side==="right"))){if(l._vals){var s=$u.deg2rad(l._tickAngles[l._id+"tick"]||0),u=Math.abs(Math.cos(s)),f=Math.abs(Math.sin(s));if(!l._vals[0].bb){var c=l._id+"tick",h=l._selections[c];h.each(function(_){var w=uue.select(this),x=w.select(".text-math-group");x.empty()&&(_.bb=cue.bBox(w.node()))})}for(var d=0;d<l._vals.length;d++){var p=l._vals[d],g=p.bb;if(g){var y=2*Rq+g.width,b=2*Rq+g.height;a=Math.max(a,n?Math.max(y*u,b*f):Math.max(b*u,y*f))}}}l.ticks==="inside"&&l.ticklabelposition==="inside"&&(a+=l.ticklen||0)}}}return a}function X4(e,r,t){var a=r._id,n=e._fullData,i=e._fullLayout,o=[],l=[],s,u,f;function c(y,b){for(s=0;s<b.length;s++){var _=y[b[s]],w=(_._extremes||{})[a];if(_.visible===!0&&w){for(u=0;u<w.min.length;u++)f=w.min[u],W4(o,f.val,f.pad,{extrapad:f.extrapad});for(u=0;u<w.max.length;u++)f=w.max[u],j4(l,f.val,f.pad,{extrapad:f.extrapad})}}}if(c(n,r._traceIndices),c(i.annotations||[],r._annIndices||[]),c(i.shapes||[],r._shapeIndices||[]),r._matchGroup&&!t){for(var h in r._matchGroup)if(h!==r._id){var d=vue(e,h),p=X4(e,d,!0),g=r._length/d._length;for(u=0;u<p.min.length;u++)f=p.min[u],W4(o,f.val,f.pad*g,{extrapad:f.extrapad});for(u=0;u<p.max.length;u++)f=p.max[u],j4(l,f.val,f.pad*g,{extrapad:f.extrapad})}}return{min:o,max:l}}function pue(e,r,t){if(r.setScale(),r.autorange){r.range=t?t.slice():V4(e,r),r._r=r.range.slice(),r._rl=$u.simpleMap(r._r,r.r2l);var a=r._input,n={};n[r._attr+".range"]=r.range,n[r._attr+".autorange"]=r.autorange,fue.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,n),a.range=r.range.slice(),a.autorange=r.autorange}var i=r._anchorAxis;if(i&&i.rangeslider){var o=i.rangeslider[r._name];o&&o.rangemode==="auto"&&(o.range=V4(e,r)),i._input.rangeslider[r._name]=$u.extendFlat({},o)}}function yue(e,r,t){t||(t={}),e._m||e.setScale();var a=[],n=[],i=r.length,o=t.padded||!1,l=t.tozero&&(e.type==="linear"||e.type==="-"),s=e.type==="log",u=!1,f=t.vpadLinearized||!1,c,h,d,p,g,y,b,_,w;function x(I){if(Array.isArray(I))return u=!0,function(V){return Math.max(Number(I[V]||0),0)};var H=Math.max(Number(I||0),0);return function(){return H}}var T=x((e._m>0?t.ppadplus:t.ppadminus)||t.ppad||0),S=x((e._m>0?t.ppadminus:t.ppadplus)||t.ppad||0),M=x(t.vpadplus||t.vpad),C=x(t.vpadminus||t.vpad);if(!u){if(_=1/0,w=-1/0,s)for(c=0;c<i;c++)h=r[c],h<_&&h>0&&(_=h),h>w&&h<Xg&&(w=h);else for(c=0;c<i;c++)h=r[c],h<_&&h>-Xg&&(_=h),h>w&&h<Xg&&(w=h);r=[_,w],i=2}var q={tozero:l,extrapad:o};function F(I){d=r[I],Nq(d)&&(y=T(I),b=S(I),f?(p=e.c2l(d)-C(I),g=e.c2l(d)+M(I)):(_=d-C(I),w=d+M(I),s&&_<w/10&&(_=w/10),p=e.c2l(_),g=e.c2l(w)),l&&(p=Math.min(0,p),g=Math.max(0,g)),Pq(p)&&W4(a,p,b,q),Pq(g)&&j4(n,g,y,q))}var P=Math.min(6,i);for(c=0;c<P;c++)F(c);for(c=i-1;c>=P;c--)F(c);return{min:a,max:n,opts:t}}function W4(e,r,t,a){Oq(e,r,t,a,mue)}function j4(e,r,t,a){Oq(e,r,t,a,gue)}function Oq(e,r,t,a,n){for(var i=a.tozero,o=a.extrapad,l=!0,s=0;s<e.length&&l;s++){var u=e[s];if(n(u.val,r)&&u.pad>=t&&(u.extrapad||!o)){l=!1;break}else n(r,u.val)&&u.pad<=t&&(o||!u.extrapad)&&(e.splice(s,1),s--)}if(l){var f=i&&r===0;e.push({val:r,pad:f?0:t,extrapad:f?!1:o})}}function Pq(e){return Nq(e)&&Math.abs(e)<Xg}function mue(e,r){return e<=r}function gue(e,r){return e>=r}function bue(e,r){var t=r.autorangeoptions;return t&&t.minallowed!==void 0&&Zg(r,t.minallowed,t.maxallowed)?t.minallowed:t&&t.clipmin!==void 0&&Zg(r,t.clipmin,t.clipmax)?Math.max(e,r.d2l(t.clipmin)):e}function xue(e,r){var t=r.autorangeoptions;return t&&t.maxallowed!==void 0&&Zg(r,t.minallowed,t.maxallowed)?t.maxallowed:t&&t.clipmax!==void 0&&Zg(r,t.clipmin,t.clipmax)?Math.min(e,r.d2l(t.clipmax)):e}function Zg(e,r,t){return r!==void 0&&t!==void 0?(r=e.d2l(r),t=e.d2l(t),r<t):!0}function zq(e,r){if(!r||!r.autorangeoptions)return e;var t=e[0],a=e[1],n=r.autorangeoptions.include;if(n!==void 0){var i=r.d2l(t),o=r.d2l(a);$u.isArrayOrTypedArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var s=r.d2l(n[l]);i>=s&&(i=s,t=s),o<=s&&(o=s,a=s)}}return t=bue(t,r),a=xue(a,r),[t,a]}});var qa=R((gke,sD)=>{"use strict";var Vo=aa(),wn=Zt(),k0=Wn(),_1=_t(),Et=fr(),C0=Et.strTranslate,Ac=Ci(),_ue=g1(),w1=Vt(),Mo=Sa(),wue=xl(),Uq=v4(),ci=vn(),Aue=ci.ONEMAXYEAR,Kg=ci.ONEAVGYEAR,Qg=ci.ONEMINYEAR,Tue=ci.ONEMAXQUARTER,K4=ci.ONEAVGQUARTER,e2=ci.ONEMINQUARTER,Mue=ci.ONEMAXMONTH,E0=ci.ONEAVGMONTH,r2=ci.ONEMINMONTH,So=ci.ONEWEEK,Ei=ci.ONEDAY,Ku=Ei/2,ss=ci.ONEHOUR,A1=ci.ONEMIN,t2=ci.ONESEC,Sue=ci.ONEMILLI,kue=ci.ONEMICROSEC,Tc=ci.MINUS_SIGN,i2=ci.BADNUM,Q4={K:"zeroline"},ew={K:"gridline",L:"path"},rw={K:"minor-gridline",L:"path"},Kq={K:"tick",L:"path"},Hq={K:"tick",L:"text"},Gq={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},o2=ki(),x1=o2.MID_SHIFT,Mc=o2.CAP_SHIFT,T1=o2.LINE_SPACING,Cue=o2.OPPOSITE_SIDE,a2=3,gr=sD.exports={};gr.setConvert=Wg();var Eue=G4(),Js=yn(),Lue=Js.idSort,que=Js.isLinked;gr.id2name=Js.id2name;gr.name2id=Js.name2id;gr.cleanId=Js.cleanId;gr.list=Js.list;gr.listIds=Js.listIds;gr.getFromId=Js.getFromId;gr.getFromTrace=Js.getFromTrace;var Qq=S0();gr.getAutoRange=Qq.getAutoRange;gr.findExtremes=Qq.findExtremes;var Due=1e-4;function iw(e){var r=(e[1]-e[0])*Due;return[e[0]-r,e[1]+r]}gr.coerceRef=function(e,r,t,a,n,i){var o=a.charAt(a.length-1),l=t._fullLayout._subplots[o+"axis"],s=a+"ref",u={};return n||(n=l[0]||(typeof i=="string"?i:i[0])),i||(i=n),l=l.concat(l.map(function(f){return f+" domain"})),u[s]={valType:"enumerated",values:l.concat(i?typeof i=="string"?[i]:i:[]),dflt:n},Et.coerce(e,r,u,s)};gr.getRefType=function(e){return e===void 0?e:e==="paper"?"paper":e==="pixel"?"pixel":/( domain)$/.test(e)?"domain":"range"};gr.coercePosition=function(e,r,t,a,n,i){var o,l,s=gr.getRefType(a);if(s!=="range")o=Et.ensureNumber,l=t(n,i);else{var u=gr.getFromId(r,a);i=u.fraction2r(i),l=t(n,i),o=u.cleanPos}e[n]=o(l)};gr.cleanPosition=function(e,r,t){var a=t==="paper"||t==="pixel"?Et.ensureNumber:gr.getFromId(r,t).cleanPos;return a(e)};gr.redrawComponents=function(e,r){r=r||gr.listIds(e);var t=e._fullLayout;function a(n,i,o,l){for(var s=_1.getComponentMethod(n,i),u={},f=0;f<r.length;f++)for(var c=t[gr.id2name(r[f])],h=c[o],d=0;d<h.length;d++){var p=h[d];if(!u[p]&&(s(e,p),u[p]=1,l))return}}a("annotations","drawOne","_annIndices"),a("shapes","drawOne","_shapeIndices"),a("images","draw","_imgIndices",!0),a("selections","drawOne","_selectionIndices")};var Fue=gr.getDataConversions=function(e,r,t,a){var n,i=t==="x"||t==="y"||t==="z"?t:a;if(Et.isArrayOrTypedArray(i)){if(n={type:Eue(a,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},gr.setConvert(n),n.type==="category")for(var o=0;o<a.length;o++)n.d2c(a[o])}else n=gr.getFromTrace(e,r,i);return n?{d2c:n.d2c,c2d:n.c2d}:i==="ids"?{d2c:Yq,c2d:Yq}:{d2c:Vq,c2d:Vq}};function Vq(e){return+e}function Yq(e){return String(e)}gr.getDataToCoordFunc=function(e,r,t,a){return Fue(e,r,t,a).d2c};gr.counterLetter=function(e){var r=e.charAt(0);if(r==="x")return"y";if(r==="y")return"x"};gr.minDtick=function(e,r,t,a){["log","category","multicategory"].indexOf(e.type)!==-1||!a?e._minDtick=0:e._minDtick===void 0?(e._minDtick=r,e._forceTick0=t):e._minDtick&&((e._minDtick/r+1e-6)%1<2e-6&&((t-e._forceTick0)/r%1+1.000001)%1<2e-6?(e._minDtick=r,e._forceTick0=t):((r/e._minDtick+1e-6)%1>2e-6||((t-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0))};gr.saveRangeInitial=function(e,r){for(var t=gr.list(e,"",!0),a=!1,n=0;n<t.length;n++){var i=t[n],o=i._rangeInitial0===void 0&&i._rangeInitial1===void 0,l=o||i.range[0]!==i._rangeInitial0||i.range[1]!==i._rangeInitial1,s=i.autorange;(o&&s!==!0||r&&l)&&(i._rangeInitial0=s==="min"||s==="max reversed"?void 0:i.range[0],i._rangeInitial1=s==="max"||s==="min reversed"?void 0:i.range[1],i._autorangeInitial=s,a=!0)}return a};gr.saveShowSpikeInitial=function(e,r){for(var t=gr.list(e,"",!0),a=!1,n="on",i=0;i<t.length;i++){var o=t[i],l=o._showSpikeInitial===void 0,s=l||o.showspikes!==o._showspikes;(l||r&&s)&&(o._showSpikeInitial=o.showspikes,a=!0),n==="on"&&!o.showspikes&&(n="off")}return e._fullLayout._cartesianSpikesEnabled=n,a};gr.autoBin=function(e,r,t,a,n,i){var o=Et.aggNums(Math.min,null,e),l=Et.aggNums(Math.max,null,e);if(r.type==="category"||r.type==="multicategory")return{start:o-.5,end:l+.5,size:Math.max(1,Math.round(i)||1),_dataSpan:l-o};n||(n=r.calendar);var s;if(r.type==="log"?s={type:"linear",range:[o,l]}:s={type:r.type,range:Et.simpleMap([o,l],r.c2r,0,n),calendar:n},gr.setConvert(s),i=i&&Uq.dtick(i,s.type),i)s.dtick=i,s.tick0=Uq.tick0(void 0,s.type,n);else{var u;if(t)u=(l-o)/t;else{var f=Et.distinctVals(e),c=Math.pow(10,Math.floor(Math.log(f.minDiff)/Math.LN10)),h=c*Et.roundUp(f.minDiff/c,[.9,1.9,4.9,9.9],!0);u=Math.max(h,2*Et.stdev(e)/Math.pow(e.length,a?.25:.4)),wn(u)||(u=1)}gr.autoTicks(s,u)}var d=s.dtick,p=gr.tickIncrement(gr.tickFirst(s),d,"reverse",n),g,y;if(typeof d=="number")p=Rue(p,e,s,o,l),y=1+Math.floor((l-p)/d),g=p+y*d;else for(s.dtick.charAt(0)==="M"&&(p=Pue(p,e,d,o,n)),g=p,y=0;g<=l;)g=gr.tickIncrement(g,d,!1,n),y++;return{start:r.c2r(p,0,n),end:r.c2r(g,0,n),size:d,_dataSpan:l-o}};function Rue(e,r,t,a,n){var i=0,o=0,l=0,s=0;function u(d){return(1+(d-e)*100/t.dtick)%100<2}for(var f=0;f<r.length;f++)r[f]%1===0?l++:wn(r[f])||s++,u(r[f])&&i++,u(r[f]+t.dtick/2)&&o++;var c=r.length-s;if(l===c&&t.type!=="date")t.dtick<1?e=a-.5*t.dtick:(e-=.5,e+t.dtick<a&&(e+=t.dtick));else if(o<c*.1&&(i>c*.3||u(a)||u(n))){var h=t.dtick/2;e+=e+h<a?h:-h}return e}function Pue(e,r,t,a,n){var i=Et.findExactDates(r,n),o=.8;if(i.exactDays>o){var l=Number(t.substr(1));i.exactYears>o&&l%12===0?e=gr.tickIncrement(e,"M6","reverse")+Ei*1.5:i.exactMonths>o?e=gr.tickIncrement(e,"M1","reverse")+Ei*15.5:e-=Ku;var s=gr.tickIncrement(e,t);if(s<=a)return s}return e}gr.prepMinorTicks=function(e,r,t){if(!r.minor.dtick){delete e.dtick;var a=r.dtick&&wn(r._tmin),n;if(a){var i=gr.tickIncrement(r._tmin,r.dtick,!0);n=[r._tmin,i*.99+r._tmin*.01]}else{var o=Et.simpleMap(r.range,r.r2l);n=[o[0],.8*o[0]+.2*o[1]]}if(e.range=Et.simpleMap(n,r.l2r),e._isMinor=!0,gr.prepTicks(e,t),a){var l=wn(r.dtick),s=wn(e.dtick),u=l?r.dtick:+r.dtick.substring(1),f=s?e.dtick:+e.dtick.substring(1);l&&s?Z4(u,f)?u===2*So&&f===2*Ei&&(e.dtick=So):u===2*So&&f===3*Ei?e.dtick=So:u===So&&!(r._input.minor||{}).nticks?e.dtick=Ei:Wq(u/f,2.5)?e.dtick=u/2:e.dtick=u:String(r.dtick).charAt(0)==="M"?s?e.dtick="M1":Z4(u,f)?u>=12&&f===2&&(e.dtick="M3"):e.dtick=r.dtick:String(e.dtick).charAt(0)==="L"?String(r.dtick).charAt(0)==="L"?Z4(u,f)||(e.dtick=Wq(u/f,2.5)?r.dtick/2:r.dtick):e.dtick="D1":e.dtick==="D2"&&+r.dtick>1&&(e.dtick=1)}e.range=r.range}r.minor._tick0Init===void 0&&(e.tick0=r.tick0)};function Z4(e,r){return Math.abs((e/r+.5)%1-.5)<.001}function Wq(e,r){return Math.abs(e/r-1)<.001}gr.prepTicks=function(e,r){var t=Et.simpleMap(e.range,e.r2l,void 0,void 0,r);if(e.tickmode==="auto"||!e.dtick){var a=e.nticks,n;a||(e.type==="category"||e.type==="multicategory"?(n=e.tickfont?Et.bigFont(e.tickfont.size||12):15,a=e._length/n):(n=e._id.charAt(0)==="y"?40:80,a=Et.constrain(e._length/n,4,9)+1),e._name==="radialaxis"&&(a*=2)),e.minor&&e.minor.tickmode!=="array"||e.tickmode==="array"&&(a*=100),e._roughDTick=Math.abs(t[1]-t[0])/a,gr.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<e._minDtick*2&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}e.ticklabelmode==="period"&&Nue(e),e.tick0||(e.tick0=e.type==="date"?"2000-01-01":0),e.type==="date"&&e.dtick<.1&&(e.dtick=.1),aD(e)};function J4(e){return+e.substring(1)}function Nue(e){var r;function t(){return!(wn(e.dtick)||e.dtick.charAt(0)!=="M")}var a=t(),n=gr.getTickFormat(e);if(n){var i=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(n)||(/%[HI]/.test(n)?(r=ss,i&&!a&&e.dtick<ss&&(e.dtick=ss)):/%p/.test(n)?(r=Ku,i&&!a&&e.dtick<Ku&&(e.dtick=Ku)):/%[Aadejuwx]/.test(n)?(r=Ei,i&&!a&&e.dtick<Ei&&(e.dtick=Ei)):/%[UVW]/.test(n)?(r=So,i&&!a&&e.dtick<So&&(e.dtick=So)):/%[Bbm]/.test(n)?(r=E0,i&&(a?J4(e.dtick)<1:e.dtick<r2)&&(e.dtick="M1")):/%[q]/.test(n)?(r=K4,i&&(a?J4(e.dtick)<3:e.dtick<e2)&&(e.dtick="M3")):/%[Yy]/.test(n)&&(r=Kg,i&&(a?J4(e.dtick)<12:e.dtick<Qg)&&(e.dtick="M12")))}a=t(),a&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=r}function Iue(e,r,t){for(var a=0;a<e.length;a++){var n=e[a].value,i=a,o=a+1;a<e.length-1?(i=a,o=a+1):a>0?(i=a-1,o=a):(i=a,o=a);var l=e[i].value,s=e[o].value,u=Math.abs(s-l),f=t||u,c=0;f>=Qg?u>=Qg&&u<=Aue?c=u:c=Kg:t===K4&&f>=e2?u>=e2&&u<=Tue?c=u:c=K4:f>=r2?u>=r2&&u<=Mue?c=u:c=E0:t===So&&f>=So?c=So:f>=Ei?c=Ei:t===Ku&&f>=Ku?c=Ku:t===ss&&f>=ss&&(c=ss);var h;c>=u&&(c=u,h=!0);var d=n+c;if(r.rangebreaks&&c>0){for(var p=84,g=0,y=0;y<p;y++){var b=(y+.5)/p;r.maskBreaks(n*(1-b)+b*d)!==i2&&g++}c*=g/p,c||(e[a].drop=!0),h&&u>So&&(c=u)}(c>0||a===0)&&(e[a].periodX=n+c/2)}}gr.calcTicks=function(r,t){for(var a=r.type,n=r.calendar,i=r.ticklabelstep,o=r.ticklabelmode==="period",l=r.range[0]>r.range[1],s=!r.ticklabelindex||Et.isArrayOrTypedArray(r.ticklabelindex)?r.ticklabelindex:[r.ticklabelindex],u=Et.simpleMap(r.range,r.r2l,void 0,void 0,t),f=u[1]<u[0],c=Math.min(u[0],u[1]),h=Math.max(u[0],u[1]),d=Math.max(1e3,r._length||0),p=[],g=[],y=[],b=[],_=[],w=r.minor&&(r.minor.ticks||r.minor.showgrid),x=1;x>=(w?0:1);x--){var T=!x;x?(r._dtickInit=r.dtick,r._tick0Init=r.tick0):(r.minor._dtickInit=r.minor.dtick,r.minor._tick0Init=r.minor.tick0);var S=x?r:Et.extendFlat({},r,r.minor);if(T?gr.prepMinorTicks(S,r,t):gr.prepTicks(S,t),S.tickmode==="array"){x?(y=[],p=jq(r,!T)):(b=[],g=jq(r,!T));continue}if(S.tickmode==="sync"){y=[],p=Oue(r);continue}var M=iw(u),C=M[0],q=M[1],F=wn(S.dtick),P=a==="log"&&!(F||S.dtick.charAt(0)==="L"),I=gr.tickFirst(S,t);if(x){if(r._tmin=I,I<C!==f)break;(a==="category"||a==="multicategory")&&(q=f?Math.max(-.5,q):Math.min(r._categories.length-.5,q))}var H=null,V=I,j;if(x){var W;F?W=r.dtick:a==="date"?typeof r.dtick=="string"&&r.dtick.charAt(0)==="M"&&(W=E0*r.dtick.substring(1)):W=r._roughDTick,j=Math.round((r.r2l(V)-r.r2l(r.tick0))/W)-1}var z=S.dtick;for(S.rangebreaks&&S._tick0Init!==S.tick0&&(V=$4(V,r),f||(V=gr.tickIncrement(V,z,!f,n))),x&&o&&(V=gr.tickIncrement(V,z,!f,n),j--);f?V>=q:V<=q;V=gr.tickIncrement(V,z,f,n)){if(x&&j++,S.rangebreaks&&!f){if(V<C)continue;if(S.maskBreaks(V)===i2&&$4(V,S)>=h)break}if(y.length>d||V===H)break;H=V;var O={value:V};x?(P&&V!==(V|0)&&(O.simpleLabel=!0),i>1&&j%i&&(O.skipLabel=!0),y.push(O)):(O.minor=!0,b.push(O))}}if(!b||b.length<2)s=!1;else{var G=(b[1].value-b[0].value)*(l?-1:1);sfe(G,r.tickformat)||(s=!1)}if(!s)_=y;else{var Z=y.concat(b);o&&y.length&&(Z=Z.slice(1)),Z=Z.sort(function(lr,pr){return lr.value-pr.value}).filter(function(lr,pr,ir){return pr===0||lr.value!==ir[pr-1].value});var Q=Z.map(function(lr,pr){return lr.minor===void 0&&!lr.skipLabel?pr:null}).filter(function(lr){return lr!==null});Q.forEach(function(lr){s.map(function(pr){var ir=lr+pr;ir>=0&&ir<Z.length&&Et.pushUnique(_,Z[ir])})})}if(w){var ie=r.minor.ticks==="inside"&&r.ticks==="outside"||r.minor.ticks==="outside"&&r.ticks==="inside";if(!ie){for(var be=y.map(function(lr){return lr.value}),ne=[],de=0;de<b.length;de++){var K=b[de],me=K.value;if(be.indexOf(me)===-1){for(var fe=!1,ke=0;!fe&&ke<y.length;ke++)1e7+y[ke].value===1e7+me&&(fe=!0);fe||ne.push(K)}}b=ne}}o&&Iue(_,r,r._definedDelta);var ve;if(r.rangebreaks){var Ae=r._id.charAt(0)==="y",Y=1;r.tickmode==="auto"&&(Y=r.tickfont?r.tickfont.size:12);var ae=NaN;for(ve=y.length-1;ve>-1;ve--){if(y[ve].drop){y.splice(ve,1);continue}y[ve].value=$4(y[ve].value,r);var X=r.c2p(y[ve].value);(Ae?ae>X-Y:ae<X+Y)?y.splice(f?ve+1:ve,1):ae=X}}sw(r)&&Math.abs(u[1]-u[0])===360&&y.pop(),r._tmax=(y[y.length-1]||{}).value,r._prevDateHead="",r._inCalcTicks=!0;var Se,qe=function(lr){lr.text="",r._prevDateHead=Se};y=y.concat(b);function De(lr,pr){var ir=gr.tickText(lr,pr.value,!1,pr.simpleLabel),Xe=pr.periodX;return Xe!==void 0&&(ir.periodX=Xe,(Xe>h||Xe<c)&&(Xe>h&&(ir.periodX=h),Xe<c&&(ir.periodX=c),qe(ir))),ir}var tr;for(ve=0;ve<y.length;ve++){var $e=y[ve].minor,Ze=y[ve].value;$e?(s&&_.indexOf(y[ve])!==-1?tr=De(r,y[ve]):tr={x:Ze},tr.minor=!0,g.push(tr)):(Se=r._prevDateHead,tr=De(r,y[ve]),(y[ve].skipLabel||s&&_.indexOf(y[ve])===-1)&&qe(tr),p.push(tr))}return p=p.concat(g),r._inCalcTicks=!1,o&&p.length&&(p[0].noTick=!0),p};function eD(e,r){return e.rangebreaks&&(r=r.filter(function(t){return e.maskBreaks(t.x)!==i2})),r}function Oue(e){var r=e._mainAxis,t=[];if(r._vals){for(var a=0;a<r._vals.length;a++)if(!r._vals[a].noTick){var n=r.l2p(r._vals[a].x),i=e.p2l(n),o=gr.tickText(e,i);r._vals[a].minor&&(o.minor=!0,o.text=""),t.push(o)}}return t=eD(e,t),t}function jq(e,r){var t=Et.simpleMap(e.range,e.r2l),a=iw(t),n=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]),o=e.type==="category"?e.d2l_noadd:e.d2l;e.type==="log"&&String(e.dtick).charAt(0)!=="L"&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var l=[],s=0;s<=1;s++)if(!(r!==void 0&&(r&&s||r===!1&&!s))&&!(s&&!e.minor)){var u=s?e.minor.tickvals:e.tickvals,f=s?[]:e.ticktext;if(u){Et.isArrayOrTypedArray(f)||(f=[]);for(var c=0;c<u.length;c++){var h=o(u[c]);if(h>n&&h<i){var d=gr.tickText(e,h,!1,String(f[c]));s&&(d.minor=!0,d.text=""),l.push(d)}}}}return l=eD(e,l),l}var Jg=[2,5,10],Xq=[1,2,3,6,12],Zq=[1,2,5,10,15,30],zue=[1,2,3,7,14],rD=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],tD=[-.301,0,.301,.699,1],Bue=[15,30,45,90,180];function ls(e,r,t){return r*Et.roundUp(e/r,t)}gr.autoTicks=function(e,r,t){var a;function n(c){return Math.pow(c,Math.floor(Math.log(r)/Math.LN10))}if(e.type==="date"){e.tick0=Et.dateTick0(e.calendar,0);var i=2*r;if(i>Kg)r/=Kg,a=n(10),e.dtick="M"+12*ls(r,a,Jg);else if(i>E0)r/=E0,e.dtick="M"+ls(r,1,Xq);else if(i>Ei){if(e.dtick=ls(r,Ei,e._hasDayOfWeekBreaks?[1,2,7,14]:zue),!t){var o=gr.getTickFormat(e),l=e.ticklabelmode==="period";l&&(e._rawTick0=e.tick0),/%[uVW]/.test(o)?e.tick0=Et.dateTick0(e.calendar,2):e.tick0=Et.dateTick0(e.calendar,1),l&&(e._dowTick0=e.tick0)}}else i>ss?e.dtick=ls(r,ss,Xq):i>A1?e.dtick=ls(r,A1,Zq):i>t2?e.dtick=ls(r,t2,Zq):(a=n(10),e.dtick=ls(r,a,Jg))}else if(e.type==="log"){e.tick0=0;var s=Et.simpleMap(e.range,e.r2l);if(e._isMinor&&(r*=1.5),r>.7)e.dtick=Math.ceil(r);else if(Math.abs(s[1]-s[0])<1){var u=1.5*Math.abs((s[1]-s[0])/r);r=Math.abs(Math.pow(10,s[1])-Math.pow(10,s[0]))/u,a=n(10),e.dtick="L"+ls(r,a,Jg)}else e.dtick=r>.3?"D2":"D1"}else e.type==="category"||e.type==="multicategory"?(e.tick0=0,e.dtick=Math.ceil(Math.max(r,1))):sw(e)?(e.tick0=0,a=1,e.dtick=ls(r,a,Bue)):(e.tick0=0,a=n(10),e.dtick=ls(r,a,Jg));if(e.dtick===0&&(e.dtick=1),!wn(e.dtick)&&typeof e.dtick!="string"){var f=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(f)}};function aD(e){var r=e.dtick;if(e._tickexponent=0,!wn(r)&&typeof r!="string"&&(r=1),(e.type==="category"||e.type==="multicategory")&&(e._tickround=null),e.type==="date"){var t=e.r2l(e.tick0),a=e.l2r(t).replace(/(^-|i)/g,""),n=a.length;if(String(r).charAt(0)==="M")n>10||a.substr(5)!=="01-01"?e._tickround="d":e._tickround=+r.substr(1)%12===0?"y":"m";else if(r>=Ei&&n<=10||r>=Ei*15)e._tickround="d";else if(r>=A1&&n<=16||r>=ss)e._tickround="M";else if(r>=t2&&n<=19||r>=A1)e._tickround="S";else{var i=e.l2r(t+r).replace(/^-/,"").length;e._tickround=Math.max(n,i)-20,e._tickround<0&&(e._tickround=4)}}else if(wn(r)||r.charAt(0)==="L"){var o=e.range.map(e.r2d||Number);wn(r)||(r=Number(r.substr(1))),e._tickround=2-Math.floor(Math.log(r)/Math.LN10+.01);var l=Math.max(Math.abs(o[0]),Math.abs(o[1])),s=Math.floor(Math.log(l)/Math.LN10+.01),u=e.minexponent===void 0?3:e.minexponent;Math.abs(s)>u&&(n2(e.exponentformat)&&!ow(s)?e._tickexponent=3*Math.round((s-1)/3):e._tickexponent=s)}else e._tickround=null}gr.tickIncrement=function(e,r,t,a){var n=t?-1:1;if(wn(r))return Et.increment(e,n*r);var i=r.charAt(0),o=n*Number(r.substr(1));if(i==="M")return Et.incrementMonth(e,o,a);if(i==="L")return Math.log(Math.pow(10,e)+o)/Math.LN10;if(i==="D"){var l=r==="D2"?tD:rD,s=e+n*.01,u=Et.roundUp(Et.mod(s,1),l,t);return Math.floor(s)+Math.log(Vo.round(Math.pow(10,u),1))/Math.LN10}throw"unrecognized dtick "+String(r)};gr.tickFirst=function(e,r){var t=e.r2l||Number,a=Et.simpleMap(e.range,t,void 0,void 0,r),n=a[1]<a[0],i=n?Math.floor:Math.ceil,o=iw(a)[0],l=e.dtick,s=t(e.tick0);if(wn(l)){var u=i((o-s)/l)*l+s;return(e.type==="category"||e.type==="multicategory")&&(u=Et.constrain(u,0,e._categories.length-1)),u}var f=l.charAt(0),c=Number(l.substr(1));if(f==="M"){for(var h=0,d=s,p,g,y;h<10;){if(p=gr.tickIncrement(d,l,n,e.calendar),(p-o)*(d-o)<=0)return n?Math.min(d,p):Math.max(d,p);g=(o-(d+p)/2)/(p-d),y=f+(Math.abs(Math.round(g))||1)*c,d=gr.tickIncrement(d,y,g<0?!n:n,e.calendar),h++}return Et.error("tickFirst did not converge",e),d}else{if(f==="L")return Math.log(i((Math.pow(10,o)-s)/c)*c+s)/Math.LN10;if(f==="D"){var b=l==="D2"?tD:rD,_=Et.roundUp(Et.mod(o,1),b,n);return Math.floor(o)+Math.log(Vo.round(Math.pow(10,_),1))/Math.LN10}else throw"unrecognized dtick "+String(l)}};gr.tickText=function(e,r,t,a){var n=nD(e,r),i=e.tickmode==="array",o=t||i,l=e.type,s=l==="category"?e.d2l_noadd:e.d2l,u,f=function(y){var b=e.l2p(y);return b>=0&&b<=e._length?y:null};if(i&&Et.isArrayOrTypedArray(e.ticktext)){var c=Et.simpleMap(e.range,e.r2l),h=(Math.abs(c[1]-c[0])-(e._lBreaks||0))/1e4;for(u=0;u<e.ticktext.length&&!(Math.abs(r-s(e.tickvals[u]))<h);u++);if(u<e.ticktext.length)return n.text=String(e.ticktext[u]),n.xbnd=[f(n.x-.5),f(n.x+e.dtick-.5)],n}function d(y){if(y===void 0)return!0;if(t)return y==="none";var b={first:e._tmin,last:e._tmax}[y];return y!=="all"&&r!==b}var p=t?"never":e.exponentformat!=="none"&&d(e.showexponent)?"hide":"";if(l==="date"?Uue(e,n,t,o):l==="log"?Hue(e,n,t,o,p):l==="category"?Gue(e,n):l==="multicategory"?Vue(e,n,t):sw(e)?Wue(e,n,t,o,p):Yue(e,n,t,o,p),a||(e.tickprefix&&!d(e.showtickprefix)&&(n.text=e.tickprefix+n.text),e.ticksuffix&&!d(e.showticksuffix)&&(n.text+=e.ticksuffix)),e.labelalias&&e.labelalias.hasOwnProperty(n.text)){var g=e.labelalias[n.text];typeof g=="string"&&(n.text=g)}return(e.tickson==="boundaries"||e.showdividers)&&(n.xbnd=[f(n.x-.5),f(n.x+e.dtick-.5)]),n};gr.hoverLabelText=function(e,r,t){t&&(e=Et.extendFlat({},e,{hoverformat:t}));var a=Et.isArrayOrTypedArray(r)?r[0]:r,n=Et.isArrayOrTypedArray(r)?r[1]:void 0;if(n!==void 0&&n!==a)return gr.hoverLabelText(e,a,t)+" - "+gr.hoverLabelText(e,n,t);var i=e.type==="log"&&a<=0,o=gr.tickText(e,e.c2l(i?-a:a),"hover").text;return i?a===0?"0":Tc+o:o};function nD(e,r,t){var a=e.tickfont||{};return{x:r,dx:0,dy:0,text:t||"",fontSize:a.size,font:a.family,fontWeight:a.weight,fontStyle:a.style,fontVariant:a.variant,fontTextcase:a.textcase,fontLineposition:a.lineposition,fontShadow:a.shadow,fontColor:a.color}}function Uue(e,r,t,a){var n=e._tickround,i=t&&e.hoverformat||gr.getTickFormat(e);a=!i&&a,a&&(wn(n)?n=4:n={y:"m",m:"d",d:"M",M:"S",S:4}[n]);var o=Et.formatDate(r.x,i,n,e._dateFormat,e.calendar,e._extraFormat),l,s=o.indexOf(`
`);if(s!==-1&&(l=o.substr(s+1),o=o.substr(0,s)),a&&(l!==void 0&&(o==="00:00:00"||o==="00:00")?(o=l,l=""):o.length===8&&(o=o.replace(/:00$/,""))),l)if(t)n==="d"?o+=", "+l:o=l+(o?", "+o:"");else if(!e._inCalcTicks||e._prevDateHead!==l)e._prevDateHead=l,o+="<br>"+l;else{var u=S1(e),f=e._trueSide||e.side;(!u&&f==="top"||u&&f==="bottom")&&(o+="<br> ")}r.text=o}function Hue(e,r,t,a,n){var i=e.dtick,o=r.x,l=e.tickformat,s=typeof i=="string"&&i.charAt(0);if(n==="never"&&(n=""),a&&s!=="L"&&(i="L3",s="L"),l||s==="L")r.text=M1(Math.pow(10,o),e,n,a);else if(wn(i)||s==="D"&&Et.mod(o+.01,1)<.1){var u=Math.round(o),f=Math.abs(u),c=e.exponentformat;c==="power"||n2(c)&&ow(u)?(u===0?r.text=1:u===1?r.text="10":r.text="10<sup>"+(u>1?"":Tc)+f+"</sup>",r.fontSize*=1.25):(c==="e"||c==="E")&&f>2?r.text="1"+c+(u>0?"+":Tc)+f:(r.text=M1(Math.pow(10,o),e,"","fakehover"),i==="D1"&&e._id.charAt(0)==="y"&&(r.dy-=r.fontSize/6))}else if(s==="D")r.text=String(Math.round(Math.pow(10,Et.mod(o,1)))),r.fontSize*=.75;else throw"unrecognized dtick "+String(i);if(e.dtick==="D1"){var h=String(r.text).charAt(0);(h==="0"||h==="1")&&(e._id.charAt(0)==="y"?r.dx-=r.fontSize/4:(r.dy+=r.fontSize/2,r.dx+=(e.range[1]>e.range[0]?1:-1)*r.fontSize*(o<0?.5:.25)))}}function Gue(e,r){var t=e._categories[Math.round(r.x)];t===void 0&&(t=""),r.text=String(t)}function Vue(e,r,t){var a=Math.round(r.x),n=e._categories[a]||[],i=n[1]===void 0?"":String(n[1]),o=n[0]===void 0?"":String(n[0]);t?r.text=o+" - "+i:(r.text=i,r.text2=o)}function Yue(e,r,t,a,n){n==="never"?n="":e.showexponent==="all"&&Math.abs(r.x/e.dtick)<1e-6&&(n="hide"),r.text=M1(r.x,e,n,a)}function Wue(e,r,t,a,n){if(e.thetaunit==="radians"&&!t){var i=r.x/180;if(i===0)r.text="0";else{var o=jue(i);if(o[1]>=100)r.text=M1(Et.deg2rad(r.x),e,n,a);else{var l=r.x<0;o[1]===1?o[0]===1?r.text="\u03C0":r.text=o[0]+"\u03C0":r.text=["<sup>",o[0],"</sup>","\u2044","<sub>",o[1],"</sub>","\u03C0"].join(""),l&&(r.text=Tc+r.text)}}}else r.text=M1(r.x,e,n,a)}function jue(e){function r(l,s){return Math.abs(l-s)<=1e-6}function t(l,s){return r(s,0)?l:t(s,l%s)}function a(l){for(var s=1;!r(Math.round(l*s)/s,l);)s*=10;return s}var n=a(e),i=e*n,o=Math.abs(t(i,n));return[Math.round(i/o),Math.round(n/o)]}var Xue=["f","p","n","\u03BC","m","","k","M","G","T"];function n2(e){return e==="SI"||e==="B"}function ow(e){return e>14||e<-15}function M1(e,r,t,a){var n=e<0,i=r._tickround,o=t||r.exponentformat||"B",l=r._tickexponent,s=gr.getTickFormat(r),u=r.separatethousands;if(a){var f={exponentformat:o,minexponent:r.minexponent,dtick:r.showexponent==="none"?r.dtick:wn(e)&&Math.abs(e)||1,range:r.showexponent==="none"?r.range.map(r.r2d):[0,e||1]};aD(f),i=(Number(f._tickround)||0)+4,l=f._tickexponent,r.hoverformat&&(s=r.hoverformat)}if(s)return r._numFormat(s)(e).replace(/-/g,Tc);var c=Math.pow(10,-i)/2;if(o==="none"&&(l=0),e=Math.abs(e),e<c)e="0",n=!1;else{if(e+=c,l&&(e*=Math.pow(10,-l),i+=l),i===0)e=String(Math.floor(e));else if(i<0){e=String(Math.round(e)),e=e.substr(0,e.length+i);for(var h=i;h<0;h++)e+="0"}else{e=String(e);var d=e.indexOf(".")+1;d&&(e=e.substr(0,d+i).replace(/\.?0+$/,""))}e=Et.numSeparate(e,r._separators,u)}if(l&&o!=="hide"){n2(o)&&ow(l)&&(o="power");var p;l<0?p=Tc+-l:o!=="power"?p="+"+l:p=String(l),o==="e"||o==="E"?e+=o+p:o==="power"?e+="\xD710<sup>"+p+"</sup>":o==="B"&&l===9?e+="B":n2(o)&&(e+=Xue[l/3+5])}return n?Tc+e:e}gr.getTickFormat=function(e){var r;function t(s){return typeof s!="string"?s:Number(s.replace("M",""))*E0}function a(s,u){var f=["L","D"];if(typeof s==typeof u){if(typeof s=="number")return s-u;var c=f.indexOf(s.charAt(0)),h=f.indexOf(u.charAt(0));return c===h?Number(s.replace(/(L|D)/g,""))-Number(u.replace(/(L|D)/g,"")):c-h}else return typeof s=="number"?1:-1}function n(s,u,f){var c=f||function(p){return p},h=u[0],d=u[1];return(!h&&typeof h!="number"||c(h)<=c(s))&&(!d&&typeof d!="number"||c(d)>=c(s))}function i(s,u){var f=u[0]===null,c=u[1]===null,h=a(s,u[0])>=0,d=a(s,u[1])<=0;return(f||h)&&(c||d)}var o,l;if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":{for(r=0;r<e.tickformatstops.length;r++)if(l=e.tickformatstops[r],l.enabled&&n(e.dtick,l.dtickrange,t)){o=l;break}break}case"log":{for(r=0;r<e.tickformatstops.length;r++)if(l=e.tickformatstops[r],l.enabled&&i(e.dtick,l.dtickrange)){o=l;break}break}default:}return o?o.value:e.tickformat};gr.getSubplots=function(e,r){var t=e._fullLayout._subplots,a=t.cartesian.concat(t.gl2d||[]),n=r?gr.findSubplotsWithAxis(a,r):a;return n.sort(function(i,o){var l=i.substr(1).split("y"),s=o.substr(1).split("y");return l[0]===s[0]?+l[1]-+s[1]:+l[0]-+s[0]}),n};gr.findSubplotsWithAxis=function(e,r){for(var t=new RegExp(r._id.charAt(0)==="x"?"^"+r._id+"y":r._id+"$"),a=[],n=0;n<e.length;n++){var i=e[n];t.test(i)&&a.push(i)}return a};gr.makeClipPaths=function(e){var r=e._fullLayout;if(!r._hasOnlyLargeSploms){var t={_offset:0,_length:r.width,_id:""},a={_offset:0,_length:r.height,_id:""},n=gr.list(e,"x",!0),i=gr.list(e,"y",!0),o=[],l,s;for(l=0;l<n.length;l++)for(o.push({x:n[l],y:a}),s=0;s<i.length;s++)l===0&&o.push({x:t,y:i[s]}),o.push({x:n[l],y:i[s]});var u=r._clips.selectAll(".axesclip").data(o,function(f){return f.x._id+f.y._id});u.enter().append("clipPath").classed("axesclip",!0).attr("id",function(f){return"clip"+r._uid+f.x._id+f.y._id}).append("rect"),u.exit().remove(),u.each(function(f){Vo.select(this).select("rect").attr({x:f.x._offset||0,y:f.y._offset||0,width:f.x._length||1,height:f.y._length||1})})}};gr.draw=function(e,r,t){var a=e._fullLayout;r==="redraw"&&a._paper.selectAll("g.subplot").each(function(s){var u=s[0],f=a._plots[u];if(f){var c=f.xaxis,h=f.yaxis;f.xaxislayer.selectAll("."+c._id+"tick").remove(),f.yaxislayer.selectAll("."+h._id+"tick").remove(),f.xaxislayer.selectAll("."+c._id+"tick2").remove(),f.yaxislayer.selectAll("."+h._id+"tick2").remove(),f.xaxislayer.selectAll("."+c._id+"divider").remove(),f.yaxislayer.selectAll("."+h._id+"divider").remove(),f.minorGridlayer&&f.minorGridlayer.selectAll("path").remove(),f.gridlayer&&f.gridlayer.selectAll("path").remove(),f.zerolinelayer&&f.zerolinelayer.selectAll("path").remove(),a._infolayer.select(".g-"+c._id+"title").remove(),a._infolayer.select(".g-"+h._id+"title").remove()}});var n=!r||r==="redraw"?gr.listIds(e):r,i=gr.list(e),o=i.filter(function(s){return s.autoshift}).map(function(s){return s.overlaying});n.map(function(s){var u=gr.getFromId(e,s);if(u.tickmode==="sync"&&u.overlaying){var f=n.findIndex(function(c){return c===u.overlaying});f>=0&&n.unshift(n.splice(f,1).shift())}});var l={false:{left:0,right:0}};return Et.syncOrAsync(n.map(function(s){return function(){if(s){var u=gr.getFromId(e,s);t||(t={}),t.axShifts=l,t.overlayingShiftedAx=o;var f=gr.drawOne(e,u,t);return u._shiftPusher&&nw(u,u._fullDepth||0,l,!0),u._r=u.range.slice(),u._rl=Et.simpleMap(u._r,u.r2l),f}}}))};gr.drawOne=function(e,r,t){t=t||{};var a=t.axShifts||{},n=t.overlayingShiftedAx||[],i,o,l;r.setScale();var s=e._fullLayout,u=r._id,f=u.charAt(0),c=gr.counterLetter(u),h=s._plots[r._mainSubplot];if(!h)return;if(r._shiftPusher=r.autoshift||n.indexOf(r._id)!==-1||n.indexOf(r.overlaying)!==-1,r._shiftPusher&r.anchor==="free"){var d=r.linewidth/2||0;r.ticks==="inside"&&(d+=r.ticklen),nw(r,d,a,!0),nw(r,r.shift||0,a,!1)}(t.skipTitle!==!0||r._shift===void 0)&&(r._shift=lfe(r,a));var p=h[f+"axislayer"],g=r._mainLinePosition,y=g+=r._shift,b=r._mainMirrorPosition,_=r._vals=gr.calcTicks(r),w=[r.mirror,y,b].join("_");for(i=0;i<_.length;i++)_[i].axInfo=w;r._selections={},r._tickAngles&&(r._prevTickAngles=r._tickAngles),r._tickAngles={},r._depth=null;var x={};function T($e){var Ze=u+($e||"tick");return x[Ze]||(x[Ze]=Kue(r,Ze,y)),x[Ze]}if(r.visible){var S=gr.makeTransTickFn(r),M=gr.makeTransTickLabelFn(r),C,q,F=r.ticks==="inside",P=r.ticks==="outside";if(r.tickson==="boundaries"){var I=Zue(r,_);q=gr.clipEnds(r,I),C=F?q:I}else q=gr.clipEnds(r,_),C=F&&r.ticklabelmode!=="period"?q:_;var H=r._gridVals=q,V=$ue(r,_);if(!s._hasOnlyLargeSploms){var j=r._subplotsWith,W={};for(i=0;i<j.length;i++){o=j[i],l=s._plots[o];var z=l[c+"axis"],O=z._mainAxis._id;if(!W[O]){W[O]=1;var G=f==="x"?"M0,"+z._offset+"v"+z._length:"M"+z._offset+",0h"+z._length;gr.drawGrid(e,r,{vals:H,counterAxis:z,layer:l.gridlayer.select("."+u),minorLayer:l.minorGridlayer.select("."+u),path:G,transFn:S}),gr.drawZeroLine(e,r,{counterAxis:z,layer:l.zerolinelayer,path:G,transFn:S})}}}var Z,Q=gr.getTickSigns(r),ie=gr.getTickSigns(r,"minor");if(r.ticks||r.minor&&r.minor.ticks){var be=gr.makeTickPath(r,y,Q[2]),ne=gr.makeTickPath(r,y,ie[2],{minor:!0}),de,K,me,fe;if(r._anchorAxis&&r.mirror&&r.mirror!==!0?(de=gr.makeTickPath(r,b,Q[3]),K=gr.makeTickPath(r,b,ie[3],{minor:!0}),me=be+de,fe=ne+K):(de="",K="",me=be,fe=ne),r.showdividers&&P&&r.tickson==="boundaries"){var ke={};for(i=0;i<V.length;i++)ke[V[i].x]=1;Z=function($e){return ke[$e.x]?de:me}}else Z=function($e){return $e.minor?fe:me}}if(gr.drawTicks(e,r,{vals:C,layer:p,path:Z,transFn:S}),r.mirror==="allticks"){var ve=Object.keys(r._linepositions||{});for(i=0;i<ve.length;i++){o=ve[i],l=s._plots[o];var Ae=r._linepositions[o]||[],Y=Ae[0],ae=Ae[1],X=Ae[2],Se=gr.makeTickPath(r,Y,X?Q[0]:ie[0],{minor:X})+gr.makeTickPath(r,ae,X?Q[1]:ie[1],{minor:X});gr.drawTicks(e,r,{vals:C,layer:l[f+"axislayer"],path:Se,transFn:S})}}var qe=[];if(qe.push(function(){return gr.drawLabels(e,r,{vals:_,layer:p,plotinfo:l,transFn:M,labelFns:gr.makeLabelFns(r,y)})}),r.type==="multicategory"){var De={x:2,y:10}[f];qe.push(function(){var $e={x:"height",y:"width"}[f],Ze=T()[$e]+De+(r._tickAngles[u+"tick"]?r.tickfont.size*T1:0);return gr.drawLabels(e,r,{vals:Jue(r,_),layer:p,cls:u+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:S,labelFns:gr.makeLabelFns(r,y+Ze*Q[4])})}),qe.push(function(){return r._depth=Q[4]*(T("tick2")[r.side]-y),efe(e,r,{vals:V,layer:p,path:gr.makeTickPath(r,y,Q[4],{len:r._depth}),transFn:S})})}else r.title.hasOwnProperty("standoff")&&qe.push(function(){r._depth=Q[4]*(T()[r.side]-y)});var tr=_1.getComponentMethod("rangeslider","isVisible")(r);return!t.skipTitle&&!(tr&&r.side==="bottom")&&qe.push(function(){return rfe(e,r)}),qe.push(function(){var $e=r.side.charAt(0),Ze=Cue[r.side].charAt(0),lr=gr.getPxPosition(e,r),pr=P?r.ticklen:0,ir,Xe,Cr,br;(r.automargin||tr||r._shiftPusher)&&(r.type==="multicategory"?ir=T("tick2"):(ir=T(),f==="x"&&$e==="b"&&(r._depth=Math.max(ir.width>0?ir.bottom-lr:0,pr))));var pe=0,Ie=0;if(r._shiftPusher&&(pe=Math.max(pr,ir.height>0?$e==="l"?lr-ir.left:ir.right-lr:0),r.title.text!==s._dfltTitle[f]&&(Ie=(r._titleStandoff||0)+(r._titleScoot||0),$e==="l"&&(Ie+=$q(r))),r._fullDepth=Math.max(pe,Ie)),r.automargin){Xe={x:0,y:0,r:0,l:0,t:0,b:0};var ze=[0,1],et=typeof r._shift=="number"?r._shift:0;if(f==="x"){if($e==="b"?Xe[$e]=r._depth:(Xe[$e]=r._depth=Math.max(ir.width>0?lr-ir.top:0,pr),ze.reverse()),ir.width>0){var zr=ir.right-(r._offset+r._length);zr>0&&(Xe.xr=1,Xe.r=zr);var Ve=r._offset-ir.left;Ve>0&&(Xe.xl=0,Xe.l=Ve)}}else if($e==="l"?(r._depth=Math.max(ir.height>0?lr-ir.left:0,pr),Xe[$e]=r._depth-et):(r._depth=Math.max(ir.height>0?ir.right-lr:0,pr),Xe[$e]=r._depth+et,ze.reverse()),ir.height>0){var He=ir.bottom-(r._offset+r._length);He>0&&(Xe.yb=0,Xe.b=He);var dr=r._offset-ir.top;dr>0&&(Xe.yt=1,Xe.t=dr)}Xe[c]=r.anchor==="free"?r.position:r._anchorAxis.domain[ze[0]],r.title.text!==s._dfltTitle[f]&&(Xe[$e]+=$q(r)+(r.title.standoff||0)),r.mirror&&r.anchor!=="free"&&(Cr={x:0,y:0,r:0,l:0,t:0,b:0},Cr[Ze]=r.linewidth,r.mirror&&r.mirror!==!0&&(Cr[Ze]+=pr),r.mirror===!0||r.mirror==="ticks"?Cr[c]=r._anchorAxis.domain[ze[1]]:(r.mirror==="all"||r.mirror==="allticks")&&(Cr[c]=[r._counterDomainMin,r._counterDomainMax][ze[1]]))}tr&&(br=_1.getComponentMethod("rangeslider","autoMarginOpts")(e,r)),typeof r.automargin=="string"&&(Jq(Xe,r.automargin),Jq(Cr,r.automargin)),k0.autoMargin(e,lw(r),Xe),k0.autoMargin(e,oD(r),Cr),k0.autoMargin(e,lD(r),br)}),Et.syncOrAsync(qe)}};function Jq(e,r){if(e){var t=Object.keys(Gq).reduce(function(a,n){return r.indexOf(n)!==-1&&Gq[n].forEach(function(i){a[i]=1}),a},{});Object.keys(e).forEach(function(a){t[a]||(a.length===1?e[a]=0:delete e[a])})}}function Zue(e,r){var t=[],a,n=function(i,o){var l=i.xbnd[o];l!==null&&t.push(Et.extendFlat({},i,{x:l}))};if(r.length){for(a=0;a<r.length;a++)n(r[a],0);n(r[a-1],1)}return t}function Jue(e,r){for(var t=[],a={},n=0;n<r.length;n++){var i=r[n];a[i.text2]?a[i.text2].push(i.x):a[i.text2]=[i.x]}for(var o in a)t.push(nD(e,Et.interp(a[o],.5),o));return t}function $ue(e,r){var t=[],a,n,i=r.length&&r[r.length-1].x<r[0].x,o=function(s,u){var f=s.xbnd[u];f!==null&&t.push(Et.extendFlat({},s,{x:f}))};if(e.showdividers&&r.length){for(a=0;a<r.length;a++){var l=r[a];l.text2!==n&&o(l,i?1:0),n=l.text2}o(r[a-1],i?0:1)}return t}function Kue(e,r,t){var a,n,i,o;if(e._selections[r].size())a=1/0,n=-1/0,i=1/0,o=-1/0,e._selections[r].each(function(){var s=aw(this),u=Mo.bBox(s.node().parentNode);a=Math.min(a,u.top),n=Math.max(n,u.bottom),i=Math.min(i,u.left),o=Math.max(o,u.right)});else{var l=gr.makeLabelFns(e,t);a=n=l.yFn({dx:0,dy:0,fontSize:0}),i=o=l.xFn({dx:0,dy:0,fontSize:0})}return{top:a,bottom:n,left:i,right:o,height:n-a,width:o-i}}gr.getTickSigns=function(e,r){var t=e._id.charAt(0),a={x:"top",y:"right"}[t],n=e.side===a?1:-1,i=[-1,1,n,-n],o=r?(e.minor||{}).ticks:e.ticks;return o!=="inside"==(t==="x")&&(i=i.map(function(l){return-l})),e.side&&i.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),i};gr.makeTransTickFn=function(e){return e._id.charAt(0)==="x"?function(r){return C0(e._offset+e.l2p(r.x),0)}:function(r){return C0(0,e._offset+e.l2p(r.x))}};gr.makeTransTickLabelFn=function(e){var r=Que(e),t=e.ticklabelshift||0,a=e.ticklabelstandoff||0,n=r[0],i=r[1],o=e.range[0]>e.range[1],l=e.ticklabelposition&&e.ticklabelposition.indexOf("inside")!==-1,s=!l;if(t){var u=o?-1:1;t=t*u}if(a){var f=e.side,c=l&&(f==="top"||f==="left")||s&&(f==="bottom"||f==="right")?1:-1;a=a*c}return e._id.charAt(0)==="x"?function(h){return C0(n+e._offset+e.l2p(tw(h))+t,i+a)}:function(h){return C0(i+a,n+e._offset+e.l2p(tw(h))+t)}};function tw(e){return e.periodX!==void 0?e.periodX:e.x}function Que(e){var r=e.ticklabelposition||"",t=function(d){return r.indexOf(d)!==-1},a=t("top"),n=t("left"),i=t("right"),o=t("bottom"),l=t("inside"),s=o||n||a||i;if(!s&&!l)return[0,0];var u=e.side,f=s?(e.tickwidth||0)/2:0,c=a2,h=e.tickfont?e.tickfont.size:12;return(o||a)&&(f+=h*Mc,c+=(e.linewidth||0)/2),(n||i)&&(f+=(e.linewidth||0)/2,c+=a2),l&&u==="top"&&(c-=h*(1-Mc)),(n||a)&&(f=-f),(u==="bottom"||u==="right")&&(c=-c),[s?f:0,l?c:0]}gr.makeTickPath=function(e,r,t,a){a||(a={});var n=a.minor;if(n&&!e.minor)return"";var i=a.len!==void 0?a.len:n?e.minor.ticklen:e.ticklen,o=e._id.charAt(0),l=(e.linewidth||1)/2;return o==="x"?"M0,"+(r+l*t)+"v"+i*t:"M"+(r+l*t)+",0h"+i*t};gr.makeLabelFns=function(e,r,t){var a=e.ticklabelposition||"",n=function(I){return a.indexOf(I)!==-1},i=n("top"),o=n("left"),l=n("right"),s=n("bottom"),u=s||o||i||l,f=n("inside"),c=a==="inside"&&e.ticks==="inside"||!f&&e.ticks==="outside"&&e.tickson!=="boundaries",h=0,d=0,p=c?e.ticklen:0;if(f?p*=-1:u&&(p=0),c&&(h+=p,t)){var g=Et.deg2rad(t);h=p*Math.cos(g)+1,d=p*Math.sin(g)}e.showticklabels&&(c||e.showline)&&(h+=.2*e.tickfont.size),h+=(e.linewidth||1)/2*(f?-1:1);var y={labelStandoff:h,labelShift:d},b,_,w,x,T=0,S=e.side,M=e._id.charAt(0),C=e.tickangle,q;if(M==="x")q=!f&&S==="bottom"||f&&S==="top",x=q?1:-1,f&&(x*=-1),b=d*x,_=r+h*x,w=q?1:-.2,Math.abs(C)===90&&(f?w+=x1:C===-90&&S==="bottom"?w=Mc:C===90&&S==="top"?w=x1:w=.5,T=x1/2*(C/90)),y.xFn=function(I){return I.dx+b+T*I.fontSize},y.yFn=function(I){return I.dy+_+I.fontSize*w},y.anchorFn=function(I,H){if(u){if(o)return"end";if(l)return"start"}return!wn(H)||H===0||H===180?"middle":H*x<0!==f?"end":"start"},y.heightFn=function(I,H,V){return H<-60||H>60?-.5*V:e.side==="top"!==f?-V:0};else if(M==="y"){if(q=!f&&S==="left"||f&&S==="right",x=q?1:-1,f&&(x*=-1),b=h,_=d*x,w=0,!f&&Math.abs(C)===90&&(C===-90&&S==="left"||C===90&&S==="right"?w=Mc:w=.5),f){var F=wn(C)?+C:0;if(F!==0){var P=Et.deg2rad(F);T=Math.abs(Math.sin(P))*Mc*x,w=0}}y.xFn=function(I){return I.dx+r-(b+I.fontSize*w)*x+T*I.fontSize},y.yFn=function(I){return I.dy+_+I.fontSize*x1},y.anchorFn=function(I,H){return wn(H)&&Math.abs(H)===90?"middle":q?"end":"start"},y.heightFn=function(I,H,V){return e.side==="right"&&(H*=-1),H<-30?-V:H<30?-.5*V:0}}return y};function l2(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}gr.drawTicks=function(e,r,t){t=t||{};var a=r._id+"tick",n=[].concat(r.minor&&r.minor.ticks?t.vals.filter(function(o){return o.minor&&!o.noTick}):[]).concat(r.ticks?t.vals.filter(function(o){return!o.minor&&!o.noTick}):[]),i=t.layer.selectAll("path."+a).data(n,l2);i.exit().remove(),i.enter().append("path").classed(a,1).classed("ticks",1).classed("crisp",t.crisp!==!1).each(function(o){return w1.stroke(Vo.select(this),o.minor?r.minor.tickcolor:r.tickcolor)}).style("stroke-width",function(o){return Mo.crispRound(e,o.minor?r.minor.tickwidth:r.tickwidth,1)+"px"}).attr("d",t.path).style("display",null),s2(r,[Kq]),i.attr("transform",t.transFn)};gr.drawGrid=function(e,r,t){if(t=t||{},r.tickmode!=="sync"){var a=r._id+"grid",n=r.minor&&r.minor.showgrid,i=n?t.vals.filter(function(b){return b.minor}):[],o=r.showgrid?t.vals.filter(function(b){return!b.minor}):[],l=t.counterAxis;if(l&&gr.shouldShowZeroLine(e,r,l))for(var s=r.tickmode==="array",u=0;u<o.length;u++){var f=o[u].x;if(s?!f:Math.abs(f)<r.dtick/100)if(o=o.slice(0,u).concat(o.slice(u+1)),s)u--;else break}r._gw=Mo.crispRound(e,r.gridwidth,1);for(var c=n?Mo.crispRound(e,r.minor.gridwidth,1):0,h=t.layer,d=t.minorLayer,p=1;p>=0;p--){var g=p?h:d;if(g){var y=g.selectAll("path."+a).data(p?o:i,l2);y.exit().remove(),y.enter().append("path").classed(a,1).classed("crisp",t.crisp!==!1),y.attr("transform",t.transFn).attr("d",t.path).each(function(b){return w1.stroke(Vo.select(this),b.minor?r.minor.gridcolor:r.gridcolor||"#ddd")}).style("stroke-dasharray",function(b){return Mo.dashStyle(b.minor?r.minor.griddash:r.griddash,b.minor?r.minor.gridwidth:r.gridwidth)}).style("stroke-width",function(b){return(b.minor?c:r._gw)+"px"}).style("display",null),typeof t.path=="function"&&y.attr("d",t.path)}}s2(r,[ew,rw])}};gr.drawZeroLine=function(e,r,t){t=t||t;var a=r._id+"zl",n=gr.shouldShowZeroLine(e,r,t.counterAxis),i=t.layer.selectAll("path."+a).data(n?[{x:0,id:r._id}]:[]);i.exit().remove(),i.enter().append("path").classed(a,1).classed("zl",1).classed("crisp",t.crisp!==!1).each(function(){t.layer.selectAll("path").sort(function(o,l){return Lue(o.id,l.id)})}),i.attr("transform",t.transFn).attr("d",t.path).call(w1.stroke,r.zerolinecolor||w1.defaultLine).style("stroke-width",Mo.crispRound(e,r.zerolinewidth,r._gw||1)+"px").style("display",null),s2(r,[Q4])};gr.drawLabels=function(e,r,t){t=t||{};var a=e._fullLayout,n=r._id,i=t.cls||n+"tick",o=t.vals.filter(function(O){return O.text}),l=t.labelFns,s=t.secondary?0:r.tickangle,u=(r._prevTickAngles||{})[i],f=t.layer.selectAll("g."+i).data(r.showticklabels?o:[],l2),c=[];f.enter().append("g").classed(i,1).append("text").attr("text-anchor","middle").each(function(O){var G=Vo.select(this),Z=e._promises.length;G.call(Ac.positionText,l.xFn(O),l.yFn(O)).call(Mo.font,{family:O.font,size:O.fontSize,color:O.fontColor,weight:O.fontWeight,style:O.fontStyle,variant:O.fontVariant,textcase:O.fontTextcase,lineposition:O.fontLineposition,shadow:O.fontShadow}).text(O.text).call(Ac.convertToTspans,e),e._promises[Z]?c.push(e._promises.pop().then(function(){h(G,s)})):h(G,s)}),s2(r,[Hq]),f.exit().remove(),t.repositionOnUpdate&&f.each(function(O){Vo.select(this).select("text").call(Ac.positionText,l.xFn(O),l.yFn(O))});function h(O,G){O.each(function(Z){var Q=Vo.select(this),ie=Q.select(".text-math-group"),be=l.anchorFn(Z,G),ne=t.transFn.call(Q.node(),Z)+(wn(G)&&+G!=0?" rotate("+G+","+l.xFn(Z)+","+(l.yFn(Z)-Z.fontSize/2)+")":""),de=Ac.lineCount(Q),K=T1*Z.fontSize,me=l.heightFn(Z,wn(G)?+G:0,(de-1)*K);if(me&&(ne+=C0(0,me)),ie.empty()){var fe=Q.select("text");fe.attr({transform:ne,"text-anchor":be}),fe.style("opacity",1),r._adjustTickLabelsOverflow&&r._adjustTickLabelsOverflow()}else{var ke=Mo.bBox(ie.node()).width,ve=ke*{end:-.5,start:.5}[be];ie.attr("transform",ne+C0(ve,0))}})}r._adjustTickLabelsOverflow=function(){var O=r.ticklabeloverflow;if(!(!O||O==="allow")){var G=O.indexOf("hide")!==-1,Z=r._id.charAt(0)==="x",Q=0,ie=Z?e._fullLayout.width:e._fullLayout.height;if(O.indexOf("domain")!==-1){var be=Et.simpleMap(r.range,r.r2l);Q=r.l2p(be[0])+r._offset,ie=r.l2p(be[1])+r._offset}var ne=Math.min(Q,ie),de=Math.max(Q,ie),K=r.side,me=1/0,fe=-1/0;f.each(function(Y){var ae=Vo.select(this),X=ae.select(".text-math-group");if(X.empty()){var Se=Mo.bBox(ae.node()),qe=0;Z?(Se.right>de||Se.left<ne)&&(qe=1):(Se.bottom>de||Se.top+(r.tickangle?0:Y.fontSize/4)<ne)&&(qe=1);var De=ae.select("text");qe?G&&De.style("opacity",0):(De.style("opacity",1),K==="bottom"||K==="right"?me=Math.min(me,Z?Se.top:Se.left):me=-1/0,K==="top"||K==="left"?fe=Math.max(fe,Z?Se.bottom:Se.right):fe=1/0)}});for(var ke in a._plots){var ve=a._plots[ke];if(!(r._id!==ve.xaxis._id&&r._id!==ve.yaxis._id)){var Ae=Z?ve.yaxis:ve.xaxis;Ae&&(Ae["_visibleLabelMin_"+r._id]=me,Ae["_visibleLabelMax_"+r._id]=fe)}}}},r._hideCounterAxisInsideTickLabels=function(O){var G=r._id.charAt(0)==="x",Z=[];for(var Q in a._plots){var ie=a._plots[Q];r._id!==ie.xaxis._id&&r._id!==ie.yaxis._id||Z.push(G?ie.yaxis:ie.xaxis)}Z.forEach(function(be,ne){be&&S1(be)&&(O||[Q4,rw,ew,Kq,Hq]).forEach(function(de){var K=de.K==="tick"&&de.L==="text"&&r.ticklabelmode==="period",me=a._plots[r._mainSubplot],fe;de.K===Q4.K?fe=me.zerolinelayer.selectAll("."+r._id+"zl"):de.K===rw.K?fe=me.minorGridlayer.selectAll("."+r._id):de.K===ew.K?fe=me.gridlayer.selectAll("."+r._id):fe=me[r._id.charAt(0)+"axislayer"],fe.each(function(){var ke=Vo.select(this);de.L&&(ke=ke.selectAll(de.L)),ke.each(function(ve){var Ae=r.l2p(K?tw(ve):ve.x)+r._offset,Y=Vo.select(this);Ae<r["_visibleLabelMax_"+be._id]&&Ae>r["_visibleLabelMin_"+be._id]?Y.style("display","none"):de.K==="tick"&&!ne&&Y.style("display",null)})})})})},h(f,u+1?u:s);function d(){return c.length&&Promise.all(c)}var p=null;function g(){if(h(f,s),o.length&&r.autotickangles&&(r.type!=="log"||String(r.dtick).charAt(0)!=="D")){p=r.autotickangles[0];var O=0,G=[],Z,Q=1;f.each(function(ir){O=Math.max(O,ir.fontSize);var Xe=r.l2p(ir.x),Cr=aw(this),br=Mo.bBox(Cr.node());Q=Math.max(Q,Ac.lineCount(Cr)),G.push({top:0,bottom:10,height:10,left:Xe-br.width/2,right:Xe+br.width/2+2,width:br.width+2})});var ie=(r.tickson==="boundaries"||r.showdividers)&&!t.secondary,be=o.length,ne=Math.abs((o[be-1].x-o[0].x)*r._m)/(be-1),de=ie?ne/2:ne,K=ie?r.ticklen:O*1.25*Q,me=Math.sqrt(Math.pow(de,2)+Math.pow(K,2)),fe=de/me,ke=r.autotickangles.map(function(ir){return ir*Math.PI/180}),ve=ke.find(function(ir){return Math.abs(Math.cos(ir))<=fe});ve===void 0&&(ve=ke.reduce(function(ir,Xe){return Math.abs(Math.cos(ir))<Math.abs(Math.cos(Xe))?ir:Xe},ke[0]));var Ae=ve*(180/Math.PI);if(ie){var Y=2;for(r.ticks&&(Y+=r.tickwidth/2),Z=0;Z<G.length;Z++){var ae=o[Z].xbnd,X=G[Z];if(ae[0]!==null&&X.left-r.l2p(ae[0])<Y||ae[1]!==null&&r.l2p(ae[1])-X.right<Y){p=Ae;break}}}else{var Se=r.ticklabelposition||"",qe=function(ir){return Se.indexOf(ir)!==-1},De=qe("top"),tr=qe("left"),$e=qe("right"),Ze=qe("bottom"),lr=Ze||tr||De||$e,pr=lr?(r.tickwidth||0)+2*a2:0;for(Z=0;Z<G.length-1;Z++)if(Et.bBoxIntersect(G[Z],G[Z+1],pr)){p=Ae;break}}p&&h(f,p)}}r._selections&&(r._selections[i]=f);var y=[d];r.automargin&&a._redrawFromAutoMarginCount&&u===90?(p=u,y.push(function(){h(f,u)})):y.push(g),r._tickAngles&&y.push(function(){r._tickAngles[i]=p===null?wn(s)?s:0:p});var b=function(){var O=0,G=0;return f.each(function(Z,Q){var ie=aw(this),be=ie.select(".text-math-group");if(be.empty()){var ne;r._vals[Q]&&(ne=r._vals[Q].bb||Mo.bBox(ie.node()),r._vals[Q].bb=ne),O=Math.max(O,ne.width),G=Math.max(G,ne.height)}}),{labelsMaxW:O,labelsMaxH:G}},_=r._anchorAxis;if(_&&(_.autorange||_.insiderange)&&S1(r)&&!que(a,r._id)&&(a._insideTickLabelsUpdaterange||(a._insideTickLabelsUpdaterange={}),_.autorange&&(a._insideTickLabelsUpdaterange[_._name+".autorange"]=_.autorange,y.push(b)),_.insiderange)){var w=b(),x=r._id.charAt(0)==="y"?w.labelsMaxW:w.labelsMaxH;x+=2*a2,r.ticklabelposition==="inside"&&(x+=r.ticklen||0);var T=r.side==="right"||r.side==="top"?1:-1,S=T===1?1:0,M=T===1?0:1,C=[];C[M]=_.range[M];var q=_.range,F=_.r2p(q[S]),P=_.r2p(q[M]),I=a._insideTickLabelsUpdaterange[_._name+".range"];if(I){var H=_.r2p(I[S]),V=_.r2p(I[M]),j=T*(r._id.charAt(0)==="y"?1:-1);j*F<j*H&&(F=H,C[S]=q[S]=I[S]),j*P>j*V&&(P=V,C[M]=q[M]=I[M])}var W=Math.abs(P-F);W-x>0?(W-=x,x*=1+x/W):x=0,r._id.charAt(0)!=="y"&&(x=-x),C[S]=_.p2r(_.r2p(q[S])+T*x),_.autorange==="min"||_.autorange==="max reversed"?(C[0]=null,_._rangeInitial0=void 0,_._rangeInitial1=void 0):(_.autorange==="max"||_.autorange==="min reversed")&&(C[1]=null,_._rangeInitial0=void 0,_._rangeInitial1=void 0),a._insideTickLabelsUpdaterange[_._name+".range"]=C}var z=Et.syncOrAsync(y);return z&&z.then&&e._promises.push(z),z};function efe(e,r,t){var a=r._id+"divider",n=t.vals,i=t.layer.selectAll("path."+a).data(n,l2);i.exit().remove(),i.enter().insert("path",":first-child").classed(a,1).classed("crisp",1).call(w1.stroke,r.dividercolor).style("stroke-width",Mo.crispRound(e,r.dividerwidth,1)+"px"),i.attr("transform",t.transFn).attr("d",t.path)}gr.getPxPosition=function(e,r){var t=e._fullLayout._size,a=r._id.charAt(0),n=r.side,i;if(r.anchor!=="free"?i=r._anchorAxis:a==="x"?i={_offset:t.t+(1-(r.position||0))*t.h,_length:0}:a==="y"&&(i={_offset:t.l+(r.position||0)*t.w+r._shift,_length:0}),n==="top"||n==="left")return i._offset;if(n==="bottom"||n==="right")return i._offset+i._length};function $q(e){var r=e.title.font.size,t=(e.title.text.match(Ac.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?r*(Mc+t*T1):t?r*(t+1)*T1:r}function rfe(e,r){var t=e._fullLayout,a=r._id,n=a.charAt(0),i=r.title.font.size,o,l=(r.title.text.match(Ac.BR_TAG_ALL)||[]).length;if(r.title.hasOwnProperty("standoff"))r.side==="bottom"||r.side==="right"?o=r._depth+r.title.standoff+i*Mc:(r.side==="top"||r.side==="left")&&(o=r._depth+r.title.standoff+i*(x1+l*T1));else{var s=S1(r);if(r.type==="multicategory")o=r._depth;else{var u=1.5*i;s&&(u=.5*i,r.ticks==="outside"&&(u+=r.ticklen)),o=10+u+(r.linewidth?r.linewidth-1:0)}s||(n==="x"?o+=r.side==="top"?i*(r.showticklabels?1:0):i*(r.showticklabels?1.5:.5):o+=r.side==="right"?i*(r.showticklabels?1:.5):i*(r.showticklabels?.5:0))}var f=gr.getPxPosition(e,r),c,h,d;n==="x"?(h=r._offset+r._length/2,d=r.side==="top"?f-o:f+o):(d=r._offset+r._length/2,h=r.side==="right"?f+o:f-o,c={rotate:"-90",offset:0});var p;if(r.type!=="multicategory"){var g=r._selections[r._id+"tick"];if(p={selection:g,side:r.side},g&&g.node()&&g.node().parentNode){var y=Mo.getTranslate(g.node().parentNode);p.offsetLeft=y.x,p.offsetTop=y.y}r.title.hasOwnProperty("standoff")&&(p.pad=0)}return r._titleStandoff=o,_ue.draw(e,a+"title",{propContainer:r,propName:r._name+".title.text",placeholder:t._dfltTitle[n],avoid:p,transform:c,attributes:{x:h,y:d,"text-anchor":"middle"}})}gr.shouldShowZeroLine=function(e,r,t){var a=Et.simpleMap(r.range,r.r2l);return a[0]*a[1]<=0&&r.zeroline&&(r.type==="linear"||r.type==="-")&&!(r.rangebreaks&&r.maskBreaks(0)===i2)&&(iD(r,0)||!tfe(e,r,t,a)||afe(e,r))};gr.clipEnds=function(e,r){return r.filter(function(t){return iD(e,t.x)})};function iD(e,r){var t=e.l2p(r);return t>1&&t<e._length-1}function tfe(e,r,t,a){var n=t._mainAxis;if(!n)return;var i=e._fullLayout,o=r._id.charAt(0),l=gr.counterLetter(r._id),s=r._offset+(Math.abs(a[0])<Math.abs(a[1])==(o==="x")?0:r._length);function u(p){if(!p.showline||!p.linewidth)return!1;var g=Math.max((p.linewidth+r.zerolinewidth)/2,1);function y(w){return typeof w=="number"&&Math.abs(w-s)<g}if(y(p._mainLinePosition)||y(p._mainMirrorPosition))return!0;var b=p._linepositions||{};for(var _ in b)if(y(b[_][0])||y(b[_][1]))return!0}var f=i._plots[t._mainSubplot];if(!(f.mainplotinfo||f).overlays.length)return u(t,s);for(var c=gr.list(e,l),h=0;h<c.length;h++){var d=c[h];if(d._mainAxis===n&&u(d,s))return!0}}function afe(e,r){for(var t=e._fullData,a=r._mainSubplot,n=r._id.charAt(0),i=0;i<t.length;i++){var o=t[i];if(o.visible===!0&&o.xaxis+o.yaxis===a&&(_1.traceIs(o,"bar-like")&&o.orientation==={x:"h",y:"v"}[n]||o.fill&&o.fill.charAt(o.fill.length-1)===n))return!0}return!1}function aw(e){var r=Vo.select(e),t=r.select(".text-math-group");return t.empty()?r.select("text"):t}gr.allowAutoMargin=function(e){for(var r=gr.list(e,"",!0),t=0;t<r.length;t++){var a=r[t];a.automargin&&(k0.allowAutoMargin(e,lw(a)),a.mirror&&k0.allowAutoMargin(e,oD(a))),_1.getComponentMethod("rangeslider","isVisible")(a)&&k0.allowAutoMargin(e,lD(a))}};function lw(e){return e._id+".automargin"}function oD(e){return lw(e)+".mirror"}function lD(e){return e._id+".rangeslider"}gr.swap=function(e,r){for(var t=nfe(e,r),a=0;a<t.length;a++)ife(e,t[a].x,t[a].y)};function nfe(e,r){var t=[],a,n;for(a=0;a<r.length;a++){var i=[],o=e._fullData[r[a]].xaxis,l=e._fullData[r[a]].yaxis;if(!(!o||!l)){for(n=0;n<t.length;n++)(t[n].x.indexOf(o)!==-1||t[n].y.indexOf(l)!==-1)&&i.push(n);if(!i.length){t.push({x:[o],y:[l]});continue}var s=t[i[0]],u;if(i.length>1)for(n=1;n<i.length;n++)u=t[i[n]],$g(s.x,u.x),$g(s.y,u.y);$g(s.x,[o]),$g(s.y,[l])}}return t}function $g(e,r){for(var t=0;t<r.length;t++)e.indexOf(r[t])===-1&&e.push(r[t])}function ife(e,r,t){var a=[],n=[],i=e.layout,o,l;for(o=0;o<r.length;o++)a.push(gr.getFromId(e,r[o]));for(o=0;o<t.length;o++)n.push(gr.getFromId(e,t[o]));var s=Object.keys(wue),u=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(o=0;o<s.length;o++){var c=s[o],h=a[0][c],d=n[0][c],p=!0,g=!1,y=!1;if(!(c.charAt(0)==="_"||typeof h=="function"||u.indexOf(c)!==-1)){for(l=1;l<a.length&&p;l++){var b=a[l][c];c==="type"&&f.indexOf(h)!==-1&&f.indexOf(b)!==-1&&h!==b?g=!0:b!==h&&(p=!1)}for(l=1;l<n.length&&p;l++){var _=n[l][c];c==="type"&&f.indexOf(d)!==-1&&f.indexOf(_)!==-1&&d!==_?y=!0:n[l][c]!==d&&(p=!1)}p&&(g&&(i[a[0]._name].type="linear"),y&&(i[n[0]._name].type="linear"),ofe(i,c,a,n,e._fullLayout._dfltTitle))}}for(o=0;o<e._fullLayout.annotations.length;o++){var w=e._fullLayout.annotations[o];r.indexOf(w.xref)!==-1&&t.indexOf(w.yref)!==-1&&Et.swapAttrs(i.annotations[o],["?"])}}function ofe(e,r,t,a,n){var i=Et.nestedProperty,o=i(e[t[0]._name],r).get(),l=i(e[a[0]._name],r).get(),s;for(r==="title"&&(o&&o.text===n.x&&(o.text=n.y),l&&l.text===n.y&&(l.text=n.x)),s=0;s<t.length;s++)i(e,t[s]._name+"."+r).set(l);for(s=0;s<a.length;s++)i(e,a[s]._name+"."+r).set(o)}function sw(e){return e._id==="angularaxis"}function $4(e,r){for(var t=r._rangebreaks.length,a=0;a<t;a++){var n=r._rangebreaks[a];if(e>=n.min&&e<n.max)return n.max}return e}function S1(e){return(e.ticklabelposition||"").indexOf("inside")!==-1}function s2(e,r){S1(e._anchorAxis||{})&&e._hideCounterAxisInsideTickLabels&&e._hideCounterAxisInsideTickLabels(r)}function nw(e,r,t,a){var n=e.anchor!=="free"&&(e.overlaying===void 0||e.overlaying===!1)?e._id:e.overlaying,i;a?i=e.side==="right"?r:-r:i=r,n in t||(t[n]={}),e.side in t[n]||(t[n][e.side]=0),t[n][e.side]+=i}function lfe(e,r){return e.autoshift?r[e.overlaying][e.side]:e.shift||0}function sfe(e,r){return/%f/.test(r)?e>=kue:/%L/.test(r)?e>=Sue:/%[SX]/.test(r)?e>=t2:/%M/.test(r)?e>=A1:/%[HI]/.test(r)?e>=ss:/%p/.test(r)?e>=Ku:/%[Aadejuwx]/.test(r)?e>=Ei:/%[UVW]/.test(r)?e>=So:/%[Bbm]/.test(r)?e>=r2:/%[q]/.test(r)?e>=e2:/%[Yy]/.test(r)?e>=Qg:!0}});var fD=R((bke,uD)=>{"use strict";uD.exports=function(r,t,a){var n,i;if(a){var o=t==="reversed"||t==="min reversed"||t==="max reversed";n=a[o?1:0],i=a[o?0:1]}var l=r("autorangeoptions.minallowed",i===null?n:void 0),s=r("autorangeoptions.maxallowed",n===null?i:void 0);l===void 0&&r("autorangeoptions.clipmin"),s===void 0&&r("autorangeoptions.clipmax"),r("autorangeoptions.include")}});var uw=R((xke,cD)=>{"use strict";var ufe=fD();cD.exports=function(r,t,a,n){var i=t._template||{},o=t.type||i.type||"-";a("minallowed"),a("maxallowed");var l=a("range");if(!l){var s;!n.noInsiderange&&o!=="log"&&(s=a("insiderange"),s&&(s[0]===null||s[1]===null)&&(t.insiderange=!1,s=void 0),s&&(l=a("range",s)))}var u=t.getAutorangeDflt(l,n),f=a("autorange",u),c;l&&(l[0]===null&&l[1]===null||(l[0]===null||l[1]===null)&&(f==="reversed"||f===!0)||l[0]!==null&&(f==="min"||f==="max reversed")||l[1]!==null&&(f==="max"||f==="min reversed"))&&(l=void 0,delete t.range,t.autorange=!0,c=!0),c||(u=t.getAutorangeDflt(l,n),f=a("autorange",u)),f&&(ufe(a,f,l),(o==="linear"||o==="-")&&a("rangemode")),t.cleanRange()}});var hD=R((_ke,vD)=>{var ffe={left:0,top:0};vD.exports=cfe;function cfe(e,r,t){r=r||e.currentTarget||e.srcElement,Array.isArray(t)||(t=[0,0]);var a=e.clientX||0,n=e.clientY||0,i=vfe(r);return t[0]=a-i.left,t[1]=n-i.top,t}function vfe(e){return e===window||e===document||e===document.body?ffe:e.getBoundingClientRect()}});var fw=R((wke,dD)=>{"use strict";var hfe=B_();function dfe(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch(t){e=!1}return e}dD.exports=hfe&&dfe()});var yD=R((Ake,pD)=>{"use strict";pD.exports=function(r,t,a,n,i){var o=(r-a)/(n-a),l=o+t/(n-a),s=(o+l)/2;return i==="left"||i==="bottom"?o:i==="center"||i==="middle"?s:i==="right"||i==="top"?l:o<2/3-s?o:l>4/3-s?l:s}});var bD=R((Tke,gD)=>{"use strict";var mD=fr(),pfe=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];gD.exports=function(r,t,a,n){return a==="left"?r=0:a==="center"?r=1:a==="right"?r=2:r=mD.constrain(Math.floor(r*3),0,2),n==="bottom"?t=0:n==="middle"?t=1:n==="top"?t=2:t=mD.constrain(Math.floor(t*3),0,2),pfe[t][r]}});var _D=R((Mke,xD)=>{"use strict";var yfe=u1(),mfe=sg(),gfe=r1().getGraphDiv,bfe=Qd(),cw=xD.exports={};cw.wrapped=function(e,r,t){e=gfe(e),e._fullLayout&&mfe.clear(e._fullLayout._uid+bfe.HOVERID),cw.raw(e,r,t)};cw.raw=function(r,t){var a=r._fullLayout,n=r._hoverdata;t||(t={}),!(t.target&&!r._dragged&&yfe.triggerHandler(r,"plotly_beforehover",t)===!1)&&(a._hoverlayer.selectAll("g").remove(),a._hoverlayer.selectAll("line").remove(),a._hoverlayer.selectAll("circle").remove(),r._hoverdata=void 0,t.target&&n&&r.emit("plotly_unhover",{event:t,points:n}))}});var Al=R((Ske,TD)=>{"use strict";var xfe=hD(),vw=H_(),_fe=fw(),wfe=fr().removeElement,Afe=ui(),Sc=TD.exports={};Sc.align=yD();Sc.getCursor=bD();var wD=_D();Sc.unhover=wD.wrapped;Sc.unhoverRaw=wD.raw;Sc.init=function(r){var t=r.gd,a=1,n=t._context.doubleClickDelay,i=r.element,o,l,s,u,f,c,h,d;t._mouseDownTime||(t._mouseDownTime=0),i.style.pointerEvents="all",i.onmousedown=y,_fe?(i._ontouchstart&&i.removeEventListener("touchstart",i._ontouchstart),i._ontouchstart=y,i.addEventListener("touchstart",y,{passive:!1})):i.ontouchstart=y;function p(w,x,T){return Math.abs(w)<T&&(w=0),Math.abs(x)<T&&(x=0),[w,x]}var g=r.clampFn||p;function y(w){t._dragged=!1,t._dragging=!0;var x=hw(w);o=x[0],l=x[1],h=w.target,c=w,d=w.buttons===2||w.ctrlKey,typeof w.clientX=="undefined"&&typeof w.clientY=="undefined"&&(w.clientX=o,w.clientY=l),s=new Date().getTime(),s-t._mouseDownTime<n?a+=1:(a=1,t._mouseDownTime=s),r.prepFn&&r.prepFn(w,o,l),vw&&!d?(f=AD(),f.style.cursor=window.getComputedStyle(i).cursor):vw||(f=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(i).cursor),document.addEventListener("mouseup",_),document.addEventListener("touchend",_),r.dragmode!==!1&&(w.preventDefault(),document.addEventListener("mousemove",b),document.addEventListener("touchmove",b,{passive:!1}))}function b(w){w.preventDefault();var x=hw(w),T=r.minDrag||Afe.MINDRAG,S=g(x[0]-o,x[1]-l,T),M=S[0],C=S[1];(M||C)&&(t._dragged=!0,Sc.unhover(t,w)),t._dragged&&r.moveFn&&!d&&(t._dragdata={element:i,dx:M,dy:C},r.moveFn(M,C))}function _(w){if(delete t._dragdata,r.dragmode!==!1&&(w.preventDefault(),document.removeEventListener("mousemove",b),document.removeEventListener("touchmove",b)),document.removeEventListener("mouseup",_),document.removeEventListener("touchend",_),vw?wfe(f):u&&(f.documentElement.style.cursor=u,u=null),!t._dragging){t._dragged=!1;return}if(t._dragging=!1,new Date().getTime()-t._mouseDownTime>n&&(a=Math.max(a-1,1)),t._dragged)r.doneFn&&r.doneFn();else if(r.clickFn&&r.clickFn(a,c),!d){var x;try{x=new MouseEvent("click",w)}catch(S){var T=hw(w);x=document.createEvent("MouseEvents"),x.initMouseEvent("click",w.bubbles,w.cancelable,w.view,w.detail,w.screenX,w.screenY,T[0],T[1],w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,w.button,w.relatedTarget)}h.dispatchEvent(x)}t._dragging=!1,t._dragged=!1}};function AD(){var e=document.createElement("div");e.className="dragcover";var r=e.style;return r.position="fixed",r.left=0,r.right=0,r.top=0,r.bottom=0,r.zIndex=999999999,r.background="none",document.body.appendChild(e),e}Sc.coverSlip=AD;function hw(e){return xfe(e.changedTouches?e.changedTouches[0]:e,document.body)}});var Qu=R((kke,MD)=>{"use strict";MD.exports=function(r,t){(r.attr("class")||"").split(" ").forEach(function(a){a.indexOf("cursor-")===0&&r.classed(a,!1)}),t&&r.classed("cursor-"+t,!0)}});var CD=R((Cke,kD)=>{"use strict";var dw=Qu(),k1="data-savedcursor",SD="!!";kD.exports=function(r,t){var a=r.attr(k1);if(t){if(!a){for(var n=(r.attr("class")||"").split(" "),i=0;i<n.length;i++){var o=n[i];o.indexOf("cursor-")===0&&r.attr(k1,o.substr(7)).classed(o,!1)}r.attr(k1)||r.attr(k1,SD)}dw(r,t)}else a&&(r.attr(k1,null),a===SD?dw(r):dw(r,a))}});var yw=R((Eke,ED)=>{"use strict";var pw=ti(),Tfe=es();ED.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:Tfe.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:pw({editType:"legend"}),grouptitlefont:pw({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:pw({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}});var f2=R(u2=>{"use strict";u2.isGrouped=function(r){return(r.traceorder||"").indexOf("grouped")!==-1};u2.isVertical=function(r){return r.orientation!=="h"};u2.isReversed=function(r){return(r.traceorder||"").indexOf("reversed")!==-1}});var bw=R((qke,LD)=>{"use strict";var mw=_t(),ko=fr(),Mfe=Oa(),Sfe=pl(),kfe=yw(),Cfe=a0(),gw=f2();function Efe(e,r,t,a){var n=r[e]||{},i=Mfe.newContainer(t,e);function o(z,O){return ko.coerce(n,i,kfe,z,O)}var l=ko.coerceFont(o,"font",t.font);o("bgcolor",t.paper_bgcolor),o("bordercolor");var s=o("visible");if(s){for(var u,f=function(z,O){var G=u._input,Z=u;return ko.coerce(G,Z,Sfe,z,O)},c=t.font||{},h=ko.coerceFont(o,"grouptitlefont",c,{overrideDflt:{size:Math.round(c.size*1.1)}}),d=0,p=!1,g="normal",y=(t.shapes||[]).filter(function(z){return z.showlegend}),b=a.concat(y).filter(function(z){return e===(z.legend||"legend")}),_=0;_<b.length;_++)if(u=b[_],!!u.visible){var w=u._isShape;(u.showlegend||u._dfltShowLegend&&!(u._module&&u._module.attributes&&u._module.attributes.showlegend&&u._module.attributes.showlegend.dflt===!1))&&(d++,u.showlegend&&(p=!0,(!w&&mw.traceIs(u,"pie-like")||u._input.showlegend===!0)&&d++),ko.coerceFont(f,"legendgrouptitle.font",h)),(!w&&mw.traceIs(u,"bar")&&t.barmode==="stack"||["tonextx","tonexty"].indexOf(u.fill)!==-1)&&(g=gw.isGrouped({traceorder:g})?"grouped+reversed":"reversed"),u.legendgroup!==void 0&&u.legendgroup!==""&&(g=gw.isReversed({traceorder:g})?"reversed+grouped":"grouped")}var x=ko.coerce(r,t,Cfe,"showlegend",p&&d>(e==="legend"?1:0));if(x===!1&&(t[e]=void 0),!(x===!1&&!n.uirevision)&&(o("uirevision",t.uirevision),x!==!1)){o("borderwidth");var T=o("orientation"),S=o("yref"),M=o("xref"),C=T==="h",q=S==="paper",F=M==="paper",P,I,H,V="left";C?(P=0,mw.getComponentMethod("rangeslider","isVisible")(r.xaxis)?q?(I=1.1,H="bottom"):(I=1,H="top"):q?(I=-.1,H="top"):(I=0,H="bottom")):(I=1,H="auto",F?P=1.02:(P=1,V="right")),ko.coerce(n,i,{x:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:P}},"x"),ko.coerce(n,i,{y:{valType:"number",editType:"legend",min:q?-2:0,max:q?3:1,dflt:I}},"y"),o("traceorder",g),gw.isGrouped(t[e])&&o("tracegroupgap"),o("entrywidth"),o("entrywidthmode"),o("indentation"),o("itemsizing"),o("itemwidth"),o("itemclick"),o("itemdoubleclick"),o("groupclick"),o("xanchor",V),o("yanchor",H),o("valign"),ko.noneOrAll(n,i,["x","y"]);var j=o("title.text");if(j){o("title.side",C?"left":"top");var W=ko.extendFlat({},l,{size:ko.bigFont(l.size)});ko.coerceFont(o,"title.font",W)}}}}LD.exports=function(r,t,a){var n,i=a.slice(),o=t.shapes;if(o)for(n=0;n<o.length;n++){var l=o[n];if(l.showlegend){var s={_input:l._input,visible:l.visible,showlegend:l.showlegend,legend:l.legend};i.push(s)}}var u=["legend"];for(n=0;n<i.length;n++)ko.pushUnique(u,i[n].legend);for(t._legends=[],n=0;n<u.length;n++){var f=u[n];Efe(f,r,t,i),t[f]&&t[f].visible&&(t[f]._id=f),t._legends.push(f)}}});var DD=R((Dke,qD)=>{"use strict";var L0=_t(),_w=fr(),Lfe=_w.pushUnique,xw=!0;qD.exports=function(r,t,a){var n=t._fullLayout;if(t._dragged||t._editing)return;var i=n.legend.itemclick,o=n.legend.itemdoubleclick,l=n.legend.groupclick;a===1&&i==="toggle"&&o==="toggleothers"&&xw&&t.data&&t._context.showTips&&_w.notifier(_w._(t,"Double-click on legend to isolate one trace"),"long"),xw=!1;var s;if(a===1?s=i:a===2&&(s=o),!s)return;var u=l==="togglegroup",f=n.hiddenlabels?n.hiddenlabels.slice():[],c=r.data()[0][0];if(c.groupTitle&&c.noClick)return;var h=t._fullData,d=(n.shapes||[]).filter(function(lr){return lr.showlegend}),p=h.concat(d),g=c.trace;g._isShape&&(g=g._fullInput);var y=g.legendgroup,b,_,w,x,T,S,M={},C=[],q=[],F=[];function P(lr,pr){var ir=C.indexOf(lr),Xe=M.visible;return Xe||(Xe=M.visible=[]),C.indexOf(lr)===-1&&(C.push(lr),ir=C.length-1),Xe[ir]=pr,ir}var I=(n.shapes||[]).map(function(lr){return lr._input}),H=!1;function V(lr,pr){I[lr].visible=pr,H=!0}function j(lr,pr){if(!(c.groupTitle&&!u)){var ir=lr._fullInput||lr,Xe=ir._isShape,Cr=ir.index;Cr===void 0&&(Cr=ir._index);var br=ir.visible===!1?!1:pr;Xe?V(Cr,br):P(Cr,br)}}var W=g.legend,z=g._fullInput,O=z&&z._isShape;if(!O&&L0.traceIs(g,"pie-like")){var G=c.label,Z=f.indexOf(G);if(s==="toggle")Z===-1?f.push(G):f.splice(Z,1);else if(s==="toggleothers"){var Q=Z!==-1,ie=[];for(b=0;b<t.calcdata.length;b++){var be=t.calcdata[b];for(_=0;_<be.length;_++){var ne=be[_],de=ne.label;W===be[0].trace.legend&&G!==de&&(f.indexOf(de)===-1&&(Q=!0),Lfe(f,de),ie.push(de))}}if(!Q)for(var K=0;K<ie.length;K++){var me=f.indexOf(ie[K]);me!==-1&&f.splice(me,1)}}L0.call("_guiRelayout",t,"hiddenlabels",f)}else{var fe=y&&y.length,ke=[],ve;if(fe)for(b=0;b<p.length;b++)ve=p[b],ve.visible&&ve.legendgroup===y&&ke.push(b);if(s==="toggle"){var Ae;switch(g.visible){case!0:Ae="legendonly";break;case!1:Ae=!1;break;case"legendonly":Ae=!0;break}if(fe)if(u)for(b=0;b<p.length;b++){var Y=p[b];Y.visible!==!1&&Y.legendgroup===y&&j(Y,Ae)}else j(g,Ae);else j(g,Ae)}else if(s==="toggleothers"){var ae,X,Se,qe,De,tr=!0;for(b=0;b<p.length;b++)if(De=p[b],ae=De===g,Se=De.showlegend!==!0,!(ae||Se)&&(X=fe&&De.legendgroup===y,!X&&De.legend===W&&De.visible===!0&&!L0.traceIs(De,"notLegendIsolatable"))){tr=!1;break}for(b=0;b<p.length;b++)if(De=p[b],!(De.visible===!1||De.legend!==W)&&!L0.traceIs(De,"notLegendIsolatable"))switch(g.visible){case"legendonly":j(De,!0);break;case!0:qe=tr?!0:"legendonly",ae=De===g,Se=De.showlegend!==!0&&!De.legendgroup,X=ae||fe&&De.legendgroup===y,j(De,X||Se?!0:qe);break}}for(b=0;b<q.length;b++)if(w=q[b],!!w){var $e=w.constructUpdate(),Ze=Object.keys($e);for(_=0;_<Ze.length;_++)x=Ze[_],S=M[x]=M[x]||[],S[F[b]]=$e[x]}for(T=Object.keys(M),b=0;b<T.length;b++)for(x=T[b],_=0;_<C.length;_++)M[x].hasOwnProperty(_)||(M[x][_]=void 0);H?L0.call("_guiUpdate",t,M,{shapes:I},C):L0.call("_guiRestyle",t,M,C)}}});var ww=R((Fke,FD)=>{"use strict";FD.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}});var ND=R((Rke,PD)=>{"use strict";var RD=_t(),Aw=f2();PD.exports=function(r,t,a){var n=t._inHover,i=Aw.isGrouped(t),o=Aw.isReversed(t),l={},s=[],u=!1,f={},c=0,h=0,d,p;function g(z,O,G){if(t.visible!==!1&&!(a&&z!==t._id))if(O===""||!Aw.isGrouped(t)){var Z="~~i"+c;s.push(Z),l[Z]=[G],c++}else s.indexOf(O)===-1?(s.push(O),u=!0,l[O]=[G]):l[O].push(G)}for(d=0;d<r.length;d++){var y=r[d],b=y[0],_=b.trace,w=_.legend,x=_.legendgroup;if(!(!n&&(!_.visible||!_.showlegend)))if(RD.traceIs(_,"pie-like"))for(f[x]||(f[x]={}),p=0;p<y.length;p++){var T=y[p].label;f[x][T]||(g(w,x,{label:T,color:y[p].color,i:y[p].i,trace:_,pts:y[p].pts}),f[x][T]=!0,h=Math.max(h,(T||"").length))}else g(w,x,b),h=Math.max(h,(_.name||"").length)}if(!s.length)return[];var S=!u||!i,M=[];for(d=0;d<s.length;d++){var C=l[s[d]];S?M.push(C[0]):M.push(C)}for(S&&(M=[M]),d=0;d<M.length;d++){var q=1/0;for(p=0;p<M[d].length;p++){var F=M[d][p].trace.legendrank;q>F&&(q=F)}M[d][0]._groupMinRank=q,M[d][0]._preGroupSort=d}var P=function(z,O){return z[0]._groupMinRank-O[0]._groupMinRank||z[0]._preGroupSort-O[0]._preGroupSort},I=function(z,O){return z.trace.legendrank-O.trace.legendrank||z._preSort-O._preSort};for(M.forEach(function(z,O){z[0]._preGroupSort=O}),M.sort(P),d=0;d<M.length;d++){M[d].forEach(function(z,O){z._preSort=O}),M[d].sort(I);var H=M[d][0].trace,V=null;for(p=0;p<M[d].length;p++){var j=M[d][p].trace.legendgrouptitle;if(j&&j.text){V=j,n&&(j.font=t._groupTitleFont);break}}if(o&&M[d].reverse(),V){var W=!1;for(p=0;p<M[d].length;p++)if(RD.traceIs(M[d][p].trace,"pie-like")){W=!0;break}M[d].unshift({i:-1,groupTitle:V,noClick:W,trace:{showlegend:H.showlegend,legendgroup:H.legendgroup,visible:t.groupclick==="toggleitem"?!0:H.visible}})}for(p=0;p<M[d].length;p++)M[d][p]=[M[d][p]]}return t._lgroupsLength=M.length,t._maxNameLength=h,M}});var Tw=R(kc=>{"use strict";var c2=fr();function ID(e){return e.indexOf("e")!==-1?e.replace(/[.]?0+e/,"e"):e.indexOf(".")!==-1?e.replace(/[.]?0+$/,""):e}kc.formatPiePercent=function(r,t){var a=ID((r*100).toPrecision(3));return c2.numSeparate(a,t)+"%"};kc.formatPieValue=function(r,t){var a=ID(r.toPrecision(10));return c2.numSeparate(a,t)};kc.getFirstFilled=function(r,t){if(c2.isArrayOrTypedArray(r))for(var a=0;a<t.length;a++){var n=r[t[a]];if(n||n===0||n==="")return n}};kc.castOption=function(r,t){if(c2.isArrayOrTypedArray(r))return kc.getFirstFilled(r,t);if(r)return r};kc.getRotationAngle=function(e){return(e==="auto"?0:e)*Math.PI/180}});var zD=R((Nke,OD)=>{"use strict";var qfe=Sa(),Dfe=Vt();OD.exports=function(r,t,a,n){var i=a.marker.pattern;i&&i.shape?qfe.pointStyle(r,a,n,t):Dfe.fill(r,t.color)}});var GD=R((Ike,HD)=>{"use strict";var BD=Vt(),UD=Tw().castOption,Ffe=zD();HD.exports=function(r,t,a,n){var i=a.marker.line,o=UD(i.color,t.pts)||BD.defaultLine,l=UD(i.width,t.pts)||0;r.call(Ffe,t,a,n).style("stroke-width",l).call(BD.stroke,o)}});var Cw=R((Oke,ZD)=>{"use strict";var Li=aa(),Mw=_t(),xi=fr(),VD=xi.strTranslate,Ui=Sa(),Yo=Vt(),Sw=Go().extractOpts,v2=gi(),Rfe=GD(),Pfe=Tw().castOption,Nfe=ww(),YD=12,WD=5,Cc=2,Ife=10,q0=5;ZD.exports=function(r,t,a){var n=t._fullLayout;a||(a=n.legend);var i=a.itemsizing==="constant",o=a.itemwidth,l=(o+Nfe.itemGap*2)/2,s=VD(l,0),u=function(M,C,q,F){var P;if(M+1)P=M;else if(C&&C.width>0)P=C.width;else return 0;return i?F:Math.min(P,q)};r.each(function(M){var C=Li.select(this),q=xi.ensureSingle(C,"g","layers");q.style("opacity",M[0].trace.opacity);var F=a.indentation,P=a.valign,I=M[0].lineHeight,H=M[0].height;if(P==="middle"&&F===0||!I||!H)q.attr("transform",null);else{var V={top:1,bottom:-1}[P],j=V*(.5*(I-H+3))||0,W=a.indentation;q.attr("transform",VD(W,j))}var z=q.selectAll("g.legendfill").data([M]);z.enter().append("g").classed("legendfill",!0);var O=q.selectAll("g.legendlines").data([M]);O.enter().append("g").classed("legendlines",!0);var G=q.selectAll("g.legendsymbols").data([M]);G.enter().append("g").classed("legendsymbols",!0),G.selectAll("g.legendpoints").data([M]).enter().append("g").classed("legendpoints",!0)}).each(S).each(h).each(p).each(d).each(y).each(x).each(w).each(f).each(c).each(b).each(_);function f(M){var C=jD(M),q=C.showFill,F=C.showLine,P=C.showGradientLine,I=C.showGradientFill,H=C.anyFill,V=C.anyLine,j=M[0],W=j.trace,z,O,G=Sw(W),Z=G.colorscale,Q=G.reversescale,ie=function(ke){if(ke.size())if(q)Ui.fillGroupStyle(ke,t,!0);else{var ve="legendfill-"+W.uid;Ui.gradient(ke,t,ve,kw(Q),Z,"fill")}},be=function(ke){if(ke.size()){var ve="legendline-"+W.uid;Ui.lineGroupStyle(ke),Ui.gradient(ke,t,ve,kw(Q),Z,"stroke")}},ne=v2.hasMarkers(W)||!H?"M5,0":V?"M5,-2":"M5,-3",de=Li.select(this),K=de.select(".legendfill").selectAll("path").data(q||I?[M]:[]);if(K.enter().append("path").classed("js-fill",!0),K.exit().remove(),K.attr("d",ne+"h"+o+"v6h-"+o+"z").call(ie),F||P){var me=u(void 0,W.line,Ife,WD);O=xi.minExtend(W,{line:{width:me}}),z=[xi.minExtend(j,{trace:O})]}var fe=de.select(".legendlines").selectAll("path").data(F||P?[z]:[]);fe.enter().append("path").classed("js-line",!0),fe.exit().remove(),fe.attr("d",ne+(P?"l"+o+",0.0001":"h"+o)).call(F?Ui.lineGroupStyle:be)}function c(M){var C=jD(M),q=C.anyFill,F=C.anyLine,P=C.showLine,I=C.showMarker,H=M[0],V=H.trace,j=!I&&!F&&!q&&v2.hasText(V),W,z;function O(K,me,fe,ke){var ve=xi.nestedProperty(V,K).get(),Ae=xi.isArrayOrTypedArray(ve)&&me?me(ve):ve;if(i&&Ae&&ke!==void 0&&(Ae=ke),fe){if(Ae<fe[0])return fe[0];if(Ae>fe[1])return fe[1]}return Ae}function G(K){return H._distinct&&H.index&&K[H.index]?K[H.index]:K[0]}if(I||j||P){var Z={},Q={};if(I){Z.mc=O("marker.color",G),Z.mx=O("marker.symbol",G),Z.mo=O("marker.opacity",xi.mean,[.2,1]),Z.mlc=O("marker.line.color",G),Z.mlw=O("marker.line.width",xi.mean,[0,5],Cc),Q.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ie=O("marker.size",xi.mean,[2,16],YD);Z.ms=ie,Q.marker.size=ie}P&&(Q.line={width:O("line.width",G,[0,10],WD)}),j&&(Z.tx="Aa",Z.tp=O("textposition",G),Z.ts=10,Z.tc=O("textfont.color",G),Z.tf=O("textfont.family",G),Z.tw=O("textfont.weight",G),Z.ty=O("textfont.style",G),Z.tv=O("textfont.variant",G),Z.tC=O("textfont.textcase",G),Z.tE=O("textfont.lineposition",G),Z.tS=O("textfont.shadow",G)),W=[xi.minExtend(H,Z)],z=xi.minExtend(V,Q),z.selectedpoints=null,z.texttemplate=null}var be=Li.select(this).select("g.legendpoints"),ne=be.selectAll("path.scatterpts").data(I?W:[]);ne.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",s),ne.exit().remove(),ne.call(Ui.pointStyle,z,t),I&&(W[0].mrc=3);var de=be.selectAll("g.pointtext").data(j?W:[]);de.enter().append("g").classed("pointtext",!0).append("text").attr("transform",s),de.exit().remove(),de.selectAll("text").call(Ui.textPointStyle,z,t)}function h(M){var C=M[0].trace,q=C.type==="waterfall";if(M[0]._distinct&&q){var F=M[0].trace[M[0].dir].marker;return M[0].mc=F.color,M[0].mlw=F.line.width,M[0].mlc=F.line.color,g(M,this,"waterfall")}var P=[];C.visible&&q&&(P=M[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var I=Li.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(P);I.enter().append("path").classed("legendwaterfall",!0).attr("transform",s).style("stroke-miterlimit",1),I.exit().remove(),I.each(function(H){var V=Li.select(this),j=C[H[0]].marker,W=u(void 0,j.line,q0,Cc);V.attr("d",H[1]).style("stroke-width",W+"px").call(Yo.fill,j.color),W&&V.call(Yo.stroke,j.line.color)})}function d(M){g(M,this)}function p(M){g(M,this,"funnel")}function g(M,C,q){var F=M[0].trace,P=F.marker||{},I=P.line||{},H=P.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",V=q?F.visible&&F.type===q:Mw.traceIs(F,"bar"),j=Li.select(C).select("g.legendpoints").selectAll("path.legend"+q).data(V?[M]:[]);j.enter().append("path").classed("legend"+q,!0).attr("d",H).attr("transform",s),j.exit().remove(),j.each(function(W){var z=Li.select(this),O=W[0],G=u(O.mlw,P.line,q0,Cc);z.style("stroke-width",G+"px");var Z=O.mcc;if(!a._inHover&&"mc"in O){var Q=Sw(P),ie=Q.mid;ie===void 0&&(ie=(Q.max+Q.min)/2),Z=Ui.tryColorscale(P,"")(ie)}var be=Z||O.mc||P.color,ne=P.pattern,de=ne&&Ui.getPatternAttr(ne.shape,0,"");if(de){var K=Ui.getPatternAttr(ne.bgcolor,0,null),me=Ui.getPatternAttr(ne.fgcolor,0,null),fe=ne.fgopacity,ke=XD(ne.size,8,10),ve=XD(ne.solidity,.5,1),Ae="legend-"+F.uid;z.call(Ui.pattern,"legend",t,Ae,de,ke,ve,Z,ne.fillmode,K,me,fe)}else z.call(Yo.fill,be);G&&Yo.stroke(z,O.mlc||I.color)})}function y(M){var C=M[0].trace,q=Li.select(this).select("g.legendpoints").selectAll("path.legendbox").data(C.visible&&Mw.traceIs(C,"box-violin")?[M]:[]);q.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",s),q.exit().remove(),q.each(function(){var F=Li.select(this);if((C.boxpoints==="all"||C.points==="all")&&Yo.opacity(C.fillcolor)===0&&Yo.opacity((C.line||{}).color)===0){var P=xi.minExtend(C,{marker:{size:i?YD:xi.constrain(C.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});q.call(Ui.pointStyle,P,t)}else{var I=u(void 0,C.line,q0,Cc);F.style("stroke-width",I+"px").call(Yo.fill,C.fillcolor),I&&Yo.stroke(F,C.line.color)}})}function b(M){var C=M[0].trace,q=Li.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(C.visible&&C.type==="candlestick"?[M,M]:[]);q.enter().append("path").classed("legendcandle",!0).attr("d",function(F,P){return P?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",s).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(F,P){var I=Li.select(this),H=C[P?"increasing":"decreasing"],V=u(void 0,H.line,q0,Cc);I.style("stroke-width",V+"px").call(Yo.fill,H.fillcolor),V&&Yo.stroke(I,H.line.color)})}function _(M){var C=M[0].trace,q=Li.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(C.visible&&C.type==="ohlc"?[M,M]:[]);q.enter().append("path").classed("legendohlc",!0).attr("d",function(F,P){return P?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",s).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(F,P){var I=Li.select(this),H=C[P?"increasing":"decreasing"],V=u(void 0,H.line,q0,Cc);I.style("fill","none").call(Ui.dashLine,H.line.dash,V),V&&Yo.stroke(I,H.line.color)})}function w(M){T(M,this,"pie")}function x(M){T(M,this,"funnelarea")}function T(M,C,q){var F=M[0],P=F.trace,I=q?P.visible&&P.type===q:Mw.traceIs(P,q),H=Li.select(C).select("g.legendpoints").selectAll("path.legend"+q).data(I?[M]:[]);if(H.enter().append("path").classed("legend"+q,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",s),H.exit().remove(),H.size()){var V=P.marker||{},j=u(Pfe(V.line.width,F.pts),V.line,q0,Cc),W="pieLike",z=xi.minExtend(P,{marker:{line:{width:j}}},W),O=xi.minExtend(F,{trace:z},W);Rfe(H,O,z,t)}}function S(M){var C=M[0].trace,q,F=[];if(C.visible)switch(C.type){case"histogram2d":case"heatmap":F=[["M-15,-2V4H15V-2Z"]],q=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":F=[["M-6,-6V6H6V-6Z"]],q=!0;break;case"densitymapbox":case"densitymap":F=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],q="radial";break;case"cone":F=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],q=!1;break;case"streamtube":F=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],q=!1;break;case"surface":F=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],q=!0;break;case"mesh3d":F=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],q=!1;break;case"volume":F=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],q=!0;break;case"isosurface":F=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],q=!1;break}var P=Li.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(F);P.enter().append("path").classed("legend3dandfriends",!0).attr("transform",s).style("stroke-miterlimit",1),P.exit().remove(),P.each(function(I,H){var V=Li.select(this),j=Sw(C),W=j.colorscale,z=j.reversescale,O=function(ie){if(ie.size()){var be="legendfill-"+C.uid;Ui.gradient(ie,t,be,kw(z,q==="radial"),W,"fill")}},G;if(W){if(!q){var Q=W.length;G=H===0?W[z?Q-1:0][1]:H===1?W[z?0:Q-1][1]:W[Math.floor((Q-1)/2)][1]}}else{var Z=C.vertexcolor||C.facecolor||C.color;G=xi.isArrayOrTypedArray(Z)?Z[H]||Z[0]:Z}V.attr("d",I[0]),G?V.call(Yo.fill,G):V.call(O)})}};function kw(e,r){var t=r?"radial":"horizontal";return t+(e?"":"reversed")}function jD(e){var r=e[0].trace,t=r.contours,a=v2.hasLines(r),n=v2.hasMarkers(r),i=r.visible&&r.fill&&r.fill!=="none",o=!1,l=!1;if(t){var s=t.coloring;s==="lines"?o=!0:a=s==="none"||s==="heatmap"||t.showlines,t.type==="constraint"?i=t._operation!=="=":(s==="fill"||s==="heatmap")&&(l=!0)}return{showMarker:n,showLine:a,showFill:i,showGradientLine:o,showGradientFill:l,anyLine:a||o,anyFill:i||l}}function XD(e,r,t){return e&&xi.isArrayOrTypedArray(e)?r:e>t?t:e}});var Dw=R((zke,iF)=>{"use strict";var uo=aa(),An=fr(),Lw=Wn(),R0=_t(),JD=u1(),Ew=Al(),Tn=Sa(),d2=Vt(),Ec=Ci(),$D=DD(),Nn=ww(),qw=ki(),aF=qw.LINE_SPACING,F0=qw.FROM_TL,KD=qw.FROM_BR,QD=ND(),Ofe=Cw(),eF=f2(),D0=1,zfe=/^legend[0-9]*$/;iF.exports=function(r,t){if(t)rF(r,t);else{var a=r._fullLayout,n=a._legends,i=a._infolayer.selectAll('[class^="legend"]');i.each(function(){var u=uo.select(this),f=u.attr("class"),c=f.split(" ")[0];c.match(zfe)&&n.indexOf(c)===-1&&u.remove()});for(var o=0;o<n.length;o++){var l=n[o],s=r._fullLayout[l];rF(r,s)}}};function Bfe(e,r,t){if(!(r.title.side!=="top center"&&r.title.side!=="top right")){var a=r.title.font,n=a.size*aF,i=0,o=e.node(),l=Tn.bBox(o).width;r.title.side==="top center"?i=.5*(r._width-2*t-2*Nn.titlePad-l):r.title.side==="top right"&&(i=r._width-2*t-2*Nn.titlePad-l),Ec.positionText(e,t+Nn.titlePad+i,t+n)}}function rF(e,r){var t=r||{},a=e._fullLayout,n=g2(t),i,o,l=t._inHover;if(l?(o=t.layer,i="hover"):(o=a._infolayer,i=n),!!o){i+=a._uid,e._legendMouseDownTime||(e._legendMouseDownTime=0);var s;if(l){if(!t.entries)return;s=QD(t.entries,t)}else{for(var u=(e.calcdata||[]).slice(),f=a.shapes,c=0;c<f.length;c++){var h=f[c];if(h.showlegend){var d={_isShape:!0,_fullInput:h,index:h._index,name:h.name||h.label.text||"shape "+h._index,legend:h.legend,legendgroup:h.legendgroup,legendgrouptitle:h.legendgrouptitle,legendrank:h.legendrank,legendwidth:h.legendwidth,showlegend:h.showlegend,visible:h.visible,opacity:h.opacity,mode:h.type==="line"?"lines":"markers",line:h.line,marker:{line:h.line,color:h.fillcolor,size:12,symbol:h.type==="rect"?"square":h.type==="circle"?"circle":"hexagon2"}};u.push([{trace:d}])}}s=a.showlegend&&QD(u,t,a._legends.length>1)}var p=a.hiddenlabels||[];if(!l&&(!a.showlegend||!s.length))return o.selectAll("."+n).remove(),a._topdefs.select("#"+i).remove(),Lw.autoMargin(e,n);var g=An.ensureSingle(o,"g",n,function(C){l||C.attr("pointer-events","all")}),y=An.ensureSingleById(a._topdefs,"clipPath",i,function(C){C.append("rect")}),b=An.ensureSingle(g,"rect","bg",function(C){C.attr("shape-rendering","crispEdges")});b.call(d2.stroke,t.bordercolor).call(d2.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var _=An.ensureSingle(g,"g","scrollbox"),w=t.title;t._titleWidth=0,t._titleHeight=0;var x;w.text?(x=An.ensureSingle(_,"text",n+"titletext"),x.attr("text-anchor","start").call(Tn.font,w.font).text(w.text),p2(x,_,e,t,D0)):_.selectAll("."+n+"titletext").remove();var T=An.ensureSingle(g,"rect","scrollbar",function(C){C.attr(Nn.scrollBarEnterAttrs).call(d2.fill,Nn.scrollBarColor)}),S=_.selectAll("g.groups").data(s);S.enter().append("g").attr("class","groups"),S.exit().remove();var M=S.selectAll("g.traces").data(An.identity);M.enter().append("g").attr("class","traces"),M.exit().remove(),M.style("opacity",function(C){var q=C[0].trace;return R0.traceIs(q,"pie-like")?p.indexOf(C[0].label)!==-1?.5:1:q.visible==="legendonly"?.5:1}).each(function(){uo.select(this).call(Ufe,e,t)}).call(Ofe,e,t).each(function(){l||uo.select(this).call(Hfe,e,n)}),An.syncOrAsync([Lw.previousPromises,function(){return Yfe(e,S,M,t)},function(){var C=a._size,q=t.borderwidth,F=t.xref==="paper",P=t.yref==="paper";if(w.text&&Bfe(x,t,q),!l){var I,H;F?I=C.l+C.w*t.x-F0[y2(t)]*t._width:I=a.width*t.x-F0[y2(t)]*t._width,P?H=C.t+C.h*(1-t.y)-F0[m2(t)]*t._effHeight:H=a.height*(1-t.y)-F0[m2(t)]*t._effHeight;var V=Wfe(e,n,I,H);if(V)return;if(a.margin.autoexpand){var j=I,W=H;I=F?An.constrain(I,0,a.width-t._width):j,H=P?An.constrain(H,0,a.height-t._effHeight):W,I!==j&&An.log("Constrain "+n+".x to make legend fit inside graph"),H!==W&&An.log("Constrain "+n+".y to make legend fit inside graph")}Tn.setTranslate(g,I,H)}if(T.on(".drag",null),g.on("wheel",null),l||t._height<=t._maxHeight||e._context.staticPlot){var z=t._effHeight;l&&(z=t._height),b.attr({width:t._width-q,height:z-q,x:q/2,y:q/2}),Tn.setTranslate(_,0,0),y.select("rect").attr({width:t._width-2*q,height:z-2*q,x:q,y:q}),Tn.setClipUrl(_,i,e),Tn.setRect(T,0,0,0,0),delete t._scrollY}else{var O=Math.max(Nn.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),G=t._effHeight-O-2*Nn.scrollBarMargin,Z=t._height-t._effHeight,Q=G/Z,ie=Math.min(t._scrollY||0,Z);b.attr({width:t._width-2*q+Nn.scrollBarWidth+Nn.scrollBarMargin,height:t._effHeight-q,x:q/2,y:q/2}),y.select("rect").attr({width:t._width-2*q+Nn.scrollBarWidth+Nn.scrollBarMargin,height:t._effHeight-2*q,x:q,y:q+ie}),Tn.setClipUrl(_,i,e),ve(ie,O,Q),g.on("wheel",function(){ie=An.constrain(t._scrollY+uo.event.deltaY/G*Z,0,Z),ve(ie,O,Q),ie!==0&&ie!==Z&&uo.event.preventDefault()});var be,ne,de,K=function(Se,qe,De){var tr=(De-qe)/Q+Se;return An.constrain(tr,0,Z)},me=function(Se,qe,De){var tr=(qe-De)/Q+Se;return An.constrain(tr,0,Z)},fe=uo.behavior.drag().on("dragstart",function(){var Se=uo.event.sourceEvent;Se.type==="touchstart"?be=Se.changedTouches[0].clientY:be=Se.clientY,de=ie}).on("drag",function(){var Se=uo.event.sourceEvent;Se.buttons===2||Se.ctrlKey||(Se.type==="touchmove"?ne=Se.changedTouches[0].clientY:ne=Se.clientY,ie=K(de,be,ne),ve(ie,O,Q))});T.call(fe);var ke=uo.behavior.drag().on("dragstart",function(){var Se=uo.event.sourceEvent;Se.type==="touchstart"&&(be=Se.changedTouches[0].clientY,de=ie)}).on("drag",function(){var Se=uo.event.sourceEvent;Se.type==="touchmove"&&(ne=Se.changedTouches[0].clientY,ie=me(de,be,ne),ve(ie,O,Q))});_.call(ke)}function ve(Se,qe,De){t._scrollY=e._fullLayout[n]._scrollY=Se,Tn.setTranslate(_,0,-Se),Tn.setRect(T,t._width,Nn.scrollBarMargin+Se*De,Nn.scrollBarWidth,qe),y.select("rect").attr("y",q+Se)}if(e._context.edits.legendPosition){var Ae,Y,ae,X;g.classed("cursor-move",!0),Ew.init({element:g.node(),gd:e,prepFn:function(Se){if(Se.target!==T.node()){var qe=Tn.getTranslate(g);ae=qe.x,X=qe.y}},moveFn:function(Se,qe){if(ae!==void 0&&X!==void 0){var De=ae+Se,tr=X+qe;Tn.setTranslate(g,De,tr),Ae=Ew.align(De,t._width,C.l,C.l+C.w,t.xanchor),Y=Ew.align(tr+t._height,-t._height,C.t+C.h,C.t,t.yanchor)}},doneFn:function(){if(Ae!==void 0&&Y!==void 0){var Se={};Se[n+".x"]=Ae,Se[n+".y"]=Y,R0.call("_guiRelayout",e,Se)}},clickFn:function(Se,qe){var De=o.selectAll("g.traces").filter(function(){var tr=this.getBoundingClientRect();return qe.clientX>=tr.left&&qe.clientX<=tr.right&&qe.clientY>=tr.top&&qe.clientY<=tr.bottom});De.size()>0&&nF(e,g,De,Se,qe)}})}}],e)}}function h2(e,r,t){var a=e[0],n=a.width,i=r.entrywidthmode,o=a.trace.legendwidth||r.entrywidth;return i==="fraction"?r._maxWidth*o:t+(o||n)}function nF(e,r,t,a,n){var i=t.data()[0][0].trace,o={event:n,node:t.node(),curveNumber:i.index,expandedIndex:i.index,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};i._group&&(o.group=i._group),R0.traceIs(i,"pie-like")&&(o.label=t.datum()[0].label);var l=JD.triggerHandler(e,"plotly_legendclick",o);if(a===1){if(l===!1)return;r._clickTimeout=setTimeout(function(){e._fullLayout&&$D(t,e,a)},e._context.doubleClickDelay)}else if(a===2){r._clickTimeout&&clearTimeout(r._clickTimeout),e._legendMouseDownTime=0;var s=JD.triggerHandler(e,"plotly_legenddoubleclick",o);s!==!1&&l!==!1&&$D(t,e,a)}}function Ufe(e,r,t){var a=g2(t),n=e.data()[0][0],i=n.trace,o=R0.traceIs(i,"pie-like"),l=!t._inHover&&r._context.edits.legendText&&!o,s=t._maxNameLength,u,f;n.groupTitle?(u=n.groupTitle.text,f=n.groupTitle.font):(f=t.font,t.entries?u=n.text:(u=o?n.label:i.name,i._meta&&(u=An.templateString(u,i._meta))));var c=An.ensureSingle(e,"text",a+"text");c.attr("text-anchor","start").call(Tn.font,f).text(l?tF(u,s):u);var h=t.indentation+t.itemwidth+Nn.itemGap*2;Ec.positionText(c,h,0),l?c.call(Ec.makeEditable,{gd:r,text:u}).call(p2,e,r,t).on("edit",function(d){this.text(tF(d,s)).call(p2,e,r,t);var p=n.trace._fullInput||{},g={};return g.name=d,p._isShape?R0.call("_guiRelayout",r,"shapes["+i.index+"].name",g.name):R0.call("_guiRestyle",r,g,i.index)}):p2(c,e,r,t)}function tF(e,r){var t=Math.max(4,r);if(e&&e.trim().length>=t/2)return e;e=e||"";for(var a=t-e.length;a>0;a--)e+=" ";return e}function Hfe(e,r,t){var a=r._context.doubleClickDelay,n,i=1,o=An.ensureSingle(e,"rect",t+"toggle",function(l){r._context.staticPlot||l.style("cursor","pointer").attr("pointer-events","all"),l.call(d2.fill,"rgba(0,0,0,0)")});r._context.staticPlot||(o.on("mousedown",function(){n=new Date().getTime(),n-r._legendMouseDownTime<a?i+=1:(i=1,r._legendMouseDownTime=n)}),o.on("mouseup",function(){if(!(r._dragged||r._editing)){var l=r._fullLayout[t];new Date().getTime()-r._legendMouseDownTime>a&&(i=Math.max(i-1,1)),nF(r,l,e,i,uo.event)}}))}function p2(e,r,t,a,n){a._inHover&&e.attr("data-notex",!0),Ec.convertToTspans(e,t,function(){Gfe(r,t,a,n)})}function Gfe(e,r,t,a){var n=e.data()[0][0];if(!t._inHover&&n&&!n.trace.showlegend){e.remove();return}var i=e.select("g[class*=math-group]"),o=i.node(),l=g2(t);t||(t=r._fullLayout[l]);var s=t.borderwidth,u;a===D0?u=t.title.font:n.groupTitle?u=n.groupTitle.font:u=t.font;var f=u.size*aF,c,h;if(o){var d=Tn.bBox(o);c=d.height,h=d.width,a===D0?Tn.setTranslate(i,s,s+c*.75):Tn.setTranslate(i,0,c*.25)}else{var p="."+l+(a===D0?"title":"")+"text",g=e.select(p),y=Ec.lineCount(g),b=g.node();if(c=f*y,h=b?Tn.bBox(b).width:0,a===D0)t.title.side==="left"&&(h+=Nn.itemGap*2),Ec.positionText(g,s+Nn.titlePad,s+f);else{var _=Nn.itemGap*2+t.indentation+t.itemwidth;n.groupTitle&&(_=Nn.itemGap,h-=t.indentation+t.itemwidth),Ec.positionText(g,_,-f*((y-1)/2-.3))}}a===D0?(t._titleWidth=h,t._titleHeight=c):(n.lineHeight=f,n.height=Math.max(c,16)+3,n.width=h)}function Vfe(e){var r=0,t=0,a=e.title.side;return a&&(a.indexOf("left")!==-1&&(r=e._titleWidth),a.indexOf("top")!==-1&&(t=e._titleHeight)),[r,t]}function Yfe(e,r,t,a){var n=e._fullLayout,i=g2(a);a||(a=n[i]);var o=n._size,l=eF.isVertical(a),s=eF.isGrouped(a),u=a.entrywidthmode==="fraction",f=a.borderwidth,c=2*f,h=Nn.itemGap,d=a.indentation+a.itemwidth+h*2,p=2*(f+h),g=m2(a),y=a.y<0||a.y===0&&g==="top",b=a.y>1||a.y===1&&g==="bottom",_=a.tracegroupgap,w={};a._maxHeight=Math.max(y||b?n.height/2:o.h,30);var x=0;a._width=0,a._height=0;var T=Vfe(a);if(l)t.each(function(de){var K=de[0].height;Tn.setTranslate(this,f+T[0],f+T[1]+a._height+K/2+h),a._height+=K,a._width=Math.max(a._width,de[0].width)}),x=d+a._width,a._width+=h+d+c,a._height+=p,s&&(r.each(function(de,K){Tn.setTranslate(this,0,K*a.tracegroupgap)}),a._height+=(a._lgroupsLength-1)*a.tracegroupgap);else{var S=y2(a),M=a.x<0||a.x===0&&S==="right",C=a.x>1||a.x===1&&S==="left",q=b||y,F=n.width/2;a._maxWidth=Math.max(M?q&&S==="left"?o.l+o.w:F:C?q&&S==="right"?o.r+o.w:F:o.w,2*d);var P=0,I=0;t.each(function(de){var K=h2(de,a,d);P=Math.max(P,K),I+=K}),x=null;var H=0;if(s){var V=0,j=0,W=0;r.each(function(){var de=0,K=0;uo.select(this).selectAll("g.traces").each(function(fe){var ke=h2(fe,a,d),ve=fe[0].height;Tn.setTranslate(this,T[0],T[1]+f+h+ve/2+K),K+=ve,de=Math.max(de,ke),w[fe[0].trace.legendgroup]=de});var me=de+h;j>0&&me+f+j>a._maxWidth?(H=Math.max(H,j),j=0,W+=V+_,V=K):V=Math.max(V,K),Tn.setTranslate(this,j,W),j+=me}),a._width=Math.max(H,j)+f,a._height=W+V+p}else{var z=t.size(),O=I+c+(z-1)*h<a._maxWidth,G=0,Z=0,Q=0,ie=0;t.each(function(de){var K=de[0].height,me=h2(de,a,d,s),fe=O?me:P;u||(fe+=h),fe+f+Z-h>=a._maxWidth&&(H=Math.max(H,ie),Z=0,Q+=G,a._height+=G,G=0),Tn.setTranslate(this,T[0]+f+Z,T[1]+f+Q+K/2+h),ie=Z+me+h,Z+=fe,G=Math.max(G,K)}),O?(a._width=Z+c,a._height=G+p):(a._width=Math.max(H,ie)+c,a._height+=G+p)}}a._width=Math.ceil(Math.max(a._width+T[0],a._titleWidth+2*(f+Nn.titlePad))),a._height=Math.ceil(Math.max(a._height+T[1],a._titleHeight+2*(f+Nn.itemGap))),a._effHeight=Math.min(a._height,a._maxHeight);var be=e._context.edits,ne=be.legendText||be.legendPosition;t.each(function(de){var K=uo.select(this).select("."+i+"toggle"),me=de[0].height,fe=de[0].trace.legendgroup,ke=h2(de,a,d);s&&fe!==""&&(ke=w[fe]);var ve=ne?d:x||ke;!l&&!u&&(ve+=h/2),Tn.setRect(K,0,-me/2,ve,me)})}function Wfe(e,r,t,a){var n=e._fullLayout,i=n[r],o=y2(i),l=m2(i),s=i.xref==="paper",u=i.yref==="paper";e._fullLayout._reservedMargin[r]={};var f=i.y<.5?"b":"t",c=i.x<.5?"l":"r",h={r:n.width-t,l:t+i._width,b:n.height-a,t:a+i._effHeight};if(s&&u)return Lw.autoMargin(e,r,{x:i.x,y:i.y,l:i._width*F0[o],r:i._width*KD[o],b:i._effHeight*KD[l],t:i._effHeight*F0[l]});s?e._fullLayout._reservedMargin[r][f]=h[f]:u||i.orientation==="v"?e._fullLayout._reservedMargin[r][c]=h[c]:e._fullLayout._reservedMargin[r][f]=h[f]}function y2(e){return An.isRightAnchor(e)?"right":An.isCenterAnchor(e)?"center":"left"}function m2(e){return An.isBottomAnchor(e)?"bottom":An.isMiddleAnchor(e)?"middle":"top"}function g2(e){return e._id||"legend"}});var Nw=R(Pw=>{"use strict";var Lc=aa(),$s=Zt(),oF=zo(),on=fr(),jfe=on.pushUnique,Fw=on.strTranslate,Xfe=on.strRotate,Zfe=u1(),Wo=Ci(),Jfe=CD(),us=Sa(),Xn=Vt(),b2=Al(),fs=qa(),$fe=ui().zindexSeparator,N0=_t(),Tl=ns(),qc=Qd(),Kfe=bw(),Qfe=Dw(),dF=qc.YANGLE,Rw=Math.PI*dF/180,ece=1/Math.sin(Rw),rce=Math.cos(Rw),tce=Math.sin(Rw),Ya=qc.HOVERARROWSIZE,ea=qc.HOVERTEXTPAD,lF={box:!0,ohlc:!0,violin:!0,candlestick:!0},ace={scatter:!0,scattergl:!0,splom:!0};function sF(e,r){return e.distance-r.distance}Pw.hover=function(r,t,a,n){r=on.getGraphDiv(r);var i=t.target;on.throttle(r._fullLayout._uid+qc.HOVERID,qc.HOVERMINTIME,function(){nce(r,t,a,n,i)})};Pw.loneHover=function(r,t){var a=!0;Array.isArray(r)||(a=!1,r=[r]);var n=t.gd,i=bF(n),o=xF(n),l=r.map(function(y){var b=y._x0||y.x0||y.x||0,_=y._x1||y.x1||y.x||0,w=y._y0||y.y0||y.y||0,x=y._y1||y.y1||y.y||0,T=y.eventData;if(T){var S=Math.min(b,_),M=Math.max(b,_),C=Math.min(w,x),q=Math.max(w,x),F=y.trace;if(N0.traceIs(F,"gl3d")){var P=n._fullLayout[F.scene]._scene.container,I=P.offsetLeft,H=P.offsetTop;S+=I,M+=I,C+=H,q+=H}T.bbox={x0:S+o,x1:M+o,y0:C+i,y1:q+i},t.inOut_bbox&&t.inOut_bbox.push(T.bbox)}else T=!1;return{color:y.color||Xn.defaultLine,x0:y.x0||y.x||0,x1:y.x1||y.x||0,y0:y.y0||y.y||0,y1:y.y1||y.y||0,xLabel:y.xLabel,yLabel:y.yLabel,zLabel:y.zLabel,text:y.text,name:y.name,idealAlign:y.idealAlign,borderColor:y.borderColor,fontFamily:y.fontFamily,fontSize:y.fontSize,fontColor:y.fontColor,fontWeight:y.fontWeight,fontStyle:y.fontStyle,fontVariant:y.fontVariant,nameLength:y.nameLength,textAlign:y.textAlign,trace:y.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:y.hovertemplate||!1,hovertemplateLabels:y.hovertemplateLabels||!1,eventData:T}}),s=!1,u=yF(l,{gd:n,hovermode:"closest",rotateLabels:s,bgColor:t.bgColor||Xn.background,container:Lc.select(t.container),outerContainer:t.outerContainer||t.container}),f=u.hoverLabels,c=5,h=0,d=0;f.sort(function(y,b){return y.y0-b.y0}).each(function(y,b){var _=y.y0-y.by/2;_-c<h?y.offset=h-_+c:y.offset=0,h=_+y.by+y.offset,b===t.anchorIndex&&(d=y.offset)}).each(function(y){y.offset-=d});var p=n._fullLayout._invScaleX,g=n._fullLayout._invScaleY;return gF(f,s,p,g),a?f:f.node()};function nce(e,r,t,a,n){t||(t="xy"),typeof t=="string"&&(t=t.split($fe)[0]);var i=Array.isArray(t)?t:[t],o,l=e._fullLayout,s=l.hoversubplots,u=l._plots||[],f=u[t],c=l._has("cartesian"),h=r.hovermode||l.hovermode,d=(h||"").charAt(0)==="x",p=(h||"").charAt(0)==="y",g,y;if(c&&(d||p)&&s==="axis"){for(var b=i.length,_=0;_<b;_++)if(o=i[_],u[o]){g=fs.getFromId(e,o,"x"),y=fs.getFromId(e,o,"y");var w=(d?g:y)._subplotsWith;if(w&&w.length)for(var x=0;x<w.length;x++)jfe(i,w[x])}}if(f&&s!=="single"){var T=f.overlays.map(function(wt){return wt.id});i=i.concat(T)}for(var S=i.length,M=new Array(S),C=new Array(S),q=!1,F=0;F<S;F++)if(o=i[F],u[o])q=!0,M[F]=u[o].xaxis,C[F]=u[o].yaxis;else if(l[o]&&l[o]._subplot){var P=l[o]._subplot;M[F]=P.xaxis,C[F]=P.yaxis}else{on.warn("Unrecognized subplot: "+o);return}if(h&&!q&&(h="closest"),["x","y","closest","x unified","y unified"].indexOf(h)===-1||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return b2.unhoverRaw(e,r);var I=l.hoverdistance;I===-1&&(I=1/0);var H=l.spikedistance;H===-1&&(H=1/0);var V=[],j=[],W,z,O,G,Z,Q,ie,be,ne,de,K,me,fe,ke={hLinePoint:null,vLinePoint:null},ve=!1;if(Array.isArray(r))for(h="array",O=0;O<r.length;O++)Z=e.calcdata[r[O].curveNumber||0],Z&&(Q=Z[0].trace,Z[0].trace.hoverinfo!=="skip"&&(j.push(Z),Q.orientation==="h"&&(ve=!0)));else{var Ae=e.calcdata.slice();for(Ae.sort(function(wt,Ta){var ta=wt[0].trace.zorder||0,Ra=Ta[0].trace.zorder||0;return ta-Ra}),G=0;G<Ae.length;G++)Z=Ae[G],Q=Z[0].trace,Q.hoverinfo!=="skip"&&Tl.isTraceInSubplots(Q,i)&&(j.push(Z),Q.orientation==="h"&&(ve=!0));var Y=!n,ae,X;if(Y)"xpx"in r?ae=r.xpx:ae=M[0]._length/2,"ypx"in r?X=r.ypx:X=C[0]._length/2;else{if(Zfe.triggerHandler(e,"plotly_beforehover",r)===!1)return;var Se=n.getBoundingClientRect();ae=r.clientX-Se.left,X=r.clientY-Se.top,l._calcInverseTransform(e);var qe=on.apply3DTransform(l._invTransform)(ae,X);if(ae=qe[0],X=qe[1],ae<0||ae>M[0]._length||X<0||X>C[0]._length)return b2.unhoverRaw(e,r)}if(r.pointerX=ae+M[0]._offset,r.pointerY=X+C[0]._offset,"xval"in r?W=Tl.flat(i,r.xval):W=Tl.p2c(M,ae),"yval"in r?z=Tl.flat(i,r.yval):z=Tl.p2c(C,X),!$s(W[0])||!$s(z[0]))return on.warn("Fx.hover failed",r,e),b2.unhoverRaw(e,r)}var De=1/0;function tr(wt,Ta){for(G=0;G<j.length;G++)if(Z=j[G],!(!Z||!Z[0]||!Z[0].trace)&&(Q=Z[0].trace,!(Q.visible!==!0||Q._length===0)&&["carpet","contourcarpet"].indexOf(Q._module.name)===-1)){if(ne=h,Tl.isUnifiedHover(ne)&&(ne=ne.charAt(0)),Q.type==="splom"?(be=0,ie=i[be]):(ie=Tl.getSubplot(Q),be=i.indexOf(ie)),me={cd:Z,trace:Q,xa:M[be],ya:C[be],maxHoverDistance:I,maxSpikeDistance:H,index:!1,distance:Math.min(De,I),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:Xn.defaultLine,name:Q.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},l[ie]&&(me.subplot=l[ie]._subplot),l._splomScenes&&l._splomScenes[Q.uid]&&(me.scene=l._splomScenes[Q.uid]),ne==="array"){var ta=r[G];"pointNumber"in ta?(me.index=ta.pointNumber,ne="closest"):(ne="","xval"in ta&&(de=ta.xval,ne="x"),"yval"in ta&&(K=ta.yval,ne=ne?"closest":"y"))}else wt!==void 0&&Ta!==void 0?(de=wt,K=Ta):(de=W[be],K=z[be]);if(fe=V.length,I!==0)if(Q._module&&Q._module.hoverPoints){var Ra=Q._module.hoverPoints(me,de,K,ne,{finiteRange:!0,hoverLayer:l._hoverlayer,hoversubplots:s,gd:e});if(Ra)for(var ja,Ma=0;Ma<Ra.length;Ma++)ja=Ra[Ma],$s(ja.x0)&&$s(ja.y0)&&V.push(sce(ja,h))}else on.log("Unrecognized trace type in hover:",Q);if(h==="closest"&&V.length>fe&&(V.splice(0,fe),De=V[0].distance),c&&H!==0&&V.length===0){me.distance=H,me.index=!1;var Ea=Q._module.hoverPoints(me,de,K,"closest",{hoverLayer:l._hoverlayer});if(Ea&&(Ea=Ea.filter(function(wa){return wa.spikeDistance<=H})),Ea&&Ea.length){var Qa,nn=Ea.filter(function(wa){return wa.xa.showspikes&&wa.xa.spikesnap!=="hovered data"});if(nn.length){var ji=nn[0];$s(ji.x0)&&$s(ji.y0)&&(Qa=Ze(ji),(!ke.vLinePoint||ke.vLinePoint.spikeDistance>Qa.spikeDistance)&&(ke.vLinePoint=Qa))}var Xi=Ea.filter(function(wa){return wa.ya.showspikes&&wa.ya.spikesnap!=="hovered data"});if(Xi.length){var bn=Xi[0];$s(bn.x0)&&$s(bn.y0)&&(Qa=Ze(bn),(!ke.hLinePoint||ke.hLinePoint.spikeDistance>Qa.spikeDistance)&&(ke.hLinePoint=Qa))}}}}}tr();function $e(wt,Ta,ta){for(var Ra=null,ja=1/0,Ma,Ea=0;Ea<wt.length;Ea++)g&&g._id!==wt[Ea].xa._id||y&&y._id!==wt[Ea].ya._id||(Ma=wt[Ea].spikeDistance,ta&&Ea===0&&(Ma=-1/0),Ma<=ja&&Ma<=Ta&&(Ra=wt[Ea],ja=Ma));return Ra}function Ze(wt){return wt?{xa:wt.xa,ya:wt.ya,x:wt.xSpike!==void 0?wt.xSpike:(wt.x0+wt.x1)/2,y:wt.ySpike!==void 0?wt.ySpike:(wt.y0+wt.y1)/2,distance:wt.distance,spikeDistance:wt.spikeDistance,curveNumber:wt.trace.index,color:wt.color,pointNumber:wt.index}:null}var lr={fullLayout:l,container:l._hoverlayer,event:r},pr=e._spikepoints,ir={vLinePoint:ke.vLinePoint,hLinePoint:ke.hLinePoint};e._spikepoints=ir;var Xe=function(){var wt=V.filter(function(ta){return g&&g._id===ta.xa._id&&y&&y._id===ta.ya._id}),Ta=V.filter(function(ta){return!(g&&g._id===ta.xa._id&&y&&y._id===ta.ya._id)});wt.sort(sF),Ta.sort(sF),V=wt.concat(Ta),V=fce(V,h)};Xe();var Cr=h.charAt(0),br=(Cr==="x"||Cr==="y")&&V[0]&&ace[V[0].trace.type];if(c&&H!==0&&V.length!==0){var pe=V.filter(function(wt){return wt.ya.showspikes}),Ie=$e(pe,H,br);ke.hLinePoint=Ze(Ie);var ze=V.filter(function(wt){return wt.xa.showspikes}),et=$e(ze,H,br);ke.vLinePoint=Ze(et)}if(V.length===0){var zr=b2.unhoverRaw(e,r);return c&&(ke.hLinePoint!==null||ke.vLinePoint!==null)&&cF(pr)&&fF(e,ke,lr),zr}if(c&&cF(pr)&&fF(e,ke,lr),Tl.isXYhover(ne)&&V[0].length!==0&&V[0].trace.type!=="splom"){var Ve=V[0];lF[Ve.trace.type]?V=V.filter(function(wt){return wt.trace.index===Ve.trace.index}):V=[Ve];var He=V.length,dr=hF("x",Ve,l),Tr=hF("y",Ve,l);tr(dr,Tr);var mr=[],vr={},Er=0,Ir=function(wt){var Ta=lF[wt.trace.type]?pF(wt):wt.trace.index;if(!vr[Ta])Er++,vr[Ta]=Er,mr.push(wt);else{var ta=vr[Ta]-1,Ra=mr[ta];ta>0&&Math.abs(wt.distance)<Math.abs(Ra.distance)&&(mr[ta]=wt)}},Hr;for(Hr=0;Hr<He;Hr++)Ir(V[Hr]);for(Hr=V.length-1;Hr>He-1;Hr--)Ir(V[Hr]);V=mr,Xe()}var Je=e._hoverdata,se=[],we=bF(e),Ge=xF(e);for(O=0;O<V.length;O++){var Oe=V[O],Wr=Tl.makeEventData(Oe,Oe.trace,Oe.cd);if(Oe.hovertemplate!==!1){var tt=!1;Oe.cd[Oe.index]&&Oe.cd[Oe.index].ht&&(tt=Oe.cd[Oe.index].ht),Oe.hovertemplate=tt||Oe.trace.hovertemplate||!1}if(Oe.xa&&Oe.ya){var $r=Oe.x0+Oe.xa._offset,kt=Oe.x1+Oe.xa._offset,ra=Oe.y0+Oe.ya._offset,pa=Oe.y1+Oe.ya._offset,na=Math.min($r,kt),Ka=Math.max($r,kt),En=Math.min(ra,pa),oi=Math.max(ra,pa);Wr.bbox={x0:na+Ge,x1:Ka+Ge,y0:En+we,y1:oi+we}}Oe.eventData=[Wr],se.push(Wr)}e._hoverdata=se;var Ln=h==="y"&&(j.length>1||V.length>1)||h==="closest"&&ve&&V.length>1,Wi=Xn.combine(l.plot_bgcolor||Xn.background,l.paper_bgcolor),zn=yF(V,{gd:e,hovermode:h,rotateLabels:Ln,bgColor:Wi,container:l._hoverlayer,outerContainer:l._paper.node(),commonLabelOpts:l.hoverlabel,hoverdistance:l.hoverdistance}),qn=zn.hoverLabels;if(Tl.isUnifiedHover(h)||(oce(qn,Ln,l,zn.commonLabelBoundingBox),gF(qn,Ln,l._invScaleX,l._invScaleY)),n&&n.tagName){var yi=N0.getComponentMethod("annotations","hasClickToShow")(e,se);Jfe(Lc.select(n),yi?"pointer":"")}!n||a||!uce(e,r,Je)||(Je&&e.emit("plotly_unhover",{event:r,points:Je}),e.emit("plotly_hover",{event:r,points:e._hoverdata,xaxes:M,yaxes:C,xvals:W,yvals:z}))}function pF(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa?e.xa._id:"",e.ya?e.ya._id:""].join(",")}var ice=/<extra>([\s\S]*)<\/extra>/;function yF(e,r){var t=r.gd,a=t._fullLayout,n=r.hovermode,i=r.rotateLabels,o=r.bgColor,l=r.container,s=r.outerContainer,u=r.commonLabelOpts||{};if(e.length===0)return[[]];var f=r.fontFamily||qc.HOVERFONT,c=r.fontSize||qc.HOVERFONTSIZE,h=r.fontWeight||a.font.weight,d=r.fontStyle||a.font.style,p=r.fontVariant||a.font.variant,g=r.fontTextcase||a.font.textcase,y=r.fontLineposition||a.font.lineposition,b=r.fontShadow||a.font.shadow,_=e[0],w=_.xa,x=_.ya,T=n.charAt(0),S=T+"Label",M=_[S];if(M===void 0&&w.type==="multicategory")for(var C=0;C<e.length&&(M=e[C][S],M===void 0);C++);var q=P0(t,s),F=q.top,P=q.width,I=q.height,H=M!==void 0&&_.distance<=r.hoverdistance&&(n==="x"||n==="y");if(H){var V=!0,j,W;for(j=0;j<e.length;j++)if(V&&e[j].zLabel===void 0&&(V=!1),W=e[j].hoverinfo||e[j].trace.hoverinfo,W){var z=Array.isArray(W)?W:W.split("+");if(z.indexOf("all")===-1&&z.indexOf(n)===-1){H=!1;break}}V&&(H=!1)}var O=l.selectAll("g.axistext").data(H?[0]:[]);O.enter().append("g").classed("axistext",!0),O.exit().remove();var G={minX:0,maxX:0,minY:0,maxY:0};if(O.each(function(){var ze=Lc.select(this),et=on.ensureSingle(ze,"path","",function(na){na.style({"stroke-width":"1px"})}),zr=on.ensureSingle(ze,"text","",function(na){na.attr("data-notex",1)}),Ve=u.bgcolor||Xn.defaultLine,He=u.bordercolor||Xn.contrast(Ve),dr=Xn.contrast(Ve),Tr=u.font,mr={weight:Tr.weight||h,style:Tr.style||d,variant:Tr.variant||p,textcase:Tr.textcase||g,lineposition:Tr.lineposition||y,shadow:Tr.shadow||b,family:Tr.family||f,size:Tr.size||c,color:Tr.color||dr};et.style({fill:Ve,stroke:He}),zr.text(M).call(us.font,mr).call(Wo.positionText,0,0).call(Wo.convertToTspans,t),ze.attr("transform","");var vr=P0(t,zr.node()),Er,Ir;if(n==="x"){var Hr=w.side==="top"?"-":"";zr.attr("text-anchor","middle").call(Wo.positionText,0,w.side==="top"?F-vr.bottom-Ya-ea:F-vr.top+Ya+ea),Er=w._offset+(_.x0+_.x1)/2,Ir=x._offset+(w.side==="top"?0:x._length);var Je=vr.width/2+ea,se=Er;Er<Je?se=Je:Er>a.width-Je&&(se=a.width-Je),et.attr("d","M"+(Er-se)+",0L"+(Er-se+Ya)+","+Hr+Ya+"H"+Je+"v"+Hr+(ea*2+vr.height)+"H"+-Je+"V"+Hr+Ya+"H"+(Er-se-Ya)+"Z"),Er=se,G.minX=Er-Je,G.maxX=Er+Je,w.side==="top"?(G.minY=Ir-(ea*2+vr.height),G.maxY=Ir-ea):(G.minY=Ir+ea,G.maxY=Ir+(ea*2+vr.height))}else{var we,Ge,Oe;x.side==="right"?(we="start",Ge=1,Oe="",Er=w._offset+w._length):(we="end",Ge=-1,Oe="-",Er=w._offset),Ir=x._offset+(_.y0+_.y1)/2,zr.attr("text-anchor",we),et.attr("d","M0,0L"+Oe+Ya+","+Ya+"V"+(ea+vr.height/2)+"h"+Oe+(ea*2+vr.width)+"V-"+(ea+vr.height/2)+"H"+Oe+Ya+"V-"+Ya+"Z"),G.minY=Ir-(ea+vr.height/2),G.maxY=Ir+(ea+vr.height/2),x.side==="right"?(G.minX=Er+Ya,G.maxX=Er+Ya+(ea*2+vr.width)):(G.minX=Er-Ya-(ea*2+vr.width),G.maxX=Er-Ya);var Wr=vr.height/2,tt=F-vr.top-Wr,$r="clip"+a._uid+"commonlabel"+x._id,kt;if(Er<vr.width+2*ea+Ya){kt="M-"+(Ya+ea)+"-"+Wr+"h-"+(vr.width-ea)+"V"+Wr+"h"+(vr.width-ea)+"Z";var ra=vr.width-Er+ea;Wo.positionText(zr,ra,tt),we==="end"&&zr.selectAll("tspan").each(function(){var na=Lc.select(this),Ka=us.tester.append("text").text(na.text()).call(us.font,mr),En=P0(t,Ka.node());Math.round(En.width)<Math.round(vr.width)&&na.attr("x",ra-En.width),Ka.remove()})}else Wo.positionText(zr,Ge*(ea+Ya),tt),kt=null;var pa=a._topclips.selectAll("#"+$r).data(kt?[0]:[]);pa.enter().append("clipPath").attr("id",$r).append("path"),pa.exit().remove(),pa.select("path").attr("d",kt),us.setClipUrl(zr,kt?$r:null,t)}ze.attr("transform",Fw(Er,Ir))}),Tl.isUnifiedHover(n)){l.selectAll("g.hovertext").remove();var Z=e.filter(function(ze){return ze.hoverinfo!=="none"});if(Z.length===0)return[];var Q=a.hoverlabel,ie=Q.font,be={showlegend:!0,legend:{title:{text:M,font:ie},font:ie,bgcolor:Q.bgcolor,bordercolor:Q.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:a.legend?a.legend.traceorder:void 0,orientation:"v"}},ne={font:ie};Kfe(be,ne,t._fullData);var de=ne.legend;de.entries=[];for(var K=0;K<Z.length;K++){var me=Z[K];if(me.hoverinfo!=="none"){var fe=uF(me,!0,n,a,M),ke=fe[0],ve=fe[1];me.name=ve,ve!==""?me.text=ve+" : "+ke:me.text=ke;var Ae=me.cd[me.index];Ae&&(Ae.mc&&(me.mc=Ae.mc),Ae.mcc&&(me.mc=Ae.mcc),Ae.mlc&&(me.mlc=Ae.mlc),Ae.mlcc&&(me.mlc=Ae.mlcc),Ae.mlw&&(me.mlw=Ae.mlw),Ae.mrc&&(me.mrc=Ae.mrc),Ae.dir&&(me.dir=Ae.dir)),me._distinct=!0,de.entries.push([me])}}de.entries.sort(function(ze,et){return ze[0].trace.index-et[0].trace.index}),de.layer=l,de._inHover=!0,de._groupTitleFont=Q.grouptitlefont,Qfe(t,de);var Y=l.select("g.legend"),ae=P0(t,Y.node()),X=ae.width+2*ea,Se=ae.height+2*ea,qe=Z[0],De=(qe.x0+qe.x1)/2,tr=(qe.y0+qe.y1)/2,$e=!(N0.traceIs(qe.trace,"bar-like")||N0.traceIs(qe.trace,"box-violin")),Ze,lr;T==="y"?$e?(lr=tr-ea,Ze=tr+ea):(lr=Math.min.apply(null,Z.map(function(ze){return Math.min(ze.y0,ze.y1)})),Ze=Math.max.apply(null,Z.map(function(ze){return Math.max(ze.y0,ze.y1)}))):lr=Ze=on.mean(Z.map(function(ze){return(ze.y0+ze.y1)/2}))-Se/2;var pr,ir;T==="x"?$e?(pr=De+ea,ir=De-ea):(pr=Math.max.apply(null,Z.map(function(ze){return Math.max(ze.x0,ze.x1)})),ir=Math.min.apply(null,Z.map(function(ze){return Math.min(ze.x0,ze.x1)}))):pr=ir=on.mean(Z.map(function(ze){return(ze.x0+ze.x1)/2}))-X/2;var Xe=w._offset,Cr=x._offset;Ze+=Cr,pr+=Xe,ir+=Xe-X,lr+=Cr-Se;var br,pe;return pr+X<P&&pr>=0?br=pr:ir+X<P&&ir>=0?br=ir:Xe+X<P?br=Xe:pr-De<De-ir+X?br=P-X:br=0,br+=ea,Ze+Se<I&&Ze>=0?pe=Ze:lr+Se<I&&lr>=0?pe=lr:Cr+Se<I?pe=Cr:Ze-tr<tr-lr+Se?pe=I-Se:pe=0,pe+=ea,Y.attr("transform",Fw(br-1,pe-1)),Y}var Ie=l.selectAll("g.hovertext").data(e,function(ze){return pF(ze)});return Ie.enter().append("g").classed("hovertext",!0).each(function(){var ze=Lc.select(this);ze.append("rect").call(Xn.fill,Xn.addOpacity(o,.8)),ze.append("text").classed("name",!0),ze.append("path").style("stroke-width","1px"),ze.append("text").classed("nums",!0).call(us.font,{weight:h,style:d,variant:p,textcase:g,lineposition:y,shadow:b,family:f,size:c})}),Ie.exit().remove(),Ie.each(function(ze){var et=Lc.select(this).attr("transform",""),zr=ze.color;Array.isArray(zr)&&(zr=zr[ze.eventData[0].pointNumber]);var Ve=ze.bgcolor||zr,He=Xn.combine(Xn.opacity(Ve)?Ve:Xn.defaultLine,o),dr=Xn.combine(Xn.opacity(zr)?zr:Xn.defaultLine,o),Tr=ze.borderColor||Xn.contrast(He),mr=uF(ze,H,n,a,M,et),vr=mr[0],Er=mr[1],Ir=et.select("text.nums").call(us.font,{family:ze.fontFamily||f,size:ze.fontSize||c,color:ze.fontColor||Tr,weight:ze.fontWeight||h,style:ze.fontStyle||d,variant:ze.fontVariant||p,textcase:ze.fontTextcase||g,lineposition:ze.fontLineposition||y,shadow:ze.fontShadow||b}).text(vr).attr("data-notex",1).call(Wo.positionText,0,0).call(Wo.convertToTspans,t),Hr=et.select("text.name"),Je=0,se=0;if(Er&&Er!==vr){Hr.call(us.font,{family:ze.fontFamily||f,size:ze.fontSize||c,color:dr,weight:ze.fontWeight||h,style:ze.fontStyle||d,variant:ze.fontVariant||p,textcase:ze.fontTextcase||g,lineposition:ze.fontLineposition||y,shadow:ze.fontShadow||b}).text(Er).attr("data-notex",1).call(Wo.positionText,0,0).call(Wo.convertToTspans,t);var we=P0(t,Hr.node());Je=we.width+2*ea,se=we.height+2*ea}else Hr.remove(),et.select("rect").remove();et.select("path").style({fill:He,stroke:Tr});var Ge=ze.xa._offset+(ze.x0+ze.x1)/2,Oe=ze.ya._offset+(ze.y0+ze.y1)/2,Wr=Math.abs(ze.x1-ze.x0),tt=Math.abs(ze.y1-ze.y0),$r=P0(t,Ir.node()),kt=$r.width/a._invScaleX,ra=$r.height/a._invScaleY;ze.ty0=(F-$r.top)/a._invScaleY,ze.bx=kt+2*ea,ze.by=Math.max(ra+2*ea,se),ze.anchor="start",ze.txwidth=kt,ze.tx2width=Je,ze.offset=0;var pa=(kt+Ya+ea+Je)*a._invScaleX,na,Ka;if(i)ze.pos=Ge,na=Oe+tt/2+pa<=I,Ka=Oe-tt/2-pa>=0,(ze.idealAlign==="top"||!na)&&Ka?(Oe-=tt/2,ze.anchor="end"):na?(Oe+=tt/2,ze.anchor="start"):ze.anchor="middle",ze.crossPos=Oe;else{if(ze.pos=Oe,na=Ge+Wr/2+pa<=P,Ka=Ge-Wr/2-pa>=0,(ze.idealAlign==="left"||!na)&&Ka)Ge-=Wr/2,ze.anchor="end";else if(na)Ge+=Wr/2,ze.anchor="start";else{ze.anchor="middle";var En=pa/2,oi=Ge+En-P,Ln=Ge-En;oi>0&&(Ge-=oi),Ln<0&&(Ge+=-Ln)}ze.crossPos=Ge}Ir.attr("text-anchor",ze.anchor),Je&&Hr.attr("text-anchor",ze.anchor),et.attr("transform",Fw(Ge,Oe)+(i?Xfe(dF):""))}),{hoverLabels:Ie,commonLabelBoundingBox:G}}function uF(e,r,t,a,n,i){var o="",l="";e.nameOverride!==void 0&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=on.templateString(e.name,e.trace._meta)),o=vF(e.name,e.nameLength));var s=t.charAt(0),u=s==="x"?"y":"x";e.zLabel!==void 0?(e.xLabel!==void 0&&(l+="x: "+e.xLabel+"<br>"),e.yLabel!==void 0&&(l+="y: "+e.yLabel+"<br>"),e.trace.type!=="choropleth"&&e.trace.type!=="choroplethmapbox"&&e.trace.type!=="choroplethmap"&&(l+=(l?"z: ":"")+e.zLabel)):r&&e[s+"Label"]===n?l=e[u+"Label"]||"":e.xLabel===void 0?e.yLabel!==void 0&&e.trace.type!=="scattercarpet"&&(l=e.yLabel):e.yLabel===void 0?l=e.xLabel:l="("+e.xLabel+", "+e.yLabel+")",(e.text||e.text===0)&&!Array.isArray(e.text)&&(l+=(l?"<br>":"")+e.text),e.extraText!==void 0&&(l+=(l?"<br>":"")+e.extraText),i&&l===""&&!e.hovertemplate&&(o===""&&i.remove(),l=o);var f=e.hovertemplate||!1;if(f){var c=e.hovertemplateLabels||e;e[s+"Label"]!==n&&(c[s+"other"]=c[s+"Val"],c[s+"otherLabel"]=c[s+"Label"]),l=on.hovertemplateString(f,c,a._d3locale,e.eventData[0]||{},e.trace._meta),l=l.replace(ice,function(h,d){return o=vF(d,e.nameLength),""})}return[l,o]}function oce(e,r,t,a){var n=r?"xa":"ya",i=r?"ya":"xa",o=0,l=1,s=e.size(),u=new Array(s),f=0,c=a.minX,h=a.maxX,d=a.minY,p=a.maxY,g=function(W){return W*t._invScaleX},y=function(W){return W*t._invScaleY};e.each(function(W){var z=W[n],O=W[i],G=z._id.charAt(0)==="x",Z=z.range;f===0&&Z&&Z[0]>Z[1]!==G&&(l=-1);var Q=0,ie=G?t.width:t.height;if(t.hovermode==="x"||t.hovermode==="y"){var be=mF(W,r),ne=W.anchor,de=ne==="end"?-1:1,K,me;if(ne==="middle")K=W.crossPos+(G?y(be.y-W.by/2):g(W.bx/2+W.tx2width/2)),me=K+(G?y(W.by):g(W.bx));else if(G)K=W.crossPos+y(Ya+be.y)-y(W.by/2-Ya),me=K+y(W.by);else{var fe=g(de*Ya+be.x),ke=fe+g(de*W.bx);K=W.crossPos+Math.min(fe,ke),me=W.crossPos+Math.max(fe,ke)}G?d!==void 0&&p!==void 0&&Math.min(me,p)-Math.max(K,d)>1&&(O.side==="left"?(Q=O._mainLinePosition,ie=t.width):ie=O._mainLinePosition):c!==void 0&&h!==void 0&&Math.min(me,h)-Math.max(K,c)>1&&(O.side==="top"?(Q=O._mainLinePosition,ie=t.height):ie=O._mainLinePosition)}u[f++]=[{datum:W,traceIndex:W.trace.index,dp:0,pos:W.pos,posref:W.posref,size:W.by*(G?ece:1)/2,pmin:Q,pmax:ie}]}),u.sort(function(W,z){return W[0].posref-z[0].posref||l*(z[0].traceIndex-W[0].traceIndex)});var b,_,w,x,T,S,M;function C(W){var z=W[0],O=W[W.length-1];if(_=z.pmin-z.pos-z.dp+z.size,w=O.pos+O.dp+O.size-z.pmax,_>.01){for(T=W.length-1;T>=0;T--)W[T].dp+=_;b=!1}if(!(w<.01)){if(_<-.01){for(T=W.length-1;T>=0;T--)W[T].dp-=w;b=!1}if(b){var G=0;for(x=0;x<W.length;x++)S=W[x],S.pos+S.dp+S.size>z.pmax&&G++;for(x=W.length-1;x>=0&&!(G<=0);x--)S=W[x],S.pos>z.pmax-1&&(S.del=!0,G--);for(x=0;x<W.length&&!(G<=0);x++)if(S=W[x],S.pos<z.pmin+1)for(S.del=!0,G--,w=S.size*2,T=W.length-1;T>=0;T--)W[T].dp-=w;for(x=W.length-1;x>=0&&!(G<=0);x--)S=W[x],S.pos+S.dp+S.size>z.pmax&&(S.del=!0,G--)}}}for(;!b&&o<=s;){for(o++,b=!0,x=0;x<u.length-1;){var q=u[x],F=u[x+1],P=q[q.length-1],I=F[0];if(_=P.pos+P.dp+P.size-I.pos-I.dp+I.size,_>.01){for(T=F.length-1;T>=0;T--)F[T].dp+=_;for(q.push.apply(q,F),u.splice(x+1,1),M=0,T=q.length-1;T>=0;T--)M+=q[T].dp;for(w=M/q.length,T=q.length-1;T>=0;T--)q[T].dp-=w;b=!1}else x++}u.forEach(C)}for(x=u.length-1;x>=0;x--){var H=u[x];for(T=H.length-1;T>=0;T--){var V=H[T],j=V.datum;j.offset=V.dp,j.del=V.del}}}function mF(e,r){var t=0,a=e.offset;return r&&(a*=-tce,t=e.offset*rce),{x:t,y:a}}function lce(e){var r={start:1,end:-1,middle:0}[e.anchor],t=r*(Ya+ea),a=t+r*(e.txwidth+ea),n=e.anchor==="middle";return n&&(t-=e.tx2width/2,a+=e.txwidth/2+ea),{alignShift:r,textShiftX:t,text2ShiftX:a}}function gF(e,r,t,a){var n=function(o){return o*t},i=function(o){return o*a};e.each(function(o){var l=Lc.select(this);if(o.del)return l.remove();var s=l.select("text.nums"),u=o.anchor,f=u==="end"?-1:1,c=lce(o),h=mF(o,r),d=h.x,p=h.y,g=u==="middle";l.select("path").attr("d",g?"M-"+n(o.bx/2+o.tx2width/2)+","+i(p-o.by/2)+"h"+n(o.bx)+"v"+i(o.by)+"h-"+n(o.bx)+"Z":"M0,0L"+n(f*Ya+d)+","+i(Ya+p)+"v"+i(o.by/2-Ya)+"h"+n(f*o.bx)+"v-"+i(o.by)+"H"+n(f*Ya+d)+"V"+i(p-Ya)+"Z");var y=d+c.textShiftX,b=p+o.ty0-o.by/2+ea,_=o.textAlign||"auto";_!=="auto"&&(_==="left"&&u!=="start"?(s.attr("text-anchor","start"),y=g?-o.bx/2-o.tx2width/2+ea:-o.bx-ea):_==="right"&&u!=="end"&&(s.attr("text-anchor","end"),y=g?o.bx/2-o.tx2width/2-ea:o.bx+ea)),s.call(Wo.positionText,n(y),i(b)),o.tx2width&&(l.select("text.name").call(Wo.positionText,n(c.text2ShiftX+c.alignShift*ea+d),i(p+o.ty0-o.by/2+ea)),l.select("rect").call(us.setRect,n(c.text2ShiftX+(c.alignShift-1)*o.tx2width/2+d),i(p-o.by/2-1),n(o.tx2width),i(o.by+2)))})}function sce(e,r){var t=e.index,a=e.trace||{},n=e.cd[0],i=e.cd[t]||{};function o(h){return h||$s(h)&&h===0}var l=Array.isArray(t)?function(h,d){var p=on.castOption(n,t,h);return o(p)?p:on.extractOption({},a,"",d)}:function(h,d){return on.extractOption(i,a,h,d)};function s(h,d,p){var g=l(d,p);o(g)&&(e[h]=g)}if(s("hoverinfo","hi","hoverinfo"),s("bgcolor","hbg","hoverlabel.bgcolor"),s("borderColor","hbc","hoverlabel.bordercolor"),s("fontFamily","htf","hoverlabel.font.family"),s("fontSize","hts","hoverlabel.font.size"),s("fontColor","htc","hoverlabel.font.color"),s("fontWeight","htw","hoverlabel.font.weight"),s("fontStyle","hty","hoverlabel.font.style"),s("fontVariant","htv","hoverlabel.font.variant"),s("nameLength","hnl","hoverlabel.namelength"),s("textAlign","hta","hoverlabel.align"),e.posref=r==="y"||r==="closest"&&a.orientation==="h"?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=on.constrain(e.x0,0,e.xa._length),e.x1=on.constrain(e.x1,0,e.xa._length),e.y0=on.constrain(e.y0,0,e.ya._length),e.y1=on.constrain(e.y1,0,e.ya._length),e.xLabelVal!==void 0&&(e.xLabel="xLabel"in e?e.xLabel:fs.hoverLabelText(e.xa,e.xLabelVal,a.xhoverformat),e.xVal=e.xa.c2d(e.xLabelVal)),e.yLabelVal!==void 0&&(e.yLabel="yLabel"in e?e.yLabel:fs.hoverLabelText(e.ya,e.yLabelVal,a.yhoverformat),e.yVal=e.ya.c2d(e.yLabelVal)),e.zLabelVal!==void 0&&e.zLabel===void 0&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!(e.xa.type==="log"&&e.xerr<=0)){var u=fs.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;e.xerrneg!==void 0?e.xLabel+=" +"+u+" / -"+fs.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xB1 "+u,r==="x"&&(e.distance+=1)}if(!isNaN(e.yerr)&&!(e.ya.type==="log"&&e.yerr<=0)){var f=fs.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;e.yerrneg!==void 0?e.yLabel+=" +"+f+" / -"+fs.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xB1 "+f,r==="y"&&(e.distance+=1)}var c=e.hoverinfo||e.trace.hoverinfo;return c&&c!=="all"&&(c=Array.isArray(c)?c:c.split("+"),c.indexOf("x")===-1&&(e.xLabel=void 0),c.indexOf("y")===-1&&(e.yLabel=void 0),c.indexOf("z")===-1&&(e.zLabel=void 0),c.indexOf("text")===-1&&(e.text=void 0),c.indexOf("name")===-1&&(e.name=void 0)),e}function fF(e,r,t){var a=t.container,n=t.fullLayout,i=n._size,o=t.event,l=!!r.hLinePoint,s=!!r.vLinePoint,u,f;if(a.selectAll(".spikeline").remove(),!!(s||l)){var c=Xn.combine(n.plot_bgcolor,n.paper_bgcolor);if(l){var h=r.hLinePoint,d,p;u=h&&h.xa,f=h&&h.ya;var g=f.spikesnap;g==="cursor"?(d=o.pointerX,p=o.pointerY):(d=u._offset+h.x,p=f._offset+h.y);var y=oF.readability(h.color,c)<1.5?Xn.contrast(c):h.color,b=f.spikemode,_=f.spikethickness,w=f.spikecolor||y,x=fs.getPxPosition(e,f),T,S;if(b.indexOf("toaxis")!==-1||b.indexOf("across")!==-1){if(b.indexOf("toaxis")!==-1&&(T=x,S=d),b.indexOf("across")!==-1){var M=f._counterDomainMin,C=f._counterDomainMax;f.anchor==="free"&&(M=Math.min(M,f.position),C=Math.max(C,f.position)),T=i.l+M*i.w,S=i.l+C*i.w}a.insert("line",":first-child").attr({x1:T,x2:S,y1:p,y2:p,"stroke-width":_,stroke:w,"stroke-dasharray":us.dashStyle(f.spikedash,_)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:T,x2:S,y1:p,y2:p,"stroke-width":_+2,stroke:c}).classed("spikeline",!0).classed("crisp",!0)}b.indexOf("marker")!==-1&&a.insert("circle",":first-child").attr({cx:x+(f.side!=="right"?_:-_),cy:p,r:_,fill:w}).classed("spikeline",!0)}if(s){var q=r.vLinePoint,F,P;u=q&&q.xa,f=q&&q.ya;var I=u.spikesnap;I==="cursor"?(F=o.pointerX,P=o.pointerY):(F=u._offset+q.x,P=f._offset+q.y);var H=oF.readability(q.color,c)<1.5?Xn.contrast(c):q.color,V=u.spikemode,j=u.spikethickness,W=u.spikecolor||H,z=fs.getPxPosition(e,u),O,G;if(V.indexOf("toaxis")!==-1||V.indexOf("across")!==-1){if(V.indexOf("toaxis")!==-1&&(O=z,G=P),V.indexOf("across")!==-1){var Z=u._counterDomainMin,Q=u._counterDomainMax;u.anchor==="free"&&(Z=Math.min(Z,u.position),Q=Math.max(Q,u.position)),O=i.t+(1-Q)*i.h,G=i.t+(1-Z)*i.h}a.insert("line",":first-child").attr({x1:F,x2:F,y1:O,y2:G,"stroke-width":j,stroke:W,"stroke-dasharray":us.dashStyle(u.spikedash,j)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:F,x2:F,y1:O,y2:G,"stroke-width":j+2,stroke:c}).classed("spikeline",!0).classed("crisp",!0)}V.indexOf("marker")!==-1&&a.insert("circle",":first-child").attr({cx:F,cy:z-(u.side!=="top"?j:-j),r:j,fill:W}).classed("spikeline",!0)}}}function uce(e,r,t){if(!t||t.length!==e._hoverdata.length)return!0;for(var a=t.length-1;a>=0;a--){var n=t[a],i=e._hoverdata[a];if(n.curveNumber!==i.curveNumber||String(n.pointNumber)!==String(i.pointNumber)||String(n.pointNumbers)!==String(i.pointNumbers))return!0}return!1}function cF(e,r){return!r||r.vLinePoint!==e._spikepoints.vLinePoint||r.hLinePoint!==e._spikepoints.hLinePoint}function vF(e,r){return Wo.plainText(e||"",{len:r,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function fce(e,r){for(var t=r.charAt(0),a=[],n=[],i=[],o=0;o<e.length;o++){var l=e[o];N0.traceIs(l.trace,"bar-like")||N0.traceIs(l.trace,"box-violin")?i.push(l):l.trace[t+"period"]?n.push(l):a.push(l)}return a.concat(n).concat(i)}function hF(e,r,t){var a=r[e+"a"],n=r[e+"Val"],i=r.cd[0];if(a.type==="category"||a.type==="multicategory")n=a._categoriesMap[n];else if(a.type==="date"){var o=r.trace[e+"periodalignment"];if(o){var l=r.cd[r.index],s=l[e+"Start"];s===void 0&&(s=l[e]);var u=l[e+"End"];u===void 0&&(u=l[e]);var f=u-s;o==="end"?n+=f:o==="middle"&&(n+=f/2)}n=a.d2c(n)}return i&&i.t&&i.t.posLetter===a._id&&(t.boxmode==="group"||t.violinmode==="group")&&(n+=i.t.dPos),n}function bF(e){return e.offsetTop+e.clientTop}function xF(e){return e.offsetLeft+e.clientLeft}function P0(e,r){var t=e._fullLayout,a=r.getBoundingClientRect(),n=a.left,i=a.top,o=n+a.width,l=i+a.height,s=on.apply3DTransform(t._invTransform)(n,i),u=on.apply3DTransform(t._invTransform)(o,l),f=s[0],c=s[1],h=u[0],d=u[1];return{x:f,y:c,width:h-f,height:d-c,top:Math.min(c,d),left:Math.min(f,h),right:Math.max(f,h),bottom:Math.max(c,d)}}});var x2=R((Uke,_F)=>{"use strict";var cce=fr(),vce=Vt(),hce=ns().isUnifiedHover;_F.exports=function(r,t,a,n){n=n||{};var i=t.legend;function o(l){n.font[l]||(n.font[l]=i?t.legend.font[l]:t.font[l])}t&&hce(t.hovermode)&&(n.font||(n.font={}),o("size"),o("family"),o("color"),o("weight"),o("style"),o("variant"),i?(n.bgcolor||(n.bgcolor=vce.combine(t.legend.bgcolor,t.paper_bgcolor)),n.bordercolor||(n.bordercolor=t.legend.bordercolor)):n.bgcolor||(n.bgcolor=t.paper_bgcolor)),a("hoverlabel.bgcolor",n.bgcolor),a("hoverlabel.bordercolor",n.bordercolor),a("hoverlabel.namelength",n.namelength),cce.coerceFont(a,"hoverlabel.font",n.font),a("hoverlabel.align",n.align)}});var AF=R((Hke,wF)=>{"use strict";var dce=fr(),pce=x2(),yce=Kv();wF.exports=function(r,t){function a(n,i){return dce.coerce(r,t,yce,n,i)}pce(r,t,a)}});var SF=R((Gke,MF)=>{"use strict";var TF=fr(),mce=Gm(),gce=x2();MF.exports=function(r,t,a,n){function i(l,s){return TF.coerce(r,t,mce,l,s)}var o=TF.extendFlat({},n.hoverlabel);t.hovertemplate&&(o.namelength=-1),gce(r,t,i,o)}});var Iw=R((Vke,kF)=>{"use strict";var bce=fr(),xce=Kv();kF.exports=function(r,t){function a(n,i){return t[n]!==void 0?t[n]:bce.coerce(r,t,xce,n,i)}return a("clickmode"),a("hoversubplots"),a("hovermode")}});var LF=R((Yke,EF)=>{"use strict";var CF=fr(),_ce=Kv(),wce=Iw(),Ace=x2();EF.exports=function(r,t){function a(f,c){return CF.coerce(r,t,_ce,f,c)}var n=wce(r,t);n&&(a("hoverdistance"),a("spikedistance"));var i=a("dragmode");i==="select"&&a("selectdirection");var o=t._has("mapbox"),l=t._has("map"),s=t._has("geo"),u=t._basePlotModules.length;t.dragmode==="zoom"&&((o||l||s)&&u===1||(o||l)&&s&&u===2)&&(t.dragmode="pan"),Ace(r,t,a),CF.coerceFont(a,"hoverlabel.grouptitlefont",t.hoverlabel.font)}});var FF=R((Wke,DF)=>{"use strict";var Ow=fr(),qF=_t();DF.exports=function(r){var t=r.calcdata,a=r._fullLayout;function n(u){return function(f){return Ow.coerceHoverinfo({hoverinfo:f},{_module:u._module},a)}}for(var i=0;i<t.length;i++){var o=t[i],l=o[0].trace;if(!qF.traceIs(l,"pie-like")){var s=qF.traceIs(l,"2dMap")?Tce:Ow.fillArray;s(l.hoverinfo,o,"hi",n(l)),l.hovertemplate&&s(l.hovertemplate,o,"ht"),l.hoverlabel&&(s(l.hoverlabel.bgcolor,o,"hbg"),s(l.hoverlabel.bordercolor,o,"hbc"),s(l.hoverlabel.font.size,o,"hts"),s(l.hoverlabel.font.color,o,"htc"),s(l.hoverlabel.font.family,o,"htf"),s(l.hoverlabel.font.weight,o,"htw"),s(l.hoverlabel.font.style,o,"hty"),s(l.hoverlabel.font.variant,o,"htv"),s(l.hoverlabel.namelength,o,"hnl"),s(l.hoverlabel.align,o,"hta"))}}};function Tce(e,r,t,a){a=a||Ow.identity,Array.isArray(e)&&(r[0][t]=a(e))}});var PF=R((jke,RF)=>{"use strict";var Mce=_t(),Sce=Nw().hover;RF.exports=function(r,t,a){var n=Mce.getComponentMethod("annotations","onClick")(r,r._hoverdata);a!==void 0&&Sce(r,t,a,!0);function i(){r.emit("plotly_click",{points:r._hoverdata,event:t})}r._hoverdata&&t&&t.target&&(n&&n.then?n.then(i):i(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}});var Ks=R((Xke,OF)=>{"use strict";var kce=aa(),_2=fr(),Cce=Al(),C1=ns(),NF=Kv(),IF=Nw();OF.exports={moduleType:"component",name:"fx",constants:Qd(),schema:{layout:NF},attributes:Gm(),layoutAttributes:NF,supplyLayoutGlobalDefaults:AF(),supplyDefaults:SF(),supplyLayoutDefaults:LF(),calc:FF(),getDistanceFunction:C1.getDistanceFunction,getClosest:C1.getClosest,inbox:C1.inbox,quadrature:C1.quadrature,appendArrayPointValue:C1.appendArrayPointValue,castHoverOption:Lce,castHoverinfo:qce,hover:IF.hover,unhover:Cce.unhover,loneHover:IF.loneHover,loneUnhover:Ece,click:PF()};function Ece(e){var r=_2.isD3Selection(e)?e:kce.select(e);r.selectAll("g.hovertext").remove(),r.selectAll(".spikeline").remove()}function Lce(e,r,t){return _2.castOption(e,r,"hoverlabel."+t)}function qce(e,r,t){function a(n){return _2.coerceHoverinfo({hoverinfo:n},{_module:e._module},r)}return _2.castOption(e,t,"hoverinfo",a)}});var Dc=R(Qs=>{"use strict";Qs.selectMode=function(e){return e==="lasso"||e==="select"};Qs.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"};Qs.openMode=function(e){return e==="drawline"||e==="drawopenpath"};Qs.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"};Qs.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"};Qs.selectingOrDrawing=function(e){return Qs.freeMode(e)||Qs.rectMode(e)}});var w2=R((Jke,zF)=>{"use strict";zF.exports=function(r){var t=r._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(a){a.regl&&a.regl.clear({color:!0,depth:!0})})}});var A2=R(($ke,BF)=>{"use strict";BF.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}});var M2=R((Kke,UF)=>{"use strict";var T2=32;UF.exports={CIRCLE_SIDES:T2,i000:0,i090:T2/4,i180:T2/2,i270:T2/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}});var S2=R((Qke,GF)=>{"use strict";var Dce=fr().strTranslate;function HF(e,r){switch(e.type){case"log":return e.p2d(r);case"date":return e.p2r(r,0,e.calendar);default:return e.p2r(r)}}function Fce(e,r){switch(e.type){case"log":return e.d2p(r);case"date":return e.r2p(r,0,e.calendar);default:return e.r2p(r)}}function Rce(e){var r=e._id.charAt(0)==="y"?1:0;return function(t){return HF(e,t[r])}}function Pce(e){return Dce(e.xaxis._offset,e.yaxis._offset)}GF.exports={p2r:HF,r2p:Fce,axValue:Rce,getTransform:Pce}});var ef=R(eu=>{"use strict";var Nce=p1(),WF=M2(),I0=WF.CIRCLE_SIDES,zw=WF.SQRT2,jF=S2(),VF=jF.p2r,YF=jF.r2p,Ice=[0,3,4,5,6,1,2],Oce=[0,3,4,1,2];eu.writePaths=function(e){var r=e.length;if(!r)return"M0,0Z";for(var t="",a=0;a<r;a++)for(var n=e[a].length,i=0;i<n;i++){var o=e[a][i][0];if(o==="Z")t+="Z";else for(var l=e[a][i].length,s=0;s<l;s++){var u=s;o==="Q"||o==="S"?u=Oce[s]:o==="C"&&(u=Ice[s]),t+=e[a][i][u],s>0&&s<l-1&&(t+=",")}}return t};eu.readPaths=function(e,r,t,a){var n=Nce(e),i=[],o=-1,l=function(){o++,i[o]=[]},s,u=0,f=0,c,h,d=function(){c=u,h=f};d();for(var p=0;p<n.length;p++){var g=[],y,b,_,w,x=n[p][0],T=x;switch(x){case"M":l(),u=+n[p][1],f=+n[p][2],g.push([T,u,f]),d();break;case"Q":case"S":y=+n[p][1],_=+n[p][2],u=+n[p][3],f=+n[p][4],g.push([T,u,f,y,_]);break;case"C":y=+n[p][1],_=+n[p][2],b=+n[p][3],w=+n[p][4],u=+n[p][5],f=+n[p][6],g.push([T,u,f,y,_,b,w]);break;case"T":case"L":u=+n[p][1],f=+n[p][2],g.push([T,u,f]);break;case"H":T="L",u=+n[p][1],g.push([T,u,f]);break;case"V":T="L",f=+n[p][1],g.push([T,u,f]);break;case"A":T="L";var S=+n[p][1],M=+n[p][2];+n[p][4]||(S=-S,M=-M);var C=u-S,q=f;for(s=1;s<=I0/2;s++){var F=2*Math.PI*s/I0;g.push([T,C+S*Math.cos(F),q+M*Math.sin(F)])}break;case"Z":(u!==c||f!==h)&&(u=c,f=h,g.push([T,u,f]));break}for(var P=(t||{}).domain,I=r._fullLayout._size,H=t&&t.xsizemode==="pixel",V=t&&t.ysizemode==="pixel",j=a===!1,W=0;W<g.length;W++){for(s=0;s+2<7;s+=2){var z=g[W][s+1],O=g[W][s+2];z===void 0||O===void 0||(u=z,f=O,t&&(t.xaxis&&t.xaxis.p2r?(j&&(z-=t.xaxis._offset),H?z=YF(t.xaxis,t.xanchor)+z:z=VF(t.xaxis,z)):(j&&(z-=I.l),P?z=P.x[0]+z/I.w:z=z/I.w),t.yaxis&&t.yaxis.p2r?(j&&(O-=t.yaxis._offset),V?O=YF(t.yaxis,t.yanchor)-O:O=VF(t.yaxis,O)):(j&&(O-=I.t),P?O=P.y[1]-O/I.h:O=1-O/I.h)),g[W][s+1]=z,g[W][s+2]=O)}i[o].push(g[W].slice())}}return i};function E1(e,r){return Math.abs(e-r)<=1e-6}function k2(e,r){var t=r[1]-e[1],a=r[2]-e[2];return Math.sqrt(t*t+a*a)}eu.pointsOnRectangle=function(e){var r=e.length;if(r!==5)return!1;for(var t=1;t<3;t++){var a=e[0][t]-e[1][t],n=e[3][t]-e[2][t];if(!E1(a,n))return!1;var i=e[0][t]-e[3][t],o=e[1][t]-e[2][t];if(!E1(i,o))return!1}return!E1(e[0][1],e[1][1])&&!E1(e[0][1],e[3][1])?!1:!!(k2(e[0],e[1])*k2(e[0],e[3]))};eu.pointsOnEllipse=function(e){var r=e.length;if(r!==I0+1)return!1;r=I0;for(var t=0;t<r;t++){var a=(r*2-t)%r,n=(r/2+a)%r,i=(r/2+t)%r;if(!E1(k2(e[t],e[i]),k2(e[a],e[n])))return!1}return!0};eu.handleEllipse=function(e,r,t){if(!e)return[r,t];var a=eu.ellipseOver({x0:r[0],y0:r[1],x1:t[0],y1:t[1]}),n=(a.x1+a.x0)/2,i=(a.y1+a.y0)/2,o=(a.x1-a.x0)/2,l=(a.y1-a.y0)/2;o||(o=l=l/zw),l||(l=o=o/zw);for(var s=[],u=0;u<I0;u++){var f=u*2*Math.PI/I0;s.push([n+o*Math.cos(f),i+l*Math.sin(f)])}return s};eu.ellipseOver=function(e){var r=e.x0,t=e.y0,a=e.x1,n=e.y1,i=a-r,o=n-t;r-=i,t-=o;var l=(r+a)/2,s=(t+n)/2,u=zw;return i*=u,o*=u,{x0:l-i,y0:s-o,x1:l+i,y1:s+o}};eu.fixDatesForPaths=function(e,r,t){var a=r.type==="date",n=t.type==="date";if(!a&&!n)return e;for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++)for(var l=0;l+2<e[i][o].length;l+=2)a&&(e[i][o][l+1]=e[i][o][l+1].replace(" ","_")),n&&(e[i][o][l+2]=e[i][o][l+2].replace(" ","_"));return e}});var L2=R((rCe,rR)=>{"use strict";var KF=Dc(),zce=KF.drawMode,Bce=KF.openMode,O0=M2(),XF=O0.i000,ZF=O0.i090,JF=O0.i180,$F=O0.i270,Uce=O0.cos45,Hce=O0.sin45,QF=S2(),C2=QF.p2r,rf=QF.r2p,Gce=Wu(),Vce=Gce.clearOutline,E2=ef(),Yce=E2.readPaths,Wce=E2.writePaths,jce=E2.ellipseOver,Xce=E2.fixDatesForPaths;function Zce(e,r){if(e.length){var t=e[0][0];if(t){var a=r.gd,n=r.isActiveShape,i=r.dragmode,o=(a.layout||{}).shapes||[];if(!zce(i)&&n!==void 0){var l=a._fullLayout._activeShapeIndex;if(l<o.length)switch(a._fullLayout.shapes[l].type){case"rect":i="drawrect";break;case"circle":i="drawcircle";break;case"line":i="drawline";break;case"path":var s=o[l].path||"";s[s.length-1]==="Z"?i="drawclosedpath":i="drawopenpath";break}}var u=eR(e,r,i);Vce(a);for(var f=r.editHelpers,c=(f||{}).modifyItem,h=[],d=0;d<o.length;d++){var p=a._fullLayout.shapes[d];if(h[d]=p._input,n!==void 0&&d===a._fullLayout._activeShapeIndex){var g=u;switch(p.type){case"line":case"rect":case"circle":c("x0",g.x0-(p.x0shift||0)),c("x1",g.x1-(p.x1shift||0)),c("y0",g.y0-(p.y0shift||0)),c("y1",g.y1-(p.y1shift||0));break;case"path":c("path",g.path);break}}}return n===void 0?(h.push(u),h):f?f.getUpdateObj():{}}}}function eR(e,r,t){var a=e[0][0],n=r.gd,i=a.getAttribute("d"),o=n._fullLayout.newshape,l=r.plotinfo,s=r.isActiveShape,u=l.xaxis,f=l.yaxis,c=!!l.domain||!l.xaxis,h=!!l.domain||!l.yaxis,d=Bce(t),p=Yce(i,n,l,s),g={editable:!0,visible:o.visible,name:o.name,showlegend:o.showlegend,legend:o.legend,legendwidth:o.legendwidth,legendgroup:o.legendgroup,legendgrouptitle:{text:o.legendgrouptitle.text,font:o.legendgrouptitle.font},legendrank:o.legendrank,label:o.label,xref:c?"paper":u._id,yref:h?"paper":f._id,layer:o.layer,opacity:o.opacity,line:{color:o.line.color,width:o.line.width,dash:o.line.dash}};d||(g.fillcolor=o.fillcolor,g.fillrule=o.fillrule);var y;if(p.length===1&&(y=p[0]),y&&y.length===5&&t==="drawrect")g.type="rect",g.x0=y[0][1],g.y0=y[0][2],g.x1=y[2][1],g.y1=y[2][2];else if(y&&t==="drawline")g.type="line",g.x0=y[0][1],g.y0=y[0][2],g.x1=y[1][1],g.y1=y[1][2];else if(y&&t==="drawcircle"){g.type="circle";var b=y[XF][1],_=y[ZF][1],w=y[JF][1],x=y[$F][1],T=y[XF][2],S=y[ZF][2],M=y[JF][2],C=y[$F][2],q=l.xaxis&&(l.xaxis.type==="date"||l.xaxis.type==="log"),F=l.yaxis&&(l.yaxis.type==="date"||l.yaxis.type==="log");q&&(b=rf(l.xaxis,b),_=rf(l.xaxis,_),w=rf(l.xaxis,w),x=rf(l.xaxis,x)),F&&(T=rf(l.yaxis,T),S=rf(l.yaxis,S),M=rf(l.yaxis,M),C=rf(l.yaxis,C));var P=(_+x)/2,I=(T+M)/2,H=(x-_+w-b)/2,V=(C-S+M-T)/2,j=jce({x0:P,y0:I,x1:P+H*Uce,y1:I+V*Hce});q&&(j.x0=C2(l.xaxis,j.x0),j.x1=C2(l.xaxis,j.x1)),F&&(j.y0=C2(l.yaxis,j.y0),j.y1=C2(l.yaxis,j.y1)),g.x0=j.x0,g.y0=j.y0,g.x1=j.x1,g.y1=j.y1}else g.type="path",u&&f&&Xce(p,u,f),g.path=Wce(p),y=null;return g}rR.exports={newShapes:Zce,createShapeObj:eR}});var Uw=R((tCe,tR)=>{"use strict";var Jce=Dc(),$ce=Jce.selectMode,Kce=Wu(),Qce=Kce.clearOutline,Bw=ef(),eve=Bw.readPaths,rve=Bw.writePaths,tve=Bw.fixDatesForPaths;tR.exports=function(r,t){if(r.length){var a=r[0][0];if(a){var n=a.getAttribute("d"),i=t.gd,o=i._fullLayout.newselection,l=t.plotinfo,s=l.xaxis,u=l.yaxis,f=t.isActiveSelection,c=t.dragmode,h=(i.layout||{}).selections||[];if(!$ce(c)&&f!==void 0){var d=i._fullLayout._activeSelectionIndex;if(d<h.length)switch(i._fullLayout.selections[d].type){case"rect":c="select";break;case"path":c="lasso";break}}var p=eve(n,i,l,f),g={xref:s._id,yref:u._id,opacity:o.opacity,line:{color:o.line.color,width:o.line.width,dash:o.line.dash}},y;p.length===1&&(y=p[0]),y&&y.length===5&&c==="select"?(g.type="rect",g.x0=y[0][1],g.y0=y[0][2],g.x1=y[2][1],g.y1=y[2][2]):(g.type="path",s&&u&&tve(p,s,u),g.path=rve(p),y=null),Qce(i);for(var b=t.editHelpers,_=(b||{}).modifyItem,w=[],x=0;x<h.length;x++){var T=i._fullLayout.selections[x];if(!T){w[x]=T;continue}if(w[x]=T._input,f!==void 0&&x===i._fullLayout._activeSelectionIndex){var S=g;switch(T.type){case"rect":_("x0",S.x0),_("x1",S.x1),_("y0",S.y0),_("y1",S.y1);break;case"path":_("path",S.path);break}}}return f===void 0?(w.push(g),w):b?b.getUpdateObj():{}}}}});var L1=R((aCe,aR)=>{"use strict";aR.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}});var tf=R(ai=>{"use strict";var Fc=L1(),nR=fr(),q2=qa();ai.rangeToShapePosition=function(e){return e.type==="log"?e.r2d:function(r){return r}};ai.shapePositionToRange=function(e){return e.type==="log"?e.d2r:function(r){return r}};ai.decodeDate=function(e){return function(r){return r.replace&&(r=r.replace("_"," ")),e(r)}};ai.encodeDate=function(e){return function(r){return e(r).replace(" ","_")}};ai.extractPathCoords=function(e,r,t){var a=[],n=e.match(Fc.segmentRE);return n.forEach(function(i){var o=r[i.charAt(0)].drawn;if(o!==void 0){var l=i.substr(1).match(Fc.paramRE);if(!(!l||l.length<o)){var s=l[o],u=t?s:nR.cleanNumber(s);a.push(u)}}}),a};ai.getDataToPixel=function(e,r,t,a,n){var i=e._fullLayout._size,o;if(r)if(n==="domain")o=function(s){return r._length*(a?1-s:s)+r._offset};else{var l=ai.shapePositionToRange(r);o=function(s){var u=q1(r,t);return r._offset+r.r2p(l(s,!0))+u},r.type==="date"&&(o=ai.decodeDate(o))}else a?o=function(s){return i.t+i.h*(1-s)}:o=function(s){return i.l+i.w*s};return o};ai.getPixelToData=function(e,r,t,a){var n=e._fullLayout._size,i;if(r)if(a==="domain")i=function(l){var s=(l-r._offset)/r._length;return t?1-s:s};else{var o=ai.rangeToShapePosition(r);i=function(l){return o(r.p2r(l-r._offset))}}else t?i=function(l){return 1-(l-n.t)/n.h}:i=function(l){return(l-n.l)/n.w};return i};ai.roundPositionForSharpStrokeRendering=function(e,r){var t=Math.round(r%2)===1,a=Math.round(e);return t?a+.5:a};ai.makeShapesOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.shapes[r]||{},a=e._fullLayout._plots[t.xref+t.yref],n=!!a;return n?a._hadPlotinfo=!0:(a={},t.xref&&t.xref!=="paper"&&(a.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&t.yref!=="paper"&&(a.yaxis=e._fullLayout[t.yref+"axis"])),a.xsizemode=t.xsizemode,a.ysizemode=t.ysizemode,a.xanchor=t.xanchor,a.yanchor=t.yanchor,{options:t,plotinfo:a}};ai.makeSelectionsOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.selections[r]||{},a=e._fullLayout._plots[t.xref+t.yref],n=!!a;return n?a._hadPlotinfo=!0:(a={},t.xref&&(a.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&(a.yaxis=e._fullLayout[t.yref+"axis"])),{options:t,plotinfo:a}};ai.getPathString=function(e,r){var t=r.type,a=q2.getRefType(r.xref),n=q2.getRefType(r.yref),i=q2.getFromId(e,r.xref),o=q2.getFromId(e,r.yref),l=e._fullLayout._size,s,u,f,c,h=q1(i,r.x0shift),d=q1(i,r.x1shift),p=q1(o,r.y0shift),g=q1(o,r.y1shift),y,b,_,w;if(i?a==="domain"?u=function(H){return i._offset+i._length*H}:(s=ai.shapePositionToRange(i),u=function(H){return i._offset+i.r2p(s(H,!0))}):u=function(H){return l.l+l.w*H},o?n==="domain"?c=function(H){return o._offset+o._length*(1-H)}:(f=ai.shapePositionToRange(o),c=function(H){return o._offset+o.r2p(f(H,!0))}):c=function(H){return l.t+l.h*(1-H)},t==="path")return i&&i.type==="date"&&(u=ai.decodeDate(u)),o&&o.type==="date"&&(c=ai.decodeDate(c)),ave(r,u,c);if(r.xsizemode==="pixel"){var x=u(r.xanchor);y=x+r.x0+h,b=x+r.x1+d}else y=u(r.x0)+h,b=u(r.x1)+d;if(r.ysizemode==="pixel"){var T=c(r.yanchor);_=T-r.y0+p,w=T-r.y1+g}else _=c(r.y0)+p,w=c(r.y1)+g;if(t==="line")return"M"+y+","+_+"L"+b+","+w;if(t==="rect")return"M"+y+","+_+"H"+b+"V"+w+"H"+y+"Z";var S=(y+b)/2,M=(_+w)/2,C=Math.abs(S-y),q=Math.abs(M-_),F="A"+C+","+q,P=S+C+","+M,I=S+","+(M-q);return"M"+P+F+" 0 1,1 "+I+F+" 0 0,1 "+P+"Z"};function ave(e,r,t){var a=e.path,n=e.xsizemode,i=e.ysizemode,o=e.xanchor,l=e.yanchor;return a.replace(Fc.segmentRE,function(s){var u=0,f=s.charAt(0),c=Fc.paramIsX[f],h=Fc.paramIsY[f],d=Fc.numParams[f],p=s.substr(1).replace(Fc.paramRE,function(g){return c[u]?n==="pixel"?g=r(o)+Number(g):g=r(g):h[u]&&(i==="pixel"?g=t(l)-Number(g):g=t(g)),u++,u>d&&(g="X"),g});return u>d&&(p=p.replace(/[\s,]*X.*/,""),nR.log("Ignoring extra params in segment "+s)),f+p})}function q1(e,r){r=r||0;var t=0;return r&&e&&(e.type==="category"||e.type==="multicategory")&&(t=(e.r2p(1)-e.r2p(0))*r),t}});var Gw=R((iCe,sR)=>{"use strict";var nve=fr(),z0=qa(),iR=Ci(),oR=Sa(),ive=ef().readPaths,Hw=tf(),ove=Hw.getPathString,lR=Km(),lve=ki().FROM_TL;sR.exports=function(r,t,a,n){if(n.selectAll(".shape-label").remove(),!!(a.label.text||a.label.texttemplate)){var i;if(a.label.texttemplate){var o={};if(a.type!=="path"){var l=z0.getFromId(r,a.xref),s=z0.getFromId(r,a.yref);for(var u in lR){var f=lR[u](a,l,s);f!==void 0&&(o[u]=f)}}i=nve.texttemplateStringForShapes(a.label.texttemplate,{},r._fullLayout._d3locale,o)}else i=a.label.text;var c={"data-index":t},h=a.label.font,d={"data-notex":1},p=n.append("g").attr(c).classed("shape-label",!0),g=p.append("text").attr(d).classed("shape-label-text",!0).text(i),y,b,_,w;if(a.path){var x=ove(r,a),T=ive(x,r);y=1/0,_=1/0,b=-1/0,w=-1/0;for(var S=0;S<T.length;S++)for(var M=0;M<T[S].length;M++)for(var C=T[S][M],q=1;q<C.length;q+=2){var F=C[q],P=C[q+1];y=Math.min(y,F),b=Math.max(b,F),_=Math.min(_,P),w=Math.max(w,P)}}else{var I=z0.getFromId(r,a.xref),H=a.x0shift,V=a.x1shift,j=z0.getRefType(a.xref),W=z0.getFromId(r,a.yref),z=a.y0shift,O=a.y1shift,G=z0.getRefType(a.yref),Z=function(fe,ke){var ve=Hw.getDataToPixel(r,I,ke,!1,j);return ve(fe)},Q=function(fe,ke){var ve=Hw.getDataToPixel(r,W,ke,!0,G);return ve(fe)};y=Z(a.x0,H),b=Z(a.x1,V),_=Q(a.y0,z),w=Q(a.y1,O)}var ie=a.label.textangle;ie==="auto"&&(a.type==="line"?ie=sve(y,_,b,w):ie=0),g.call(function(fe){return fe.call(oR.font,h).attr({}),iR.convertToTspans(fe,r),fe});var be=oR.bBox(g.node()),ne=uve(y,_,b,w,a,ie,be),de=ne.textx,K=ne.texty,me=ne.xanchor;g.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[me],y:K,x:de,transform:"rotate("+ie+","+de+","+K+")"}).call(iR.positionText,de,K)}};function sve(e,r,t,a){var n,i;return i=Math.abs(t-e),t>=e?n=r-a:n=a-r,-180/Math.PI*Math.atan2(n,i)}function uve(e,r,t,a,n,i,o){var l=n.label.textposition,s=n.label.textangle,u=n.label.padding,f=n.type,c=Math.PI/180*i,h=Math.sin(c),d=Math.cos(c),p=n.label.xanchor,g=n.label.yanchor,y,b,_,w;if(f==="line"){l==="start"?(y=e,b=r):l==="end"?(y=t,b=a):(y=(e+t)/2,b=(r+a)/2),p==="auto"&&(l==="start"?s==="auto"?t>e?p="left":t<e?p="right":p="center":t>e?p="right":t<e?p="left":p="center":l==="end"?s==="auto"?t>e?p="right":t<e?p="left":p="center":t>e?p="left":t<e?p="right":p="center":p="center");var x={left:1,center:0,right:-1},T={bottom:-1,middle:0,top:1};if(s==="auto"){var S=T[g];_=-u*h*S,w=u*d*S}else{var M=x[p],C=T[g];_=u*M,w=u*C}y=y+_,b=b+w}else _=u+3,l.indexOf("right")!==-1?(y=Math.max(e,t)-_,p==="auto"&&(p="right")):l.indexOf("left")!==-1?(y=Math.min(e,t)+_,p==="auto"&&(p="left")):(y=(e+t)/2,p==="auto"&&(p="center")),l.indexOf("top")!==-1?b=Math.min(r,a):l.indexOf("bottom")!==-1?b=Math.max(r,a):b=(r+a)/2,w=u,g==="bottom"?b=b-w:g==="top"&&(b=b+w);var q=lve[g],F=n.label.font.size,P=o.height,I=(P*q-F)*h,H=-(P*q-F)*d;return{textx:y+I,texty:b+H,xanchor:p}}});var R2=R((oCe,yR)=>{"use strict";var fve=fr(),cve=fve.strTranslate,uR=Al(),vR=Dc(),vve=vR.drawMode,hR=vR.selectMode,dR=_t(),fR=Vt(),F2=M2(),hve=F2.i000,dve=F2.i090,pve=F2.i180,yve=F2.i270,mve=Wu(),pR=mve.clearOutlineControllers,Yw=ef(),D2=Yw.pointsOnRectangle,Vw=Yw.pointsOnEllipse,gve=Yw.writePaths,bve=L2().newShapes,xve=L2().createShapeObj,_ve=Uw(),wve=Gw();yR.exports=function e(r,t,a,n){n||(n=0);var i=a.gd;function o(){e(r,t,a,n++),(Vw(r[0])||a.hasText)&&l({redrawing:!0})}function l(z){var O={};a.isActiveShape!==void 0&&(a.isActiveShape=!1,O=bve(t,a)),a.isActiveSelection!==void 0&&(a.isActiveSelection=!1,O=_ve(t,a),i._fullLayout._reselect=!0),Object.keys(O).length&&dR.call((z||{}).redrawing?"relayout":"_guiRelayout",i,O)}var s=i._fullLayout,u=s._zoomlayer,f=a.dragmode,c=vve(f),h=hR(f);(c||h)&&(i._fullLayout._outlining=!0),pR(i),t.attr("d",gve(r));var d,p,g,y,b;if(!n&&(a.isActiveShape||a.isActiveSelection)){b=Ave([],r);var _=u.append("g").attr("class","outline-controllers");F(_),W()}if(c&&a.hasText){var w=u.select(".label-temp"),x=xve(t,a,a.dragmode);wve(i,"label-temp",x,w)}function T(z){g=+z.srcElement.getAttribute("data-i"),y=+z.srcElement.getAttribute("data-j"),d[g][y].moveFn=S}function S(z,O){if(r.length){var G=b[g][y][1],Z=b[g][y][2],Q=r[g],ie=Q.length;if(D2(Q)){var be=z,ne=O;if(a.isActiveSelection){var de=cR(Q,y);de[1]===Q[y][1]?ne=0:be=0}for(var K=0;K<ie;K++)if(K!==y){var me=Q[K];me[1]===Q[y][1]&&(me[1]=G+be),me[2]===Q[y][2]&&(me[2]=Z+ne)}if(Q[y][1]=G+be,Q[y][2]=Z+ne,!D2(Q))for(var fe=0;fe<ie;fe++)for(var ke=0;ke<Q[fe].length;ke++)Q[fe][ke]=b[g][fe][ke]}else Q[y][1]=G+z,Q[y][2]=Z+O;o()}}function M(){l()}function C(){if(r.length&&r[g]&&r[g].length){for(var z=[],O=0;O<r[g].length;O++)O!==y&&z.push(r[g][O]);z.length>1&&!(z.length===2&&z[1][0]==="Z")&&(y===0&&(z[0][0]="M"),r[g]=z,o(),l())}}function q(z,O){if(z===2){g=+O.srcElement.getAttribute("data-i"),y=+O.srcElement.getAttribute("data-j");var G=r[g];!D2(G)&&!Vw(G)&&C()}}function F(z){d=[];for(var O=0;O<r.length;O++){var G=r[O],Z=D2(G),Q=!Z&&Vw(G);d[O]=[];for(var ie=G.length,be=0;be<ie;be++)if(G[be][0]!=="Z"&&!(Q&&be!==hve&&be!==dve&&be!==pve&&be!==yve)){var ne=Z&&a.isActiveSelection,de;ne&&(de=cR(G,be));var K=G[be][1],me=G[be][2],fe=z.append(ne?"rect":"circle").attr("data-i",O).attr("data-j",be).style({fill:fR.background,stroke:fR.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(ne){var ke=de[1]-K,ve=de[2]-me,Ae=ve?5:Math.max(Math.min(25,Math.abs(ke)-5),5),Y=ke?5:Math.max(Math.min(25,Math.abs(ve)-5),5);fe.classed(ve?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Ae).attr("height",Y).attr("x",K-Ae/2).attr("y",me-Y/2).attr("transform",cve(ke/2,ve/2))}else fe.classed("cursor-grab",!0).attr("r",5).attr("cx",K).attr("cy",me);d[O][be]={element:fe.node(),gd:i,prepFn:T,doneFn:M,clickFn:q},uR.init(d[O][be])}}}function P(z,O){if(r.length)for(var G=0;G<r.length;G++)for(var Z=0;Z<r[G].length;Z++)for(var Q=0;Q+2<r[G][Z].length;Q+=2)r[G][Z][Q+1]=b[G][Z][Q+1]+z,r[G][Z][Q+2]=b[G][Z][Q+2]+O}function I(z,O){P(z,O),o()}function H(z){g=+z.srcElement.getAttribute("data-i"),g||(g=0),p[g].moveFn=I}function V(){l()}function j(z){z===2&&Tve(i)}function W(){if(p=[],!!r.length){var z=0;p[z]={element:t[0][0],gd:i,prepFn:H,doneFn:V,clickFn:j},uR.init(p[z])}}};function Ave(e,r){for(var t=0;t<r.length;t++){var a=r[t];e[t]=[];for(var n=0;n<a.length;n++){e[t][n]=[];for(var i=0;i<a[n].length;i++)e[t][n][i]=a[n][i]}}return e}function cR(e,r){var t=e[r][1],a=e[r][2],n=e.length,i,o,l;return i=(r+1)%n,o=e[i][1],l=e[i][2],o===t&&l===a&&(i=(r+2)%n,o=e[i][1],l=e[i][2]),[i,o,l]}function Tve(e){if(hR(e._fullLayout.dragmode)){pR(e);var r=e._fullLayout._activeSelectionIndex,t=(e.layout||{}).selections||[];if(r<t.length){for(var a=[],n=0;n<t.length;n++)n!==r&&a.push(t[n]);delete e._fullLayout._activeSelectionIndex;var i=e._fullLayout.selections[r];e._fullLayout._deselect={xref:i.xref,yref:i.yref},dR.call("_guiRelayout",e,{selections:a})}}}});var O2=R((lCe,SR)=>{"use strict";var Mve=aa(),wR=_t(),mR=fr(),B0=qa(),Sve=ef().readPaths,kve=R2(),N2=Gw(),AR=Wu().clearOutlineControllers,Ww=Vt(),Xw=Sa(),Cve=Oa().arrayEditor,gR=Al(),bR=Qu(),Rc=L1(),fo=tf(),jw=fo.getPathString;SR.exports={draw:Zw,drawOne:TR,eraseActiveShape:qve,drawLabel:N2};function Zw(e){var r=e._fullLayout;r._shapeUpperLayer.selectAll("path").remove(),r._shapeLowerLayer.selectAll("path").remove(),r._shapeUpperLayer.selectAll("text").remove(),r._shapeLowerLayer.selectAll("text").remove();for(var t in r._plots){var a=r._plots[t].shapelayer;a&&(a.selectAll("path").remove(),a.selectAll("text").remove())}for(var n=0;n<r.shapes.length;n++)r.shapes[n].visible===!0&&TR(e,n)}function P2(e){return!!e._fullLayout._outlining}function I2(e){return!e._context.edits.shapePosition}function TR(e,r){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+r+'"]').remove();var t=fo.makeShapesOptionsAndPlotinfo(e,r),a=t.options,n=t.plotinfo;if(!a._input||a.visible!==!0)return;if(a.layer==="above")o(e._fullLayout._shapeUpperLayer);else if(a.xref==="paper"||a.yref==="paper")o(e._fullLayout._shapeLowerLayer);else if(a.layer==="between")o(n.shapelayerBetween);else if(n._hadPlotinfo){var i=n.mainplotinfo||n;o(i.shapelayer)}else o(e._fullLayout._shapeLowerLayer);function o(l){var s=jw(e,a),u={"data-index":r,"fill-rule":a.fillrule,d:s},f=a.opacity,c=a.fillcolor,h=a.line.width?a.line.color:"rgba(0,0,0,0)",d=a.line.width,p=a.line.dash;!d&&a.editable===!0&&(d=5,p="solid");var g=s[s.length-1]!=="Z",y=I2(e)&&a.editable&&e._fullLayout._activeShapeIndex===r;y&&(c=g?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,f=e._fullLayout.activeshape.opacity);var b=l.append("g").classed("shape-group",!0).attr({"data-index":r}),_=b.append("path").attr(u).style("opacity",f).call(Ww.stroke,h).call(Ww.fill,c).call(Xw.dashLine,p,d);MR(b,e,a),N2(e,r,a,b);var w;if((y||e._context.edits.shapePosition)&&(w=Cve(e.layout,"shapes",a)),y){_.style({cursor:"move"});var x={element:_.node(),plotinfo:n,gd:e,editHelpers:w,hasText:a.label.text||a.label.texttemplate,isActiveShape:!0},T=Sve(s,e);kve(T,_,x)}else e._context.edits.shapePosition?Eve(e,_,a,r,l,w):a.editable===!0&&_.style("pointer-events",g||Ww.opacity(c)*f<=.5?"stroke":"all");_.node().addEventListener("click",function(){return Lve(e,_)})}}function MR(e,r,t){var a=(t.xref+t.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");Xw.setClipUrl(e,a?"clip"+r._fullLayout._uid+a:null,r)}function Eve(e,r,t,a,n,i){var o=10,l=10,s=t.xsizemode==="pixel",u=t.ysizemode==="pixel",f=t.type==="line",c=t.type==="path",h=i.modifyItem,d,p,g,y,b,_,w,x,T,S,M,C,q,F,P,I=Mve.select(r.node().parentNode),H=B0.getFromId(e,t.xref),V=B0.getRefType(t.xref),j=B0.getFromId(e,t.yref),W=B0.getRefType(t.yref),z=t.x0shift,O=t.x1shift,G=t.y0shift,Z=t.y1shift,Q=function($e,Ze){var lr=fo.getDataToPixel(e,H,Ze,!1,V);return lr($e)},ie=function($e,Ze){var lr=fo.getDataToPixel(e,j,Ze,!0,W);return lr($e)},be=fo.getPixelToData(e,H,!1,V),ne=fo.getPixelToData(e,j,!0,W),de=fe(),K={element:de.node(),gd:e,prepFn:Ae,doneFn:Y,clickFn:ae},me;gR.init(K),de.node().onmousemove=ve;function fe(){return f?ke():r}function ke(){var $e=10,Ze=Math.max(t.line.width,$e),lr=n.append("g").attr("data-index",a).attr("drag-helper",!0);lr.append("path").attr("d",r.attr("d")).style({cursor:"move","stroke-width":Ze,"stroke-opacity":"0"});var pr={"fill-opacity":"0"},ir=Math.max(Ze/2,$e);return lr.append("circle").attr({"data-line-point":"start-point",cx:s?Q(t.xanchor)+t.x0:Q(t.x0,z),cy:u?ie(t.yanchor)-t.y0:ie(t.y0,G),r:ir}).style(pr).classed("cursor-grab",!0),lr.append("circle").attr({"data-line-point":"end-point",cx:s?Q(t.xanchor)+t.x1:Q(t.x1,O),cy:u?ie(t.yanchor)-t.y1:ie(t.y1,Z),r:ir}).style(pr).classed("cursor-grab",!0),lr}function ve($e){if(P2(e)){me=null;return}if(f)$e.target.tagName==="path"?me="move":me=$e.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Ze=K.element.getBoundingClientRect(),lr=Ze.right-Ze.left,pr=Ze.bottom-Ze.top,ir=$e.clientX-Ze.left,Xe=$e.clientY-Ze.top,Cr=!c&&lr>o&&pr>l&&!$e.shiftKey?gR.getCursor(ir/lr,1-Xe/pr):"move";bR(r,Cr),me=Cr.split("-")[0]}}function Ae($e){P2(e)||(s&&(b=Q(t.xanchor)),u&&(_=ie(t.yanchor)),t.type==="path"?P=t.path:(d=s?t.x0:Q(t.x0),p=u?t.y0:ie(t.y0),g=s?t.x1:Q(t.x1),y=u?t.y1:ie(t.y1)),d<g?(T=d,q="x0",S=g,F="x1"):(T=g,q="x1",S=d,F="x0"),!u&&p<y||u&&p>y?(w=p,M="y0",x=y,C="y1"):(w=y,M="y1",x=p,C="y0"),ve($e),qe(n,t),tr(r,t,e),K.moveFn=me==="move"?X:Se,K.altKey=$e.altKey)}function Y(){P2(e)||(bR(r),De(n),MR(r,e,t),wR.call("_guiRelayout",e,i.getUpdateObj()))}function ae(){P2(e)||De(n)}function X($e,Ze){if(t.type==="path"){var lr=function(Xe){return Xe},pr=lr,ir=lr;s?h("xanchor",t.xanchor=be(b+$e)):(pr=function(Cr){return be(Q(Cr)+$e)},H&&H.type==="date"&&(pr=fo.encodeDate(pr))),u?h("yanchor",t.yanchor=ne(_+Ze)):(ir=function(Cr){return ne(ie(Cr)+Ze)},j&&j.type==="date"&&(ir=fo.encodeDate(ir))),h("path",t.path=xR(P,pr,ir))}else s?h("xanchor",t.xanchor=be(b+$e)):(h("x0",t.x0=be(d+$e)),h("x1",t.x1=be(g+$e))),u?h("yanchor",t.yanchor=ne(_+Ze)):(h("y0",t.y0=ne(p+Ze)),h("y1",t.y1=ne(y+Ze)));r.attr("d",jw(e,t)),qe(n,t),N2(e,a,t,I)}function Se($e,Ze){if(c){var lr=function(vr){return vr},pr=lr,ir=lr;s?h("xanchor",t.xanchor=be(b+$e)):(pr=function(Er){return be(Q(Er)+$e)},H&&H.type==="date"&&(pr=fo.encodeDate(pr))),u?h("yanchor",t.yanchor=ne(_+Ze)):(ir=function(Er){return ne(ie(Er)+Ze)},j&&j.type==="date"&&(ir=fo.encodeDate(ir))),h("path",t.path=xR(P,pr,ir))}else if(f){if(me==="resize-over-start-point"){var Xe=d+$e,Cr=u?p-Ze:p+Ze;h("x0",t.x0=s?Xe:be(Xe)),h("y0",t.y0=u?Cr:ne(Cr))}else if(me==="resize-over-end-point"){var br=g+$e,pe=u?y-Ze:y+Ze;h("x1",t.x1=s?br:be(br)),h("y1",t.y1=u?pe:ne(pe))}}else{var Ie=function(vr){return me.indexOf(vr)!==-1},ze=Ie("n"),et=Ie("s"),zr=Ie("w"),Ve=Ie("e"),He=ze?w+Ze:w,dr=et?x+Ze:x,Tr=zr?T+$e:T,mr=Ve?S+$e:S;u&&(ze&&(He=w-Ze),et&&(dr=x-Ze)),(!u&&dr-He>l||u&&He-dr>l)&&(h(M,t[M]=u?He:ne(He)),h(C,t[C]=u?dr:ne(dr))),mr-Tr>o&&(h(q,t[q]=s?Tr:be(Tr)),h(F,t[F]=s?mr:be(mr)))}r.attr("d",jw(e,t)),qe(n,t),N2(e,a,t,I)}function qe($e,Ze){(s||u)&&lr();function lr(){var pr=Ze.type!=="path",ir=$e.selectAll(".visual-cue").data([0]),Xe=1;ir.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Xe}).classed("visual-cue",!0);var Cr=Q(s?Ze.xanchor:mR.midRange(pr?[Ze.x0,Ze.x1]:fo.extractPathCoords(Ze.path,Rc.paramIsX))),br=ie(u?Ze.yanchor:mR.midRange(pr?[Ze.y0,Ze.y1]:fo.extractPathCoords(Ze.path,Rc.paramIsY)));if(Cr=fo.roundPositionForSharpStrokeRendering(Cr,Xe),br=fo.roundPositionForSharpStrokeRendering(br,Xe),s&&u){var pe="M"+(Cr-1-Xe)+","+(br-1-Xe)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";ir.attr("d",pe)}else if(s){var Ie="M"+(Cr-1-Xe)+","+(br-9-Xe)+"v18 h2 v-18 Z";ir.attr("d",Ie)}else{var ze="M"+(Cr-9-Xe)+","+(br-1-Xe)+"h18 v2 h-18 Z";ir.attr("d",ze)}}}function De($e){$e.selectAll(".visual-cue").remove()}function tr($e,Ze,lr){var pr=Ze.xref,ir=Ze.yref,Xe=B0.getFromId(lr,pr),Cr=B0.getFromId(lr,ir),br="";pr!=="paper"&&!Xe.autorange&&(br+=pr),ir!=="paper"&&!Cr.autorange&&(br+=ir),Xw.setClipUrl($e,br?"clip"+lr._fullLayout._uid+br:null,lr)}}function xR(e,r,t){return e.replace(Rc.segmentRE,function(a){var n=0,i=a.charAt(0),o=Rc.paramIsX[i],l=Rc.paramIsY[i],s=Rc.numParams[i],u=a.substr(1).replace(Rc.paramRE,function(f){return n>=s||(o[n]?f=r(f):l[n]&&(f=t(f)),n++),f});return i+u})}function Lve(e,r){if(I2(e)){var t=r.node(),a=+t.getAttribute("data-index");if(a>=0){if(a===e._fullLayout._activeShapeIndex){_R(e);return}e._fullLayout._activeShapeIndex=a,e._fullLayout._deactivateShape=_R,Zw(e)}}}function _R(e){if(I2(e)){var r=e._fullLayout._activeShapeIndex;r>=0&&(AR(e),delete e._fullLayout._activeShapeIndex,Zw(e))}}function qve(e){if(I2(e)){AR(e);var r=e._fullLayout._activeShapeIndex,t=(e.layout||{}).shapes||[];if(r<t.length){for(var a=[],n=0;n<t.length;n++)n!==r&&a.push(t[n]);return delete e._fullLayout._activeShapeIndex,wR.call("_guiRelayout",e,{shapes:a})}}}});var Kw=R((sCe,PR)=>{"use strict";var jo=_t(),kR=Wn(),CR=yn(),oa=A2(),Dve=O2().eraseActiveShape,z2=fr(),$t=z2._,la=PR.exports={};la.toImage={name:"toImage",title:function(e){var r=e._context.toImageButtonOptions||{},t=r.format||"png";return t==="png"?$t(e,"Download plot as a png"):$t(e,"Download plot")},icon:oa.camera,click:function(e){var r=e._context.toImageButtonOptions,t={format:r.format||"png"};z2.notifier($t(e,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(a){a in r&&(t[a]=r[a])}),jo.call("downloadImage",e,t).then(function(a){z2.notifier($t(e,"Snapshot succeeded")+" - "+a,"long")}).catch(function(){z2.notifier($t(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}};la.sendDataToCloud={name:"sendDataToCloud",title:function(e){return $t(e,"Edit in Chart Studio")},icon:oa.disk,click:function(e){kR.sendDataToCloud(e)}};la.editInChartStudio={name:"editInChartStudio",title:function(e){return $t(e,"Edit in Chart Studio")},icon:oa.pencil,click:function(e){kR.sendDataToCloud(e)}};la.zoom2d={name:"zoom2d",_cat:"zoom",title:function(e){return $t(e,"Zoom")},attr:"dragmode",val:"zoom",icon:oa.zoombox,click:qi};la.pan2d={name:"pan2d",_cat:"pan",title:function(e){return $t(e,"Pan")},attr:"dragmode",val:"pan",icon:oa.pan,click:qi};la.select2d={name:"select2d",_cat:"select",title:function(e){return $t(e,"Box Select")},attr:"dragmode",val:"select",icon:oa.selectbox,click:qi};la.lasso2d={name:"lasso2d",_cat:"lasso",title:function(e){return $t(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:oa.lasso,click:qi};la.drawclosedpath={name:"drawclosedpath",title:function(e){return $t(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:oa.drawclosedpath,click:qi};la.drawopenpath={name:"drawopenpath",title:function(e){return $t(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:oa.drawopenpath,click:qi};la.drawline={name:"drawline",title:function(e){return $t(e,"Draw line")},attr:"dragmode",val:"drawline",icon:oa.drawline,click:qi};la.drawrect={name:"drawrect",title:function(e){return $t(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:oa.drawrect,click:qi};la.drawcircle={name:"drawcircle",title:function(e){return $t(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:oa.drawcircle,click:qi};la.eraseshape={name:"eraseshape",title:function(e){return $t(e,"Erase active shape")},icon:oa.eraseshape,click:Dve};la.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(e){return $t(e,"Zoom in")},attr:"zoom",val:"in",icon:oa.zoom_plus,click:qi};la.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(e){return $t(e,"Zoom out")},attr:"zoom",val:"out",icon:oa.zoom_minus,click:qi};la.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(e){return $t(e,"Autoscale")},attr:"zoom",val:"auto",icon:oa.autoscale,click:qi};la.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(e){return $t(e,"Reset axes")},attr:"zoom",val:"reset",icon:oa.home,click:qi};la.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(e){return $t(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:oa.tooltip_basic,gravity:"ne",click:qi};la.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(e){return $t(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:oa.tooltip_compare,gravity:"ne",click:qi};function qi(e,r){var t=r.currentTarget,a=t.getAttribute("data-attr"),n=t.getAttribute("data-val")||!0,i=e._fullLayout,o={},l=CR.list(e,null,!0),s=i._cartesianSpikesEnabled,u,f;if(a==="zoom"){var c=n==="in"?.5:2,h=(1+c)/2,d=(1-c)/2,p;for(f=0;f<l.length;f++)if(u=l[f],!u.fixedrange)if(p=u._name,n==="auto")o[p+".autorange"]=!0;else if(n==="reset")u._rangeInitial0===void 0&&u._rangeInitial1===void 0?o[p+".autorange"]=!0:u._rangeInitial0===void 0?(o[p+".autorange"]=u._autorangeInitial,o[p+".range"]=[null,u._rangeInitial1]):u._rangeInitial1===void 0?(o[p+".range"]=[u._rangeInitial0,null],o[p+".autorange"]=u._autorangeInitial):o[p+".range"]=[u._rangeInitial0,u._rangeInitial1],u._showSpikeInitial!==void 0&&(o[p+".showspikes"]=u._showSpikeInitial,s==="on"&&!u._showSpikeInitial&&(s="off"));else{var g=[u.r2l(u.range[0]),u.r2l(u.range[1])],y=[h*g[0]+d*g[1],h*g[1]+d*g[0]];o[p+".range[0]"]=u.l2r(y[0]),o[p+".range[1]"]=u.l2r(y[1])}}else a==="hovermode"&&(n==="x"||n==="y")&&(n=i._isHoriz?"y":"x",t.setAttribute("data-val",n)),o[a]=n;i._cartesianSpikesEnabled=s,jo.call("_guiRelayout",e,o)}la.zoom3d={name:"zoom3d",_cat:"zoom",title:function(e){return $t(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:oa.zoombox,click:B2};la.pan3d={name:"pan3d",_cat:"pan",title:function(e){return $t(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:oa.pan,click:B2};la.orbitRotation={name:"orbitRotation",title:function(e){return $t(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:oa["3d_rotate"],click:B2};la.tableRotation={name:"tableRotation",title:function(e){return $t(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:oa["z-axis"],click:B2};function B2(e,r){for(var t=r.currentTarget,a=t.getAttribute("data-attr"),n=t.getAttribute("data-val")||!0,i=e._fullLayout._subplots.gl3d||[],o={},l=a.split("."),s=0;s<i.length;s++)o[i[s]+"."+l[1]]=n;var u=n==="pan"?n:"zoom";o.dragmode=u,jo.call("_guiRelayout",e,o)}la.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(e){return $t(e,"Reset camera to default")},attr:"resetDefault",icon:oa.home,click:Jw};la.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(e){return $t(e,"Reset camera to last save")},attr:"resetLastSave",icon:oa.movie,click:Jw};function Jw(e,r){for(var t=r.currentTarget,a=t.getAttribute("data-attr"),n=a==="resetLastSave",i=a==="resetDefault",o=e._fullLayout,l=o._subplots.gl3d||[],s={},u=0;u<l.length;u++){var f=l[u],c=f+".camera",h=f+".aspectratio",d=f+".aspectmode",p=o[f]._scene,g;n?(s[c+".up"]=p.viewInitial.up,s[c+".eye"]=p.viewInitial.eye,s[c+".center"]=p.viewInitial.center,g=!0):i&&(s[c+".up"]=null,s[c+".eye"]=null,s[c+".center"]=null,g=!0),g&&(s[h+".x"]=p.viewInitial.aspectratio.x,s[h+".y"]=p.viewInitial.aspectratio.y,s[h+".z"]=p.viewInitial.aspectratio.z,s[d]=p.viewInitial.aspectmode)}jo.call("_guiRelayout",e,s)}la.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(e){return $t(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:oa.tooltip_basic,gravity:"ne",click:Fve};function ER(e,r){var t=r.currentTarget,a=t._previousVal,n=e._fullLayout,i=n._subplots.gl3d||[],o=["xaxis","yaxis","zaxis"],l={},s={};if(a)s=a,t._previousVal=null;else{for(var u=0;u<i.length;u++){var f=i[u],c=n[f],h=f+".hovermode";l[h]=c.hovermode,s[h]=!1;for(var d=0;d<3;d++){var p=o[d],g=f+"."+p+".showspikes";s[g]=!1,l[g]=c[p].showspikes}}t._previousVal=l}return s}function Fve(e,r){var t=ER(e,r);jo.call("_guiRelayout",e,t)}la.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(e){return $t(e,"Zoom in")},attr:"zoom",val:"in",icon:oa.zoom_plus,click:$w};la.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(e){return $t(e,"Zoom out")},attr:"zoom",val:"out",icon:oa.zoom_minus,click:$w};la.resetGeo={name:"resetGeo",_cat:"reset",title:function(e){return $t(e,"Reset")},attr:"reset",val:null,icon:oa.autoscale,click:$w};la.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(e){return $t(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:oa.tooltip_basic,gravity:"ne",click:qR};function $w(e,r){for(var t=r.currentTarget,a=t.getAttribute("data-attr"),n=t.getAttribute("data-val")||!0,i=e._fullLayout,o=i._subplots.geo||[],l=0;l<o.length;l++){var s=o[l],u=i[s];if(a==="zoom"){var f=u.projection.scale,c=n==="in"?2*f:.5*f;jo.call("_guiRelayout",e,s+".projection.scale",c)}}a==="reset"&&U0(e,"geo")}la.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(e){return $t(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:oa.tooltip_basic,gravity:"ne",click:qR};function LR(e){var r=e._fullLayout;return r.hovermode?!1:r._has("cartesian")?r._isHoriz?"y":"x":"closest"}function qR(e){var r=LR(e);jo.call("_guiRelayout",e,"hovermode",r)}la.resetViewSankey={name:"resetSankeyGroup",title:function(e){return $t(e,"Reset view")},icon:oa.home,click:function(e){for(var r={"node.groups":[],"node.x":[],"node.y":[]},t=0;t<e._fullData.length;t++){var a=e._fullData[t]._viewInitial;r["node.groups"].push(a.node.groups.slice()),r["node.x"].push(a.node.x.slice()),r["node.y"].push(a.node.y.slice())}jo.call("restyle",e,r)}};la.toggleHover={name:"toggleHover",title:function(e){return $t(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:oa.tooltip_basic,gravity:"ne",click:function(e,r){var t=ER(e,r);t.hovermode=LR(e),jo.call("_guiRelayout",e,t)}};la.resetViews={name:"resetViews",title:function(e){return $t(e,"Reset views")},icon:oa.home,click:function(e,r){var t=r.currentTarget;t.setAttribute("data-attr","zoom"),t.setAttribute("data-val","reset"),qi(e,r),t.setAttribute("data-attr","resetLastSave"),Jw(e,r),U0(e,"geo"),U0(e,"mapbox"),U0(e,"map")}};la.toggleSpikelines={name:"toggleSpikelines",title:function(e){return $t(e,"Toggle Spike Lines")},icon:oa.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var r=e._fullLayout,t=r._cartesianSpikesEnabled;r._cartesianSpikesEnabled=t==="on"?"off":"on",jo.call("_guiRelayout",e,Rve(e))}};function Rve(e){for(var r=e._fullLayout,t=r._cartesianSpikesEnabled==="on",a=CR.list(e,null,!0),n={},i=0;i<a.length;i++){var o=a[i];n[o._name+".showspikes"]=t?!0:o._showSpikeInitial}return n}la.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(e){return $t(e,"Reset view")},attr:"reset",icon:oa.home,click:function(e){U0(e,"mapbox")}};la.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(e){return $t(e,"Reset view")},attr:"reset",icon:oa.home,click:function(e){U0(e,"map")}};la.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(e){return $t(e,"Zoom in")},attr:"zoom",val:"in",icon:oa.zoom_plus,click:DR};la.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(e){return $t(e,"Zoom in")},attr:"zoom",val:"in",icon:oa.zoom_plus,click:FR};la.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(e){return $t(e,"Zoom out")},attr:"zoom",val:"out",icon:oa.zoom_minus,click:DR};la.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(e){return $t(e,"Zoom out")},attr:"zoom",val:"out",icon:oa.zoom_minus,click:FR};function DR(e,r){RR(e,r,"mapbox")}function FR(e,r){RR(e,r,"map")}function RR(e,r,t){for(var a=r.currentTarget,n=a.getAttribute("data-val"),i=e._fullLayout,o=i._subplots[t]||[],l=1.05,s={},u=0;u<o.length;u++){var f=o[u],c=i[f].zoom,h=n==="in"?l*c:c/l;s[f+".zoom"]=h}jo.call("_guiRelayout",e,s)}function U0(e,r){for(var t=e._fullLayout,a=t._subplots[r]||[],n={},i=0;i<a.length;i++)for(var o=a[i],l=t[o]._subplot,s=l.viewInitial,u=Object.keys(s),f=0;f<u.length;f++){var c=u[f];n[o+"."+c]=s[c]}jo.call("_guiRelayout",e,n)}});var Qw=R((uCe,zR)=>{"use strict";var NR=Kw(),Pve=Object.keys(NR),IR=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],OR=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(IR),H0=[],Nve=function(e){if(OR.indexOf(e._cat||e.name)===-1){var r=e.name,t=(e._cat||e.name).toLowerCase();H0.indexOf(r)===-1&&H0.push(r),H0.indexOf(t)===-1&&H0.push(t)}};Pve.forEach(function(e){Nve(NR[e])});H0.sort();zR.exports={DRAW_MODES:IR,backButtons:OR,foreButtons:H0}});var e6=R((cCe,BR)=>{"use strict";var fCe=Qw();BR.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}});var HR=R((vCe,UR)=>{"use strict";var Ive=fr(),D1=Vt(),Ove=Oa(),zve=e6();UR.exports=function(r,t){var a=r.modebar||{},n=Ove.newContainer(t,"modebar");function i(l,s){return Ive.coerce(a,n,zve,l,s)}i("orientation"),i("bgcolor",D1.addOpacity(t.paper_bgcolor,.5));var o=D1.contrast(D1.rgb(t.modebar.bgcolor));i("color",D1.addOpacity(o,.3)),i("activecolor",D1.addOpacity(o,.7)),i("uirevision",t.uirevision),i("add"),i("remove")}});var WR=R((hCe,YR)=>{"use strict";var r6=aa(),Bve=Zt(),U2=fr(),GR=A2(),Uve=Em().version,Hve=new DOMParser;function VR(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var cs=VR.prototype;cs.update=function(e,r){this.graphInfo=e;var t=this.graphInfo._context,a=this.graphInfo._fullLayout,n="modebar-"+a._uid;this.element.setAttribute("id",n),this._uid=n,this.element.className="modebar",t.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),a.modebar.orientation==="v"&&(this.element.className+=" vertical",r=r.reverse());var i=a.modebar,o="#"+n+" .modebar-group";document.querySelectorAll(o).forEach(function(c){c.style.backgroundColor=i.bgcolor}),U2.setStyleOnHover("#"+n+" .modebar-btn",".active",".icon path","fill: "+i.activecolor,"fill: "+i.color);var l=!this.hasButtons(r),s=this.hasLogo!==t.displaylogo,u=this.locale!==t.locale;if(this.locale=t.locale,(l||s||u)&&(this.removeAllButtons(),this.updateButtons(r),t.watermark||t.displaylogo)){var f=this.getLogo();t.watermark&&(f.className=f.className+" watermark"),a.modebar.orientation==="v"?this.element.insertBefore(f,this.element.childNodes[0]):this.element.appendChild(f),this.hasLogo=!0}this.updateActiveButton()};cs.updateButtons=function(e){var r=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var a=r.createGroup();t.forEach(function(n){var i=n.name;if(!i)throw new Error("must provide button 'name' in button config");if(r.buttonsNames.indexOf(i)!==-1)throw new Error("button name '"+i+"' is taken");r.buttonsNames.push(i);var o=r.createButton(n);r.buttonElements.push(o),a.appendChild(o)}),r.element.appendChild(a)})};cs.createGroup=function(){var e=document.createElement("div");e.className="modebar-group";var r=this.graphInfo._fullLayout.modebar;return e.style.backgroundColor=r.bgcolor,e};cs.createButton=function(e){var r=this,t=document.createElement("a");t.setAttribute("rel","tooltip"),t.className="modebar-btn";var a=e.title;a===void 0?a=e.name:typeof a=="function"&&(a=a(this.graphInfo)),(a||a===0)&&t.setAttribute("data-title",a),e.attr!==void 0&&t.setAttribute("data-attr",e.attr);var n=e.val;n!==void 0&&(typeof n=="function"&&(n=n(this.graphInfo)),t.setAttribute("data-val",n));var i=e.click;if(typeof i!="function")throw new Error("must provide button 'click' function in button config");t.addEventListener("click",function(l){e.click(r.graphInfo,l),r.updateActiveButton(l.currentTarget)}),t.setAttribute("data-toggle",e.toggle||!1),e.toggle&&r6.select(t).classed("active",!0);var o=e.icon;return typeof o=="function"?t.appendChild(o()):t.appendChild(this.createIcon(o||GR.question)),t.setAttribute("data-gravity",e.gravity||"n"),t};cs.createIcon=function(e){var r=Bve(e.height)?Number(e.height):e.ascent-e.descent,t="http://www.w3.org/2000/svg",a;if(e.path){a=document.createElementNS(t,"svg"),a.setAttribute("viewBox",[0,0,e.width,r].join(" ")),a.setAttribute("class","icon");var n=document.createElementNS(t,"path");n.setAttribute("d",e.path),e.transform?n.setAttribute("transform",e.transform):e.ascent!==void 0&&n.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),a.appendChild(n)}if(e.svg){var i=Hve.parseFromString(e.svg,"application/xml");a=i.childNodes[0]}return a.setAttribute("height","1em"),a.setAttribute("width","1em"),a};cs.updateActiveButton=function(e){var r=this.graphInfo._fullLayout,t=e!==void 0?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(a){var n=a.getAttribute("data-val")||!0,i=a.getAttribute("data-attr"),o=a.getAttribute("data-toggle")==="true",l=r6.select(a),s=function(c,h){var d=r.modebar,p=c.querySelector(".icon path");p&&(h||c.matches(":hover")?p.style.fill=d.activecolor:p.style.fill=d.color)};if(o){if(i===t){var u=!l.classed("active");l.classed("active",u),s(a,u)}}else{var f=i===null?i:U2.nestedProperty(r,i).get();l.classed("active",f===n),s(a,f===n)}})};cs.hasButtons=function(e){var r=this.buttons;if(!r||e.length!==r.length)return!1;for(var t=0;t<e.length;++t){if(e[t].length!==r[t].length)return!1;for(var a=0;a<e[t].length;a++)if(e[t][a].name!==r[t][a].name)return!1}return!0};function Gve(e){return e+" (v"+Uve+")"}cs.getLogo=function(){var e=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",Gve(U2._(this.graphInfo,"Produced with Plotly.js"))),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(GR.newplotlylogo)),e.appendChild(r),e};cs.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1};cs.destroy=function(){U2.removeElement(this.container.querySelector(".modebar"))};function Vve(e,r){var t=e._fullLayout,a=new VR({graphInfo:e,container:t._modebardiv.node(),buttons:r});return t._privateplot&&r6.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}YR.exports=Vve});var ZR=R((dCe,XR)=>{"use strict";var Yve=yn(),jR=gi(),t6=_t(),Wve=ns().isUnifiedHover,jve=WR(),H2=Kw(),Xve=Qw().DRAW_MODES,Zve=fr().extendDeep;XR.exports=function(r){var t=r._fullLayout,a=r._context,n=t._modeBar;if(!a.displayModeBar&&!a.watermark){n&&(n.destroy(),delete t._modeBar);return}if(!Array.isArray(a.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(a.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var i=a.modeBarButtons,o;Array.isArray(i)&&i.length?o=r0e(i):!a.displayModeBar&&a.watermark?o=[]:o=Jve(r),n?n.update(r,o):t._modeBar=jve(r,o)};function Jve(e){var r=e._fullLayout,t=e._fullData,a=e._context;function n(O,G){if(typeof G=="string"){if(G.toLowerCase()===O.toLowerCase())return!0}else{var Z=G.name,Q=G._cat||G.name;if(Z===O||Q===O.toLowerCase())return!0}return!1}var i=r.modebar.add;typeof i=="string"&&(i=[i]);var o=r.modebar.remove;typeof o=="string"&&(o=[o]);var l=a.modeBarButtonsToAdd.concat(i.filter(function(O){for(var G=0;G<a.modeBarButtonsToRemove.length;G++)if(n(O,a.modeBarButtonsToRemove[G]))return!1;return!0})),s=a.modeBarButtonsToRemove.concat(o.filter(function(O){for(var G=0;G<a.modeBarButtonsToAdd.length;G++)if(n(O,a.modeBarButtonsToAdd[G]))return!1;return!0})),u=r._has("cartesian"),f=r._has("gl3d"),c=r._has("geo"),h=r._has("pie"),d=r._has("funnelarea"),p=r._has("ternary"),g=r._has("mapbox"),y=r._has("map"),b=r._has("polar"),_=r._has("smith"),w=r._has("sankey"),x=$ve(r),T=Wve(r.hovermode),S=[];function M(O){if(O.length){for(var G=[],Z=0;Z<O.length;Z++){for(var Q=O[Z],ie=H2[Q],be=ie.name.toLowerCase(),ne=(ie._cat||ie.name).toLowerCase(),de=!1,K=0;K<s.length;K++){var me=s[K].toLowerCase();if(me===be||me===ne){de=!0;break}}de||G.push(H2[Q])}S.push(G)}}var C=["toImage"];a.showEditInChartStudio?C.push("editInChartStudio"):a.showSendToCloud&&C.push("sendDataToCloud"),M(C);var q=[],F=[],P=[],I=[];(u||h||d||p)+c+f+g+y+b+_>1?(F=["toggleHover"],P=["resetViews"]):c?(q=["zoomInGeo","zoomOutGeo"],F=["hoverClosestGeo"],P=["resetGeo"]):f?(F=["hoverClosest3d"],P=["resetCameraDefault3d","resetCameraLastSave3d"]):g?(q=["zoomInMapbox","zoomOutMapbox"],F=["toggleHover"],P=["resetViewMapbox"]):y?(q=["zoomInMap","zoomOutMap"],F=["toggleHover"],P=["resetViewMap"]):h?F=["hoverClosestPie"]:w?(F=["hoverClosestCartesian","hoverCompareCartesian"],P=["resetViewSankey"]):F=["toggleHover"],u&&F.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(Qve(t)||T)&&(F=[]),u&&!x&&(q=["zoomIn2d","zoomOut2d","autoScale2d"],P[0]!=="resetViews"&&(P=["resetScale2d"])),f?I=["zoom3d","pan3d","orbitRotation","tableRotation"]:u&&!x||p?I=["zoom2d","pan2d"]:g||y||c?I=["pan2d"]:b&&(I=["zoom2d"]),Kve(t)&&I.push("select2d","lasso2d");var H=[],V=function(O){H.indexOf(O)===-1&&F.indexOf(O)!==-1&&H.push(O)};if(Array.isArray(l)){for(var j=[],W=0;W<l.length;W++){var z=l[W];typeof z=="string"?(z=z.toLowerCase(),Xve.indexOf(z)!==-1?(r._has("mapbox")||r._has("map")||r._has("cartesian"))&&I.push(z):z==="togglespikelines"?V("toggleSpikelines"):z==="togglehover"?V("toggleHover"):z==="hovercompare"?V("hoverCompareCartesian"):z==="hoverclosest"?(V("hoverClosestCartesian"),V("hoverClosestGeo"),V("hoverClosest3d"),V("hoverClosestPie")):z==="v1hovermode"&&(V("hoverClosestCartesian"),V("hoverCompareCartesian"),V("hoverClosestGeo"),V("hoverClosest3d"),V("hoverClosestPie"))):j.push(z)}l=j}return M(I),M(q.concat(P)),M(H),e0e(S,l)}function $ve(e){for(var r=Yve.list({_fullLayout:e},null,!0),t=0;t<r.length;t++)if(!r[t].fixedrange)return!1;return!0}function Kve(e){for(var r=!1,t=0;t<e.length&&!r;t++){var a=e[t];!a._module||!a._module.selectPoints||(t6.traceIs(a,"scatter-like")?(jR.hasMarkers(a)||jR.hasText(a))&&(r=!0):t6.traceIs(a,"box-violin")?(a.boxpoints==="all"||a.points==="all")&&(r=!0):r=!0)}return r}function Qve(e){for(var r=0;r<e.length;r++)if(!t6.traceIs(e[r],"noHover"))return!1;return!0}function e0e(e,r){if(r.length)if(Array.isArray(r[0]))for(var t=0;t<r.length;t++)e.push(r[t]);else e.push(r);return e}function r0e(e){for(var r=Zve([],e),t=0;t<r.length;t++)for(var a=r[t],n=0;n<a.length;n++){var i=a[n];if(typeof i=="string")if(H2[i]!==void 0)r[t][n]=H2[i];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return r}});var a6=R((pCe,JR)=>{"use strict";JR.exports={moduleType:"component",name:"modebar",layoutAttributes:e6(),supplyLayoutDefaults:HR(),manage:ZR()}});var n6=R((yCe,$R)=>{"use strict";var t0e=ki().FROM_BL;$R.exports=function(r,t,a){a===void 0&&(a=t0e[r.constraintoward||"center"]);var n=[r.r2l(r.range[0]),r.r2l(r.range[1])],i=n[0]+(n[1]-n[0])*a;r.range=r._input.range=[r.l2r(i+(n[0]-i)*t),r.l2r(i+(n[1]-i)*t)],r.setScale()}});var G0=R(F1=>{"use strict";var Pc=fr(),i6=S0(),Ml=yn().id2name,a0e=xl(),KR=n6(),n0e=Wg(),i0e=vn().ALMOST_EQUAL,o0e=ki().FROM_BL;F1.handleDefaults=function(e,r,t){var a=t.axIds,n=t.axHasImage,i=r._axisConstraintGroups=[],o=r._axisMatchGroups=[],l,s,u,f,c,h,d,p;for(l=0;l<a.length;l++)f=Ml(a[l]),c=e[f],h=r[f],l0e(c,h,{axIds:a,layoutOut:r,hasImage:n[f]});function g(C,q){for(l=0;l<C.length;l++){s=C[l];for(u in s)r[Ml(u)][q]=s}}for(g(o,"_matchGroup"),l=0;l<i.length;l++){s=i[l];for(u in s)if(h=r[Ml(u)],h.fixedrange){for(var y in s){var b=Ml(y);(e[b]||{}).fixedrange===!1&&Pc.warn("fixedrange was specified as false for axis "+b+" but was overridden because another axis in its constraint group has fixedrange true"),r[b].fixedrange=!0}break}}for(l=0;l<i.length;){s=i[l];for(u in s){h=r[Ml(u)],h._matchGroup&&Object.keys(h._matchGroup).length===Object.keys(s).length&&(i.splice(l,1),l--);break}l++}g(i,"_constraintGroup");var _=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],w=!1,x=!1;function T(){p=h[d],d==="rangebreaks"&&(x=h._hasDayOfWeekBreaks)}for(l=0;l<o.length;l++){s=o[l];for(var S=0;S<_.length;S++){d=_[S],p=null;var M;for(u in s)if(f=Ml(u),c=e[f],h=r[f],d in h){if(!h.matches&&(M=h,d in c)){T();break}p===null&&d in c&&T()}if(d==="range"&&p&&c.range&&c.range.length===2&&c.range[0]!==null&&c.range[1]!==null&&(w=!0),d==="autorange"&&p===null&&w&&(p=!1),p===null&&d in M&&(p=M[d]),p!==null)for(u in s)h=r[Ml(u)],h[d]=d==="range"?p.slice():p,d==="rangebreaks"&&(h._hasDayOfWeekBreaks=x,n0e(h,r))}}};function l0e(e,r,t){var a=t.axIds,n=t.layoutOut,i=t.hasImage,o=n._axisConstraintGroups,l=n._axisMatchGroups,s=r._id,u=s.charAt(0),f=((n._splomAxes||{})[u]||{})[s]||{},c=r._id,h=c.charAt(0)==="x";r._matchGroup=null,r._constraintGroup=null;function d(I,H){return Pc.coerce(e,r,a0e,I,H)}d("constrain",i?"domain":"range"),Pc.coerce(e,r,{constraintoward:{valType:"enumerated",values:h?["left","center","right"]:["bottom","middle","top"],dflt:h?"center":"middle"}},"constraintoward");var p=r.type,g,y,b=[];for(g=0;g<a.length;g++)if(y=a[g],y!==c){var _=n[Ml(y)];_.type===p&&b.push(y)}var w=rP(o,c);if(w){var x=[];for(g=0;g<b.length;g++)y=b[g],w[y]||x.push(y);b=x}var T=b.length,S,M;T&&(e.matches||f.matches)&&(S=Pc.coerce(e,r,{matches:{valType:"enumerated",values:b,dflt:b.indexOf(f.matches)!==-1?f.matches:void 0}},"matches"));var C=i&&!h?r.anchor:void 0;if(T&&!S&&(e.scaleanchor||C)&&(M=Pc.coerce(e,r,{scaleanchor:{valType:"enumerated",values:b.concat([!1])}},"scaleanchor",C)),S){r._matchGroup=o6(l,c,S,1);var q=n[Ml(S)],F=QR(n,r)/QR(n,q);h!==(S.charAt(0)==="x")&&(F=(h?"x":"y")+F),o6(o,c,S,F)}else e.matches&&a.indexOf(e.matches)!==-1&&Pc.warn("ignored "+r._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(M){var P=d("scaleratio");P||(P=r.scaleratio=1),o6(o,c,M,P)}else e.scaleanchor&&a.indexOf(e.scaleanchor)!==-1&&Pc.warn("ignored "+r._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function QR(e,r){var t=r.domain;return t||(t=e[Ml(r.overlaying)].domain),t[1]-t[0]}function rP(e,r){for(var t=0;t<e.length;t++)if(e[t][r])return e[t];return null}function o6(e,r,t,a){var n,i,o,l,s,u=rP(e,r);u===null?(u={},u[r]=1,s=e.length,e.push(u)):s=e.indexOf(u);var f=Object.keys(u);for(n=0;n<e.length;n++)if(o=e[n],n!==s&&o[t]){var c=o[t];for(i=0;i<f.length;i++)l=f[i],o[l]=l6(c,l6(a,u[l]));e.splice(s,1);return}if(a!==1)for(i=0;i<f.length;i++){var h=f[i];u[h]=l6(a,u[h])}u[t]=1}function l6(e,r){var t="",a="",n,i;typeof e=="string"&&(t=e.match(/^[xy]*/)[0],n=t.length,e=+e.substr(n)),typeof r=="string"&&(a=r.match(/^[xy]*/)[0],i=a.length,r=+r.substr(i));var o=e*r;return!n&&!i?o:!n||!i||t.charAt(0)===a.charAt(0)?t+a+e*r:n===i?o:(n>i?t.substr(i):a.substr(n))+o}function s0e(e,r){for(var t=r._size,a=t.h/t.w,n={},i=Object.keys(e),o=0;o<i.length;o++){var l=i[o],s=e[l];if(typeof s=="string"){var u=s.match(/^[xy]*/)[0],f=u.length;s=+s.substr(f);for(var c=u.charAt(0)==="y"?a:1/a,h=0;h<f;h++)s*=c}n[l]=s}return n}F1.enforce=function(r){var t=r._fullLayout,a=t._axisConstraintGroups||[],n,i,o,l,s,u,f,c;for(n=0;n<a.length;n++){o=s0e(a[n],t);var h=Object.keys(o),d=1/0,p=0,g=1/0,y={},b={},_=!1;for(i=0;i<h.length;i++)l=h[i],b[l]=s=t[Ml(l)],s._inputDomain?s.domain=s._inputDomain.slice():s._inputDomain=s.domain.slice(),s._inputRange||(s._inputRange=s.range.slice()),s.setScale(),y[l]=u=Math.abs(s._m)/o[l],d=Math.min(d,u),(s.constrain==="domain"||!s._constraintShrinkable)&&(g=Math.min(g,u)),delete s._constraintShrinkable,p=Math.max(p,u),s.constrain==="domain"&&(_=!0);if(!(d>i0e*p&&!_)){for(i=0;i<h.length;i++)if(l=h[i],u=y[l],s=b[l],f=s.constrain,u!==g||f==="domain")if(c=u/g,f==="range")KR(s,c);else{var w=s._inputDomain,x=(s.domain[1]-s.domain[0])/(w[1]-w[0]),T=(s.r2l(s.range[1])-s.r2l(s.range[0]))/(s.r2l(s._inputRange[1])-s.r2l(s._inputRange[0]));if(c/=x,c*T<1){s.domain=s._input.domain=w.slice(),KR(s,c);continue}if(T<1&&(s.range=s._input.range=s._inputRange.slice(),c*=T),s.autorange){var S=s.r2l(s.range[0]),M=s.r2l(s.range[1]),C=(S+M)/2,q=C,F=C,P=Math.abs(M-C),I=C-P*c*1.0001,H=C+P*c*1.0001,V=i6.makePadFn(t,s,0),j=i6.makePadFn(t,s,1);eP(s,c);var W=Math.abs(s._m),z=i6.concatExtremes(r,s),O=z.min,G=z.max,Z,Q;for(Q=0;Q<O.length;Q++)Z=O[Q].val-V(O[Q])/W,Z>I&&Z<q&&(q=Z);for(Q=0;Q<G.length;Q++)Z=G[Q].val+j(G[Q])/W,Z<H&&Z>F&&(F=Z);var ie=(F-q)/(2*P);c/=ie,q=s.l2r(q),F=s.l2r(F),s.range=s._input.range=S<M?[q,F]:[F,q]}eP(s,c)}}}};F1.getAxisGroup=function(r,t){for(var a=r._axisMatchGroups,n=0;n<a.length;n++){var i=a[n];if(i[t])return"g"+n}return t};F1.clean=function(r,t){if(t._inputDomain){for(var a=!1,n=t._id,i=r._fullLayout._axisConstraintGroups,o=0;o<i.length;o++)if(i[o][n]){a=!0;break}(!a||t.constrain!=="domain")&&(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}};function eP(e,r){var t=e._inputDomain,a=o0e[e.constraintoward],n=t[0]+(t[1]-t[0])*a;e.domain=e._input.domain=[n+(t[0]-n)/r,n+(t[1]-n)/r],e.setScale()}});var Y2=R(Zn=>{"use strict";var V2=aa(),Di=_t(),Co=Wn(),Xo=fr(),s6=Ci(),u6=w2(),R1=Vt(),V0=Sa(),tP=g1(),lP=a6(),P1=qa(),ru=ki(),sP=G0(),u0e=sP.enforce,f0e=sP.clean,aP=S0().doAutoRange,uP="start",c0e="middle",fP="end",v0e=ui().zindexSeparator;Zn.layoutStyles=function(e){return Xo.syncOrAsync([Co.doAutoMargin,d0e],e)};function h0e(e,r,t){for(var a=0;a<t.length;a++){var n=t[a][0],i=t[a][1];if(!(n[0]>=e[1]||n[1]<=e[0])&&i[0]<r[1]&&i[1]>r[0])return!0}return!1}function d0e(e){var r=e._fullLayout,t=r._size,a=t.p,n=P1.list(e,"",!0),i,o,l,s,u,f;if(r._paperdiv.style({width:e._context.responsive&&r.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":r.width+"px",height:e._context.responsive&&r.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":r.height+"px"}).selectAll(".main-svg").call(V0.setSize,r.width,r.height),e._context.setBackground(e,r.paper_bgcolor),Zn.drawMainTitle(e),lP.manage(e),!r._has("cartesian"))return Co.previousPromises(e);function c(Ae,Y,ae){var X=Ae._lw/2;if(Ae._id.charAt(0)==="x"){if(Y){if(ae==="top")return Y._offset-a-X}else return t.t+t.h*(1-(Ae.position||0))+X%1;return Y._offset+Y._length+a+X}if(Y){if(ae==="right")return Y._offset+Y._length+a+X}else return t.l+t.w*(Ae.position||0)+X%1;return Y._offset-a-X}for(i=0;i<n.length;i++){s=n[i];var h=s._anchorAxis;s._linepositions={},s._lw=V0.crispRound(e,s.linewidth,1),s._mainLinePosition=c(s,h,s.side),s._mainMirrorPosition=s.mirror&&h?c(s,h,ru.OPPOSITE_SIDE[s.side]):null}var d=[],p=[],g=[],y=R1.opacity(r.paper_bgcolor)===1&&R1.opacity(r.plot_bgcolor)===1&&r.paper_bgcolor===r.plot_bgcolor;for(o in r._plots)if(l=r._plots[o],l.mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var b=l.xaxis.domain,_=l.yaxis.domain,w=l.plotgroup;if(h0e(b,_,g)&&o.indexOf(v0e)===-1){var x=w.node(),T=l.bg=Xo.ensureSingle(w,"rect","bg");x.insertBefore(T.node(),x.childNodes[0]),p.push(o)}else w.select("rect.bg").remove(),g.push([b,_]),y||(d.push(o),p.push(o))}var S=r._bgLayer.selectAll(".bg").data(d);for(S.enter().append("rect").classed("bg",!0),S.exit().remove(),S.each(function(Ae){r._plots[Ae].bg=V2.select(this)}),i=0;i<p.length;i++)l=r._plots[p[i]],u=l.xaxis,f=l.yaxis,l.bg&&u._offset!==void 0&&f._offset!==void 0&&l.bg.call(V0.setRect,u._offset-a,f._offset-a,u._length+2*a,f._length+2*a).call(R1.fill,r.plot_bgcolor).style("stroke-width",0);if(!r._hasOnlyLargeSploms)for(o in r._plots){l=r._plots[o],u=l.xaxis,f=l.yaxis;var M=l.clipId="clip"+r._uid+o+"plot",C=Xo.ensureSingleById(r._clips,"clipPath",M,function(Ae){Ae.classed("plotclip",!0).append("rect")});l.clipRect=C.select("rect").attr({width:u._length,height:f._length}),V0.setTranslate(l.plot,u._offset,f._offset);var q,F;l._hasClipOnAxisFalse?(q=null,F=M):(q=M,F=null),V0.setClipUrl(l.plot,q,e),l.layerClipId=F}var P,I,H,V,j,W,z,O,G,Z,Q,ie,be;function ne(Ae){return"M"+P+","+Ae+"H"+I}function de(Ae){return"M"+u._offset+","+Ae+"h"+u._length}function K(Ae){return"M"+Ae+","+O+"V"+z}function me(Ae){return f._shift!==void 0&&(Ae+=f._shift),"M"+Ae+","+f._offset+"v"+f._length}function fe(Ae,Y,ae){if(!Ae.showline||o!==Ae._mainSubplot)return"";if(!Ae._anchorAxis)return ae(Ae._mainLinePosition);var X=Y(Ae._mainLinePosition);return Ae.mirror&&(X+=Y(Ae._mainMirrorPosition)),X}for(o in r._plots){l=r._plots[o],u=l.xaxis,f=l.yaxis;var ke="M0,0";nP(u,o)&&(j=G2(u,"left",f,n),P=u._offset-(j?a+j:0),W=G2(u,"right",f,n),I=u._offset+u._length+(W?a+W:0),H=c(u,f,"bottom"),V=c(u,f,"top"),be=!u._anchorAxis||o!==u._mainSubplot,be&&(u.mirror==="allticks"||u.mirror==="all")&&(u._linepositions[o]=[H,V]),ke=fe(u,ne,de),be&&u.showline&&(u.mirror==="all"||u.mirror==="allticks")&&(ke+=ne(H)+ne(V)),l.xlines.style("stroke-width",u._lw+"px").call(R1.stroke,u.showline?u.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",ke);var ve="M0,0";nP(f,o)&&(Q=G2(f,"bottom",u,n),z=f._offset+f._length+(Q?a:0),ie=G2(f,"top",u,n),O=f._offset-(ie?a:0),G=c(f,u,"left"),Z=c(f,u,"right"),be=!f._anchorAxis||o!==f._mainSubplot,be&&(f.mirror==="allticks"||f.mirror==="all")&&(f._linepositions[o]=[G,Z]),ve=fe(f,K,me),be&&f.showline&&(f.mirror==="all"||f.mirror==="allticks")&&(ve+=K(G)+K(Z)),l.ylines.style("stroke-width",f._lw+"px").call(R1.stroke,f.showline?f.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",ve)}return P1.makeClipPaths(e),Co.previousPromises(e)}function nP(e,r){return(e.ticks||e.showline)&&(r===e._mainSubplot||e.mirror==="all"||e.mirror==="allticks")}function iP(e,r,t){if(!t.showline||!t._lw)return!1;if(t.mirror==="all"||t.mirror==="allticks")return!0;var a=t._anchorAxis;if(!a)return!1;var n=ru.FROM_BL[r];return t.side===r?a.domain[n]===e.domain[n]:t.mirror&&a.domain[1-n]===e.domain[1-n]}function G2(e,r,t,a){if(iP(e,r,t))return t._lw;for(var n=0;n<a.length;n++){var i=a[n];if(i._mainAxis===t._mainAxis&&iP(e,r,i))return i._lw}return 0}Zn.drawMainTitle=function(e){var r=e._fullLayout.title,t=e._fullLayout,a=_0e(t),n=w0e(t),i=x0e(t,n),o=b0e(t,a);if(tP.draw(e,"gtitle",{propContainer:t,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:t._dfltTitle.plot,subtitlePlaceholder:t._dfltTitle.subtitle,attributes:{x:o,y:i,"text-anchor":a,dy:n}}),r.text&&r.automargin){var l=V2.selectAll(".gtitle"),s=V0.bBox(V2.selectAll(".g-gtitle").node()).height,u=m0e(e,r,s);if(u>0){g0e(e,i,u,s),l.attr({x:o,y:i,"text-anchor":a,dy:oP(r.yanchor)}).call(s6.positionText,o,i);var f=(r.text.match(s6.BR_TAG_ALL)||[]).length;if(f){var c=ru.LINE_SPACING*f+ru.MID_SHIFT;r.y===0&&(c=-c),l.selectAll(".line").each(function(){var y=+this.getAttribute("dy").slice(0,-2)-c+"em";this.setAttribute("dy",y)})}var h=V2.selectAll(".gtitle-subtitle");if(h.node()){var d=l.node().getBBox(),p=d.y+d.height,g=p+tP.SUBTITLE_PADDING_EM*r.subtitle.font.size;h.attr({x:o,y:g,"text-anchor":a,dy:oP(r.yanchor)}).call(s6.positionText,o,g)}}}};function p0e(e,r,t,a,n){var i=r.yref==="paper"?e._fullLayout._size.h:e._fullLayout.height,o=Xo.isTopAnchor(r)?a:a-n,l=t==="b"?i-o:o;return Xo.isTopAnchor(r)&&t==="t"||Xo.isBottomAnchor(r)&&t==="b"?!1:l<n}function y0e(e,r,t,a,n){var i=0;return t==="middle"&&(i+=n/2),e==="t"?(t==="top"&&(i+=n),i+=a-r*a):(t==="bottom"&&(i+=n),i+=r*a),i}function m0e(e,r,t){var a=r.y,n=r.yanchor,i=a>.5?"t":"b",o=e._fullLayout.margin[i],l=0;return r.yref==="paper"?l=t+r.pad.t+r.pad.b:r.yref==="container"&&(l=y0e(i,a,n,e._fullLayout.height,t)+r.pad.t+r.pad.b),l>o?l:0}function g0e(e,r,t,a){var n="title.automargin",i=e._fullLayout.title,o=i.y>.5?"t":"b",l={x:i.x,y:i.y,t:0,b:0},s={};i.yref==="paper"&&p0e(e,i,o,r,a)?l[o]=t:i.yref==="container"&&(s[o]=t,e._fullLayout._reservedMargin[n]=s),Co.allowAutoMargin(e,n),Co.autoMargin(e,n,l)}function b0e(e,r){var t=e.title,a=e._size,n=0;switch(r===uP?n=t.pad.l:r===fP&&(n=-t.pad.r),t.xref){case"paper":return a.l+a.w*t.x+n;case"container":default:return e.width*t.x+n}}function x0e(e,r){var t=e.title,a=e._size,n=0;if(r==="0em"||!r?n=-t.pad.b:r===ru.CAP_SHIFT+"em"&&(n=t.pad.t),t.y==="auto")return a.t/2;switch(t.yref){case"paper":return a.t+a.h-a.h*t.y+n;case"container":default:return e.height-e.height*t.y+n}}function oP(e){return e==="top"?ru.CAP_SHIFT+.3+"em":e==="bottom"?"-0.3em":ru.MID_SHIFT+"em"}function _0e(e){var r=e.title,t=c0e;return Xo.isRightAnchor(r)?t=fP:Xo.isLeftAnchor(r)&&(t=uP),t}function w0e(e){var r=e.title,t="0em";return Xo.isTopAnchor(r)?t=ru.CAP_SHIFT+"em":Xo.isMiddleAnchor(r)&&(t=ru.MID_SHIFT+"em"),t}Zn.doTraceStyle=function(e){var r=e.calcdata,t=[],a;for(a=0;a<r.length;a++){var n=r[a],i=n[0]||{},o=i.trace||{},l=o._module||{},s=l.arraysToCalcdata;s&&s(n,o);var u=l.editStyle;u&&t.push({fn:u,cd0:i})}if(t.length){for(a=0;a<t.length;a++){var f=t[a];f.fn(e,f.cd0)}u6(e),Zn.redrawReglTraces(e)}return Co.style(e),Di.getComponentMethod("legend","draw")(e),Co.previousPromises(e)};Zn.doColorBars=function(e){return Di.getComponentMethod("colorbar","draw")(e),Co.previousPromises(e)};Zn.layoutReplot=function(e){var r=e.layout;return e.layout=void 0,Di.call("_doPlot",e,"",r)};Zn.doLegend=function(e){return Di.getComponentMethod("legend","draw")(e),Co.previousPromises(e)};Zn.doTicksRelayout=function(e){return P1.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(Di.subplotsRegistry.splom.updateGrid(e),u6(e),Zn.redrawReglTraces(e)),Zn.drawMainTitle(e),Co.previousPromises(e)};Zn.doModeBar=function(e){var r=e._fullLayout;lP.manage(e);for(var t=0;t<r._basePlotModules.length;t++){var a=r._basePlotModules[t].updateFx;a&&a(e)}return Co.previousPromises(e)};Zn.doCamera=function(e){for(var r=e._fullLayout,t=r._subplots.gl3d,a=0;a<t.length;a++){var n=r[t[a]],i=n._scene;i.setViewport(n)}};Zn.drawData=function(e){var r=e._fullLayout;u6(e);for(var t=r._basePlotModules,a=0;a<t.length;a++)t[a].plot(e);return Zn.redrawReglTraces(e),Co.style(e),Di.getComponentMethod("selections","draw")(e),Di.getComponentMethod("shapes","draw")(e),Di.getComponentMethod("annotations","draw")(e),Di.getComponentMethod("images","draw")(e),r._replotting=!1,Co.previousPromises(e)};Zn.redrawReglTraces=function(e){var r=e._fullLayout;if(r._has("regl")){var t=e._fullData,a=[],n=[],i,o;for(r._hasOnlyLargeSploms&&r._splomGrid.draw(),i=0;i<t.length;i++){var l=t[i];l.visible===!0&&l._length!==0&&(l.type==="splom"?r._splomScenes[l.uid].draw():l.type==="scattergl"?Xo.pushUnique(a,l.xaxis+l.yaxis):l.type==="scatterpolargl"&&Xo.pushUnique(n,l.subplot))}for(i=0;i<a.length;i++)o=r._plots[a[i]],o._scene&&o._scene.draw();for(i=0;i<n.length;i++)o=r[n[i]]._subplot,o._scene&&o._scene.draw()}};Zn.doAutoRangeAndConstraints=function(e){for(var r=P1.list(e,"",!0),t,a={},n=0;n<r.length;n++)if(t=r[n],!a[t._id]){a[t._id]=1,f0e(e,t),aP(e,t);var i=t._matchGroup;if(i)for(var o in i){var l=P1.getFromId(e,o);aP(e,l,t.range),a[o]=1}}u0e(e)};Zn.finalDraw=function(e){Di.getComponentMethod("rangeslider","draw")(e),Di.getComponentMethod("rangeselector","draw")(e)};Zn.drawMarginPushers=function(e){Di.getComponentMethod("legend","draw")(e),Di.getComponentMethod("rangeselector","draw")(e),Di.getComponentMethod("sliders","draw")(e),Di.getComponentMethod("updatemenus","draw")(e),Di.getComponentMethod("colorbar","draw")(e)}});var v6=R((bCe,pP)=>{"use strict";var A0e=ef().readPaths,T0e=R2(),cP=Wu().clearOutlineControllers,f6=Vt(),vP=Sa(),M0e=Oa().arrayEditor,hP=tf(),S0e=hP.getPathString;pP.exports={draw:W2,drawOne:dP,activateLastSelection:E0e};function W2(e){var r=e._fullLayout;cP(e),r._selectionLayer.selectAll("path").remove();for(var t in r._plots){var a=r._plots[t].selectionLayer;a&&a.selectAll("path").remove()}for(var n=0;n<r.selections.length;n++)dP(e,n)}function j2(e){return e._context.editSelection}function dP(e,r){e._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+r+'"]').remove();var t=hP.makeSelectionsOptionsAndPlotinfo(e,r),a=t.options,n=t.plotinfo;if(!a._input)return;i(e._fullLayout._selectionLayer);function i(o){var l=S0e(e,a),s={"data-index":r,"fill-rule":"evenodd",d:l},u=a.opacity,f="rgba(0,0,0,0)",c=a.line.color||f6.contrast(e._fullLayout.plot_bgcolor),h=a.line.width,d=a.line.dash;h||(h=5,d="solid");var p=j2(e)&&e._fullLayout._activeSelectionIndex===r;p&&(f=e._fullLayout.activeselection.fillcolor,u=e._fullLayout.activeselection.opacity);for(var g=[],y=1;y>=0;y--){var b=o.append("path").attr(s).style("opacity",y?.1:u).call(f6.stroke,c).call(f6.fill,f).call(vP.dashLine,y?"solid":d,y?4+h:h);if(k0e(b,e,a),p){var _=M0e(e.layout,"selections",a);b.style({cursor:"move"});var w={element:b.node(),plotinfo:n,gd:e,editHelpers:_,isActiveSelection:!0},x=A0e(l,e);T0e(x,b,w)}else b.style("pointer-events",y?"all":"none");g[y]=b}var T=g[0],S=g[1];S.node().addEventListener("click",function(){return C0e(e,T)})}}function k0e(e,r,t){var a=t.xref+t.yref;vP.setClipUrl(e,"clip"+r._fullLayout._uid+a,r)}function C0e(e,r){if(j2(e)){var t=r.node(),a=+t.getAttribute("data-index");if(a>=0){if(a===e._fullLayout._activeSelectionIndex){c6(e);return}e._fullLayout._activeSelectionIndex=a,e._fullLayout._deactivateSelection=c6,W2(e)}}}function E0e(e){if(j2(e)){var r=e._fullLayout.selections.length-1;e._fullLayout._activeSelectionIndex=r,e._fullLayout._deactivateSelection=c6,W2(e)}}function c6(e){if(j2(e)){var r=e._fullLayout._activeSelectionIndex;r>=0&&(cP(e),delete e._fullLayout._activeSelectionIndex,W2(e))}}});var mP=R((xCe,yP)=>{function L0e(){var e,r=0,t=!1;function a(n,i){return e.list.push({type:n,data:i?JSON.parse(JSON.stringify(i)):void 0}),e}return e={list:[],segmentId:function(){return r++},checkIntersection:function(n,i){return a("check",{seg1:n,seg2:i})},segmentChop:function(n,i){return a("div_seg",{seg:n,pt:i}),a("chop",{seg:n,pt:i})},statusRemove:function(n){return a("pop_seg",{seg:n})},segmentUpdate:function(n){return a("seg_update",{seg:n})},segmentNew:function(n,i){return a("new_seg",{seg:n,primary:i})},segmentRemove:function(n){return a("rem_seg",{seg:n})},tempStatus:function(n,i,o){return a("temp_status",{seg:n,above:i,below:o})},rewind:function(n){return a("rewind",{seg:n})},status:function(n,i,o){return a("status",{seg:n,above:i,below:o})},vert:function(n){return n===t?e:(t=n,a("vert",{x:n}))},log:function(n){return typeof n!="string"&&(n=JSON.stringify(n,!1,"  ")),a("log",{txt:n})},reset:function(){return a("reset")},selected:function(n){return a("selected",{segs:n})},chainStart:function(n){return a("chain_start",{seg:n})},chainRemoveHead:function(n,i){return a("chain_rem_head",{index:n,pt:i})},chainRemoveTail:function(n,i){return a("chain_rem_tail",{index:n,pt:i})},chainNew:function(n,i){return a("chain_new",{pt1:n,pt2:i})},chainMatch:function(n){return a("chain_match",{index:n})},chainClose:function(n){return a("chain_close",{index:n})},chainAddHead:function(n,i){return a("chain_add_head",{index:n,pt:i})},chainAddTail:function(n,i){return a("chain_add_tail",{index:n,pt:i})},chainConnect:function(n,i){return a("chain_con",{index1:n,index2:i})},chainReverse:function(n){return a("chain_rev",{index:n})},chainJoin:function(n,i){return a("chain_join",{index1:n,index2:i})},done:function(){return a("done")}},e}yP.exports=L0e});var bP=R((_Ce,gP)=>{function q0e(e){typeof e!="number"&&(e=1e-10);var r={epsilon:function(t){return typeof t=="number"&&(e=t),e},pointAboveOrOnLine:function(t,a,n){var i=a[0],o=a[1],l=n[0],s=n[1],u=t[0],f=t[1];return(l-i)*(f-o)-(s-o)*(u-i)>=-e},pointBetween:function(t,a,n){var i=t[1]-a[1],o=n[0]-a[0],l=t[0]-a[0],s=n[1]-a[1],u=l*o+i*s;if(u<e)return!1;var f=o*o+s*s;return!(u-f>-e)},pointsSameX:function(t,a){return Math.abs(t[0]-a[0])<e},pointsSameY:function(t,a){return Math.abs(t[1]-a[1])<e},pointsSame:function(t,a){return r.pointsSameX(t,a)&&r.pointsSameY(t,a)},pointsCompare:function(t,a){return r.pointsSameX(t,a)?r.pointsSameY(t,a)?0:t[1]<a[1]?-1:1:t[0]<a[0]?-1:1},pointsCollinear:function(t,a,n){var i=t[0]-a[0],o=t[1]-a[1],l=a[0]-n[0],s=a[1]-n[1];return Math.abs(i*s-l*o)<e},linesIntersect:function(t,a,n,i){var o=a[0]-t[0],l=a[1]-t[1],s=i[0]-n[0],u=i[1]-n[1],f=o*u-l*s;if(Math.abs(f)<e)return!1;var c=t[0]-n[0],h=t[1]-n[1],d=(s*h-u*c)/f,p=(o*h-l*c)/f,g={alongA:0,alongB:0,pt:[t[0]+d*o,t[1]+d*l]};return d<=-e?g.alongA=-2:d<e?g.alongA=-1:d-1<=-e?g.alongA=0:d-1<e?g.alongA=1:g.alongA=2,p<=-e?g.alongB=-2:p<e?g.alongB=-1:p-1<=-e?g.alongB=0:p-1<e?g.alongB=1:g.alongB=2,g},pointInsideRegion:function(t,a){for(var n=t[0],i=t[1],o=a[a.length-1][0],l=a[a.length-1][1],s=!1,u=0;u<a.length;u++){var f=a[u][0],c=a[u][1];c-i>e!=l-i>e&&(o-f)*(i-c)/(l-c)+f-n>e&&(s=!s),o=f,l=c}return s}};return r}gP.exports=q0e});var _P=R((wCe,xP)=>{var D0e={create:function(){var e={root:{root:!0,next:null},exists:function(r){return!(r===null||r===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(r,t){for(var a=e.root,n=e.root.next;n!==null;){if(t(n)){r.prev=n.prev,r.next=n,n.prev.next=r,n.prev=r;return}a=n,n=n.next}a.next=r,r.prev=a,r.next=null},findTransition:function(r){for(var t=e.root,a=e.root.next;a!==null&&!r(a);)t=a,a=a.next;return{before:t===e.root?null:t,after:a,insert:function(n){return n.prev=t,n.next=a,t.next=n,a!==null&&(a.prev=n),n}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};xP.exports=D0e});var AP=R((ACe,wP)=>{var N1=_P();function F0e(e,r,t){function a(p,g){return{id:t?t.segmentId():-1,start:p,end:g,myFill:{above:null,below:null},otherFill:null}}function n(p,g,y){return{id:t?t.segmentId():-1,start:p,end:g,myFill:{above:y.myFill.above,below:y.myFill.below},otherFill:null}}var i=N1.create();function o(p,g,y,b,_,w){var x=r.pointsCompare(g,_);return x!==0?x:r.pointsSame(y,w)?0:p!==b?p?1:-1:r.pointAboveOrOnLine(y,b?_:w,b?w:_)?1:-1}function l(p,g){i.insertBefore(p,function(y){var b=o(p.isStart,p.pt,g,y.isStart,y.pt,y.other.pt);return b<0})}function s(p,g){var y=N1.node({isStart:!0,pt:p.start,seg:p,primary:g,other:null,status:null});return l(y,p.end),y}function u(p,g,y){var b=N1.node({isStart:!1,pt:g.end,seg:g,primary:y,other:p,status:null});p.other=b,l(b,p.pt)}function f(p,g){var y=s(p,g);return u(y,p,g),y}function c(p,g){t&&t.segmentChop(p.seg,g),p.other.remove(),p.seg.end=g,p.other.pt=g,l(p.other,p.pt)}function h(p,g){var y=n(g,p.seg.end,p.seg);return c(p,g),f(y,p.primary)}function d(p,g){var y=N1.create();function b(j,W){var z=j.seg.start,O=j.seg.end,G=W.seg.start,Z=W.seg.end;return r.pointsCollinear(z,G,Z)?r.pointsCollinear(O,G,Z)||r.pointAboveOrOnLine(O,G,Z)?1:-1:r.pointAboveOrOnLine(z,G,Z)?1:-1}function _(j){return y.findTransition(function(W){var z=b(j,W.ev);return z>0})}function w(j,W){var z=j.seg,O=W.seg,G=z.start,Z=z.end,Q=O.start,ie=O.end;t&&t.checkIntersection(z,O);var be=r.linesIntersect(G,Z,Q,ie);if(be===!1){if(!r.pointsCollinear(G,Z,Q)||r.pointsSame(G,ie)||r.pointsSame(Z,Q))return!1;var ne=r.pointsSame(G,Q),de=r.pointsSame(Z,ie);if(ne&&de)return W;var K=!ne&&r.pointBetween(G,Q,ie),me=!de&&r.pointBetween(Z,Q,ie);if(ne)return me?h(W,Z):h(j,ie),W;K&&(de||(me?h(W,Z):h(j,ie)),h(W,G))}else be.alongA===0&&(be.alongB===-1?h(j,Q):be.alongB===0?h(j,be.pt):be.alongB===1&&h(j,ie)),be.alongB===0&&(be.alongA===-1?h(W,G):be.alongA===0?h(W,be.pt):be.alongA===1&&h(W,Z));return!1}for(var x=[];!i.isEmpty();){var T=i.getHead();if(t&&t.vert(T.pt[0]),T.isStart){let j=function(){if(M){var W=w(T,M);if(W)return W}return C?w(T,C):!1};var V=j;t&&t.segmentNew(T.seg,T.primary);var S=_(T),M=S.before?S.before.ev:null,C=S.after?S.after.ev:null;t&&t.tempStatus(T.seg,M?M.seg:!1,C?C.seg:!1);var q=j();if(q){if(e){var F;T.seg.myFill.below===null?F=!0:F=T.seg.myFill.above!==T.seg.myFill.below,F&&(q.seg.myFill.above=!q.seg.myFill.above)}else q.seg.otherFill=T.seg.myFill;t&&t.segmentUpdate(q.seg),T.other.remove(),T.remove()}if(i.getHead()!==T){t&&t.rewind(T.seg);continue}if(e){var F;T.seg.myFill.below===null?F=!0:F=T.seg.myFill.above!==T.seg.myFill.below,C?T.seg.myFill.below=C.seg.myFill.above:T.seg.myFill.below=p,F?T.seg.myFill.above=!T.seg.myFill.below:T.seg.myFill.above=T.seg.myFill.below}else if(T.seg.otherFill===null){var P;C?T.primary===C.primary?P=C.seg.otherFill.above:P=C.seg.myFill.above:P=T.primary?g:p,T.seg.otherFill={above:P,below:P}}t&&t.status(T.seg,M?M.seg:!1,C?C.seg:!1),T.other.status=S.insert(N1.node({ev:T}))}else{var I=T.status;if(I===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(y.exists(I.prev)&&y.exists(I.next)&&w(I.prev.ev,I.next.ev),t&&t.statusRemove(I.ev.seg),I.remove(),!T.primary){var H=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=H}x.push(T.seg)}i.getHead().remove()}return t&&t.done(),x}return e?{addRegion:function(p){for(var g,y=p[p.length-1],b=0;b<p.length;b++){g=y,y=p[b];var _=r.pointsCompare(g,y);_!==0&&f(a(_<0?g:y,_<0?y:g),!0)}},calculate:function(p){return d(p,!1)}}:{calculate:function(p,g,y,b){return p.forEach(function(_){f(n(_.start,_.end,_),!0)}),y.forEach(function(_){f(n(_.start,_.end,_),!1)}),d(g,b)}}}wP.exports=F0e});var MP=R((TCe,TP)=>{function R0e(e,r,t){var a=[],n=[];return e.forEach(function(i){var o=i.start,l=i.end;if(r.pointsSame(o,l)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}t&&t.chainStart(i);var s={index:0,matches_head:!1,matches_pt1:!1},u={index:0,matches_head:!1,matches_pt1:!1},f=s;function c(V,j,W){return f.index=V,f.matches_head=j,f.matches_pt1=W,f===s?(f=u,!1):(f=null,!0)}for(var h=0;h<a.length;h++){var d=a[h],p=d[0],g=d[1],y=d[d.length-1],b=d[d.length-2];if(r.pointsSame(p,o)){if(c(h,!0,!0))break}else if(r.pointsSame(p,l)){if(c(h,!0,!1))break}else if(r.pointsSame(y,o)){if(c(h,!1,!0))break}else if(r.pointsSame(y,l)&&c(h,!1,!1))break}if(f===s){a.push([o,l]),t&&t.chainNew(o,l);return}if(f===u){t&&t.chainMatch(s.index);var _=s.index,w=s.matches_pt1?l:o,x=s.matches_head,d=a[_],T=x?d[0]:d[d.length-1],S=x?d[1]:d[d.length-2],M=x?d[d.length-1]:d[0],C=x?d[d.length-2]:d[1];if(r.pointsCollinear(S,T,w)&&(x?(t&&t.chainRemoveHead(s.index,w),d.shift()):(t&&t.chainRemoveTail(s.index,w),d.pop()),T=S),r.pointsSame(M,w)){a.splice(_,1),r.pointsCollinear(C,M,T)&&(x?(t&&t.chainRemoveTail(s.index,T),d.pop()):(t&&t.chainRemoveHead(s.index,T),d.shift())),t&&t.chainClose(s.index),n.push(d);return}x?(t&&t.chainAddHead(s.index,w),d.unshift(w)):(t&&t.chainAddTail(s.index,w),d.push(w));return}function q(V){t&&t.chainReverse(V),a[V].reverse()}function F(V,j){var W=a[V],z=a[j],O=W[W.length-1],G=W[W.length-2],Z=z[0],Q=z[1];r.pointsCollinear(G,O,Z)&&(t&&t.chainRemoveTail(V,O),W.pop(),O=G),r.pointsCollinear(O,Z,Q)&&(t&&t.chainRemoveHead(j,Z),z.shift()),t&&t.chainJoin(V,j),a[V]=W.concat(z),a.splice(j,1)}var P=s.index,I=u.index;t&&t.chainConnect(P,I);var H=a[P].length<a[I].length;s.matches_head?u.matches_head?H?(q(P),F(P,I)):(q(I),F(I,P)):F(I,P):u.matches_head?F(P,I):H?(q(P),F(I,P)):(q(I),F(P,I))}),n}TP.exports=R0e});var kP=R((MCe,SP)=>{function I1(e,r,t){var a=[];return e.forEach(function(n){var i=(n.myFill.above?8:0)+(n.myFill.below?4:0)+(n.otherFill&&n.otherFill.above?2:0)+(n.otherFill&&n.otherFill.below?1:0);r[i]!==0&&a.push({id:t?t.segmentId():-1,start:n.start,end:n.end,myFill:{above:r[i]===1,below:r[i]===2},otherFill:null})}),t&&t.selected(a),a}var P0e={union:function(e,r){return I1(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],r)},intersect:function(e,r){return I1(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],r)},difference:function(e,r){return I1(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],r)},differenceRev:function(e,r){return I1(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],r)},xor:function(e,r){return I1(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],r)}};SP.exports=P0e});var EP=R((SCe,CP)=>{var N0e={toPolygon:function(e,r){function t(i){if(i.length<=0)return e.segments({inverted:!1,regions:[]});function o(u){var f=u.slice(0,u.length-1);return e.segments({inverted:!1,regions:[f]})}for(var l=o(i[0]),s=1;s<i.length;s++)l=e.selectDifference(e.combine(l,o(i[s])));return l}if(r.type==="Polygon")return e.polygon(t(r.coordinates));if(r.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),n=0;n<r.coordinates.length;n++)a=e.selectUnion(e.combine(a,t(r.coordinates[n])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,r,t){t=e.polygon(e.segments(t));function a(d,p){return r.pointInsideRegion([(d[0][0]+d[1][0])*.5,(d[0][1]+d[1][1])*.5],p)}function n(d){return{region:d,children:[]}}var i=n(null);function o(d,p){for(var g=0;g<d.children.length;g++){var y=d.children[g];if(a(p,y.region)){o(y,p);return}}for(var b=n(p),g=0;g<d.children.length;g++){var y=d.children[g];a(y.region,p)&&(b.children.push(y),d.children.splice(g,1),g--)}d.children.push(b)}for(var l=0;l<t.regions.length;l++){var s=t.regions[l];s.length<3||o(i,s)}function u(d,p){for(var g=0,y=d[d.length-1][0],b=d[d.length-1][1],_=[],w=0;w<d.length;w++){var x=d[w][0],T=d[w][1];_.push([x,T]),g+=T*y-x*b,y=x,b=T}var S=g<0;return S!==p&&_.reverse(),_.push([_[0][0],_[0][1]]),_}var f=[];function c(d){var p=[u(d.region,!1)];f.push(p);for(var g=0;g<d.children.length;g++)p.push(h(d.children[g]))}function h(d){for(var p=0;p<d.children.length;p++)c(d.children[p]);return u(d.region,!0)}for(var l=0;l<i.children.length;l++)c(i.children[l]);return f.length<=0?{type:"Polygon",coordinates:[]}:f.length==1?{type:"Polygon",coordinates:f[0]}:{type:"MultiPolygon",coordinates:f}}};CP.exports=N0e});var FP=R((kCe,DP)=>{var I0e=mP(),O0e=bP(),LP=AP(),z0e=MP(),O1=kP(),qP=EP(),Zo=!1,z1=O0e(),co;co={buildLog:function(e){return e===!0?Zo=I0e():e===!1&&(Zo=!1),Zo===!1?!1:Zo.list},epsilon:function(e){return z1.epsilon(e)},segments:function(e){var r=LP(!0,z1,Zo);return e.regions.forEach(r.addRegion),{segments:r.calculate(e.inverted),inverted:e.inverted}},combine:function(e,r){var t=LP(!1,z1,Zo);return{combined:t.calculate(e.segments,e.inverted,r.segments,r.inverted),inverted1:e.inverted,inverted2:r.inverted}},selectUnion:function(e){return{segments:O1.union(e.combined,Zo),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:O1.intersect(e.combined,Zo),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:O1.difference(e.combined,Zo),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:O1.differenceRev(e.combined,Zo),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:O1.xor(e.combined,Zo),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:z0e(e.segments,z1,Zo),inverted:e.inverted}},polygonFromGeoJSON:function(e){return qP.toPolygon(co,e)},polygonToGeoJSON:function(e){return qP.fromPolygon(co,z1,e)},union:function(e,r){return B1(e,r,co.selectUnion)},intersect:function(e,r){return B1(e,r,co.selectIntersect)},difference:function(e,r){return B1(e,r,co.selectDifference)},differenceRev:function(e,r){return B1(e,r,co.selectDifferenceRev)},xor:function(e,r){return B1(e,r,co.selectXor)}};function B1(e,r,t){var a=co.segments(e),n=co.segments(r),i=co.combine(a,n),o=t(i);return co.polygon(o)}typeof window=="object"&&(window.PolyBool=co);DP.exports=co});var PP=R((CCe,RP)=>{RP.exports=function(r,t,a,n){var i=r[0],o=r[1],l=!1;a===void 0&&(a=0),n===void 0&&(n=t.length);for(var s=n-a,u=0,f=s-1;u<s;f=u++){var c=t[u+a][0],h=t[u+a][1],d=t[f+a][0],p=t[f+a][1],g=h>o!=p>o&&i<(d-c)*(o-h)/(p-h)+c;g&&(l=!l)}return l}});var d6=R((ECe,NP)=>{"use strict";var h6=Xm().dot,X2=vn().BADNUM,Z2=NP.exports={};Z2.tester=function(r){var t=r.slice(),a=t[0][0],n=a,i=t[0][1],o=i,l;for((t[t.length-1][0]!==t[0][0]||t[t.length-1][1]!==t[0][1])&&t.push(t[0]),l=1;l<t.length;l++)a=Math.min(a,t[l][0]),n=Math.max(n,t[l][0]),i=Math.min(i,t[l][1]),o=Math.max(o,t[l][1]);var s=!1,u;t.length===5&&(t[0][0]===t[1][0]?t[2][0]===t[3][0]&&t[0][1]===t[3][1]&&t[1][1]===t[2][1]&&(s=!0,u=function(p){return p[0]===t[0][0]}):t[0][1]===t[1][1]&&t[2][1]===t[3][1]&&t[0][0]===t[3][0]&&t[1][0]===t[2][0]&&(s=!0,u=function(p){return p[1]===t[0][1]}));function f(p,g){var y=p[0],b=p[1];return!(y===X2||y<a||y>n||b===X2||b<i||b>o||g&&u(p))}function c(p,g){var y=p[0],b=p[1];if(y===X2||y<a||y>n||b===X2||b<i||b>o)return!1;var _=t.length,w=t[0][0],x=t[0][1],T=0,S,M,C,q,F;for(S=1;S<_;S++)if(M=w,C=x,w=t[S][0],x=t[S][1],q=Math.min(M,w),!(y<q||y>Math.max(M,w)||b>Math.max(C,x)))if(b<Math.min(C,x))y!==q&&T++;else{if(w===M?F=b:F=C+(y-M)*(x-C)/(w-M),b===F)return!(S===1&&g);b<=F&&y!==q&&T++}return T%2===1}var h=!0,d=t[0];for(l=1;l<t.length;l++)if(d[0]!==t[l][0]||d[1]!==t[l][1]){h=!1;break}return{xmin:a,xmax:n,ymin:i,ymax:o,pts:t,contains:s?f:c,isRect:s,degenerate:h}};Z2.isSegmentBent=function(r,t,a,n){var i=r[t],o=[r[a][0]-i[0],r[a][1]-i[1]],l=h6(o,o),s=Math.sqrt(l),u=[-o[1]/s,o[0]/s],f,c,h;for(f=t+1;f<a;f++)if(c=[r[f][0]-i[0],r[f][1]-i[1]],h=h6(c,o),h<0||h>l||Math.abs(h6(c,u))>n)return!0;return!1};Z2.filter=function(r,t){var a=[r[0]],n=0,i=0;function o(s){r.push(s);var u=a.length,f=n;a.splice(i+1);for(var c=f+1;c<r.length;c++)(c===r.length-1||Z2.isSegmentBent(r,f,c+1,t))&&(a.push(r[c]),a.length<u-2&&(n=c,i=a.length-1),f=c)}if(r.length>1){var l=r.pop();o(l)}return{addPt:o,raw:r,filtered:a}}});var OP=R((LCe,IP)=>{"use strict";IP.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}});var oN=R((qCe,iN)=>{"use strict";var zP=FP(),B0e=PP(),G1=_t(),U0e=Sa().dashStyle,U1=Vt(),H0e=Ks(),G0e=ns().makeEventData,X1=Dc(),V0e=X1.freeMode,Y0e=X1.rectMode,V1=X1.drawMode,g6=X1.openMode,b6=X1.selectMode,BP=tf(),UP=L1(),WP=R2(),jP=Wu().clearOutline,XP=ef(),p6=XP.handleEllipse,W0e=XP.readPaths,j0e=L2().newShapes,X0e=Uw(),Z0e=v6().activateLastSelection,$2=fr(),J0e=$2.sorterAsc,ZP=d6(),H1=sg(),Jo=yn().getFromId,$0e=w2(),K0e=Y2().redrawReglTraces,K2=OP(),vs=K2.MINSELECT,Q0e=ZP.filter,x6=ZP.tester,_6=S2(),HP=_6.p2r,ehe=_6.axValue,rhe=_6.getTransform;function w6(e){return e.subplot!==void 0}function the(e,r,t,a,n){var i=!w6(a),o=V0e(n),l=Y0e(n),s=g6(n),u=V1(n),f=b6(n),c=n==="drawline",h=n==="drawcircle",d=c||h,p=a.gd,g=p._fullLayout,y=f&&g.newselection.mode==="immediate"&&i,b=g._zoomlayer,_=a.element.getBoundingClientRect(),w=a.plotinfo,x=rhe(w),T=r-_.left,S=t-_.top;g._calcInverseTransform(p);var M=$2.apply3DTransform(g._invTransform)(T,S);T=M[0],S=M[1];var C=g._invScaleX,q=g._invScaleY,F=T,P=S,I="M"+T+","+S,H=a.xaxes[0],V=a.yaxes[0],j=H._length,W=V._length,z=e.altKey&&!(V1(n)&&s),O,G,Z,Q,ie,be,ne;$P(e,p,a),o&&(O=Q0e([[T,S]],K2.BENDPX));var de=b.selectAll("path.select-outline-"+w.id).data([1]),K=u?g.newshape:g.newselection;u&&(a.hasText=K.label.text||K.label.texttemplate);var me=u&&!s?K.fillcolor:"rgba(0,0,0,0)",fe=K.line.color||(i?U1.contrast(p._fullLayout.plot_bgcolor):"#7f7f7f");de.enter().append("path").attr("class","select-outline select-outline-"+w.id).style({opacity:u?K.opacity/2:1,"stroke-dasharray":U0e(K.line.dash,K.line.width),"stroke-width":K.line.width+"px","shape-rendering":"crispEdges"}).call(U1.stroke,fe).call(U1.fill,me).attr("fill-rule","evenodd").classed("cursor-move",!!u).attr("transform",x).attr("d",I+"Z");var ke=b.append("path").attr("class","zoombox-corners").style({fill:U1.background,stroke:U1.defaultLine,"stroke-width":1}).attr("transform",x).attr("d","M0,0Z");if(u&&a.hasText){var ve=b.select(".label-temp");ve.empty()&&(ve=b.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Ae=g._uid+K2.SELECTID,Y=[],ae=Q2(p,a.xaxes,a.yaxes,a.subplot);y&&!e.shiftKey&&(a._clearSubplotSelections=function(){if(i){var Se=H._id,qe=V._id;tN(p,Se,qe,ae);for(var De=(p.layout||{}).selections||[],tr=[],$e=!1,Ze=0;Ze<De.length;Ze++){var lr=g.selections[Ze];!lr||lr.xref!==Se||lr.yref!==qe?tr.push(De[Ze]):$e=!0}$e&&(p._fullLayout._noEmitSelectedAtStart=!0,G1.call("_guiRelayout",p,{selections:tr}))}});var X=yhe(a);a.moveFn=function(Se,qe){a._clearSubplotSelections&&(a._clearSubplotSelections(),a._clearSubplotSelections=void 0),F=Math.max(0,Math.min(j,C*Se+T)),P=Math.max(0,Math.min(W,q*qe+S));var De=Math.abs(F-T),tr=Math.abs(P-S);if(l){var $e,Ze,lr;if(f){var pr=g.selectdirection;switch(pr==="any"?tr<Math.min(De*.6,vs)?$e="h":De<Math.min(tr*.6,vs)?$e="v":$e="d":$e=pr,$e){case"h":Ze=h?W/2:0,lr=W;break;case"v":Ze=h?j/2:0,lr=j;break}}if(u)switch(g.newshape.drawdirection){case"vertical":$e="h",Ze=h?W/2:0,lr=W;break;case"horizontal":$e="v",Ze=h?j/2:0,lr=j;break;case"ortho":De<tr?($e="h",Ze=S,lr=P):($e="v",Ze=T,lr=F);break;default:$e="d"}$e==="h"?(Q=d?p6(h,[F,Ze],[F,lr]):[[T,Ze],[T,lr],[F,lr],[F,Ze]],Q.xmin=d?F:Math.min(T,F),Q.xmax=d?F:Math.max(T,F),Q.ymin=Math.min(Ze,lr),Q.ymax=Math.max(Ze,lr),ke.attr("d","M"+Q.xmin+","+(S-vs)+"h-4v"+2*vs+"h4ZM"+(Q.xmax-1)+","+(S-vs)+"h4v"+2*vs+"h-4Z")):$e==="v"?(Q=d?p6(h,[Ze,P],[lr,P]):[[Ze,S],[Ze,P],[lr,P],[lr,S]],Q.xmin=Math.min(Ze,lr),Q.xmax=Math.max(Ze,lr),Q.ymin=d?P:Math.min(S,P),Q.ymax=d?P:Math.max(S,P),ke.attr("d","M"+(T-vs)+","+Q.ymin+"v-4h"+2*vs+"v4ZM"+(T-vs)+","+(Q.ymax-1)+"v4h"+2*vs+"v-4Z")):$e==="d"&&(Q=d?p6(h,[T,S],[F,P]):[[T,S],[T,P],[F,P],[F,S]],Q.xmin=Math.min(T,F),Q.xmax=Math.max(T,F),Q.ymin=Math.min(S,P),Q.ymax=Math.max(S,P),ke.attr("d","M0,0Z"))}else o&&(O.addPt([F,P]),Q=O.filtered);if(a.selectionDefs&&a.selectionDefs.length?(Z=KP(a.mergedPolygons,Q,z),Q.subtract=z,G=A6(a.selectionDefs.concat([Q]))):(Z=[Q],G=x6(Q)),WP(eN(Z,s),de,a),f){var ir=m6(p,!1),Xe=ir.eventData?ir.eventData.points.slice():[];ir=m6(p,!1,G,ae,a),G=ir.selectionTesters,ne=ir.eventData;var Cr;O?Cr=O.filtered:Cr=aN(Z),H1.throttle(Ae,K2.SELECTDELAY,function(){Y=rN(G,ae);for(var br=Y.slice(),pe=0;pe<Xe.length;pe++){for(var Ie=Xe[pe],ze=!1,et=0;et<br.length;et++)if(br[et].curveNumber===Ie.curveNumber&&br[et].pointNumber===Ie.pointNumber){ze=!0;break}ze||br.push(Ie)}br.length&&(ne||(ne={}),ne.points=br),X(ne,Cr),mhe(p,ne)})}},a.clickFn=function(Se,qe){if(ke.remove(),p._fullLayout._activeShapeIndex>=0){p._fullLayout._deactivateShape(p);return}if(!u){var De=g.clickmode;H1.done(Ae).then(function(){if(H1.clear(Ae),Se===2){for(de.remove(),ie=0;ie<ae.length;ie++)be=ae[ie],be._module.selectPoints(be,!1);if(W1(p,ae),Y1(a),M6(p),ae.length){var tr=ae[0].xaxis,$e=ae[0].yaxis;if(tr&&$e){for(var Ze=[],lr=p._fullLayout.selections,pr=0;pr<lr.length;pr++){var ir=lr[pr];ir&&(ir.xref!==tr._id||ir.yref!==$e._id)&&Ze.push(ir)}Ze.length<lr.length&&(p._fullLayout._noEmitSelectedAtStart=!0,G1.call("_guiRelayout",p,{selections:Ze}))}}}else De.indexOf("select")>-1&&JP(qe,p,a.xaxes,a.yaxes,a.subplot,a,de),De==="event"&&j1(p,void 0);H0e.click(p,qe,w.id)}).catch($2.error)}},a.doneFn=function(){ke.remove(),H1.done(Ae).then(function(){H1.clear(Ae),!y&&Q&&a.selectionDefs&&(Q.subtract=z,a.selectionDefs.push(Q),a.mergedPolygons.length=0,[].push.apply(a.mergedPolygons,Z)),(y||u)&&Y1(a,y),a.doneFnCompleted&&a.doneFnCompleted(Y),f&&j1(p,ne)}).catch($2.error)}}function JP(e,r,t,a,n,i,o){var l=r._hoverdata,s=r._fullLayout,u=s.clickmode,f=u.indexOf("event")>-1,c=[],h,d,p,g,y,b,_,w,x,T;if(lhe(l)){$P(e,r,i),h=Q2(r,t,a,n);var S=she(l,h),M=S.pointNumbers.length>0;if(M?uhe(h,S):fhe(h)&&(_=VP(S))){for(o&&o.remove(),T=0;T<h.length;T++)d=h[T],d._module.selectPoints(d,!1);W1(r,h),Y1(i),f&&M6(r)}else{w=e.shiftKey&&(_!==void 0?_:VP(S)),p=ahe(S.pointNumber,S.searchInfo,w);var C=i.selectionDefs.concat([p]);for(g=A6(C,g),T=0;T<h.length;T++)if(y=h[T]._module.selectPoints(h[T],g),b=QP(y,h[T]),c.length)for(var q=0;q<b.length;q++)c.push(b[q]);else c=b;if(x={points:c},W1(r,h,x),p&&i&&i.selectionDefs.push(p),o){var F=i.mergedPolygons,P=g6(i.dragmode);WP(eN(F,P),o,i)}f&&j1(r,x)}}}function ahe(e,r,t){return{pointNumber:e,searchInfo:r,subtract:!!t}}function y6(e){return"pointNumber"in e&&"searchInfo"in e}function nhe(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(r,t,a,n){var i=e.searchInfo.cd[0].trace.index,o=n.cd[0].trace.index;return o===i&&a===e.pointNumber},isRect:!1,degenerate:!1,subtract:!!e.subtract}}function A6(e){if(!e.length)return;for(var r=[],t=y6(e[0])?0:e[0][0][0],a=t,n=y6(e[0])?0:e[0][0][1],i=n,o=0;o<e.length;o++)if(y6(e[o]))r.push(nhe(e[o]));else{var l=x6(e[o]);l.subtract=!!e[o].subtract,r.push(l),t=Math.min(t,l.xmin),a=Math.max(a,l.xmax),n=Math.min(n,l.ymin),i=Math.max(i,l.ymax)}function s(u,f,c,h){for(var d=!1,p=0;p<r.length;p++)r[p].contains(u,f,c,h)&&(d=!r[p].subtract);return d}return{xmin:t,xmax:a,ymin:n,ymax:i,pts:[],contains:s,isRect:!1,degenerate:!1}}function $P(e,r,t){var a=r._fullLayout,n=t.plotinfo,i=t.dragmode,o=a._lastSelectedSubplot&&a._lastSelectedSubplot===n.id,l=(e.shiftKey||e.altKey)&&!(V1(i)&&g6(i));o&&l&&n.selection&&n.selection.selectionDefs&&!t.selectionDefs?(t.selectionDefs=n.selection.selectionDefs,t.mergedPolygons=n.selection.mergedPolygons):(!l||!n.selection)&&Y1(t),o||(jP(r),a._lastSelectedSubplot=n.id)}function ihe(e){return e._fullLayout._activeShapeIndex>=0}function ohe(e){return e._fullLayout._activeSelectionIndex>=0}function Y1(e,r){var t=e.dragmode,a=e.plotinfo,n=e.gd;ihe(n)&&n._fullLayout._deactivateShape(n),ohe(n)&&n._fullLayout._deactivateSelection(n);var i=n._fullLayout,o=i._zoomlayer,l=V1(t),s=b6(t);if(l||s){var u=o.selectAll(".select-outline-"+a.id);if(u&&n._fullLayout._outlining){var f;l&&(f=j0e(u,e)),f&&G1.call("_guiRelayout",n,{shapes:f});var c;s&&!w6(e)&&(c=X0e(u,e)),c&&(n._fullLayout._noEmitSelectedAtStart=!0,G1.call("_guiRelayout",n,{selections:c}).then(function(){r&&Z0e(n)})),n._fullLayout._outlining=!1}}a.selection={},a.selection.selectionDefs=e.selectionDefs=[],a.selection.mergedPolygons=e.mergedPolygons=[]}function GP(e){return e._id}function Q2(e,r,t,a){if(!e.calcdata)return[];var n=[],i=r.map(GP),o=t.map(GP),l,s,u;for(u=0;u<e.calcdata.length;u++)if(l=e.calcdata[u],s=l[0].trace,!(s.visible!==!0||!s._module||!s._module.selectPoints))if(w6({subplot:a})&&(s.subplot===a||s.geo===a))n.push(J2(s._module,l,r[0],t[0]));else if(s.type==="splom"){if(s._xaxes[i[0]]&&s._yaxes[o[0]]){var f=J2(s._module,l,r[0],t[0]);f.scene=e._fullLayout._splomScenes[s.uid],n.push(f)}}else if(s.type==="sankey"){var c=J2(s._module,l,r[0],t[0]);n.push(c)}else{if(i.indexOf(s.xaxis)===-1&&(!s._xA||!s._xA.overlaying)||o.indexOf(s.yaxis)===-1&&(!s._yA||!s._yA.overlaying))continue;n.push(J2(s._module,l,Jo(e,s.xaxis),Jo(e,s.yaxis)))}return n}function J2(e,r,t,a){return{_module:e,cd:r,xaxis:t,yaxis:a}}function lhe(e){return e&&Array.isArray(e)&&e[0].hoverOnBox!==!0}function she(e,r){var t=e[0],a=-1,n=[],i,o;for(o=0;o<r.length;o++)if(i=r[o],t.fullData.index===i.cd[0].trace.index){if(t.hoverOnBox===!0)break;t.pointNumber!==void 0?a=t.pointNumber:t.binNumber!==void 0&&(a=t.binNumber,n=t.pointNumbers);break}return{pointNumber:a,pointNumbers:n,searchInfo:i}}function VP(e){var r=e.searchInfo.cd[0].trace,t=e.pointNumber,a=e.pointNumbers,n=a.length>0,i=n?a[0]:t;return r.selectedpoints?r.selectedpoints.indexOf(i)>-1:!1}function uhe(e,r){var t=[],a,n,i,o;for(o=0;o<e.length;o++)a=e[o],a.cd[0].trace.selectedpoints&&a.cd[0].trace.selectedpoints.length>0&&t.push(a);if(t.length===1&&(i=t[0]===r.searchInfo,i&&(n=r.searchInfo.cd[0].trace,n.selectedpoints.length===r.pointNumbers.length))){for(o=0;o<r.pointNumbers.length;o++)if(n.selectedpoints.indexOf(r.pointNumbers[o])<0)return!1;return!0}return!1}function fhe(e){var r=0,t,a,n;for(n=0;n<e.length;n++)if(t=e[n],a=t.cd[0].trace,a.selectedpoints&&(a.selectedpoints.length>1||(r+=a.selectedpoints.length,r>1)))return!1;return r===1}function W1(e,r,t){var a;for(a=0;a<r.length;a++){var n=r[a].cd[0].trace._fullInput,i=e._fullLayout._tracePreGUI[n.uid]||{};i.selectedpoints===void 0&&(i.selectedpoints=n._input.selectedpoints||null)}var o;if(t){var l=t.points||[];for(a=0;a<r.length;a++)o=r[a].cd[0].trace,o._input.selectedpoints=o._fullInput.selectedpoints=[],o._fullInput!==o&&(o.selectedpoints=[]);for(var s=0;s<l.length;s++){var u=l[s],f=u.data,c=u.fullData,h=u.pointIndex,d=u.pointIndices;d?([].push.apply(f.selectedpoints,d),o._fullInput!==o&&[].push.apply(c.selectedpoints,d)):(f.selectedpoints.push(h),o._fullInput!==o&&c.selectedpoints.push(h))}}else for(a=0;a<r.length;a++)o=r[a].cd[0].trace,delete o.selectedpoints,delete o._input.selectedpoints,o._fullInput!==o&&delete o._fullInput.selectedpoints;che(e,r)}function che(e,r){for(var t=!1,a=0;a<r.length;a++){var n=r[a],i=n.cd;G1.traceIs(i[0].trace,"regl")&&(t=!0);var o=n._module,l=o.styleOnSelect||o.style;l&&(l(e,i,i[0].node3),i[0].nodeRangePlot3&&l(e,i,i[0].nodeRangePlot3))}t&&($0e(e),K0e(e))}function KP(e,r,t){for(var a=t?zP.difference:zP.union,n=a({regions:e},{regions:[r]}),i=n.regions.reverse(),o=0;o<i.length;o++){var l=i[o];l.subtract=T6(l,i.slice(0,o))}return i}function QP(e,r){if(Array.isArray(e))for(var t=r.cd,a=r.cd[0].trace,n=0;n<e.length;n++)e[n]=G0e(e[n],a,t);return e}function eN(e,r){for(var t=[],a=0;a<e.length;a++){t[a]=[];for(var n=0;n<e[a].length;n++){t[a][n]=[],t[a][n][0]=n?"L":"M";for(var i=0;i<e[a][n].length;i++)t[a][n].push(e[a][n][i])}r||t[a].push(["Z",t[a][0][1],t[a][0][2]])}return t}function rN(e,r){for(var t=[],a,n=[],i,o=0;o<r.length;o++){var l=r[o];i=l._module.selectPoints(l,e),n.push(i),a=QP(i,l),t=t.concat(a)}return t}function m6(e,r,t,a,n){var i=!!a,o,l,s;n&&(o=n.plotinfo,l=n.xaxes[0]._id,s=n.yaxes[0]._id);var u=[],f=[],c=YP(e),h=e._fullLayout;if(o){var d=h._zoomlayer,p=h.dragmode,g=V1(p),y=b6(p);if(g||y){var b=Jo(e,l,"x"),_=Jo(e,s,"y");if(b&&_){var w=d.selectAll(".select-outline-"+o.id);if(w&&e._fullLayout._outlining&&w.length){for(var x=w[0][0],T=x.getAttribute("d"),S=W0e(T,e,o),M=[],C=0;C<S.length;C++){for(var q=S[C],F=[],P=0;P<q.length;P++)F.push([af(b,q[P][1]),af(_,q[P][2])]);F.xref=l,F.yref=s,F.subtract=T6(F,M),M.push(F)}c=c.concat(M)}}}}var I=l&&s?[l+s]:h._subplots.cartesian;vhe(e);for(var H={},V=0;V<I.length;V++){var j=I[V],W=j.indexOf("y"),z=j.slice(0,W),O=j.slice(W),G=l&&s?t:void 0;if(G=dhe(c,z,O,G),G){var Z=a;if(!i){var Q=Jo(e,z,"x"),ie=Jo(e,O,"y");Z=Q2(e,[Q],[ie],j);for(var be=0;be<Z.length;be++){var ne=Z[be],de=ne.cd[0],K=de.trace;if(ne._module.name==="scattergl"&&!de.t.xpx){var me=K.x,fe=K.y,ke=K._length;de.t.xpx=[],de.t.ypx=[];for(var ve=0;ve<ke;ve++)de.t.xpx[ve]=Q.c2p(me[ve]),de.t.ypx[ve]=ie.c2p(fe[ve])}ne._module.name==="splom"&&(H[K.uid]||(H[K.uid]=!0))}}var Ae=rN(G,Z);u=u.concat(Ae),f=f.concat(Z)}}var Y={points:u};W1(e,f,Y);var ae=h.clickmode,X=ae.indexOf("event")>-1&&r;if(!o&&r){var Se=YP(e,!0);if(Se.length){var qe=Se[0].xref,De=Se[0].yref;if(qe&&De){var tr=aN(Se),$e=nN([Jo(e,qe,"x"),Jo(e,De,"y")]);$e(Y,tr)}}e._fullLayout._noEmitSelectedAtStart?e._fullLayout._noEmitSelectedAtStart=!1:X&&j1(e,Y),h._reselect=!1}if(!o&&h._deselect){var Ze=h._deselect;l=Ze.xref,s=Ze.yref,hhe(l,s,f)||tN(e,l,s,a),X&&(Y.points.length?j1(e,Y):M6(e)),h._deselect=!1}return{eventData:Y,selectionTesters:t}}function vhe(e){var r=e.calcdata;if(r)for(var t=0;t<r.length;t++){var a=r[t][0],n=a.trace,i=e._fullLayout._splomScenes;if(i){var o=i[n.uid];o&&(o.selectBatch=[])}}}function hhe(e,r,t){for(var a=0;a<t.length;a++){var n=t[a];if(n.xaxis&&n.xaxis._id===e&&n.yaxis&&n.yaxis._id===r)return!0}return!1}function tN(e,r,t,a){a=Q2(e,[Jo(e,r,"x")],[Jo(e,t,"y")],r+t);for(var n=0;n<a.length;n++){var i=a[n];i._module.selectPoints(i,!1)}W1(e,a)}function dhe(e,r,t,a){for(var n,i=0;i<e.length;i++){var o=e[i];if(!(r!==o.xref||t!==o.yref))if(n){var l=!!o.subtract;n=KP(n,o,l),a=A6(n)}else n=[o],a=x6(o)}return a}function YP(e,r){for(var t=[],a=e._fullLayout,n=a.selections,i=n.length,o=0;o<i;o++)if(!(r&&o!==a._activeSelectionIndex)){var l=n[o];if(l){var s=l.xref,u=l.yref,f=Jo(e,s,"x"),c=Jo(e,u,"y"),h,d,p,g,y;if(l.type==="rect"){y=[];var b=af(f,l.x0),_=af(f,l.x1),w=af(c,l.y0),x=af(c,l.y1);y=[[b,w],[b,x],[_,x],[_,w]],h=Math.min(b,_),d=Math.max(b,_),p=Math.min(w,x),g=Math.max(w,x),y.xmin=h,y.xmax=d,y.ymin=p,y.ymax=g,y.xref=s,y.yref=u,y.subtract=!1,y.isRect=!0,t.push(y)}else if(l.type==="path")for(var T=l.path.split("Z"),S=[],M=0;M<T.length;M++){var C=T[M];if(C){C+="Z";var q=BP.extractPathCoords(C,UP.paramIsX,"raw"),F=BP.extractPathCoords(C,UP.paramIsY,"raw");h=1/0,d=-1/0,p=1/0,g=-1/0,y=[];for(var P=0;P<q.length;P++){var I=af(f,q[P]),H=af(c,F[P]);y.push([I,H]),h=Math.min(I,h),d=Math.max(I,d),p=Math.min(H,p),g=Math.max(H,g)}y.xmin=h,y.xmax=d,y.ymin=p,y.ymax=g,y.xref=s,y.yref=u,y.subtract=T6(y,S),S.push(y),t.push(y)}}}}return t}function T6(e,r){for(var t=!1,a=0;a<r.length;a++)for(var n=r[a],i=0;i<e.length;i++)if(B0e(e[i],n)){t=!t;break}return t}function af(e,r){return e.type==="date"&&(r=r.replace("_"," ")),e.type==="log"?e.c2p(r):e.r2p(r,null,e.calendar)}function aN(e){for(var r=e.length,t=[],a=0;a<r;a++){var n=e[a];t=t.concat(n),t=t.concat([n[0]])}return phe(t)}function phe(e){return e.isRect=e.length===5&&e[0][0]===e[4][0]&&e[0][1]===e[4][1]&&e[0][0]===e[1][0]&&e[2][0]===e[3][0]&&e[0][1]===e[3][1]&&e[1][1]===e[2][1]||e[0][1]===e[1][1]&&e[2][1]===e[3][1]&&e[0][0]===e[3][0]&&e[1][0]===e[2][0],e.isRect&&(e.xmin=Math.min(e[0][0],e[2][0]),e.xmax=Math.max(e[0][0],e[2][0]),e.ymin=Math.min(e[0][1],e[2][1]),e.ymax=Math.max(e[0][1],e[2][1])),e}function nN(e){return function(r,t){for(var a,n,i=0;i<e.length;i++){var o=e[i],l=o._id,s=l.charAt(0);if(t.isRect){a||(a={});var u=t[s+"min"],f=t[s+"max"];u!==void 0&&f!==void 0&&(a[l]=[HP(o,u),HP(o,f)].sort(J0e))}else n||(n={}),n[l]=t.map(ehe(o))}a&&(r.range=a),n&&(r.lassoPoints=n)}}function yhe(e){var r=e.plotinfo;return r.fillRangeItems||nN(e.xaxes.concat(e.yaxes))}function mhe(e,r){e.emit("plotly_selecting",r)}function j1(e,r){r&&(r.selections=(e.layout||{}).selections||[]),e.emit("plotly_selected",r)}function M6(e){e.emit("plotly_deselect",null)}iN.exports={reselect:m6,prepSelect:the,clearOutline:jP,clearSelectionsCache:Y1,selectOnClick:JP}});var S6=R((DCe,lN)=>{"use strict";lN.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]});var Z1=R((FCe,sN)=>{"use strict";sN.exports={axisRefDescription:function(e,r,t){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",r,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",r,"("+t+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",r,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",r,"and the",t,"of the domain of the","second",e,"axis."].join(" ")}}});var Y0=R((PCe,cN)=>{"use strict";var uN=S6(),fN=ti(),e3=ui(),ghe=Oa().templatedArray,RCe=Z1();cN.exports=ghe("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:fN({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:uN.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:uN.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",e3.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",e3.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",e3.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",e3.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:fN({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})});var J1=R((NCe,vN)=>{"use strict";vN.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}});var k6=R((ICe,hN)=>{"use strict";hN.exports=function(r){return{valType:"color",editType:"style",anim:!0}}});var nf=R((OCe,bN)=>{"use strict";var dN=m0().axisHoverFormat,bhe=Hs().texttemplateAttrs,xhe=Hs().hovertemplateAttrs,pN=b0(),_he=ti(),whe=Us().dash,Ahe=Us().pattern,The=Sa(),Mhe=J1(),r3=xn().extendFlat,She=k6();function yN(e){return{valType:"any",dflt:0,editType:"calc"}}function mN(e){return{valType:"any",editType:"calc"}}function gN(e){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}bN.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:yN("x"),yperiod:yN("y"),xperiod0:mN("x0"),yperiod0:mN("y0"),xperiodalignment:gN("x"),yperiodalignment:gN("y"),xhoverformat:dN("x"),yhoverformat:dN("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:bhe({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:xhe({},{keys:Mhe.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:r3({},whe,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:She(!0),fillgradient:r3({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:Ahe,marker:r3({symbol:{valType:"enumerated",values:The.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:r3({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},pN("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},pN("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:_he({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}});var C6=R((BCe,wN)=>{"use strict";var xN=Y0(),_N=nf().line,khe=Us().dash,t3=xn().extendFlat,Che=yl().overrideAll,Ehe=Oa().templatedArray,zCe=Z1();wN.exports=Che(Ehe("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:t3({},xN.xref,{}),yref:t3({},xN.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:_N.color,width:t3({},_N.width,{min:1,dflt:1}),dash:t3({},khe,{dflt:"dot"})}}),"arraydraw","from-root")});var SN=R((UCe,MN)=>{"use strict";var AN=fr(),a3=qa(),Lhe=_l(),qhe=C6(),TN=tf();MN.exports=function(r,t){Lhe(r,t,{name:"selections",handleItemDefaults:Dhe});for(var a=t.selections,n=0;n<a.length;n++){var i=a[n];i&&i.path===void 0&&(i.x0===void 0||i.x1===void 0||i.y0===void 0||i.y1===void 0)&&(t.selections[n]=null)}};function Dhe(e,r,t){function a(S,M){return AN.coerce(e,r,qhe,S,M)}var n=a("path"),i=n?"path":"rect",o=a("type",i),l=o!=="path";l&&delete r.path,a("opacity"),a("line.color"),a("line.width"),a("line.dash");for(var s=["x","y"],u=0;u<2;u++){var f=s[u],c={_fullLayout:t},h,d,p,g=a3.coerceRef(e,r,c,f);if(h=a3.getFromId(c,g),h._selectionIndices.push(r._index),p=TN.rangeToShapePosition(h),d=TN.shapePositionToRange(h),l){var y=f+"0",b=f+"1",_=e[y],w=e[b];e[y]=d(e[y],!0),e[b]=d(e[b],!0),a3.coercePosition(r,c,a,g,y),a3.coercePosition(r,c,a,g,b);var x=r[y],T=r[b];x!==void 0&&T!==void 0&&(r[y]=p(x),r[b]=p(T),e[y]=_,e[b]=w)}}l&&AN.noneOrAll(e,r,["x0","x1","y0","y1"])}});var CN=R((HCe,kN)=>{"use strict";kN.exports=function(r,t,a){a("newselection.mode");var n=a("newselection.line.width");n&&(a("newselection.line.color"),a("newselection.line.dash")),a("activeselection.fillcolor"),a("activeselection.opacity")}});var $1=R((GCe,qN)=>{"use strict";var Fhe=_t(),EN=fr(),LN=yn();qN.exports=function(r){return function(a,n){var i=a[r];if(Array.isArray(i))for(var o=Fhe.subplotsRegistry.cartesian,l=o.idRegex,s=n._subplots,u=s.xaxis,f=s.yaxis,c=s.cartesian,h=n._has("cartesian"),d=0;d<i.length;d++){var p=i[d];if(EN.isPlainObject(p)){var g=LN.cleanId(p.xref,"x",!1),y=LN.cleanId(p.yref,"y",!1),b=l.x.test(g),_=l.y.test(y);if(b||_){h||EN.pushUnique(n._basePlotModules,o);var w=!1;b&&u.indexOf(g)===-1&&(u.push(g),w=!0),_&&f.indexOf(y)===-1&&(f.push(y),w=!0),w&&b&&_&&c.push(g+y)}}}}}});var W0=R((VCe,FN)=>{"use strict";var DN=v6(),K1=oN();FN.exports={moduleType:"component",name:"selections",layoutAttributes:C6(),supplyLayoutDefaults:SN(),supplyDrawNewSelectionDefaults:CN(),includeBasePlot:$1()("selections"),draw:DN.draw,drawOne:DN.drawOne,reselect:K1.reselect,prepSelect:K1.prepSelect,clearOutline:K1.clearOutline,clearSelectionsCache:K1.clearSelectionsCache,selectOnClick:K1.selectOnClick}});var eI=R((YCe,QN)=>{"use strict";var F6=aa(),$o=fr(),RN=$o.numberFormat,Rhe=zo(),Phe=fw(),n3=_t(),GN=$o.strTranslate,Nhe=Ci(),PN=Vt(),of=Sa(),Ihe=Ks(),NN=qa(),Ohe=Qu(),zhe=Al(),VN=Dc(),i3=VN.selectingOrDrawing,Bhe=VN.freeMode,Uhe=ki().FROM_TL,Hhe=w2(),Ghe=Y2().redrawReglTraces,Vhe=Wn(),L6=yn().getFromId,Yhe=W0().prepSelect,Whe=W0().clearOutline,jhe=W0().selectOnClick,E6=n6(),R6=ui(),IN=R6.MINDRAG,Hi=R6.MINZOOM,ON=!0;function Xhe(e,r,t,a,n,i,o,l){var s=e._fullLayout._zoomlayer,u=o+l==="nsew",f=(o+l).length===1,c,h,d,p,g,y,b,_,w,x,T,S,M,C,q,F,P,I,H,V,j,W,z;t+=r.yaxis._shift;function O(){if(c=r.xaxis,h=r.yaxis,w=c._length,x=h._length,b=c._offset,_=h._offset,d={},d[c._id]=c,p={},p[h._id]=h,o&&l)for(var Ve=r.overlays,He=0;He<Ve.length;He++){var dr=Ve[He].xaxis;d[dr._id]=dr;var Tr=Ve[He].yaxis;p[Tr._id]=Tr}g=HN(d),y=HN(p),M=zN(g,l),C=zN(y,o),q=!C&&!M,S=UN(e,e._fullLayout._axisMatchGroups,d,p),T=UN(e,e._fullLayout._axisConstraintGroups,d,p,S);var mr=T.isSubplotConstrained||S.isSubplotConstrained;F=l||mr,P=o||mr;var vr=e._fullLayout;I=vr._has("scattergl"),H=vr._has("splom"),V=vr._has("svg")}O();var G=$he(C+M,e._fullLayout.dragmode,u),Z=WN(r,o+l+"drag",G,t,a,n,i);if(q&&!u)return Z.onmousedown=null,Z.style.pointerEvents="none",Z;var Q={element:Z,gd:e,plotinfo:r};Q.prepFn=function(Ve,He,dr){var Tr=Q.dragmode,mr=e._fullLayout.dragmode;mr!==Tr&&(Q.dragmode=mr),O(),W=e._fullLayout._invScaleX,z=e._fullLayout._invScaleY,q||(u?Ve.shiftKey?mr==="pan"?mr="zoom":i3(mr)||(mr="pan"):Ve.ctrlKey&&(mr="pan"):mr="pan"),Bhe(mr)?Q.minDrag=1:Q.minDrag=void 0,i3(mr)?(Q.xaxes=g,Q.yaxes=y,Yhe(Ve,He,dr,Q,mr)):(Q.clickFn=be,i3(Tr)&&ie(),q||(mr==="zoom"?(Q.moveFn=Se,Q.doneFn=De,Q.minDrag=1,X(Ve,He,dr)):mr==="pan"&&(Q.moveFn=ir,Q.doneFn=pe))),e._fullLayout._redrag=function(){var vr=e._dragdata;if(vr&&vr.element===Z){var Er=e._fullLayout.dragmode;i3(Er)||(O(),Ie([0,0,w,x]),Q.moveFn(vr.dx,vr.dy))}}};function ie(){Q.plotinfo.selection=!1,Whe(e)}function be(Ve,He){var dr=Q.gd;if(dr._fullLayout._activeShapeIndex>=0){dr._fullLayout._deactivateShape(dr);return}var Tr=dr._fullLayout.clickmode;if(D6(dr),Ve===2&&!f&&br(),u)Tr.indexOf("select")>-1&&jhe(He,dr,g,y,r.id,Q),Tr.indexOf("event")>-1&&Ihe.click(dr,He,r.id);else if(Ve===1&&f){var mr=o?h:c,vr=o==="s"||l==="w"?0:1,Er=mr._name+".range["+vr+"]",Ir=Zhe(mr,vr),Hr="left",Je="middle";if(mr.fixedrange)return;o?(Je=o==="n"?"top":"bottom",mr.side==="right"&&(Hr="right")):l==="e"&&(Hr="right"),dr._context.showAxisRangeEntryBoxes&&F6.select(Z).call(Nhe.makeEditable,{gd:dr,immediate:!0,background:dr._fullLayout.paper_bgcolor,text:String(Ir),fill:mr.tickfont?mr.tickfont.color:"#444",horizontalAlign:Hr,verticalAlign:Je}).on("edit",function(se){var we=mr.d2r(se);we!==void 0&&n3.call("_guiRelayout",dr,Er,we)})}}zhe.init(Q);var ne,de,K,me,fe,ke,ve,Ae,Y,ae;function X(Ve,He,dr){var Tr=Z.getBoundingClientRect();ne=He-Tr.left,de=dr-Tr.top,e._fullLayout._calcInverseTransform(e);var mr=$o.apply3DTransform(e._fullLayout._invTransform)(ne,de);ne=mr[0],de=mr[1],K={l:ne,r:ne,w:0,t:de,b:de,h:0},me=e._hmpixcount?e._hmlumcount/e._hmpixcount:Rhe(e._fullLayout.plot_bgcolor).getLuminance(),fe="M0,0H"+w+"V"+x+"H0V0",ke=!1,ve="xy",ae=!1,Ae=jN(s,me,b,_,fe),Y=XN(s,b,_)}function Se(Ve,He){if(e._transitioningWithDuration)return!1;var dr=Math.max(0,Math.min(w,W*Ve+ne)),Tr=Math.max(0,Math.min(x,z*He+de)),mr=Math.abs(dr-ne),vr=Math.abs(Tr-de);K.l=Math.min(ne,dr),K.r=Math.max(ne,dr),K.t=Math.min(de,Tr),K.b=Math.max(de,Tr);function Er(){ve="",K.r=K.l,K.t=K.b,Y.attr("d","M0,0Z")}if(T.isSubplotConstrained)mr>Hi||vr>Hi?(ve="xy",mr/w>vr/x?(vr=mr*x/w,de>Tr?K.t=de-vr:K.b=de+vr):(mr=vr*w/x,ne>dr?K.l=ne-mr:K.r=ne+mr),Y.attr("d",o3(K))):Er();else if(S.isSubplotConstrained)if(mr>Hi||vr>Hi){ve="xy";var Ir=Math.min(K.l/w,(x-K.b)/x),Hr=Math.max(K.r/w,(x-K.t)/x);K.l=Ir*w,K.r=Hr*w,K.b=(1-Ir)*x,K.t=(1-Hr)*x,Y.attr("d",o3(K))}else Er();else!C||vr<Math.min(Math.max(mr*.6,IN),Hi)?mr<IN||!M?Er():(K.t=0,K.b=x,ve="x",Y.attr("d",Khe(K,de))):!M||mr<Math.min(vr*.6,Hi)?(K.l=0,K.r=w,ve="y",Y.attr("d",Qhe(K,ne))):(ve="xy",Y.attr("d",o3(K)));K.w=K.r-K.l,K.h=K.b-K.t,ve&&(ae=!0),e._dragged=ae,ZN(Ae,Y,K,fe,ke,me),qe(),e.emit("plotly_relayouting",j),ke=!0}function qe(){j={},(ve==="xy"||ve==="x")&&(q6(g,K.l/w,K.r/w,j,T.xaxes),Xe("x",j)),(ve==="xy"||ve==="y")&&(q6(y,(x-K.b)/x,(x-K.t)/x,j,T.yaxes),Xe("y",j))}function De(){qe(),D6(e),pe(),$N(e)}var tr=[0,0,w,x],$e=null,Ze=R6.REDRAWDELAY,lr=r.mainplot?e._fullLayout._plots[r.mainplot]:r;function pr(Ve){if(!e._context._scrollZoom.cartesian&&!e._fullLayout._enablescrollzoom)return;if(ie(),e._transitioningWithDuration){Ve.preventDefault(),Ve.stopPropagation();return}O(),clearTimeout($e);var He=-Ve.deltaY;if(isFinite(He)||(He=Ve.wheelDelta/10),!isFinite(He)){$o.log("Did not find wheel motion attributes: ",Ve);return}var dr=Math.exp(-Math.min(Math.max(He,-20),20)/200),Tr=lr.draglayer.select(".nsewdrag").node().getBoundingClientRect(),mr=(Ve.clientX-Tr.left)/Tr.width,vr=(Tr.bottom-Ve.clientY)/Tr.height,Er;function Ir(Hr,Je,se){if(Hr.fixedrange)return;var we=$o.simpleMap(Hr.range,Hr.r2l),Ge=we[0]+(we[1]-we[0])*Je;function Oe(Wr){return Hr.l2r(Ge+(Wr-Ge)*se)}Hr.range=we.map(Oe)}if(F){for(l||(mr=.5),Er=0;Er<g.length;Er++)Ir(g[Er],mr,dr);Xe("x"),tr[2]*=dr,tr[0]+=tr[2]*mr*(1/dr-1)}if(P){for(o||(vr=.5),Er=0;Er<y.length;Er++)Ir(y[Er],vr,dr);Xe("y"),tr[3]*=dr,tr[1]+=tr[3]*(1-vr)*(1/dr-1)}Ie(tr),Cr(),e.emit("plotly_relayouting",j),$e=setTimeout(function(){e._fullLayout&&(tr=[0,0,w,x],pe())},Ze),Ve.preventDefault()}o.length*l.length!==1&&KN(Z,pr);function ir(Ve,He){if(Ve=Ve*W,He=He*z,e._transitioningWithDuration)return;if(e._fullLayout._replotting=!0,M==="ew"||C==="ns"){var dr=M?-Ve:0,Tr=C?-He:0;if(S.isSubplotConstrained){if(M&&C){var mr=(Ve/w-He/x)/2;Ve=mr*w,He=-mr*x,dr=-Ve,Tr=-He}C?dr=-Tr*w/x:Tr=-dr*x/w}M&&(BN(g,Ve),Xe("x")),C&&(BN(y,He),Xe("y")),Ie([dr,Tr,w,x]),Cr(),e.emit("plotly_relayouting",j);return}function vr(Oe,Wr,tt){for(var $r=1-Wr,kt,ra,pa=0;pa<Oe.length;pa++){var na=Oe[pa];if(!na.fixedrange){kt=na,ra=na._rl[$r]+(na._rl[Wr]-na._rl[$r])/Jhe(tt/na._length);var Ka=na.l2r(ra);Ka!==!1&&Ka!==void 0&&(na.range[Wr]=Ka)}}return kt._length*(kt._rl[Wr]-ra)/(kt._rl[Wr]-kt._rl[$r])}var Er=M==="w"==(C==="n")?1:-1;if(M&&C&&(T.isSubplotConstrained||S.isSubplotConstrained)){var Ir=(Ve/w+Er*He/x)/2;Ve=Ir*w,He=Er*Ir*x}var Hr,Je;if(M==="w"?Ve=vr(g,0,Ve):M==="e"?Ve=vr(g,1,-Ve):M||(Ve=0),C==="n"?He=vr(y,1,He):C==="s"?He=vr(y,0,-He):C||(He=0),Hr=M==="w"?Ve:0,Je=C==="n"?He:0,T.isSubplotConstrained&&!S.isSubplotConstrained||S.isSubplotConstrained&&M&&C&&Er>0){var se;if(S.isSubplotConstrained||!M&&C.length===1){for(se=0;se<g.length;se++)g[se].range=g[se]._r.slice(),E6(g[se],1-He/x);Ve=He*w/x,Hr=Ve/2}if(S.isSubplotConstrained||!C&&M.length===1){for(se=0;se<y.length;se++)y[se].range=y[se]._r.slice(),E6(y[se],1-Ve/w);He=Ve*x/w,Je=He/2}}(!S.isSubplotConstrained||!C)&&Xe("x"),(!S.isSubplotConstrained||!M)&&Xe("y");var we=w-Ve,Ge=x-He;S.isSubplotConstrained&&!(M&&C)&&(M?(Je=Hr?0:Ve*x/w,Ge=we*x/w):(Hr=Je?0:He*w/x,we=Ge*w/x)),Ie([Hr,Je,we,Ge]),Cr(),e.emit("plotly_relayouting",j)}function Xe(Ve,He){for(var dr=S.isSubplotConstrained?{x:y,y:g}[Ve]:S[Ve+"axes"],Tr=S.isSubplotConstrained?{x:g,y}[Ve]:[],mr=0;mr<dr.length;mr++){var vr=dr[mr],Er=vr._id,Ir=S.xLinks[Er]||S.yLinks[Er],Hr=Tr[0]||d[Ir]||p[Ir];Hr&&(He?(He[vr._name+".range[0]"]=He[Hr._name+".range[0]"],He[vr._name+".range[1]"]=He[Hr._name+".range[1]"]):vr.range=Hr.range.slice())}}function Cr(){var Ve=[],He;function dr(Er){for(He=0;He<Er.length;He++)Er[He].fixedrange||Ve.push(Er[He]._id)}function Tr(Er,Ir){for(He=0;He<Er.length;He++){var Hr=Er[He],Je=Hr[Ir];!Hr.fixedrange&&Je.tickmode==="sync"&&Ve.push(Je._id)}}for(F&&(dr(g),dr(T.xaxes),dr(S.xaxes),Tr(r.overlays,"xaxis")),P&&(dr(y),dr(T.yaxes),dr(S.yaxes),Tr(r.overlays,"yaxis")),j={},He=0;He<Ve.length;He++){var mr=Ve[He],vr=L6(e,mr);NN.drawOne(e,vr,{skipTitle:!0}),j[vr._name+".range[0]"]=vr.range[0],j[vr._name+".range[1]"]=vr.range[1]}NN.redrawComponents(e,Ve)}function br(){if(!e._transitioningWithDuration){var Ve=e._context.doubleClick,He=[];M&&(He=He.concat(g)),C&&(He=He.concat(y)),S.xaxes&&(He=He.concat(S.xaxes)),S.yaxes&&(He=He.concat(S.yaxes));var dr={},Tr,mr;if(Ve==="reset+autosize")for(Ve="autosize",mr=0;mr<He.length;mr++){Tr=He[mr];var vr=Tr._rangeInitial0,Er=Tr._rangeInitial1,Ir=vr!==void 0||Er!==void 0;if(Ir&&(vr!==void 0&&vr!==Tr.range[0]||Er!==void 0&&Er!==Tr.range[1])||!Ir&&Tr.autorange!==!0){Ve="reset";break}}if(Ve==="autosize")for(mr=0;mr<He.length;mr++)Tr=He[mr],Tr.fixedrange||(dr[Tr._name+".autorange"]=!0);else if(Ve==="reset"){for((M||T.isSubplotConstrained)&&(He=He.concat(T.xaxes)),C&&!T.isSubplotConstrained&&(He=He.concat(T.yaxes)),T.isSubplotConstrained&&(M?C||(He=He.concat(y)):He=He.concat(g)),mr=0;mr<He.length;mr++)if(Tr=He[mr],!Tr.fixedrange){var Hr=Tr._name,Je=Tr._autorangeInitial;Tr._rangeInitial0===void 0&&Tr._rangeInitial1===void 0?dr[Hr+".autorange"]=!0:Tr._rangeInitial0===void 0?(dr[Hr+".autorange"]=Je,dr[Hr+".range"]=[null,Tr._rangeInitial1]):Tr._rangeInitial1===void 0?(dr[Hr+".range"]=[Tr._rangeInitial0,null],dr[Hr+".autorange"]=Je):dr[Hr+".range"]=[Tr._rangeInitial0,Tr._rangeInitial1]}}e.emit("plotly_doubleclick",null),n3.call("_guiRelayout",e,dr)}}function pe(){Ie([0,0,w,x]),$o.syncOrAsync([Vhe.previousPromises,function(){e._fullLayout._replotting=!1,n3.call("_guiRelayout",e,j)}],e)}function Ie(Ve){var He=e._fullLayout,dr=He._plots,Tr=He._subplots.cartesian,mr,vr,Er,Ir;if(H&&n3.subplotsRegistry.splom.drag(e),I){for(mr=0;mr<Tr.length;mr++)if(vr=dr[Tr[mr]],Er=vr.xaxis,Ir=vr.yaxis,vr._scene){Er.limitRange&&Er.limitRange(),Ir.limitRange&&Ir.limitRange();var Hr=$o.simpleMap(Er.range,Er.r2l),Je=$o.simpleMap(Ir.range,Ir.r2l);vr._scene.update({range:[Hr[0],Je[0],Hr[1],Je[1]]})}}if((H||I)&&(Hhe(e),Ghe(e)),V){var se=Ve[2]/c._length,we=Ve[3]/h._length;for(mr=0;mr<Tr.length;mr++){vr=dr[Tr[mr]],Er=vr.xaxis,Ir=vr.yaxis;var Ge=(F||S.isSubplotConstrained)&&!Er.fixedrange&&d[Er._id],Oe=(P||S.isSubplotConstrained)&&!Ir.fixedrange&&p[Ir._id],Wr,tt,$r,kt;if(Ge?(Wr=se,$r=l||S.isSubplotConstrained?Ve[0]:zr(Er,Wr)):S.xaHash[Er._id]?(Wr=se,$r=Ve[0]*Er._length/c._length):S.yaHash[Er._id]?(Wr=we,$r=C==="ns"?-Ve[1]*Er._length/h._length:zr(Er,Wr,{n:"top",s:"bottom"}[C])):(Wr=ze(Er,se,we),$r=et(Er,Wr)),Wr>1&&(Er.maxallowed!==void 0&&F===(Er.range[0]<Er.range[1]?"e":"w")||Er.minallowed!==void 0&&F===(Er.range[0]<Er.range[1]?"w":"e"))&&(Wr=1,$r=0),Oe?(tt=we,kt=o||S.isSubplotConstrained?Ve[1]:zr(Ir,tt)):S.yaHash[Ir._id]?(tt=we,kt=Ve[1]*Ir._length/h._length):S.xaHash[Ir._id]?(tt=se,kt=M==="ew"?-Ve[0]*Ir._length/c._length:zr(Ir,tt,{e:"right",w:"left"}[M])):(tt=ze(Ir,se,we),kt=et(Ir,tt)),tt>1&&(Ir.maxallowed!==void 0&&P===(Ir.range[0]<Ir.range[1]?"n":"s")||Ir.minallowed!==void 0&&P===(Ir.range[0]<Ir.range[1]?"s":"n"))&&(tt=1,kt=0),!(!Wr&&!tt)){Wr||(Wr=1),tt||(tt=1);var ra=Er._offset-$r/Wr,pa=Ir._offset-kt/tt;vr.clipRect.call(of.setTranslate,$r,kt).call(of.setScale,Wr,tt),vr.plot.call(of.setTranslate,ra,pa).call(of.setScale,1/Wr,1/tt),(Wr!==vr.xScaleFactor||tt!==vr.yScaleFactor)&&(of.setPointGroupScale(vr.zoomScalePts,Wr,tt),of.setTextPointsScale(vr.zoomScaleTxt,Wr,tt)),of.hideOutsideRangePoints(vr.clipOnAxisFalseTraces,vr),vr.xScaleFactor=Wr,vr.yScaleFactor=tt}}}}function ze(Ve,He,dr){return Ve.fixedrange?0:F&&T.xaHash[Ve._id]?He:P&&(T.isSubplotConstrained?T.xaHash:T.yaHash)[Ve._id]?dr:0}function et(Ve,He){return He?(Ve.range=Ve._r.slice(),E6(Ve,He),zr(Ve,He)):0}function zr(Ve,He,dr){return Ve._length*(1-He)*Uhe[dr||Ve.constraintoward||"middle"]}return Z}function YN(e,r,t,a){var n=$o.ensureSingle(e.draglayer,r,t,function(i){i.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return n.call(Ohe,a),n.node()}function WN(e,r,t,a,n,i,o){var l=YN(e,"rect",r,t);return F6.select(l).call(of.setRect,a,n,i,o),l}function zN(e,r){for(var t=0;t<e.length;t++)if(!e[t].fixedrange)return r;return""}function Zhe(e,r){var t=e.range[r],a=Math.abs(t-e.range[1-r]),n;return e.type==="date"?t:e.type==="log"?(n=Math.ceil(Math.max(0,-Math.log(a)/Math.LN10))+3,RN("."+n+"g")(Math.pow(10,t))):(n=Math.floor(Math.log(Math.abs(t))/Math.LN10)-Math.floor(Math.log(a)/Math.LN10)+4,RN("."+String(n)+"g")(t))}function q6(e,r,t,a,n){for(var i=0;i<e.length;i++){var o=e[i];if(!o.fixedrange)if(o.rangebreaks){var l=o._id.charAt(0)==="y",s=l?1-r:r,u=l?1-t:t;a[o._name+".range[0]"]=o.l2r(o.p2l(s*o._length)),a[o._name+".range[1]"]=o.l2r(o.p2l(u*o._length))}else{var f=o._rl[0],c=o._rl[1]-f;a[o._name+".range[0]"]=o.l2r(f+c*r),a[o._name+".range[1]"]=o.l2r(f+c*t)}}if(n&&n.length){var h=(r+(1-t))/2;q6(n,h,1-h,a,[])}}function BN(e,r){for(var t=0;t<e.length;t++){var a=e[t];if(!a.fixedrange){if(a.rangebreaks){var n=0,i=a._length,o=a.p2l(n+r)-a.p2l(n),l=a.p2l(i+r)-a.p2l(i),s=(o+l)/2;a.range=[a.l2r(a._rl[0]-s),a.l2r(a._rl[1]-s)]}else a.range=[a.l2r(a._rl[0]-r/a._m),a.l2r(a._rl[1]-r/a._m)];a.limitRange&&a.limitRange()}}}function Jhe(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function $he(e,r,t){return e?e==="nsew"?t?"":r==="pan"?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function jN(e,r,t,a,n){return e.append("path").attr("class","zoombox").style({fill:r>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",GN(t,a)).attr("d",n+"Z")}function XN(e,r,t){return e.append("path").attr("class","zoombox-corners").style({fill:PN.background,stroke:PN.defaultLine,"stroke-width":1,opacity:0}).attr("transform",GN(r,t)).attr("d","M0,0Z")}function ZN(e,r,t,a,n,i){e.attr("d",a+"M"+t.l+","+t.t+"v"+t.h+"h"+t.w+"v-"+t.h+"h-"+t.w+"Z"),JN(e,r,n,i)}function JN(e,r,t,a){t||(e.transition().style("fill",a>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),r.transition().style("opacity",1).duration(200))}function D6(e){F6.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function $N(e){ON&&e.data&&e._context.showTips&&($o.notifier($o._(e,"Double-click to zoom back out"),"long"),ON=!1)}function Khe(e,r){return"M"+(e.l-.5)+","+(r-Hi-.5)+"h-3v"+(2*Hi+1)+"h3ZM"+(e.r+.5)+","+(r-Hi-.5)+"h3v"+(2*Hi+1)+"h-3Z"}function Qhe(e,r){return"M"+(r-Hi-.5)+","+(e.t-.5)+"v-3h"+(2*Hi+1)+"v3ZM"+(r-Hi-.5)+","+(e.b+.5)+"v3h"+(2*Hi+1)+"v-3Z"}function o3(e){var r=Math.floor(Math.min(e.b-e.t,e.r-e.l,Hi)/2);return"M"+(e.l-3.5)+","+(e.t-.5+r)+"h3v"+-r+"h"+r+"v-3h-"+(r+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+r)+"h-3v"+-r+"h"+-r+"v-3h"+(r+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-r)+"h-3v"+r+"h"+-r+"v3h"+(r+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-r)+"h3v"+r+"h"+r+"v3h-"+(r+3)+"Z"}function UN(e,r,t,a,n){for(var i=!1,o={},l={},s,u,f,c,h=(n||{}).xaHash,d=(n||{}).yaHash,p=0;p<r.length;p++){var g=r[p];for(s in t)if(g[s]){for(f in g)!(n&&(h[f]||d[f]))&&!(f.charAt(0)==="x"?t:a)[f]&&(o[f]=s);for(u in a)!(n&&(h[u]||d[u]))&&g[u]&&(i=!0)}for(u in a)if(g[u])for(c in g)!(n&&(h[c]||d[c]))&&!(c.charAt(0)==="x"?t:a)[c]&&(l[c]=u)}i&&($o.extendFlat(o,l),l={});var y={},b=[];for(f in o){var _=L6(e,f);b.push(_),y[_._id]=_}var w={},x=[];for(c in l){var T=L6(e,c);x.push(T),w[T._id]=T}return{xaHash:y,yaHash:w,xaxes:b,yaxes:x,xLinks:o,yLinks:l,isSubplotConstrained:i}}function KN(e,r){if(!Phe)e.onwheel!==void 0?e.onwheel=r:e.onmousewheel!==void 0?e.onmousewheel=r:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",r,{passive:!1}));else{var t=e.onwheel!==void 0?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(t,e._onwheel),e._onwheel=r,e.addEventListener(t,r,{passive:!1})}}function HN(e){var r=[];for(var t in e)r.push(e[t]);return r}QN.exports={makeDragBox:Xhe,makeDragger:YN,makeRectDragger:WN,makeZoombox:jN,makeCorners:XN,updateZoombox:ZN,xyCorners:o3,transitionZoombox:JN,removeZoombox:D6,showDoubleClickNotifier:$N,attachWheelEventHandler:KN}});var P6=R(s3=>{"use strict";var ede=aa(),l3=Ks(),rde=Al(),tde=Qu(),Sl=eI().makeDragBox,Jn=ui().DRAGGERSIZE;s3.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){ede.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var a=Object.keys(t._plots||{}).sort(function(i,o){if((t._plots[i].mainplot&&!0)===(t._plots[o].mainplot&&!0)){var l=i.split("y"),s=o.split("y");return l[0]===s[0]?Number(l[1]||1)-Number(s[1]||1):Number(l[0]||1)-Number(s[0]||1)}return t._plots[i].mainplot?1:-1});a.forEach(function(i){var o=t._plots[i],l=o.xaxis,s=o.yaxis;if(!o.mainplot){var u=Sl(r,o,l._offset,s._offset,l._length,s._length,"ns","ew");u.onmousemove=function(h){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===i&&r._fullLayout._plots[i]&&l3.hover(r,h,i)},l3.hover(r,h,i),r._fullLayout._lasthover=u,r._fullLayout._hoversubplot=i},u.onmouseout=function(h){r._dragging||(r._fullLayout._hoversubplot=null,rde.unhover(r,h))},r._context.showAxisDragHandles&&(Sl(r,o,l._offset-Jn,s._offset-Jn,Jn,Jn,"n","w"),Sl(r,o,l._offset+l._length,s._offset-Jn,Jn,Jn,"n","e"),Sl(r,o,l._offset-Jn,s._offset+s._length,Jn,Jn,"s","w"),Sl(r,o,l._offset+l._length,s._offset+s._length,Jn,Jn,"s","e"))}if(r._context.showAxisDragHandles){if(i===l._mainSubplot){var f=l._mainLinePosition;l.side==="top"&&(f-=Jn),Sl(r,o,l._offset+l._length*.1,f,l._length*.8,Jn,"","ew"),Sl(r,o,l._offset,f,l._length*.1,Jn,"","w"),Sl(r,o,l._offset+l._length*.9,f,l._length*.1,Jn,"","e")}if(i===s._mainSubplot){var c=s._mainLinePosition;s.side!=="right"&&(c-=Jn),Sl(r,o,c,s._offset+s._length*.1,Jn,s._length*.8,"ns",""),Sl(r,o,c,s._offset+s._length*.9,Jn,s._length*.1,"s",""),Sl(r,o,c,s._offset,Jn,s._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(i){i.target=r._fullLayout._lasthover,l3.hover(r,i,t._hoversubplot)},n.onclick=function(i){i.target=r._fullLayout._lasthover,l3.click(r,i)},n.onmousedown=function(i){r._fullLayout._lasthover.onmousedown(i)},s3.updateFx(r)}};s3.updateFx=function(e){var r=e._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";tde(r._draggers,t)}});var aI=R((jCe,tI)=>{"use strict";var rI=_t();tI.exports=function(r){for(var t=rI.layoutArrayContainers,a=rI.layoutArrayRegexes,n=r.split("[")[0],i,o,l=0;l<a.length;l++)if(o=r.match(a[l]),o&&o.index===0){i=o[0];break}if(i||(i=t[t.indexOf(n)]),!i)return!1;var s=r.substr(i.length);return s?(o=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),o?{array:i,index:Number(o[1]),property:o[3]||""}:!1):{array:i,index:"",property:""}}});var iI=R(ep=>{"use strict";var ade=Pu(),N6=jm(),Q1=lc(),nde=E_().sorterAsc,I6=_t();ep.containerArrayMatch=aI();var ide=ep.isAddVal=function(r){return r==="add"||ade(r)},nI=ep.isRemoveVal=function(r){return r===null||r==="remove"};ep.applyContainerArrayChanges=function(r,t,a,n,i){var o=t.astr,l=I6.getComponentMethod(o,"supplyLayoutDefaults"),s=I6.getComponentMethod(o,"draw"),u=I6.getComponentMethod(o,"drawOne"),f=n.replot||n.recalc||l===N6||s===N6,c=r.layout,h=r._fullLayout;if(a[""]){Object.keys(a).length>1&&Q1.warn("Full array edits are incompatible with other edits",o);var d=a[""][""];if(nI(d))t.set(null);else if(Array.isArray(d))t.set(d);else return Q1.warn("Unrecognized full array edit value",o,d),!0;return f?!1:(l(c,h),s(r),!0)}var p=Object.keys(a).map(Number).sort(nde),g=t.get(),y=g||[],b=i(h,o).get(),_=[],w=-1,x=y.length,T,S,M,C,q,F,P,I;for(T=0;T<p.length;T++){if(M=p[T],C=a[M],q=Object.keys(C),F=C[""],P=ide(F),M<0||M>y.length-(P?0:1)){Q1.warn("index out of range",o,M);continue}if(F!==void 0)q.length>1&&Q1.warn("Insertion & removal are incompatible with edits to the same index.",o,M),nI(F)?_.push(M):P?(F==="add"&&(F={}),y.splice(M,0,F),b&&b.splice(M,0,{})):Q1.warn("Unrecognized full object edit value",o,M,F),w===-1&&(w=M);else for(S=0;S<q.length;S++)I=o+"["+M+"].",i(y[M],q[S],I).set(C[q[S]])}for(T=_.length-1;T>=0;T--)y.splice(_[T],1),b&&b.splice(_[T],1);if(y.length?g||t.set(y):t.set(null),f)return!1;if(l(c,h),u!==N6){var H;if(w===-1)H=p;else{for(x=Math.max(y.length,x),H=[],T=0;T<p.length&&(M=p[T],!(M>=w));T++)H.push(M);for(T=w;T<x;T++)H.push(T)}for(T=0;T<H.length;T++)u(r,H[T])}else s(r);return!0}});var hI=R(kl=>{"use strict";var uI=Zt(),ZCe=b_(),fI=_t(),vo=fr(),rp=Wn(),cI=yn(),vI=Vt(),tp=cI.cleanId,ode=cI.getFromTrace,O6=fI.traceIs;kl.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&vo.log("Clearing previous rejected promises from queue."),e._promises=[]};kl.cleanLayout=function(e){var r,t;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var a=(rp.subplotsRegistry.cartesian||{}).attrRegex,n=(rp.subplotsRegistry.polar||{}).attrRegex,i=(rp.subplotsRegistry.ternary||{}).attrRegex,o=(rp.subplotsRegistry.gl3d||{}).attrRegex,l=Object.keys(e);for(r=0;r<l.length;r++){var s=l[r];if(a&&a.test(s)){var u=e[s];u.anchor&&u.anchor!=="free"&&(u.anchor=tp(u.anchor)),u.overlaying&&(u.overlaying=tp(u.overlaying)),u.type||(u.isdate?u.type="date":u.islog?u.type="log":u.isdate===!1&&u.islog===!1&&(u.type="linear")),(u.autorange==="withzero"||u.autorange==="tozero")&&(u.autorange=!0,u.rangemode="tozero"),u.insiderange&&delete u.range,delete u.islog,delete u.isdate,delete u.categories,u3(u,"domain")&&delete u.domain}}var f=Array.isArray(e.annotations)?e.annotations.length:0;for(r=0;r<f;r++){var c=e.annotations[r];vo.isPlainObject(c)&&(j0(c,"xref"),j0(c,"yref"))}var h=Array.isArray(e.shapes)?e.shapes.length:0;for(r=0;r<h;r++){var d=e.shapes[r];vo.isPlainObject(d)&&(j0(d,"xref"),j0(d,"yref"))}var p=Array.isArray(e.images)?e.images.length:0;for(r=0;r<p;r++){var g=e.images[r];vo.isPlainObject(g)&&(j0(g,"xref"),j0(g,"yref"))}var y=e.legend;return y&&(y.x>3?(y.x=1.02,y.xanchor="left"):y.x<-2&&(y.x=-.02,y.xanchor="right"),y.y>3?(y.y=1.02,y.yanchor="bottom"):y.y<-2&&(y.y=-.02,y.yanchor="top")),e.dragmode==="rotate"&&(e.dragmode="orbit"),vI.clean(e),e.template&&e.template.layout&&kl.cleanLayout(e.template.layout),e};function j0(e,r){var t=e[r],a=r.charAt(0);t&&t!=="paper"&&(e[r]=tp(t,a,!0))}kl.cleanData=function(e){for(var r=0;r<e.length;r++){var t=e[r],a;if(t.type==="histogramy"&&"xbins"in t&&!("ybins"in t)&&(t.ybins=t.xbins,delete t.xbins),t.type==="histogramy"&&kl.swapXYData(t),(t.type==="histogramx"||t.type==="histogramy")&&(t.type="histogram"),"scl"in t&&!("colorscale"in t)&&(t.colorscale=t.scl,delete t.scl),"reversescl"in t&&!("reversescale"in t)&&(t.reversescale=t.reversescl,delete t.reversescl),t.xaxis&&(t.xaxis=tp(t.xaxis,"x")),t.yaxis&&(t.yaxis=tp(t.yaxis,"y")),O6(t,"gl3d")&&t.scene&&(t.scene=rp.subplotsRegistry.gl3d.cleanId(t.scene)),!O6(t,"pie-like")&&!O6(t,"bar-like"))if(Array.isArray(t.textposition))for(a=0;a<t.textposition.length;a++)t.textposition[a]=lI(t.textposition[a]);else t.textposition&&(t.textposition=lI(t.textposition));var n=fI.getModule(t);if(n&&n.colorbar){var i=n.colorbar.container,o=i?t[i]:t;o&&o.colorscale&&(o.colorscale==="YIGnBu"&&(o.colorscale="YlGnBu"),o.colorscale==="YIOrRd"&&(o.colorscale="YlOrRd"))}if(t.type==="surface"&&vo.isPlainObject(t.contours)){var l=["x","y","z"];for(a=0;a<l.length;a++){var s=t.contours[l[a]];vo.isPlainObject(s)&&(s.highlightColor&&(s.highlightcolor=s.highlightColor,delete s.highlightColor),s.highlightWidth&&(s.highlightwidth=s.highlightWidth,delete s.highlightWidth))}}if(t.type==="candlestick"||t.type==="ohlc"){var u=(t.increasing||{}).showlegend!==!1,f=(t.decreasing||{}).showlegend!==!1,c=oI(t.increasing),h=oI(t.decreasing);if(c!==!1&&h!==!1){var d=lde(c,h,u,f);d&&(t.name=d)}else(c||h)&&!t.name&&(t.name=c||h)}u3(t,"line")&&delete t.line,"marker"in t&&(u3(t.marker,"line")&&delete t.marker.line,u3(t,"marker")&&delete t.marker),vI.clean(t),t.autobinx&&(delete t.autobinx,delete t.xbins),t.autobiny&&(delete t.autobiny,delete t.ybins)}};function oI(e){if(!vo.isPlainObject(e))return!1;var r=e.name;return delete e.name,delete e.showlegend,(typeof r=="string"||typeof r=="number")&&String(r)}function lde(e,r,t,a){if(t&&!a)return e;if(a&&!t||!e.trim())return r;if(!r.trim())return e;var n=Math.min(e.length,r.length),i;for(i=0;i<n&&e.charAt(i)===r.charAt(i);i++);var o=e.substr(0,i);return o.trim()}function lI(e){var r="middle",t="center";return typeof e=="string"&&(e.indexOf("top")!==-1?r="top":e.indexOf("bottom")!==-1&&(r="bottom"),e.indexOf("left")!==-1?t="left":e.indexOf("right")!==-1&&(t="right")),r+" "+t}function u3(e,r){return r in e&&typeof e[r]=="object"&&Object.keys(e[r]).length===0}kl.swapXYData=function(e){var r;if(vo.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var t=e.error_y,a="copy_ystyle"in t?t.copy_ystyle:!(t.color||t.thickness||t.width);vo.swapAttrs(e,["error_?.copy_ystyle"]),a&&vo.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if(typeof e.hoverinfo=="string"){var n=e.hoverinfo.split("+");for(r=0;r<n.length;r++)n[r]==="x"?n[r]="y":n[r]==="y"&&(n[r]="x");e.hoverinfo=n.join("+")}};kl.coerceTraceIndices=function(e,r){if(uI(r))return[r];if(!Array.isArray(r)||!r.length)return e.data.map(function(n,i){return i});if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++)vo.isIndex(r[a],e.data.length)?t.push(r[a]):vo.warn("trace index (",r[a],") is not a number or is out of bounds");return t}return r};kl.manageArrayContainers=function(e,r,t){var a=e.obj,n=e.parts,i=n.length,o=n[i-1],l=uI(o);if(l&&r===null){var s=n.slice(0,i-1).join("."),u=vo.nestedProperty(a,s).get();u.splice(o,1)}else l&&e.get()===void 0&&e.get()===void 0&&(t[e.astr]=null),e.set(r)};var sde=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function sI(e){var r=e.search(sde);if(r>0)return e.substr(0,r)}kl.hasParent=function(e,r){for(var t=sI(r);t;){if(t in e)return!0;t=sI(t)}return!1};var ude=["x","y","z"];kl.clearAxisTypes=function(e,r,t){for(var a=0;a<r.length;a++)for(var n=e._fullData[a],i=0;i<3;i++){var o=ode(e,n,ude[i]);if(o&&o.type!=="log"){var l=o._name,s=o._id.substr(1);if(s.substr(0,5)==="scene"){if(t[s]!==void 0)continue;l=s+"."+l}var u=l+".type";t[l]===void 0&&t[u]===void 0&&vo.nestedProperty(e.layout,u).set(null)}}}});var Y6=R(fa=>{"use strict";var v3=aa(),fde=Zt(),cde=H_(),Or=fr(),Da=Or.nestedProperty,U6=u1(),Gi=XC(),Ko=_t(),b3=d0(),Lt=Wn(),Fi=qa(),vde=uw(),hde=xl(),z6=Sa(),dde=Vt(),pde=P6().initInteractions,yde=yc(),mde=W0().clearOutline,gI=oc().dfltConfig,f3=iI(),Mn=hI(),Aa=Y2(),lf=yl(),gde=ui().AX_NAME_PATTERN,B6=0,dI=5;function bde(e,r,t,a){var n;if(e=Or.getGraphDiv(e),U6.init(e),Or.isPlainObject(r)){var i=r;r=i.data,t=i.layout,a=i.config,n=i.frames}var o=U6.triggerHandler(e,"plotly_beforeplot",[r,t,a]);if(o===!1)return Promise.reject();!r&&!t&&!Or.isPlotDiv(e)&&Or.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",e);function l(){if(n)return fa.addFrames(e,n)}xI(e,a),t||(t={}),v3.select(e).classed("js-plotly-plot",!0),z6.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var s=(e.data||[]).length===0&&Array.isArray(r);Array.isArray(r)&&(Mn.cleanData(r),s?e.data=r:e.data.push.apply(e.data,r),e.empty=!1),(!e.layout||s)&&(e.layout=Mn.cleanLayout(t)),Lt.supplyDefaults(e);var u=e._fullLayout,f=u._has("cartesian");u._replotting=!0,(s||u._shouldCreateBgLayer)&&(Ude(e),u._shouldCreateBgLayer&&delete u._shouldCreateBgLayer),z6.initGradients(e),z6.initPatterns(e),s&&Fi.saveShowSpikeInitial(e);var c=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;c&&Lt.doCalcdata(e);for(var h=0;h<e.calcdata.length;h++)e.calcdata[h][0].trace=e._fullData[h];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){Or.isHidden(e)||Lt.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):Or.clearResponsive(e);var d=Or.extendFlat({},u._size),p=0;function g(){for(var M=u._basePlotModules,C=0;C<M.length;C++)M[C].drawFramework&&M[C].drawFramework(e);!u._glcanvas&&u._has("gl")&&(u._glcanvas=u._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(I){return I.key}),u._glcanvas.enter().append("canvas").attr("class",function(I){return"gl-canvas gl-canvas-"+I.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var q=e._context.plotGlPixelRatio;if(u._glcanvas){u._glcanvas.attr("width",u.width*q).attr("height",u.height*q).style("width",u.width+"px").style("height",u.height+"px");var F=u._glcanvas.data()[0].regl;if(F&&(Math.floor(u.width*q)!==F._gl.drawingBufferWidth||Math.floor(u.height*q)!==F._gl.drawingBufferHeight)){var P="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(p)Or.error(P);else return Or.log(P+" Clearing graph and plotting again."),Lt.cleanPlot([],{},e._fullData,u),Lt.supplyDefaults(e),u=e._fullLayout,Lt.doCalcdata(e),p++,g()}}return u.modebar.orientation==="h"?u._modebardiv.style("height",null).style("width","100%"):u._modebardiv.style("width",null).style("height",u.height+"px"),Lt.previousPromises(e)}function y(){if(Lt.clearAutoMarginIds(e),Aa.drawMarginPushers(e),Fi.allowAutoMargin(e),e._fullLayout.title.text&&e._fullLayout.title.automargin&&Lt.allowAutoMargin(e,"title.automargin"),u._has("pie"))for(var M=e._fullData,C=0;C<M.length;C++){var q=M[C];q.type==="pie"&&q.automargin&&Lt.allowAutoMargin(e,"pie."+q.uid+".automargin")}return Lt.doAutoMargin(e),Lt.previousPromises(e)}function b(){if(Lt.didMarginChange(d,u._size))return Or.syncOrAsync([y,Aa.layoutStyles],e)}function _(){if(!c){w();return}return Or.syncOrAsync([Ko.getComponentMethod("shapes","calcAutorange"),Ko.getComponentMethod("annotations","calcAutorange"),w],e)}function w(){e._transitioning||(Aa.doAutoRangeAndConstraints(e),s&&Fi.saveRangeInitial(e),Ko.getComponentMethod("rangeslider","calcAutorange")(e))}function x(){return Fi.draw(e,s?"":"redraw")}var T=[Lt.previousPromises,l,g,y,b];f&&T.push(_),T.push(Aa.layoutStyles),f&&T.push(x,function(C){var q=C._fullLayout._insideTickLabelsUpdaterange;if(q)return C._fullLayout._insideTickLabelsUpdaterange=void 0,ap(C,q).then(function(){Fi.saveRangeInitial(C,!0)})}),T.push(Aa.drawData,Aa.finalDraw,pde,Lt.addLinks,Lt.rehover,Lt.redrag,Lt.reselect,Lt.doAutoMargin,Lt.previousPromises);var S=Or.syncOrAsync(T,e);return(!S||!S.then)&&(S=Promise.resolve()),S.then(function(){return np(e),e})}function np(e){var r=e._fullLayout;r._redrawFromAutoMarginCount?r._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function xde(e){return Or.extendFlat(gI,e)}function bI(e,r){try{e._fullLayout._paper.style("background",r)}catch(t){Or.error(t)}}function _de(e,r){var t=dde.combine(r,"white");bI(e,t)}function xI(e,r){if(!e._context){e._context=Or.extendDeep({},gI);var t=v3.select("base");e._context._baseUrl=t.size()&&t.attr("href")?window.location.href.split("#")[0]:""}var a=e._context,n,i,o;if(r){for(i=Object.keys(r),n=0;n<i.length;n++)o=i[n],!(o==="editable"||o==="edits")&&o in a&&(o==="setBackground"&&r[o]==="opaque"?a[o]=_de:a[o]=r[o]);var l=r.editable;if(l!==void 0)for(a.editable=l,i=Object.keys(a.edits),n=0;n<i.length;n++)a.edits[i[n]]=l;if(r.edits)for(i=Object.keys(r.edits),n=0;n<i.length;n++)o=i[n],o in a.edits&&(a.edits[o]=r.edits[o]);a._exportedPlot=r._exportedPlot}a.staticPlot&&(a.editable=!1,a.edits={},a.autosizable=!1,a.scrollZoom=!1,a.doubleClick=!1,a.showTips=!1,a.showLink=!1,a.displayModeBar=!1),a.displayModeBar==="hover"&&!cde&&(a.displayModeBar=!0),(a.setBackground==="transparent"||typeof a.setBackground!="function")&&(a.setBackground=bI),a._hasZeroHeight=a._hasZeroHeight||e.clientHeight===0,a._hasZeroWidth=a._hasZeroWidth||e.clientWidth===0;var s=a.scrollZoom,u=a._scrollZoom={};if(s===!0)u.cartesian=1,u.gl3d=1,u.geo=1,u.mapbox=1,u.map=1;else if(typeof s=="string"){var f=s.split("+");for(n=0;n<f.length;n++)u[f[n]]=1}else s!==!1&&(u.gl3d=1,u.geo=1,u.mapbox=1,u.map=1)}function wde(e){if(e=Or.getGraphDiv(e),!Or.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return Mn.cleanData(e.data),Mn.cleanLayout(e.layout),e.calcdata=void 0,fa._doPlot(e).then(function(){return e.emit("plotly_redraw"),e})}function Ade(e,r,t,a){return e=Or.getGraphDiv(e),Lt.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),Lt.purge(e),fa._doPlot(e,r,t,a)}function h3(e,r){var t=r+1,a=[],n,i;for(n=0;n<e.length;n++)i=e[n],i<0?a.push(t+i):a.push(i);return a}function d3(e,r,t){var a,n;for(a=0;a<r.length;a++){if(n=r[a],n!==parseInt(n,10))throw new Error("all values in "+t+" must be integers");if(n>=e.data.length||n<-e.data.length)throw new Error(t+" must be valid indices for gd.data.");if(r.indexOf(n,a+1)>-1||n>=0&&r.indexOf(-e.data.length+n)>-1||n<0&&r.indexOf(e.data.length+n)>-1)throw new Error("each index in "+t+" must be unique.")}}function _I(e,r,t){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("currentIndices is a required argument.");if(Array.isArray(r)||(r=[r]),d3(e,r,"currentIndices"),typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&d3(e,t,"newIndices"),typeof t!="undefined"&&r.length!==t.length)throw new Error("current and new indices must be of equal length.")}function Tde(e,r,t){var a,n;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("traces must be defined.");for(Array.isArray(r)||(r=[r]),a=0;a<r.length;a++)if(n=r[a],typeof n!="object"||Array.isArray(n)||n===null)throw new Error("all values in traces array must be non-array objects");if(typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&t.length!==r.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function Mde(e,r,t,a){var n=Or.isPlainObject(a);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!Or.isPlainObject(r))throw new Error("update must be a key:value object");if(typeof t=="undefined")throw new Error("indices must be an integer or array of integers");d3(e,t,"indices");for(var i in r){if(!Array.isArray(r[i])||r[i].length!==t.length)throw new Error("attribute "+i+" must be an array of length equal to indices array length");if(n&&(!(i in a)||!Array.isArray(a[i])||a[i].length!==r[i].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function Sde(e,r,t,a){var n=Or.isPlainObject(a),i=[],o,l,s,u,f;Array.isArray(t)||(t=[t]),t=h3(t,e.data.length-1);for(var c in r)for(var h=0;h<t.length;h++){if(o=e.data[t[h]],s=Da(o,c),l=s.get(),u=r[c][h],!Or.isArrayOrTypedArray(u))throw new Error("attribute: "+c+" index: "+h+" must be an array");if(!Or.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+c);if(l.constructor!==u.constructor)throw new Error("cannot extend array with an array of a different type: "+c);f=n?a[c][h]:a,fde(f)||(f=-1),i.push({prop:s,target:l,insert:u,maxp:Math.floor(f)})}return i}function wI(e,r,t,a,n){Mde(e,r,t,a);for(var i=Sde(e,r,t,a),o={},l={},s=0;s<i.length;s++){var u=i[s].prop,f=i[s].maxp,c=n(i[s].target,i[s].insert,f);u.set(c[0]),Array.isArray(o[u.astr])||(o[u.astr]=[]),o[u.astr].push(c[1]),Array.isArray(l[u.astr])||(l[u.astr]=[]),l[u.astr].push(i[s].target.length)}return{update:o,maxPoints:l}}function AI(e,r){var t=new e.constructor(e.length+r.length);return t.set(e),t.set(r,e.length),t}function TI(e,r,t,a){e=Or.getGraphDiv(e);function n(s,u,f){var c,h;if(Or.isTypedArray(s))if(f<0){var d=new s.constructor(0),p=AI(s,u);f<0?(c=p,h=d):(c=d,h=p)}else if(c=new s.constructor(f),h=new s.constructor(s.length+u.length-f),f===u.length)c.set(u),h.set(s);else if(f<u.length){var g=u.length-f;c.set(u.subarray(g)),h.set(s),h.set(u.subarray(0,g),s.length)}else{var y=f-u.length,b=s.length-y;c.set(s.subarray(b)),c.set(u,y),h.set(s.subarray(0,b))}else c=s.concat(u),h=f>=0&&f<c.length?c.splice(0,c.length-f):[];return[c,h]}var i=wI(e,r,t,a,n),o=fa.redraw(e),l=[e,i.update,t,i.maxPoints];return Gi.add(e,fa.prependTraces,l,TI,arguments),o}function MI(e,r,t,a){e=Or.getGraphDiv(e);function n(s,u,f){var c,h;if(Or.isTypedArray(s))if(f<=0){var d=new s.constructor(0),p=AI(u,s);f<0?(c=p,h=d):(c=d,h=p)}else if(c=new s.constructor(f),h=new s.constructor(s.length+u.length-f),f===u.length)c.set(u),h.set(s);else if(f<u.length){var g=u.length-f;c.set(u.subarray(0,g)),h.set(u.subarray(g)),h.set(s,g)}else{var y=f-u.length;c.set(u),c.set(s.subarray(0,y),u.length),h.set(s.subarray(y))}else c=u.concat(s),h=f>=0&&f<c.length?c.splice(f,c.length):[];return[c,h]}var i=wI(e,r,t,a,n),o=fa.redraw(e),l=[e,i.update,t,i.maxPoints];return Gi.add(e,fa.extendTraces,l,MI,arguments),o}function SI(e,r,t){e=Or.getGraphDiv(e);var a=[],n=fa.deleteTraces,i=SI,o=[e,a],l=[e,r],s,u;for(Tde(e,r,t),Array.isArray(r)||(r=[r]),r=r.map(function(f){return Or.extendFlat({},f)}),Mn.cleanData(r),s=0;s<r.length;s++)e.data.push(r[s]);for(s=0;s<r.length;s++)a.push(-r.length+s);if(typeof t=="undefined")return u=fa.redraw(e),Gi.add(e,n,o,i,l),u;Array.isArray(t)||(t=[t]);try{_I(e,a,t)}catch(f){throw e.data.splice(e.data.length-r.length,r.length),f}return Gi.startSequence(e),Gi.add(e,n,o,i,l),u=fa.moveTraces(e,a,t),Gi.stopSequence(e),u}function kI(e,r){e=Or.getGraphDiv(e);var t=[],a=fa.addTraces,n=kI,i=[e,t,r],o=[e,r],l,s;if(typeof r=="undefined")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),d3(e,r,"indices"),r=h3(r,e.data.length-1),r.sort(Or.sorterDes),l=0;l<r.length;l+=1)s=e.data.splice(r[l],1)[0],t.push(s);var u=fa.redraw(e);return Gi.add(e,a,i,n,o),u}function H6(e,r,t){e=Or.getGraphDiv(e);var a=[],n=[],i=H6,o=H6,l=[e,t,r],s=[e,r,t],u;if(_I(e,r,t),r=Array.isArray(r)?r:[r],typeof t=="undefined")for(t=[],u=0;u<r.length;u++)t.push(-r.length+u);for(t=Array.isArray(t)?t:[t],r=h3(r,e.data.length-1),t=h3(t,e.data.length-1),u=0;u<e.data.length;u++)r.indexOf(u)===-1&&a.push(e.data[u]);for(u=0;u<r.length;u++)n.push({newIndex:t[u],trace:e.data[r[u]]});for(n.sort(function(c,h){return c.newIndex-h.newIndex}),u=0;u<n.length;u+=1)a.splice(n[u].newIndex,0,n[u].trace);e.data=a;var f=fa.redraw(e);return Gi.add(e,i,l,o,s),f}function p3(e,r,t,a){e=Or.getGraphDiv(e),Mn.clearPromiseQueue(e);var n={};if(typeof r=="string")n[r]=t;else if(Or.isPlainObject(r))n=Or.extendFlat({},r),a===void 0&&(a=t);else return Or.warn("Restyle fail.",r,t,a),Promise.reject();Object.keys(n).length&&(e.changed=!0);var i=Mn.coerceTraceIndices(e,a),o=CI(e,n,i),l=o.flags;l.calc&&(e.calcdata=void 0),l.clearAxisTypes&&Mn.clearAxisTypes(e,i,{});var s=[];l.fullReplot?s.push(fa._doPlot):(s.push(Lt.previousPromises),Lt.supplyDefaults(e),l.markerSize&&(Lt.doCalcdata(e),x3(s)),l.style&&s.push(Aa.doTraceStyle),l.colorbars&&s.push(Aa.doColorBars),s.push(np)),s.push(Lt.rehover,Lt.redrag,Lt.reselect),Gi.add(e,p3,[e,o.undoit,o.traces],p3,[e,o.redoit,o.traces]);var u=Or.syncOrAsync(s,e);return(!u||!u.then)&&(u=Promise.resolve()),u.then(function(){return e.emit("plotly_restyle",o.eventData),e})}function tu(e){return e===void 0?null:e}function c3(e,r){return r?function(t,a,n){var i=Da(t,a),o=i.set;return i.set=function(l){var s=(n||"")+a;y3(s,i.get(),l,e),o(l)},i}:Da}function y3(e,r,t,a){if(Array.isArray(r)||Array.isArray(t))for(var n=Array.isArray(r)?r:[],i=Array.isArray(t)?t:[],o=Math.max(n.length,i.length),l=0;l<o;l++)y3(e+"["+l+"]",n[l],i[l],a);else if(Or.isPlainObject(r)||Or.isPlainObject(t)){var s=Or.isPlainObject(r)?r:{},u=Or.isPlainObject(t)?t:{},f=Or.extendFlat({},s,u);for(var c in f)y3(e+"."+c,s[c],u[c],a)}else a[e]===void 0&&(a[e]=tu(r))}function kde(e,r,t){for(var a in t){var n=Da(e,a);y3(a,n.get(),t[a],r)}}function CI(e,r,t){var a=e._fullLayout,n=e._fullData,i=e.data,o=a._guiEditing,l=c3(a._preGUI,o),s=Or.extendDeepAll({},r),u,f=lf.traceFlags(),c={},h={},d;function p(){return t.map(function(){})}function g(Y){var ae=Fi.id2name(Y);d.indexOf(ae)===-1&&d.push(ae)}function y(Y){return"LAYOUT"+Y+".autorange"}function b(Y){return"LAYOUT"+Y+".range"}function _(Y){for(var ae=Y;ae<n.length;ae++)if(n[ae]._input===i[Y])return n[ae]}function w(Y,ae,X){if(Array.isArray(Y)){Y.forEach(function(tr){w(tr,ae,X)});return}if(!(Y in r||Mn.hasParent(r,Y))){var Se;if(Y.substr(0,6)==="LAYOUT")Se=l(e.layout,Y.replace("LAYOUT",""));else{var qe=t[X],De=a._tracePreGUI[_(qe)._fullInput.uid];Se=c3(De,o)(i[qe],Y)}Y in h||(h[Y]=p()),h[Y][X]===void 0&&(h[Y][X]=tu(Se.get())),ae!==void 0&&Se.set(ae)}}function x(Y){return function(ae){return n[ae][Y]}}function T(Y){return function(ae,X){return ae===!1?n[t[X]][Y]:null}}for(var S in r){if(Mn.hasParent(r,S))throw new Error("cannot set "+S+" and a parent attribute simultaneously");var M=r[S],C,q,F,P,I,H;if((S==="autobinx"||S==="autobiny")&&(S=S.charAt(S.length-1)+"bins",Array.isArray(M)?M=M.map(T(S)):M===!1?M=t.map(x(S)):M=null),c[S]=M,S.substr(0,6)==="LAYOUT"){F=l(e.layout,S.replace("LAYOUT","")),h[S]=[tu(F.get())],F.set(Array.isArray(M)?M[0]:M),f.calc=!0;continue}for(h[S]=p(),u=0;u<t.length;u++){C=i[t[u]],q=_(t[u]);var V=a._tracePreGUI[q._fullInput.uid];if(F=c3(V,o)(C,S),P=F.get(),I=Array.isArray(M)?M[u%M.length]:M,I!==void 0){var j=F.parts[F.parts.length-1],W=S.substr(0,S.length-j.length-1),z=W?W+".":"",O=W?Da(q,W).get():q;if(H=b3.getTraceValObject(q,F.parts),H&&H.impliedEdits&&I!==null)for(var G in H.impliedEdits)w(Or.relativeAttr(S,G),H.impliedEdits[G],u);else if((j==="thicknessmode"||j==="lenmode")&&P!==I&&(I==="fraction"||I==="pixels")&&O){var Z=a._size,Q=O.orient,ie=Q==="top"||Q==="bottom";if(j==="thicknessmode"){var be=ie?Z.h:Z.w;w(z+"thickness",O.thickness*(I==="fraction"?1/be:be),u)}else{var ne=ie?Z.w:Z.h;w(z+"len",O.len*(I==="fraction"?1/ne:ne),u)}}else if(S==="type"&&(I==="pie"!=(P==="pie")||I==="funnelarea"!=(P==="funnelarea"))){var de="x",K="y";(I==="bar"||P==="bar")&&C.orientation==="h"&&(de="y",K="x"),Or.swapAttrs(C,["?","?src"],"labels",de),Or.swapAttrs(C,["d?","?0"],"label",de),Or.swapAttrs(C,["?","?src"],"values",K),P==="pie"||P==="funnelarea"?(Da(C,"marker.color").set(Da(C,"marker.colors").get()),a._pielayer.selectAll("g.trace").remove()):Ko.traceIs(C,"cartesian")&&Da(C,"marker.colors").set(Da(C,"marker.color").get())}h[S][u]=tu(P);var me=["swapxy","swapxyaxes","orientation","orientationaxes"];if(me.indexOf(S)!==-1){if(S==="orientation"){F.set(I);var fe=C.x&&!C.y?"h":"v";if((F.get()||fe)===q.orientation)continue}else S==="orientationaxes"&&(C.orientation={v:"h",h:"v"}[q.orientation]);Mn.swapXYData(C),f.calc=f.clearAxisTypes=!0}else Lt.dataArrayContainers.indexOf(F.parts[0])!==-1?(Mn.manageArrayContainers(F,I,h),f.calc=!0):(H?H.arrayOk&&!Ko.traceIs(q,"regl")&&(Or.isArrayOrTypedArray(I)||Or.isArrayOrTypedArray(P))?f.calc=!0:lf.update(f,H):f.calc=!0,F.set(I))}}if(["swapxyaxes","orientationaxes"].indexOf(S)!==-1&&Fi.swap(e,t),S==="orientationaxes"){var ke=Da(e.layout,"hovermode"),ve=ke.get();ve==="x"?ke.set("y"):ve==="y"?ke.set("x"):ve==="x unified"?ke.set("y unified"):ve==="y unified"&&ke.set("x unified")}if(["orientation","type"].indexOf(S)!==-1){for(d=[],u=0;u<t.length;u++){var Ae=i[t[u]];Ko.traceIs(Ae,"cartesian")&&(g(Ae.xaxis||"x"),g(Ae.yaxis||"y"))}w(d.map(y),!0,0),w(d.map(b),[0,1],0)}}return(f.calc||f.plot)&&(f.fullReplot=!0),{flags:f,undoit:h,redoit:c,traces:t,eventData:Or.extendDeepNoArrays([],[s,t])}}function ap(e,r,t){e=Or.getGraphDiv(e),Mn.clearPromiseQueue(e);var a={};if(typeof r=="string")a[r]=t;else if(Or.isPlainObject(r))a=Or.extendFlat({},r);else return Or.warn("Relayout fail.",r,t),Promise.reject();Object.keys(a).length&&(e.changed=!0);var n=FI(e,a),i=n.flags;i.calc&&(e.calcdata=void 0);var o=[Lt.previousPromises];i.layoutReplot?o.push(Aa.layoutReplot):Object.keys(a).length&&(EI(e,i,n)||Lt.supplyDefaults(e),i.legend&&o.push(Aa.doLegend),i.layoutstyle&&o.push(Aa.layoutStyles),i.axrange&&x3(o,n.rangesAltered),i.ticks&&o.push(Aa.doTicksRelayout),i.modebar&&o.push(Aa.doModeBar),i.camera&&o.push(Aa.doCamera),i.colorbars&&o.push(Aa.doColorBars),o.push(np)),o.push(Lt.rehover,Lt.redrag,Lt.reselect),Gi.add(e,ap,[e,n.undoit],ap,[e,n.redoit]);var l=Or.syncOrAsync(o,e);return(!l||!l.then)&&(l=Promise.resolve(e)),l.then(function(){return e.emit("plotly_relayout",n.eventData),e})}function EI(e,r,t){var a=e._fullLayout;if(!r.axrange)return!1;for(var n in r)if(n!=="axrange"&&r[n])return!1;var i,o,l=function(d,p){return Or.coerce(i,o,hde,d,p)},s={};for(var u in t.rangesAltered){var f=Fi.id2name(u);if(i=e.layout[f],o=a[f],vde(i,o,l,s),o._matchGroup){for(var c in o._matchGroup)if(c!==u){var h=a[Fi.id2name(c)];h.autorange=o.autorange,h.range=o.range.slice(),h._input.range=o.range.slice()}}}return!0}function x3(e,r){var t=r?function(a){var n=[],i=!0;for(var o in r){var l=Fi.getFromId(a,o);if(n.push(o),(l.ticklabelposition||"").indexOf("inside")!==-1&&l._anchorAxis&&n.push(l._anchorAxis._id),l._matchGroup)for(var s in l._matchGroup)r[s]||n.push(s)}return Fi.draw(a,n,{skipTitle:i})}:function(a){return Fi.draw(a,"redraw")};e.push(mde,Aa.doAutoRangeAndConstraints,t,Aa.drawData,Aa.finalDraw)}var LI=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,qI=/^[xyz]axis[0-9]*\.autorange$/,DI=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function FI(e,r){var t=e.layout,a=e._fullLayout,n=a._guiEditing,i=c3(a._preGUI,n),o=Object.keys(r),l=Fi.list(e),s=Or.extendDeepAll({},r),u={},f,c,h;for(o=Object.keys(r),c=0;c<o.length;c++)if(o[c].indexOf("allaxes")===0){for(h=0;h<l.length;h++){var d=l[h]._id.substr(1),p=d.indexOf("scene")!==-1?d+".":"",g=o[c].replace("allaxes",p+l[h]._name);r[g]||(r[g]=r[o[c]])}delete r[o[c]]}var y=lf.layoutFlags(),b={},_={};function w(De,tr){if(Array.isArray(De)){De.forEach(function(Ze){w(Ze,tr)});return}if(!(De in r||Mn.hasParent(r,De))){var $e=i(t,De);De in _||(_[De]=tu($e.get())),tr!==void 0&&$e.set(tr)}}var x={},T;function S(De){var tr=Fi.name2id(De.split(".")[0]);return x[tr]=1,tr}for(var M in r){if(Mn.hasParent(r,M))throw new Error("cannot set "+M+" and a parent attribute simultaneously");for(var C=i(t,M),q=r[M],F=C.parts.length,P=F-1;P>0&&typeof C.parts[P]!="string";)P--;var I=C.parts[P],H=C.parts[P-1]+"."+I,V=C.parts.slice(0,P).join("."),j=Da(e.layout,V).get(),W=Da(a,V).get(),z=C.get();if(q!==void 0){b[M]=q,_[M]=I==="reverse"?q:tu(z);var O=b3.getLayoutValObject(a,C.parts);if(O&&O.impliedEdits&&q!==null)for(var G in O.impliedEdits)w(Or.relativeAttr(M,G),O.impliedEdits[G]);if(["width","height"].indexOf(M)!==-1)if(q){w("autosize",null);var Z=M==="height"?"width":"height";w(Z,a[Z])}else a[M]=e._initialAutoSize[M];else if(M==="autosize")w("width",q?null:a.width),w("height",q?null:a.height);else if(H.match(LI))S(H),Da(a,V+"._inputRange").set(null);else if(H.match(qI)){S(H),Da(a,V+"._inputRange").set(null);var Q=Da(a,V).get();Q._inputDomain&&(Q._input.domain=Q._inputDomain.slice())}else H.match(DI)&&Da(a,V+"._inputDomain").set(null);if(I==="type"){T=j;var ie=W.type==="linear"&&q==="log",be=W.type==="log"&&q==="linear";if(ie||be){if(!T||!T.range)w(V+".autorange",!0);else if(W.autorange)ie&&(T.range=T.range[1]>T.range[0]?[1,2]:[2,1]);else{var ne=T.range[0],de=T.range[1];ie?(ne<=0&&de<=0&&w(V+".autorange",!0),ne<=0?ne=de/1e6:de<=0&&(de=ne/1e6),w(V+".range[0]",Math.log(ne)/Math.LN10),w(V+".range[1]",Math.log(de)/Math.LN10)):(w(V+".range[0]",Math.pow(10,ne)),w(V+".range[1]",Math.pow(10,de)))}Array.isArray(a._subplots.polar)&&a._subplots.polar.length&&a[C.parts[0]]&&C.parts[1]==="radialaxis"&&delete a[C.parts[0]]._subplot.viewInitial["radialaxis.range"],Ko.getComponentMethod("annotations","convertCoords")(e,W,q,w),Ko.getComponentMethod("images","convertCoords")(e,W,q,w)}else w(V+".autorange",!0),w(V+".range",null);Da(a,V+"._inputRange").set(null)}else if(I.match(gde)){var K=Da(a,M).get(),me=(q||{}).type;(!me||me==="-")&&(me="linear"),Ko.getComponentMethod("annotations","convertCoords")(e,K,me,w),Ko.getComponentMethod("images","convertCoords")(e,K,me,w)}var fe=f3.containerArrayMatch(M);if(fe){f=fe.array,c=fe.index;var ke=fe.property,ve=O||{editType:"calc"};c!==""&&ke===""&&(f3.isAddVal(q)?_[M]=null:f3.isRemoveVal(q)?_[M]=(Da(t,f).get()||[])[c]:Or.warn("unrecognized full object value",r)),lf.update(y,ve),u[f]||(u[f]={});var Ae=u[f][c];Ae||(Ae=u[f][c]={}),Ae[ke]=q,delete r[M]}else I==="reverse"?(j.range?j.range.reverse():(w(V+".autorange",!0),j.range=[1,0]),W.autorange?y.calc=!0:y.plot=!0):(M==="dragmode"&&(q===!1&&z!==!1||q!==!1&&z===!1)||a._has("scatter-like")&&a._has("regl")&&M==="dragmode"&&(q==="lasso"||q==="select")&&!(z==="lasso"||z==="select")?y.plot=!0:O?lf.update(y,O):y.calc=!0,C.set(q))}}for(f in u){var Y=f3.applyContainerArrayChanges(e,i(t,f),u[f],y,i);Y||(y.plot=!0)}for(var ae in x){T=Fi.getFromId(e,ae);var X=T&&T._constraintGroup;if(X){y.calc=!0;for(var Se in X)x[Se]||(Fi.getFromId(e,Se)._constraintShrinkable=!0)}}(RI(e)||r.height||r.width)&&(y.plot=!0);var qe=a.shapes;for(c=0;c<qe.length;c++)if(qe[c].showlegend){y.calc=!0;break}return(y.plot||y.calc)&&(y.layoutReplot=!0),{flags:y,rangesAltered:x,undoit:_,redoit:b,eventData:s}}function RI(e){var r=e._fullLayout,t=r.width,a=r.height;return e.layout.autosize&&Lt.plotAutoSize(e,e.layout,r),r.width!==t||r.height!==a}function m3(e,r,t,a){e=Or.getGraphDiv(e),Mn.clearPromiseQueue(e),Or.isPlainObject(r)||(r={}),Or.isPlainObject(t)||(t={}),Object.keys(r).length&&(e.changed=!0),Object.keys(t).length&&(e.changed=!0);var n=Mn.coerceTraceIndices(e,a),i=CI(e,Or.extendFlat({},r),n),o=i.flags,l=FI(e,Or.extendFlat({},t)),s=l.flags;(o.calc||s.calc)&&(e.calcdata=void 0),o.clearAxisTypes&&Mn.clearAxisTypes(e,n,t);var u=[];s.layoutReplot?u.push(Aa.layoutReplot):o.fullReplot?u.push(fa._doPlot):(u.push(Lt.previousPromises),EI(e,s,l)||Lt.supplyDefaults(e),o.style&&u.push(Aa.doTraceStyle),(o.colorbars||s.colorbars)&&u.push(Aa.doColorBars),s.legend&&u.push(Aa.doLegend),s.layoutstyle&&u.push(Aa.layoutStyles),s.axrange&&x3(u,l.rangesAltered),s.ticks&&u.push(Aa.doTicksRelayout),s.modebar&&u.push(Aa.doModeBar),s.camera&&u.push(Aa.doCamera),u.push(np)),u.push(Lt.rehover,Lt.redrag,Lt.reselect),Gi.add(e,m3,[e,i.undoit,l.undoit,i.traces],m3,[e,i.redoit,l.redoit,i.traces]);var f=Or.syncOrAsync(u,e);return(!f||!f.then)&&(f=Promise.resolve(e)),f.then(function(){return e.emit("plotly_update",{data:i.eventData,layout:l.eventData}),e})}function V6(e){return function(t){t._fullLayout._guiEditing=!0;var a=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,a}}var Cde=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Ede=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function pI(e,r){for(var t=0;t<r.length;t++){var a=r[t],n=e.match(a.pattern);if(n){var i=n[1]||"";return{head:i,tail:e.substr(i.length+1),attr:a.attr}}}}function yI(e,r){var t=Da(r,e).get();if(t!==void 0)return t;var a=e.split(".");for(a.pop();a.length>1;)if(a.pop(),t=Da(r,a.join(".")+".uirevision").get(),t!==void 0)return t;return r.uirevision}function Lde(e,r){for(var t=0;t<r.length;t++)if(r[t]._fullInput.uid===e)return t;return-1}function qde(e,r,t){for(var a=0;a<r.length;a++)if(r[a].uid===e)return a;return!r[t]||r[t].uid?-1:t}function mI(e,r){var t=Or.isPlainObject(e),a=Array.isArray(e);return t||a?(t&&Or.isPlainObject(r)||a&&Array.isArray(r))&&JSON.stringify(e)===JSON.stringify(r):e===r}function Dde(e,r,t,a){var n=a._preGUI,i,o,l,s,u,f,c,h,d,p,g=[],y={},b={};for(i in n){if(u=pI(i,Cde),u){if(d=u.head,p=u.tail,o=u.attr||d+".uirevision",l=Da(a,o).get(),s=l&&yI(o,r),s&&s===l){if(f=n[i],f===null&&(f=void 0),c=Da(r,i),h=c.get(),mI(h,f)){h===void 0&&p==="autorange"&&g.push(d),c.set(tu(Da(a,i).get()));continue}else if(p==="autorange"||p.substr(0,6)==="range["){var _=n[d+".range[0]"],w=n[d+".range[1]"],x=n[d+".autorange"];if(x||x===null&&_===null&&w===null){if(!(d in y)){var T=Da(r,d).get();y[d]=T&&(T.autorange||T.autorange!==!1&&(!T.range||T.range.length!==2))}if(y[d]){c.set(tu(Da(a,i).get()));continue}}}}}else Or.warn("unrecognized GUI edit: "+i);delete n[i],u&&u.tail.substr(0,6)==="range["&&(b[u.head]=1)}for(var S=0;S<g.length;S++){var M=g[S];if(b[M]){var C=Da(r,M).get();C&&delete C.autorange}}var q=a._tracePreGUI;for(var F in q){var P=q[F],I=null,H;for(i in P){if(!I){var V=Lde(F,t);if(V<0){delete q[F];break}var j=t[V];H=j._fullInput;var W=qde(F,e,H.index);if(W<0){delete q[F];break}I=e[W]}if(u=pI(i,Ede),u){if(u.attr?(l=Da(a,u.attr).get(),s=l&&yI(u.attr,r)):(l=H.uirevision,s=I.uirevision,s===void 0&&(s=r.uirevision)),s&&s===l&&(f=P[i],f===null&&(f=void 0),c=Da(I,i),h=c.get(),mI(h,f))){c.set(tu(Da(H,i).get()));continue}}else Or.warn("unrecognized GUI edit: "+i+" in trace uid "+F);delete P[i]}}}function Fde(e,r,t,a){var n,i;function o(){return fa.addFrames(e,n)}e=Or.getGraphDiv(e),Mn.clearPromiseQueue(e);var l=e._fullData,s=e._fullLayout;if(!Or.isPlotDiv(e)||!l||!s)i=fa.newPlot(e,r,t,a);else{if(Or.isPlainObject(r)){var u=r;r=u.data,t=u.layout,a=u.config,n=u.frames}var f=!1;if(a){var c=Or.extendDeep({},e._context);e._context=void 0,xI(e,a),f=G6(c,e._context)}e.data=r||[],Mn.cleanData(e.data),e.layout=t||{},Mn.cleanLayout(e.layout),Dde(e.data,e.layout,l,s),Lt.supplyDefaults(e,{skipUpdateCalc:!0});var h=e._fullData,d=e._fullLayout,p=d.datarevision===void 0,g=d.transition,y=Pde(e,s,d,p,g),b=y.newDataRevision,_=Rde(e,l,h,p,g,b);if(RI(e)&&(y.layoutReplot=!0),_.calc||y.calc){e.calcdata=void 0;for(var w=Object.getOwnPropertyNames(d),x=0;x<w.length;x++){var T=w[x],S=T.substring(0,5);if(S==="xaxis"||S==="yaxis"){var M=d[T]._emptyCategories;M&&M()}}}else Lt.supplyDefaultsUpdateCalc(e.calcdata,h);var C=[];if(n&&(e._transitionData={},Lt.createTransitionData(e),C.push(o)),d.transition&&!f&&(_.anim||y.anim))y.ticks&&C.push(Aa.doTicksRelayout),Lt.doCalcdata(e),Aa.doAutoRangeAndConstraints(e),C.push(function(){return Lt.transitionFromReact(e,_,y,s)});else if(_.fullReplot||y.layoutReplot||f)e._fullLayout._skipDefaults=!0,C.push(fa._doPlot);else{for(var q in y.arrays){var F=y.arrays[q];if(F.length){var P=Ko.getComponentMethod(q,"drawOne");if(P!==Or.noop)for(var I=0;I<F.length;I++)P(e,F[I]);else{var H=Ko.getComponentMethod(q,"draw");if(H===Or.noop)throw new Error("cannot draw components: "+q);H(e)}}}C.push(Lt.previousPromises),_.style&&C.push(Aa.doTraceStyle),(_.colorbars||y.colorbars)&&C.push(Aa.doColorBars),y.legend&&C.push(Aa.doLegend),y.layoutstyle&&C.push(Aa.layoutStyles),y.axrange&&x3(C),y.ticks&&C.push(Aa.doTicksRelayout),y.modebar&&C.push(Aa.doModeBar),y.camera&&C.push(Aa.doCamera),C.push(np)}C.push(Lt.rehover,Lt.redrag,Lt.reselect),i=Or.syncOrAsync(C,e),(!i||!i.then)&&(i=Promise.resolve(e))}return i.then(function(){return e.emit("plotly_react",{data:r,layout:t}),e})}function Rde(e,r,t,a,n,i){var o=r.length===t.length;if(!n&&!o)return{fullReplot:!0,calc:!0};var l=lf.traceFlags();l.arrays={},l.nChanges=0,l.nChangesAnim=0;var s,u;function f(d){var p=b3.getTraceValObject(u,d);return!u._module.animatable&&p.anim&&(p.anim=!1),p}var c={getValObject:f,flags:l,immutable:a,transition:n,newDataRevision:i,gd:e},h={};for(s=0;s<r.length;s++)if(t[s]){if(u=t[s]._fullInput,h[u.uid])continue;h[u.uid]=1,g3(r[s]._fullInput,u,[],c)}return(l.calc||l.plot)&&(l.fullReplot=!0),n&&l.nChanges&&l.nChangesAnim&&(l.anim=l.nChanges===l.nChangesAnim&&o?"all":"some"),l}function Pde(e,r,t,a,n){var i=lf.layoutFlags();i.arrays={},i.rangesAltered={},i.nChanges=0,i.nChangesAnim=0;function o(s){return b3.getLayoutValObject(t,s)}var l={getValObject:o,flags:i,immutable:a,transition:n,gd:e};return g3(r,t,[],l),(i.plot||i.calc)&&(i.layoutReplot=!0),n&&i.nChanges&&i.nChangesAnim&&(i.anim=i.nChanges===i.nChangesAnim?"all":"some"),i}function g3(e,r,t,a){var n,i,o,l=a.getValObject,s=a.flags,u=a.immutable,f=a.inArray,c=a.arrayIndex;function h(){var V=n.editType;if(f&&V.indexOf("arraydraw")!==-1){Or.pushUnique(s.arrays[f],c);return}lf.update(s,n),V!=="none"&&s.nChanges++,a.transition&&n.anim&&s.nChangesAnim++,(LI.test(o)||qI.test(o))&&(s.rangesAltered[t[0]]=1),DI.test(o)&&Da(r,"_inputDomain").set(null),i==="datarevision"&&(s.newDataRevision=1)}function d(V){return V.valType==="data_array"||V.arrayOk}for(i in e){if(s.calc&&!a.transition)return;var p=e[i],g=r[i],y=t.concat(i);if(o=y.join("."),!(i.charAt(0)==="_"||typeof p=="function"||p===g)){if((i==="tick0"||i==="dtick")&&t[0]!=="geo"){var b=r.tickmode;if(b==="auto"||b==="array"||!b)continue}if(!(i==="range"&&r.autorange)&&!((i==="zmin"||i==="zmax")&&r.type==="contourcarpet")&&(n=l(y),!!n&&!(n._compareAsJSON&&JSON.stringify(p)===JSON.stringify(g)))){var _=n.valType,w,x=d(n),T=Array.isArray(p),S=Array.isArray(g);if(T&&S){var M="_input_"+i,C=e[M],q=r[M];if(Array.isArray(C)&&C===q)continue}if(g===void 0)x&&T?s.calc=!0:h();else if(n._isLinkedToArray){var F=[],P=!1;f||(s.arrays[i]=F);var I=Math.min(p.length,g.length),H=Math.max(p.length,g.length);if(I!==H)if(n.editType==="arraydraw")P=!0;else{h();continue}for(w=0;w<I;w++)g3(p[w],g[w],y.concat(w),Or.extendFlat({inArray:i,arrayIndex:w},a));if(P)for(w=I;w<H;w++)F.push(w)}else!_&&Or.isPlainObject(p)?g3(p,g,y,a):x?T&&S?(u&&(s.calc=!0),(u||a.newDataRevision)&&h()):T!==S?s.calc=!0:h():T&&S?(p.length!==g.length||String(p)!==String(g))&&h():h()}}}for(i in r)if(!(i in e||i.charAt(0)==="_"||typeof r[i]=="function"))if(n=l(t.concat(i)),d(n)&&Array.isArray(r[i])){s.calc=!0;return}else h()}function G6(e,r){var t;for(t in e)if(t.charAt(0)!=="_"){var a=e[t],n=r[t];if(a!==n)if(Or.isPlainObject(a)&&Or.isPlainObject(n)){if(G6(a,n))return!0}else if(Array.isArray(a)&&Array.isArray(n)){if(a.length!==n.length)return!0;for(var i=0;i<a.length;i++)if(a[i]!==n[i])if(Or.isPlainObject(a[i])&&Or.isPlainObject(n[i])){if(G6(a[i],n[i]))return!0}else return!0}else return!0}}function Nde(e,r,t){if(e=Or.getGraphDiv(e),!Or.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var a=e._transitionData;a._frameQueue||(a._frameQueue=[]),t=Lt.supplyAnimationDefaults(t);var n=t.transition,i=t.frame;a._frameWaitingCnt===void 0&&(a._frameWaitingCnt=0);function o(u){return Array.isArray(n)?u>=n.length?n[0]:n[u]:n}function l(u){return Array.isArray(i)?u>=i.length?i[0]:i[u]:i}function s(u,f){var c=0;return function(){if(u&&++c===f)return u()}}return new Promise(function(u,f){function c(){if(a._frameQueue.length!==0){for(;a._frameQueue.length;){var I=a._frameQueue.pop();I.onInterrupt&&I.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}function h(I){if(I.length!==0){for(var H=0;H<I.length;H++){var V;I[H].type==="byname"?V=Lt.computeFrame(e,I[H].name):V=I[H].data;var j=l(H),W=o(H);W.duration=Math.min(W.duration,j.duration);var z={frame:V,name:I[H].name,frameOpts:j,transitionOpts:W};H===I.length-1&&(z.onComplete=s(u,2),z.onInterrupt=f),a._frameQueue.push(z)}t.mode==="immediate"&&(a._lastFrameAt=-1/0),a._animationRaf||g()}}function d(){e.emit("plotly_animated"),window.cancelAnimationFrame(a._animationRaf),a._animationRaf=null}function p(){a._currentFrame&&a._currentFrame.onComplete&&a._currentFrame.onComplete();var I=a._currentFrame=a._frameQueue.shift();if(I){var H=I.name?I.name.toString():null;e._fullLayout._currentFrame=H,a._lastFrameAt=Date.now(),a._timeToNext=I.frameOpts.duration,Lt.transition(e,I.frame.data,I.frame.layout,Mn.coerceTraceIndices(e,I.frame.traces),I.frameOpts,I.transitionOpts).then(function(){I.onComplete&&I.onComplete()}),e.emit("plotly_animatingframe",{name:H,frame:I.frame,animation:{frame:I.frameOpts,transition:I.transitionOpts}})}else d()}function g(){e.emit("plotly_animating"),a._lastFrameAt=-1/0,a._timeToNext=0,a._runningTransitions=0,a._currentFrame=null;var I=function(){a._animationRaf=window.requestAnimationFrame(I),Date.now()-a._lastFrameAt>a._timeToNext&&p()};I()}var y=0;function b(I){return Array.isArray(n)?y>=n.length?I.transitionOpts=n[y]:I.transitionOpts=n[0]:I.transitionOpts=n,y++,I}var _,w,x=[],T=r==null,S=Array.isArray(r),M=!T&&!S&&Or.isPlainObject(r);if(M)x.push({type:"object",data:b(Or.extendFlat({},r))});else if(T||["string","number"].indexOf(typeof r)!==-1)for(_=0;_<a._frames.length;_++)w=a._frames[_],w&&(T||String(w.group)===String(r))&&x.push({type:"byname",name:String(w.name),data:b({name:w.name})});else if(S)for(_=0;_<r.length;_++){var C=r[_];["number","string"].indexOf(typeof C)!==-1?(C=String(C),x.push({type:"byname",name:C,data:b({name:C})})):Or.isPlainObject(C)&&x.push({type:"object",data:b(Or.extendFlat({},C))})}for(_=0;_<x.length;_++)if(w=x[_],w.type==="byname"&&!a._frameHash[w.data.name]){Or.warn('animate failure: frame not found: "'+w.data.name+'"'),f();return}["next","immediate"].indexOf(t.mode)!==-1&&c(),t.direction==="reverse"&&x.reverse();var q=e._fullLayout._currentFrame;if(q&&t.fromcurrent){var F=-1;for(_=0;_<x.length;_++)if(w=x[_],w.type==="byname"&&w.name===q){F=_;break}if(F>0&&F<x.length-1){var P=[];for(_=0;_<x.length;_++)w=x[_],(x[_].type!=="byname"||_>F)&&P.push(w);x=P}}x.length>0?h(x):(e.emit("plotly_animated"),u())})}function Ide(e,r,t){if(e=Or.getGraphDiv(e),r==null)return Promise.resolve();if(!Or.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var a,n,i,o,l=e._transitionData._frames,s=e._transitionData._frameHash;if(!Array.isArray(r))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+r);var u=l.length+r.length*2,f=[],c={};for(a=r.length-1;a>=0;a--)if(Or.isPlainObject(r[a])){var h=r[a].name,d=(s[h]||c[h]||{}).name,p=r[a].name,g=s[d]||c[d];d&&p&&typeof p=="number"&&g&&B6<dI&&(B6++,Or.warn('addFrames: overwriting frame "'+(s[d]||c[d]).name+'" with a frame whose name of type "number" also equates to "'+d+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),B6===dI&&Or.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),c[h]={name:h},f.push({frame:Lt.supplyFrameDefaults(r[a]),index:t&&t[a]!==void 0&&t[a]!==null?t[a]:u+a})}f.sort(function(M,C){return M.index>C.index?-1:M.index<C.index?1:0});var y=[],b=[],_=l.length;for(a=f.length-1;a>=0;a--){if(n=f[a].frame,typeof n.name=="number"&&Or.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!n.name)for(;s[n.name="frame "+e._transitionData._counter++];);if(s[n.name]){for(i=0;i<l.length&&(l[i]||{}).name!==n.name;i++);y.push({type:"replace",index:i,value:n}),b.unshift({type:"replace",index:i,value:l[i]})}else o=Math.max(0,Math.min(f[a].index,_)),y.push({type:"insert",index:o,value:n}),b.unshift({type:"delete",index:o}),_++}var w=Lt.modifyFrames,x=Lt.modifyFrames,T=[e,b],S=[e,y];return Gi&&Gi.add(e,w,T,x,S),Lt.modifyFrames(e,y)}function Ode(e,r){if(e=Or.getGraphDiv(e),!Or.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var t,a,n=e._transitionData._frames,i=[],o=[];if(!r)for(r=[],t=0;t<n.length;t++)r.push(t);for(r=r.slice(),r.sort(),t=r.length-1;t>=0;t--)a=r[t],i.push({type:"delete",index:a}),o.unshift({type:"insert",index:a,value:n[a]});var l=Lt.modifyFrames,s=Lt.modifyFrames,u=[e,o],f=[e,i];return Gi&&Gi.add(e,l,u,s,f),Lt.modifyFrames(e,i)}function zde(e){e=Or.getGraphDiv(e);var r=e._fullLayout||{},t=e._fullData||[];return Lt.cleanPlot([],{},t,r),Lt.purge(e),U6.purge(e),r._container&&r._container.remove(),delete e._context,e}function Bde(e){var r=e._fullLayout,t=e.getBoundingClientRect();if(!Or.equalDomRects(t,r._lastBBox)){var a=r._invTransform=Or.inverseTransformMatrix(Or.getFullTransformMatrix(e));r._invScaleX=Math.sqrt(a[0][0]*a[0][0]+a[0][1]*a[0][1]+a[0][2]*a[0][2]),r._invScaleY=Math.sqrt(a[1][0]*a[1][0]+a[1][1]*a[1][1]+a[1][2]*a[1][2]),r._lastBBox=t}}function Ude(e){var r=v3.select(e),t=e._fullLayout;if(t._calcInverseTransform=Bde,t._calcInverseTransform(e),t._container=r.selectAll(".plot-container").data([0]),t._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),t._paperdiv=t._container.selectAll(".svg-container").data([0]),t._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),t._glcontainer=t._paperdiv.selectAll(".gl-container").data([{}]),t._glcontainer.enter().append("div").classed("gl-container",!0),t._paperdiv.selectAll(".main-svg").remove(),t._paperdiv.select(".modebar-container").remove(),t._paper=t._paperdiv.insert("svg",":first-child").classed("main-svg",!0),t._toppaper=t._paperdiv.append("svg").classed("main-svg",!0),t._modebardiv=t._paperdiv.append("div"),delete t._modeBar,t._hoverpaper=t._paperdiv.append("svg").classed("main-svg",!0),!t._uid){var a={};v3.selectAll("defs").each(function(){this.id&&(a[this.id.split("-")[1]]=1)}),t._uid=Or.randstr(a)}t._paperdiv.selectAll(".main-svg").attr(yde.svgAttrs),t._defs=t._paper.append("defs").attr("id","defs-"+t._uid),t._clips=t._defs.append("g").classed("clips",!0),t._topdefs=t._toppaper.append("defs").attr("id","topdefs-"+t._uid),t._topclips=t._topdefs.append("g").classed("clips",!0),t._bgLayer=t._paper.append("g").classed("bglayer",!0),t._draggers=t._paper.append("g").classed("draglayer",!0);var n=t._paper.append("g").classed("layer-below",!0);t._imageLowerLayer=n.append("g").classed("imagelayer",!0),t._shapeLowerLayer=n.append("g").classed("shapelayer",!0),t._cartesianlayer=t._paper.append("g").classed("cartesianlayer",!0),t._polarlayer=t._paper.append("g").classed("polarlayer",!0),t._smithlayer=t._paper.append("g").classed("smithlayer",!0),t._ternarylayer=t._paper.append("g").classed("ternarylayer",!0),t._geolayer=t._paper.append("g").classed("geolayer",!0),t._funnelarealayer=t._paper.append("g").classed("funnelarealayer",!0),t._pielayer=t._paper.append("g").classed("pielayer",!0),t._iciclelayer=t._paper.append("g").classed("iciclelayer",!0),t._treemaplayer=t._paper.append("g").classed("treemaplayer",!0),t._sunburstlayer=t._paper.append("g").classed("sunburstlayer",!0),t._indicatorlayer=t._toppaper.append("g").classed("indicatorlayer",!0),t._glimages=t._paper.append("g").classed("glimages",!0);var i=t._toppaper.append("g").classed("layer-above",!0);t._imageUpperLayer=i.append("g").classed("imagelayer",!0),t._shapeUpperLayer=i.append("g").classed("shapelayer",!0),t._selectionLayer=t._toppaper.append("g").classed("selectionlayer",!0),t._infolayer=t._toppaper.append("g").classed("infolayer",!0),t._menulayer=t._toppaper.append("g").classed("menulayer",!0),t._zoomlayer=t._toppaper.append("g").classed("zoomlayer",!0),t._hoverlayer=t._hoverpaper.append("g").classed("hoverlayer",!0),t._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}fa.animate=Nde;fa.addFrames=Ide;fa.deleteFrames=Ode;fa.addTraces=SI;fa.deleteTraces=kI;fa.extendTraces=TI;fa.moveTraces=H6;fa.prependTraces=MI;fa.newPlot=Ade;fa._doPlot=bde;fa.purge=zde;fa.react=Fde;fa.redraw=wde;fa.relayout=ap;fa.restyle=p3;fa.setPlotConfig=xde;fa.update=m3;fa._guiRelayout=V6(ap);fa._guiRestyle=V6(p3);fa._guiUpdate=V6(m3);fa._storeDirectGUIEdit=kde});var Nc=R(hs=>{"use strict";var Hde=_t();hs.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("mapbox")||e._has("map"))?500:0};hs.getRedrawFunc=function(e){return function(){Hde.getComponentMethod("colorbar","draw")(e)}};hs.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)};hs.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var PI=window.URL||window.webkitURL;hs.createObjectURL=function(e){return PI.createObjectURL(e)};hs.revokeObjectURL=function(e){return PI.revokeObjectURL(e)};hs.createBlob=function(e,r){if(r==="svg")return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if(r==="full-json")return new window.Blob([e],{type:"application/json;charset=utf-8"});var t=Gde(window.atob(e));return new window.Blob([t],{type:"image/"+r})};hs.octetStream=function(e){document.location.href="data:application/octet-stream"+e};function Gde(e){for(var r=e.length,t=new ArrayBuffer(r),a=new Uint8Array(t),n=0;n<r;n++)a[n]=e.charCodeAt(n);return t}hs.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/});var _3=R((rEe,NI)=>{"use strict";var j6=aa(),QCe=fr(),Vde=Sa(),Yde=Vt(),eEe=yc(),W6=/"/g,ip="TOBESTRIPPED",Wde=new RegExp('("'+ip+")|("+ip+'")',"g");function jde(e){var r=j6.select("body").append("div").style({display:"none"}).html(""),t=e.replace(/(&[^;]*;)/gi,function(a){return a==="&lt;"?"&#60;":a==="&rt;"?"&#62;":a.indexOf("<")!==-1||a.indexOf(">")!==-1?"":r.html(a).text()});return r.remove(),t}function Xde(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}NI.exports=function(r,t,a){var n=r._fullLayout,i=n._paper,o=n._toppaper,l=n.width,s=n.height,u;i.insert("rect",":first-child").call(Vde.setRect,0,0,l,s).call(Yde.fill,n.paper_bgcolor);var f=n._basePlotModules||[];for(u=0;u<f.length;u++){var c=f[u];c.toSVG&&c.toSVG(r)}if(o){var h=o.node().childNodes,d=Array.prototype.slice.call(h);for(u=0;u<d.length;u++){var p=d[u];p.childNodes.length&&i.node().appendChild(p)}}n._draggers&&n._draggers.remove(),i.node().style.background="",i.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var y=j6.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){y.remove();return}else y.style({visibility:null,display:null});var b=this.style.fontFamily;b&&b.indexOf('"')!==-1&&y.style("font-family",b.replace(W6,ip));var _=this.style.fontWeight;_&&(_==="normal"||_==="400")&&y.style("font-weight",void 0);var w=this.style.fontStyle;w&&w==="normal"&&y.style("font-style",void 0);var x=this.style.fontVariant;x&&x==="normal"&&y.style("font-variant",void 0)}),i.selectAll(".gradient_filled,.pattern_filled").each(function(){var y=j6.select(this),b=this.style.fill;b&&b.indexOf("url(")!==-1&&y.style("fill",b.replace(W6,ip));var _=this.style.stroke;_&&_.indexOf("url(")!==-1&&y.style("stroke",_.replace(W6,ip))}),(t==="pdf"||t==="eps")&&i.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),t==="svg"&&a&&(i.attr("width",a*l),i.attr("height",a*s),i.attr("viewBox","0 0 "+l+" "+s));var g=new window.XMLSerializer().serializeToString(i.node());return g=jde(g),g=Xde(g),g=g.replace(Wde,"'"),g}});var w3=R((tEe,II)=>{"use strict";var Zde=fr(),Jde=pg().EventEmitter,op=Nc();function $de(e){var r=e.emitter||new Jde,t=new Promise(function(a,n){var i=window.Image,o=e.svg,l=e.format||"png",s=e.canvas,u=e.scale||1,f=e.width||300,c=e.height||150,h=u*f,d=u*c,p=s.getContext("2d",{willReadFrequently:!0}),g=new i,y,b;l==="svg"||Zde.isSafari()?b=op.encodeSVG(o):(y=op.createBlob(o,"svg"),b=op.createObjectURL(y)),s.width=h,s.height=d,g.onload=function(){var _;switch(y=null,op.revokeObjectURL(b),l!=="svg"&&p.drawImage(g,0,0,h,d),l){case"jpeg":_=s.toDataURL("image/jpeg");break;case"png":_=s.toDataURL("image/png");break;case"webp":_=s.toDataURL("image/webp");break;case"svg":_=b;break;default:var w="Image format is not jpeg, png, svg or webp.";if(n(new Error(w)),!e.promise)return r.emit("error",w)}a(_),e.promise||r.emit("success",_)},g.onerror=function(_){if(y=null,op.revokeObjectURL(b),n(_),!e.promise)return r.emit("error",_)},g.src=b});return e.promise?t:r}II.exports=$de});var Z6=R((aEe,BI)=>{"use strict";var OI=Zt(),zI=Y6(),Kde=Wn(),ds=fr(),lp=Nc(),Qde=_3(),e1e=w3(),r1e=Em().version,X6={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function t1e(e,r){r=r||{};var t,a,n,i;ds.isPlainObject(e)?(t=e.data||[],a=e.layout||{},n=e.config||{},i={}):(e=ds.getGraphDiv(e),t=ds.extendDeep([],e.data),a=ds.extendDeep({},e.layout),n=e._context,i=e._fullLayout||{});function o(S){return!(S in r)||ds.validate(r[S],X6[S])}if(!o("width")&&r.width!==null||!o("height")&&r.height!==null)throw new Error("Height and width should be pixel values.");if(!o("format"))throw new Error("Export format is not "+ds.join2(X6.format.values,", "," or ")+".");var l={};function s(S,M){return ds.coerce(r,l,X6,S,M)}var u=s("format"),f=s("width"),c=s("height"),h=s("scale"),d=s("setBackground"),p=s("imageDataOnly"),g=document.createElement("div");g.style.position="absolute",g.style.left="-5000px",document.body.appendChild(g);var y=ds.extendFlat({},a);f?y.width=f:r.width===null&&OI(i.width)&&(y.width=i.width),c?y.height=c:r.height===null&&OI(i.height)&&(y.height=i.height);var b=ds.extendFlat({},n,{_exportedPlot:!0,staticPlot:!0,setBackground:d}),_=lp.getRedrawFunc(g);function w(){return new Promise(function(S){setTimeout(S,lp.getDelay(g._fullLayout))})}function x(){return new Promise(function(S,M){var C=Qde(g,u,h),q=g._fullLayout.width,F=g._fullLayout.height;function P(){zI.purge(g),document.body.removeChild(g)}if(u==="full-json"){var I=Kde.graphJson(g,!1,"keepdata","object",!0,!0);return I.version=r1e,I=JSON.stringify(I),P(),S(p?I:lp.encodeJSON(I))}if(P(),u==="svg")return S(p?C:lp.encodeSVG(C));var H=document.createElement("canvas");H.id=ds.randstr(),e1e({format:u,width:q,height:F,scale:h,canvas:H,svg:C,promise:!0}).then(S).catch(M)})}function T(S){return p?S.replace(lp.IMAGE_URL_PREFIX,""):S}return new Promise(function(S,M){zI.newPlot(g,t,y,b).then(_).then(w).then(x).then(function(C){S(T(C))}).catch(function(C){M(C)})})}BI.exports=t1e});var VI=R((nEe,GI)=>{"use strict";var Qo=fr(),a1e=Wn(),n1e=d0(),i1e=oc().dfltConfig,Cl=Qo.isPlainObject,Oc=Array.isArray,UI=Qo.isArrayOrTypedArray;GI.exports=function(r,t){r===void 0&&(r=[]),t===void 0&&(t={});var a=n1e.get(),n=[],i={_context:Qo.extendFlat({},i1e)},o,l;Oc(r)?(i.data=Qo.extendDeep([],r),o=r):(i.data=[],o=[],n.push($n("array","data"))),Cl(t)?(i.layout=Qo.extendDeep({},t),l=t):(i.layout={},l={},arguments.length>1&&n.push($n("object","layout"))),a1e.supplyDefaults(i);for(var s=i._fullData,u=o.length,f=0;f<u;f++){var c=o[f],h=["data",f];if(!Cl(c)){n.push($n("object",h));continue}var d=s[f],p=d.type,g=a.traces[p].attributes;g.type={valType:"enumerated",values:[p]},d.visible===!1&&c.visible!==!1&&n.push($n("invisible",h)),A3(c,d,g,n,h)}var y=i._fullLayout,b=o1e(a,s);return A3(l,y,b,n,"layout"),n.length===0?void 0:n};function A3(e,r,t,a,n,i){i=i||[];for(var o=Object.keys(e),l=0;l<o.length;l++){var s=o[l],u=i.slice();u.push(s);var f=e[s],c=r[s],h=u1e(t,s),d=(h||{}).valType,p=d==="info_array",g=d==="colorscale",y=(h||{}).items;if(!s1e(t,s))a.push($n("schema",n,u));else if(Cl(f)&&Cl(c)&&d!=="any")A3(f,c,h,a,n,u);else if(p&&Oc(f)){f.length>c.length&&a.push($n("unused",n,u.concat(c.length)));var b=c.length,_=Array.isArray(y);_&&(b=Math.min(b,y.length));var w,x,T,S,M;if(h.dimensions===2)for(x=0;x<b;x++)if(Oc(f[x])){f[x].length>c[x].length&&a.push($n("unused",n,u.concat(x,c[x].length)));var C=c[x].length;for(w=0;w<(_?Math.min(C,y[x].length):C);w++)T=_?y[x][w]:y,S=f[x][w],M=c[x][w],Qo.validate(S,T)?M!==S&&M!==+S&&a.push($n("dynamic",n,u.concat(x,w),S,M)):a.push($n("value",n,u.concat(x,w),S))}else a.push($n("array",n,u.concat(x),f[x]));else for(x=0;x<b;x++)T=_?y[x]:y,S=f[x],M=c[x],Qo.validate(S,T)?M!==S&&M!==+S&&a.push($n("dynamic",n,u.concat(x),S,M)):a.push($n("value",n,u.concat(x),S))}else if(h.items&&!p&&Oc(f)){var q=y[Object.keys(y)[0]],F=[],P,I;for(P=0;P<c.length;P++){var H=c[P]._index||P;if(I=u.slice(),I.push(H),Cl(f[H])&&Cl(c[P])){F.push(H);var V=f[H],j=c[P];Cl(V)&&V.visible!==!1&&j.visible===!1?a.push($n("invisible",n,I)):A3(V,j,q,a,n,I)}}for(P=0;P<f.length;P++)I=u.slice(),I.push(P),Cl(f[P])?F.indexOf(P)===-1&&a.push($n("unused",n,I)):a.push($n("object",n,I,f[P]))}else!Cl(f)&&Cl(c)?a.push($n("object",n,u,f)):!UI(f)&&UI(c)&&!p&&!g?a.push($n("array",n,u,f)):s in r?Qo.validate(f,h)?h.valType==="enumerated"&&(h.coerceNumber&&f!==+c||f!==c)&&a.push($n("dynamic",n,u,f,c)):a.push($n("value",n,u,f)):a.push($n("unused",n,u,f))}return a}function o1e(e,r){for(var t=e.layout.layoutAttributes,a=0;a<r.length;a++){var n=r[a],i=e.traces[n.type],o=i.layoutAttributes;o&&(n.subplot?Qo.extendFlat(t[i.attributes.subplot.dflt],o):Qo.extendFlat(t,o))}return t}var l1e={object:function(e,r){var t;return e==="layout"&&r===""?t="The layout argument":e[0]==="data"&&r===""?t="Trace "+e[1]+" in the data argument":t=Ic(e)+"key "+r,t+" must be linked to an object container"},array:function(e,r){var t;return e==="data"?t="The data argument":t=Ic(e)+"key "+r,t+" must be linked to an array container"},schema:function(e,r){return Ic(e)+"key "+r+" is not part of the schema"},unused:function(e,r,t){var a=Cl(t)?"container":"key";return Ic(e)+a+" "+r+" did not get coerced"},dynamic:function(e,r,t,a){return[Ic(e)+"key",r,"(set to '"+t+"')","got reset to","'"+a+"'","during defaults."].join(" ")},invisible:function(e,r){return(r?Ic(e)+"item "+r:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,r,t){return[Ic(e)+"key "+r,"is set to an invalid value ("+t+")"].join(" ")}};function Ic(e){return Oc(e)?"In data trace "+e[1]+", ":"In "+e+", "}function $n(e,r,t,a,n){t=t||"";var i,o;Oc(r)?(i=r[0],o=r[1]):(i=r,o=null);var l=c1e(t),s=l1e[e](r,l,a,n);return Qo.log(s),{code:e,container:i,trace:o,path:t,astr:l,msg:s}}function s1e(e,r){var t=HI(r),a=t.keyMinusId,n=t.id;return a in e&&e[a]._isSubplotObj&&n?!0:r in e}function u1e(e,r){if(r in e)return e[r];var t=HI(r);return e[t.keyMinusId]}var f1e=Qo.counterRegex("([a-z]+)");function HI(e){var r=e.match(f1e);return{keyMinusId:r&&r[1],id:r&&r[2]}}function c1e(e){if(!Oc(e))return String(e);for(var r="",t=0;t<e.length;t++){var a=e[t];typeof a=="number"?r=r.substr(0,r.length-1)+"["+a+"]":r+=a,t<e.length-1&&(r+=".")}return r}});var WI=R((iEe,YI)=>{"use strict";var v1e=fr(),T3=Nc();function h1e(e,r,t){var a=document.createElement("a"),n="download"in a,i=new Promise(function(o,l){var s,u;if(n)return s=T3.createBlob(e,t),u=T3.createObjectURL(s),a.href=u,a.download=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),T3.revokeObjectURL(u),s=null,o(r);if(v1e.isSafari()){var f=t==="svg"?",":";base64,";return T3.octetStream(f+encodeURIComponent(e)),o(r)}l(new Error("download error"))});return i}YI.exports=h1e});var J6=R((lEe,XI)=>{"use strict";var jI=fr(),d1e=Z6(),p1e=WI(),oEe=Nc();function y1e(e,r){var t;return jI.isPlainObject(e)||(t=jI.getGraphDiv(e)),r=r||{},r.format=r.format||"png",r.width=r.width||null,r.height=r.height||null,r.imageDataOnly=!0,new Promise(function(a,n){t&&t._snapshotInProgress&&n(new Error("Snapshotting already in progress.")),t&&(t._snapshotInProgress=!0);var i=d1e(e,r),o=r.filename||e.fn||"newplot";o+="."+r.format.replace("-","."),i.then(function(l){return t&&(t._snapshotInProgress=!1),p1e(l,o,r.format)}).then(function(l){a(l)}).catch(function(l){t&&(t._snapshotInProgress=!1),n(l)})})}XI.exports=y1e});var QI=R($6=>{"use strict";var ho=fr(),po=ho.isPlainObject,ZI=d0(),JI=Wn(),m1e=pl(),$I=Oa(),KI=oc().dfltConfig;$6.makeTemplate=function(e){e=ho.isPlainObject(e)?e:ho.getGraphDiv(e),e=ho.extendDeep({_context:KI},{data:e.data,layout:e.layout}),JI.supplyDefaults(e);var r=e.data||[],t=e.layout||{};t._basePlotModules=e._fullLayout._basePlotModules,t._modules=e._fullLayout._modules;var a={data:{},layout:{}};r.forEach(function(d){var p={};sp(d,p,b1e.bind(null,d));var g=ho.coerce(d,{},m1e,"type"),y=a.data[g];y||(y=a.data[g]=[]),y.push(p)}),sp(t,a.layout,g1e.bind(null,t)),delete a.layout.template;var n=t.template;if(po(n)){var i=n.layout,o,l,s,u,f,c;po(i)&&M3(i,a.layout);var h=n.data;if(po(h)){for(l in a.data)if(s=h[l],Array.isArray(s)){for(f=a.data[l],c=f.length,u=s.length,o=0;o<c;o++)M3(s[o%u],f[o]);for(o=c;o<u;o++)f.push(ho.extendDeep({},s[o]))}for(l in h)l in a.data||(a.data[l]=ho.extendDeep([],h[l]))}}return a};function M3(e,r){e=ho.extendDeep({},e);var t=Object.keys(e).sort(),a,n;function i(f,c,h){if(po(c)&&po(f))M3(f,c);else if(Array.isArray(c)&&Array.isArray(f)){var d=$I.arrayTemplater({_template:e},h);for(n=0;n<c.length;n++){var p=c[n],g=d.newItem(p)._template;g&&M3(g,p)}var y=d.defaultItems();for(n=0;n<y.length;n++)c.push(y[n]._template);for(n=0;n<c.length;n++)delete c[n].templateitemname}}for(a=0;a<t.length;a++){var o=t[a],l=e[o];if(o in r?i(l,r[o],o):r[o]=l,S3(o)===o)for(var s in r){var u=S3(s);s!==u&&u===o&&!(s in e)&&i(l,r[s],o)}}}function S3(e){return e.replace(/[0-9]+$/,"")}function sp(e,r,t,a,n){var i=n&&t(n);for(var o in e){var l=e[o],s=el(e,o,a),u=el(e,o,n),f=t(u);if(!f){var c=S3(o);c!==o&&(u=el(e,c,n),f=t(u))}if(!(i&&i===f)&&!(!f||f._noTemplating||f.valType==="data_array"||f.arrayOk&&Array.isArray(l)))if(!f.valType&&po(l))sp(l,r,t,s,u);else if(f._isLinkedToArray&&Array.isArray(l))for(var h=!1,d=0,p={},g=0;g<l.length;g++){var y=l[g];if(po(y)){var b=y.name;if(b)p[b]||(sp(y,r,t,el(l,d,s),el(l,d,u)),d++,p[b]=1);else if(!h){var _=$I.arrayDefaultKey(o),w=el(e,_,a),x=el(l,d,s);sp(y,r,t,x,el(l,d,u));var T=ho.nestedProperty(r,x),S=ho.nestedProperty(r,w);S.set(T.get()),T.set(null),h=!0}}}else{var M=ho.nestedProperty(r,s);M.set(l)}}}function g1e(e,r){return ZI.getLayoutValObject(e,ho.nestedProperty({},r).parts)}function b1e(e,r){return ZI.getTraceValObject(e,ho.nestedProperty({},r).parts)}function el(e,r,t){var a;return t?Array.isArray(e)?a=t+"["+r+"]":a=t+"."+r:a=r,a}$6.validateTemplate=function(e,r){var t=ho.extendDeep({},{_context:KI,data:e.data,layout:e.layout}),a=t.layout||{};po(r)||(r=a.template||{});var n=r.layout,i=r.data,o=[];t.layout=a,t.layout.template=r,JI.supplyDefaults(t);var l=t._fullLayout,s=t._fullData,u={};function f(w,x){for(var T in w)if(T.charAt(0)!=="_"&&po(w[T])){var S=S3(T),M=[],C;for(C=0;C<x.length;C++)M.push(el(w,T,x[C])),S!==T&&M.push(el(w,S,x[C]));for(C=0;C<M.length;C++)u[M[C]]=1;f(w[T],M)}}function c(w,x){for(var T in w)if(T.indexOf("defaults")===-1&&po(w[T])){var S=el(w,T,x);u[S]?c(w[T],S):o.push({code:"unused",path:S})}}if(po(n)?(f(l,["layout"]),c(n,"layout")):o.push({code:"layout"}),!po(i))o.push({code:"data"});else{for(var h={},d,p=0;p<s.length;p++){var g=s[p];d=g.type,h[d]=(h[d]||0)+1,g._fullInput._template||o.push({code:"missing",index:g.index,traceType:d})}for(d in i){var y=i[d].length,b=h[d]||0;y>b?o.push({code:"unused",traceType:d,templateCount:y,dataCount:b}):b>y&&o.push({code:"reused",traceType:d,templateCount:y,dataCount:b})}}function _(w,x){for(var T in w)if(T.charAt(0)!=="_"){var S=w[T],M=el(w,T,x);po(S)?(Array.isArray(w)&&S._template===!1&&S.templateitemname&&o.push({code:"missing",path:M,templateitemname:S.templateitemname}),_(S,M)):Array.isArray(S)&&x1e(S)&&_(S,M)}}if(_({data:s,layout:l},""),o.length)return o.map(_1e)};function x1e(e){for(var r=0;r<e.length;r++)if(po(e[r]))return!0}function _1e(e){var r;switch(e.code){case"data":r="The template has no key data.";break;case"layout":r="The template has no key layout.";break;case"missing":e.path?r="There are no templates for item "+e.path+" with name "+e.templateitemname:r="There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":e.path?r="The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?r="Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":r="The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":r="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type.";break}return e.msg=r,e}});var rO=R(Va=>{"use strict";var In=Y6();Va._doPlot=In._doPlot;Va.newPlot=In.newPlot;Va.restyle=In.restyle;Va.relayout=In.relayout;Va.redraw=In.redraw;Va.update=In.update;Va._guiRestyle=In._guiRestyle;Va._guiRelayout=In._guiRelayout;Va._guiUpdate=In._guiUpdate;Va._storeDirectGUIEdit=In._storeDirectGUIEdit;Va.react=In.react;Va.extendTraces=In.extendTraces;Va.prependTraces=In.prependTraces;Va.addTraces=In.addTraces;Va.deleteTraces=In.deleteTraces;Va.moveTraces=In.moveTraces;Va.purge=In.purge;Va.addFrames=In.addFrames;Va.deleteFrames=In.deleteFrames;Va.animate=In.animate;Va.setPlotConfig=In.setPlotConfig;var w1e=r1().getGraphDiv,A1e=O2().eraseActiveShape;Va.deleteActiveShape=function(e){return A1e(w1e(e))};Va.toImage=Z6();Va.validate=VI();Va.downloadImage=J6();var eO=QI();Va.makeTemplate=eO.makeTemplate;Va.validateTemplate=eO.validateTemplate});var k3=R((fEe,tO)=>{"use strict";var K6=fr(),T1e=_t();tO.exports=function(r,t,a,n){var i=n("x"),o=n("y"),l,s=T1e.getComponentMethod("calendars","handleTraceDefaults");if(s(r,t,["x","y"],a),i){var u=K6.minRowLength(i);o?l=Math.min(u,K6.minRowLength(o)):(l=u,n("y0"),n("dy"))}else{if(!o)return 0;l=K6.minRowLength(o),n("x0"),n("dx")}return t._length=l,l}});var C3=R((cEe,iO)=>{"use strict";var aO=fr().dateTick0,M1e=vn(),S1e=M1e.ONEWEEK;function nO(e,r){return e%S1e===0?aO(r,1):aO(r,0)}iO.exports=function(r,t,a,n,i){if(i||(i={x:!0,y:!0}),i.x){var o=n("xperiod");o&&(n("xperiod0",nO(o,t.xcalendar)),n("xperiodalignment"))}if(i.y){var l=n("yperiod");l&&(n("yperiod0",nO(l,t.ycalendar)),n("yperiodalignment"))}}});var sO=R((vEe,lO)=>{"use strict";var oO=["orientation","groupnorm","stackgaps"];lO.exports=function(r,t,a,n){var i=a._scatterStackOpts,o=n("stackgroup");if(o){var l=t.xaxis+t.yaxis,s=i[l];s||(s=i[l]={});var u=s[o],f=!1;u?u.traces.push(t):(u=s[o]={traceIndices:[],traces:[t]},f=!0);for(var c={orientation:t.x&&!t.y?"h":"v"},h=0;h<oO.length;h++){var d=oO[h],p=d+"Found";if(!u[p]){var g=r[d]!==void 0,y=d==="orientation";if((g||f)&&(u[d]=n(d,c[d]),y&&(u.fillDflt=u[d]==="h"?"tonextx":"tonexty"),g&&(u[p]=!0,!f&&(delete u.traces[0][d],y))))for(var b=0;b<u.traces.length-1;b++){var _=u.traces[b];_._input.fill!==_.fill&&(_.fill=u.fillDflt)}}}return u}}});var Q6=R((hEe,vO)=>{"use strict";var uO=Vt(),fO=Go().hasColorscale,cO=x0(),k1e=gi();vO.exports=function(r,t,a,n,i,o){var l=k1e.isBubble(r),s=(r.line||{}).color,u;if(o=o||{},s&&(a=s),i("marker.symbol"),i("marker.opacity",l?.7:1),i("marker.size"),o.noAngle||(i("marker.angle"),o.noAngleRef||i("marker.angleref"),o.noStandOff||i("marker.standoff")),i("marker.color",a),fO(r,"marker")&&cO(r,t,n,i,{prefix:"marker.",cLetter:"c"}),o.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),o.noLine||(s&&!Array.isArray(s)&&t.marker.color!==s?u=s:l?u=uO.background:u=uO.defaultLine,i("marker.line.color",u),fO(r,"marker.line")&&cO(r,t,n,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",l?1:0)),l&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),o.gradient){var f=i("marker.gradient.type");f!=="none"&&i("marker.gradient.color")}}});var eA=R((dEe,hO)=>{"use strict";var C1e=fr().isArrayOrTypedArray,E1e=Go().hasColorscale,L1e=x0();hO.exports=function(r,t,a,n,i,o){o||(o={});var l=(r.marker||{}).color;if(l&&l._inputArray&&(l=l._inputArray),i("line.color",a),E1e(r,"line"))L1e(r,t,n,i,{prefix:"line.",cLetter:"c"});else{var s=(C1e(l)?!1:l)||a;i("line.color",s)}i("line.width"),o.noDash||i("line.dash"),o.backoff&&i("line.backoff")}});var pO=R((pEe,dO)=>{"use strict";dO.exports=function(r,t,a){var n=a("line.shape");n==="spline"&&a("line.smoothing")}});var rA=R((yEe,yO)=>{"use strict";var q1e=fr();yO.exports=function(e,r,t,a,n){n=n||{},a("textposition"),q1e.coerceFont(a,"textfont",n.font||t.font,n),n.noSelect||(a("selected.textfont.color"),a("unselected.textfont.color"))}});var tA=R((mEe,gO)=>{"use strict";var E3=Vt(),mO=fr().isArrayOrTypedArray;function D1e(e){for(var r=E3.interpolate(e[0][1],e[1][1],.5),t=2;t<e.length;t++){var a=E3.interpolate(e[t-1][1],e[t][1],.5);r=E3.interpolate(r,a,e[t-1][0]/e[t][0])}return r}gO.exports=function(r,t,a,n,i){i||(i={});var o=!1;if(t.marker){var l=t.marker.color,s=(t.marker.line||{}).color;l&&!mO(l)?o=l:s&&!mO(s)&&(o=s)}var u;if(i.moduleHasFillgradient){var f=n("fillgradient.type");if(f!=="none"){n("fillgradient.start"),n("fillgradient.stop");var c=n("fillgradient.colorscale");c&&(u=D1e(c))}}n("fillcolor",E3.addOpacity((t.line||{}).color||o||u||a,.5))}});var wO=R((gEe,_O)=>{"use strict";var bO=fr(),F1e=_t(),R1e=nf(),P1e=J1(),X0=gi(),N1e=k3(),I1e=C3(),O1e=sO(),z1e=Q6(),B1e=eA(),xO=pO(),U1e=rA(),H1e=tA(),G1e=fr().coercePattern;_O.exports=function(r,t,a,n){function i(d,p){return bO.coerce(r,t,R1e,d,p)}var o=N1e(r,t,n,i);if(o||(t.visible=!1),!!t.visible){I1e(r,t,n,i),i("xhoverformat"),i("yhoverformat"),i("zorder");var l=O1e(r,t,n,i);n.scattermode==="group"&&t.orientation===void 0&&i("orientation","v");var s=!l&&o<P1e.PTS_LINESONLY?"lines+markers":"lines";i("text"),i("hovertext"),i("mode",s),X0.hasMarkers(t)&&z1e(r,t,a,n,i,{gradient:!0}),X0.hasLines(t)&&(B1e(r,t,a,n,i,{backoff:!0}),xO(r,t,i),i("connectgaps"),i("line.simplify")),X0.hasText(t)&&(i("texttemplate"),U1e(r,t,n,i));var u=[];(X0.hasMarkers(t)||X0.hasText(t))&&(i("cliponaxis"),i("marker.maxdisplayed"),u.push("points")),i("fill",l?l.fillDflt:"none"),t.fill!=="none"&&(H1e(r,t,a,i,{moduleHasFillgradient:!0}),X0.hasLines(t)||xO(r,t,i),G1e(i,"fillpattern",t.fillcolor,!1));var f=(t.line||{}).color,c=(t.marker||{}).color;(t.fill==="tonext"||t.fill==="toself")&&u.push("fills"),i("hoveron",u.join("+")||"points"),t.hoveron!=="fills"&&i("hovertemplate");var h=F1e.getComponentMethod("errorbars","supplyDefaults");h(r,t,f||c||a,{axis:"y"}),h(r,t,f||c||a,{axis:"x",inherit:"y"}),bO.coerceSelectionMarkerOpacity(t,i)}}});var L3=R((bEe,AO)=>{"use strict";var V1e=G0().getAxisGroup;AO.exports=function(r,t,a,n,i){var o=t.orientation,l=t[{v:"x",h:"y"}[o]+"axis"],s=V1e(a,l)+o,u=a._alignmentOpts||{},f=n("alignmentgroup"),c=u[s];c||(c=u[s]={});var h=c[f];h?h.traces.push(t):h=c[f]={traces:[t],alignmentIndex:Object.keys(c).length,offsetGroups:{}};var d=n("offsetgroup")||"",p=h.offsetGroups,g=p[d];t._offsetIndex=0,(i!=="group"||d)&&(g||(g=p[d]={offsetIndex:Object.keys(p).length}),t._offsetIndex=g.offsetIndex)}});var aA=R((xEe,TO)=>{"use strict";var Y1e=fr(),W1e=L3(),j1e=nf();TO.exports=function(r,t){var a,n,i,o=t.scattermode;function l(h){return Y1e.coerce(n._input,n,j1e,h)}if(t.scattermode==="group")for(i=0;i<r.length;i++)n=r[i],n.type==="scatter"&&(a=n._input,W1e(a,n,t,l,o));for(i=0;i<r.length;i++){var s=r[i];if(s.type==="scatter"){var u=s.fill;if(!(u==="none"||u==="toself")&&(s.opacity=void 0,u==="tonexty"||u==="tonextx"))for(var f=i-1;f>=0;f--){var c=r[f];if(c.type==="scatter"&&c.xaxis===s.xaxis&&c.yaxis===s.yaxis){c.opacity=void 0;break}}}}}});var SO=R((_Ee,MO)=>{"use strict";var X1e=fr(),Z1e=xg();MO.exports=function(e,r){function t(n,i){return X1e.coerce(e,r,Z1e,n,i)}var a=r.barmode==="group";r.scattermode==="group"&&t("scattergap",a?r.bargap:.2)}});var D3=R((wEe,CO)=>{"use strict";var J1e=Zt(),kO=fr(),$1e=kO.dateTime2ms,q3=kO.incrementMonth,K1e=vn(),Q1e=K1e.ONEAVGMONTH;CO.exports=function(r,t,a,n){if(t.type!=="date")return{vals:n};var i=r[a+"periodalignment"];if(!i)return{vals:n};var o=r[a+"period"],l;if(J1e(o)){if(o=+o,o<=0)return{vals:n}}else if(typeof o=="string"&&o.charAt(0)==="M"){var s=+o.substring(1);if(s>0&&Math.round(s)===s)l=s;else return{vals:n}}for(var u=t.calendar,f=i==="start",c=i==="end",h=r[a+"period0"],d=$1e(h,u)||0,p=[],g=[],y=[],b=n.length,_=0;_<b;_++){var w=n[_],x,T,S;if(l){for(x=Math.round((w-d)/(l*Q1e)),S=q3(d,l*x,u);S>w;)S=q3(S,-l,u);for(;S<=w;)S=q3(S,l,u);T=q3(S,-l,u)}else{for(x=Math.round((w-d)/o),S=d+x*o;S>w;)S-=o;for(;S<=w;)S+=o;T=S-o}p[_]=f?T:c?S:(T+S)/2,g[_]=T,y[_]=S}return{vals:p,starts:g,ends:y}}});var oA=R((AEe,LO)=>{"use strict";var nA=Go().hasColorscale,iA=qg(),EO=gi();LO.exports=function(r,t){EO.hasLines(t)&&nA(t,"line")&&iA(r,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),EO.hasMarkers(t)&&(nA(t,"marker")&&iA(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),nA(t,"marker.line")&&iA(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}});var lA=R((TEe,qO)=>{"use strict";var ln=fr();qO.exports=function(r,t){for(var a=0;a<r.length;a++)r[a].i=a;ln.mergeArray(t.text,r,"tx"),ln.mergeArray(t.texttemplate,r,"txt"),ln.mergeArray(t.hovertext,r,"htx"),ln.mergeArray(t.customdata,r,"data"),ln.mergeArray(t.textposition,r,"tp"),t.textfont&&(ln.mergeArrayCastPositive(t.textfont.size,r,"ts"),ln.mergeArray(t.textfont.color,r,"tc"),ln.mergeArray(t.textfont.family,r,"tf"),ln.mergeArray(t.textfont.weight,r,"tw"),ln.mergeArray(t.textfont.style,r,"ty"),ln.mergeArray(t.textfont.variant,r,"tv"),ln.mergeArray(t.textfont.textcase,r,"tC"),ln.mergeArray(t.textfont.lineposition,r,"tE"),ln.mergeArray(t.textfont.shadow,r,"tS"));var n=t.marker;if(n){ln.mergeArrayCastPositive(n.size,r,"ms"),ln.mergeArrayCastPositive(n.opacity,r,"mo"),ln.mergeArray(n.symbol,r,"mx"),ln.mergeArray(n.angle,r,"ma"),ln.mergeArray(n.standoff,r,"mf"),ln.mergeArray(n.color,r,"mc");var i=n.line;n.line&&(ln.mergeArray(i.color,r,"mlc"),ln.mergeArrayCastPositive(i.width,r,"mlw"));var o=n.gradient;o&&o.type!=="none"&&(ln.mergeArray(o.type,r,"mgt"),ln.mergeArray(o.color,r,"mgc"))}}});var sA=R((MEe,FO)=>{"use strict";var DO=fr();FO.exports=function(r,t){DO.isArrayOrTypedArray(t.selectedpoints)&&DO.tagSelected(r,t)}});var F3=R((SEe,BO)=>{"use strict";var RO=Zt(),fA=fr(),up=qa(),PO=D3(),uA=vn().BADNUM,cA=gi(),epe=oA(),rpe=lA(),tpe=sA();function ape(e,r){var t=e._fullLayout,a=r._xA=up.getFromId(e,r.xaxis||"x","x"),n=r._yA=up.getFromId(e,r.yaxis||"y","y"),i=a.makeCalcdata(r,"x"),o=n.makeCalcdata(r,"y"),l=PO(r,a,"x",i),s=PO(r,n,"y",o),u=l.vals,f=s.vals,c=r._length,h=new Array(c),d=r.ids,p=vA(r,t,a,n),g=!1,y,b,_,w,x,T;OO(t,r);var S="x",M="y",C;if(p)fA.pushUnique(p.traceIndices,r.index),y=p.orientation==="v",y?(M="s",C="x"):(S="s",C="y"),x=p.stackgaps==="interpolate";else{var q=IO(r,c);NO(e,r,a,n,u,f,q)}var F=!!r.xperiodalignment,P=!!r.yperiodalignment;for(b=0;b<c;b++){var I=h[b]={},H=RO(u[b]),V=RO(f[b]);H&&V?(I[S]=u[b],I[M]=f[b],F&&(I.orig_x=i[b],I.xEnd=l.ends[b],I.xStart=l.starts[b]),P&&(I.orig_y=o[b],I.yEnd=s.ends[b],I.yStart=s.starts[b])):p&&(y?H:V)?(I[C]=y?u[b]:f[b],I.gap=!0,x?(I.s=uA,g=!0):I.s=0):I[S]=I[M]=uA,d&&(I.id=String(d[b]))}if(rpe(h,r),epe(e,r),tpe(h,r),p){for(b=0;b<h.length;)h[b][C]===uA?h.splice(b,1):b++;if(fA.sort(h,function(O,G){return O[C]-G[C]||O.i-G.i}),g){for(b=0;b<h.length-1&&h[b].gap;)b++;for(T=h[b].s,T||(T=h[b].s=0),_=0;_<b;_++)h[_].s=T;for(w=h.length-1;w>b&&h[w].gap;)w--;for(T=h[w].s,_=h.length-1;_>w;_--)h[_].s=T;for(;b<w;)if(b++,h[b].gap){for(_=b+1;h[_].gap;)_++;for(var j=h[b-1][C],W=h[b-1].s,z=(h[_].s-W)/(h[_][C]-j);b<_;)h[b].s=W+(h[b][C]-j)*z,b++}}}return h}function NO(e,r,t,a,n,i,o){var l=r._length,s=e._fullLayout,u=t._id,f=a._id,c=s._firstScatter[zO(r)]===r.uid,h=(vA(r,s,t,a)||{}).orientation,d=r.fill;t._minDtick=0,a._minDtick=0;var p={padded:!0},g={padded:!0};o&&(p.ppad=g.ppad=o);var y=l<2||n[0]!==n[l-1]||i[0]!==i[l-1];y&&(d==="tozerox"||d==="tonextx"&&(c||h==="h"))?p.tozero=!0:!(r.error_y||{}).visible&&(d==="tonexty"||d==="tozeroy"||!cA.hasMarkers(r)&&!cA.hasText(r))&&(p.padded=!1,p.ppad=0),y&&(d==="tozeroy"||d==="tonexty"&&(c||h==="v"))?g.tozero=!0:(d==="tonextx"||d==="tozerox")&&(g.padded=!1),u&&(r._extremes[u]=up.findExtremes(t,n,p)),f&&(r._extremes[f]=up.findExtremes(a,i,g))}function IO(e,r){if(cA.hasMarkers(e)){var t=e.marker,a=1.6*(e.marker.sizeref||1),n;if(e.marker.sizemode==="area"?n=function(u){return Math.max(Math.sqrt((u||0)/a),3)}:n=function(u){return Math.max((u||0)/a,3)},fA.isArrayOrTypedArray(t.size)){var i={type:"linear"};up.setConvert(i);for(var o=i.makeCalcdata(e.marker,"size"),l=new Array(r),s=0;s<r;s++)l[s]=n(o[s]);return l}else return n(t.size)}}function OO(e,r){var t=zO(r),a=e._firstScatter;a[t]||(a[t]=r.uid)}function zO(e){var r=e.stackgroup;return e.xaxis+e.yaxis+e.type+(r?"-"+r:"")}function vA(e,r,t,a){var n=e.stackgroup;if(n){var i=r._scatterStackOpts[t._id+a._id][n],o=i.orientation==="v"?a:t;if(o.type==="linear"||o.type==="log")return i}}BO.exports={calc:ape,calcMarkerSize:IO,calcAxisExpansion:NO,setFirstScatter:OO,getStackOpts:vA}});var HO=R((kEe,UO)=>{"use strict";UO.exports=R3;var npe=fr().distinctVals;function R3(e,r){this.traces=e,this.sepNegVal=r.sepNegVal,this.overlapNoMerge=r.overlapNoMerge;for(var t=1/0,a=r.posAxis._id.charAt(0),n=[],i=0;i<e.length;i++){for(var o=e[i],l=0;l<o.length;l++){var s=o[l],u=s.p;u===void 0&&(u=s[a]),u!==void 0&&n.push(u)}o[0]&&o[0].width1&&(t=Math.min(o[0].width1,t))}this.positions=n;var f=npe(n);this.distinctPositions=f.vals,f.vals.length===1&&t!==1/0?this.minDiff=t:this.minDiff=Math.min(f.minDiff,t);var c=(r.posAxis||{}).type;(c==="category"||c==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}R3.prototype.put=function(r,t,a){var n=this.getLabel(r,t,a),i=this.bins[n]||0;return this.bins[n]=i+a,i};R3.prototype.get=function(r,t,a){var n=this.getLabel(r,t,a);return this.bins[n]||0};R3.prototype.getLabel=function(r,t,a){var n=a<0&&this.sepNegVal?"v":"^",i=this.overlapNoMerge?r:Math.round(r/this.binWidth);return n+i+"g"+t}});var N3=R((CEe,WO)=>{"use strict";var rl=Zt(),sf=fr().isArrayOrTypedArray,Z0=vn().BADNUM,ipe=_t(),fp=qa(),ope=G0().getAxisGroup,P3=HO();function lpe(e,r){for(var t=r.xaxis,a=r.yaxis,n=e._fullLayout,i=e._fullData,o=e.calcdata,l=[],s=[],u=0;u<i.length;u++){var f=i[u];if(f.visible===!0&&ipe.traceIs(f,"bar")&&f.xaxis===t._id&&f.yaxis===a._id&&(f.orientation==="h"?l.push(o[u]):s.push(o[u]),f._computePh))for(var c=e.calcdata[u],h=0;h<c.length;h++)typeof c[h].ph0=="function"&&(c[h].ph0=c[h].ph0()),typeof c[h].ph1=="function"&&(c[h].ph1=c[h].ph1())}var d={xCat:t.type==="category"||t.type==="multicategory",yCat:a.type==="category"||a.type==="multicategory",mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap};dA(e,t,a,s,d),dA(e,a,t,l,d)}function dA(e,r,t,a,n){if(a.length){var i,o,l,s,u;switch(fpe(t,a),n.mode){case"overlay":hA(e,r,t,a,n);break;case"group":for(i=[],o=[],l=0;l<a.length;l++)s=a[l],u=s[0].trace,u.offset===void 0?o.push(s):i.push(s);o.length&&cpe(e,r,t,o,n),i.length&&hA(e,r,t,i,n);break;case"stack":case"relative":for(i=[],o=[],l=0;l<a.length;l++)s=a[l],u=s[0].trace,u.base===void 0?o.push(s):i.push(s);upe(o),o.length&&vpe(e,r,t,o,n),i.length&&hA(e,r,t,i,n);break}spe(a),gpe(a,r)}}function spe(e){var r,t,a,n,i,o,l;for(r=0;r<e.length;r++)t=e[r],a=t[0].trace,n=t[0].t,n.cornerradiusvalue===void 0&&(i=a.marker?a.marker.cornerradius:void 0,i!==void 0&&(o=rl(i)?+i:+i.slice(0,-1),l=rl(i)?"px":"%",n.cornerradiusvalue=o,n.cornerradiusform=l))}function upe(e){if(!(e.length<2)){var r,t,a,n,i,o,l;for(r=0;r<e.length&&(t=e[r],a=t[0].trace,i=a.marker?a.marker.cornerradius:void 0,i===void 0);r++);if(i!==void 0)for(o=rl(i)?+i:+i.slice(0,-1),l=rl(i)?"px":"%",r=0;r<e.length;r++)t=e[r],n=t[0].t,n.cornerradiusvalue=o,n.cornerradiusform=l}}function fpe(e,r){var t,a;for(t=0;t<r.length;t++){var n=r[t],i=n[0].trace,o=i.type==="funnel"?i._base:i.base,l,s=i.orientation==="h"?i.xcalendar:i.ycalendar,u=e.type==="category"||e.type==="multicategory"?function(){return null}:e.d2c;if(sf(o)){for(a=0;a<Math.min(o.length,n.length);a++)l=u(o[a],0,s),rl(l)?(n[a].b=+l,n[a].hasB=1):n[a].b=0;for(;a<n.length;a++)n[a].b=0}else{l=u(o,0,s);var f=rl(l);for(l=f?l:0,a=0;a<n.length;a++)n[a].b=l,f&&(n[a].hasB=1)}}}function hA(e,r,t,a,n){for(var i=0;i<a.length;i++){var o=a[i],l=new P3([o],{posAxis:r,sepNegVal:!1,overlapNoMerge:!n.norm});pA(e,r,l,n),n.norm?(YO(l),yA(t,l,n)):VO(t,l)}}function cpe(e,r,t,a,n){var i=new P3(a,{posAxis:r,sepNegVal:!1,overlapNoMerge:!n.norm});pA(e,r,i,n),ype(i,r),n.norm?(YO(i),yA(t,i,n)):VO(t,i)}function vpe(e,r,t,a,n){var i=new P3(a,{posAxis:r,sepNegVal:n.mode==="relative",overlapNoMerge:!(n.norm||n.mode==="stack"||n.mode==="relative")});pA(e,r,i,n),ppe(t,i,n);for(var o=0;o<a.length;o++)for(var l=a[o],s=l[0].t.offsetindex,u=0;u<l.length;u++){var f=l[u];if(f.s!==Z0){var c=f.b+f.s===i.get(f.p,s,f.s);c&&(f._outmost=!0)}}n.norm&&yA(t,i,n)}function pA(e,r,t,a){var n=e._fullLayout,i=t.positions,o=t.distinctPositions,l=t.minDiff,s=t.traces,u=s.length,f=i.length!==o.length,c=l*(1-a.gap),h,d,p,g;if(r._id==="angularaxis")h=c,d=h*(1-(a.groupgap||0)),p=-d/2;else{var y=ope(n,r._id)+s[0][0].trace.orientation;g=n._alignmentOpts[y]||{}}for(var b=0;b<u;b++){var _=s[b],w=_[0].trace;if(r._id!=="angularaxis"){var x=g[w.alignmentgroup]||{},T=Object.keys(x.offsetGroups||{}).length;T?h=c/T:h=f?c/u:c,d=h*(1-(a.groupgap||0)),T?p=((2*w._offsetIndex+1-T)*h-d)/2:p=f?((2*b+1-u)*h-d)/2:-d/2}var S=_[0].t;S.barwidth=d,S.offsetindex=w._offsetIndex||0,S.poffset=p,S.bargroupwidth=c,S.bardelta=l}t.binWidth=s[0][0].t.barwidth/100,hpe(t),dpe(r,t),r._id==="angularaxis"?GO(r,t):GO(r,t,f)}function hpe(e){var r=e.traces,t,a;for(t=0;t<r.length;t++){var n=r[t],i=n[0],o=i.trace,l=i.t,s=o._offset||o.offset,u=l.poffset,f;if(sf(s)){for(f=Array.prototype.slice.call(s,0,n.length),a=0;a<f.length;a++)rl(f[a])||(f[a]=u);for(a=f.length;a<n.length;a++)f.push(u);l.poffset=f}else s!==void 0&&(l.poffset=s);var c=o._width||o.width,h=l.barwidth;if(sf(c)){var d=Array.prototype.slice.call(c,0,n.length);for(a=0;a<d.length;a++)rl(d[a])||(d[a]=h);for(a=d.length;a<n.length;a++)d.push(h);if(l.barwidth=d,s===void 0){for(f=[],a=0;a<n.length;a++)f.push(u+(h-d[a])/2);l.poffset=f}}else c!==void 0&&(l.barwidth=c,s===void 0&&(l.poffset=u+(h-c)/2))}}function dpe(e,r){for(var t=r.traces,a=J0(e),n=0;n<t.length;n++)for(var i=t[n],o=i[0].t,l=o.poffset,s=sf(l),u=o.barwidth,f=sf(u),c=0;c<i.length;c++){var h=i[c],d=h.w=f?u[c]:u;h.p===void 0&&(h.p=h[a],h["orig_"+a]=h[a]);var p=(s?l[c]:l)+d/2;h[a]=h.p+p}}function GO(e,r,t){var a=r.traces,n=r.minDiff,i=n/2;fp.minDtick(e,r.minDiff,r.distinctPositions[0],t);for(var o=0;o<a.length;o++){var l=a[o],s=l[0],u=s.trace,f=[],c,h,d,p;for(p=0;p<l.length;p++)c=l[p],h=c.p-i,d=c.p+i,f.push(h,d);if(u.width||u.offset){var g=s.t,y=g.poffset,b=g.barwidth,_=sf(y),w=sf(b);for(p=0;p<l.length;p++){c=l[p];var x=_?y[p]:y,T=w?b[p]:b;h=c.p+x,d=h+T,f.push(h,d)}}u._extremes[e._id]=fp.findExtremes(e,f,{padded:!1})}}function VO(e,r){for(var t=r.traces,a=J0(e),n=0;n<t.length;n++){for(var i=t[n],o=i[0].trace,l=o.type==="scatter",s=o.orientation==="v",u=[],f=!1,c=0;c<i.length;c++){var h=i[c],d=l?0:h.b,p=l?s?h.y:h.x:d+h.s;h[a]=p,u.push(p),h.hasB&&u.push(d),(!h.hasB||!h.b)&&(f=!0)}o._extremes[e._id]=fp.findExtremes(e,u,{tozero:f,padded:!0})}}function ppe(e,r,t){var a=J0(e),n=r.traces,i,o,l,s,u,f,c;for(s=0;s<n.length;s++)if(i=n[s],o=i[0].trace,o.type==="funnel")for(c=i[0].t.offsetindex,u=0;u<i.length;u++)f=i[u],f.s!==Z0&&r.put(f.p,c,-.5*f.s);for(s=0;s<n.length;s++){i=n[s],o=i[0].trace,l=o.type==="funnel",c=o.type==="barpolar"?0:i[0].t.offsetindex;var h=[];for(u=0;u<i.length;u++)if(f=i[u],f.s!==Z0){var d;l?d=f.s:d=f.s+f.b;var p=r.put(f.p,c,d),g=p+d;f.b=p,f[a]=g,t.norm||(h.push(g),f.hasB&&h.push(p))}t.norm||(o._extremes[e._id]=fp.findExtremes(e,h,{tozero:!0,padded:!0}))}}function YO(e){for(var r=e.traces,t=0;t<r.length;t++)for(var a=r[t],n=a[0].t.offsetindex,i=0;i<a.length;i++){var o=a[i];o.s!==Z0&&e.put(o.p,n,o.b+o.s)}}function ype(e,r){for(var t=e.traces,a=0;a<t.length;a++){var n=t[a],i=n[0].trace,o=n[0].t.offsetindex;if(i.base===void 0)for(var l=new P3([n],{posAxis:r,sepNegVal:!0,overlapNoMerge:!0}),s=0;s<n.length;s++){var u=n[s];if(u.p!==Z0){var f=l.put(u.p,o,u.b+u.s);f&&(u.b=f)}}}}function yA(e,r,t){var a=r.traces,n=J0(e),i=t.norm==="fraction"?1:100,o=i/1e9,l=e.l2c(e.c2l(0)),s=t.mode==="stack"?i:l;function u(S){return rl(e.c2l(S))&&(S<l-o||S>s+o||!rl(l))}for(var f=0;f<a.length;f++){for(var c=a[f],h=c[0].t.offsetindex,d=c[0].trace,p=[],g=!1,y=!1,b=0;b<c.length;b++){var _=c[b];if(_.s!==Z0){var w=Math.abs(i/r.get(_.p,h,_.s));_.b*=w,_.s*=w;var x=_.b,T=x+_.s;_[n]=T,p.push(T),y=y||u(T),_.hasB&&(p.push(x),y=y||u(x)),(!_.hasB||!_.b)&&(g=!0)}}d._extremes[e._id]=fp.findExtremes(e,p,{tozero:g,padded:y})}}function mpe(e,r,t,a){for(var n=J0(a),i=0;i<e.length;i++)for(var o=e[i],l=0;l<o.length;l++){var s=o[l],u=s[n];s._sMin=r[u],s._sMax=t[u]}}function gpe(e,r){var t=J0(r),a={},n,i,o,l=1/0,s=-1/0;for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i++){var u=o[i].p;rl(u)&&(l=Math.min(l,u),s=Math.max(s,u))}var f=1e4/(s-l),c=a.round=function(C){return String(Math.round(f*(C-l)))},h={},d={},p=e.some(function(C){var q=C[0].trace;return"marker"in q&&q.marker.cornerradius});for(n=0;n<e.length;n++){o=e[n],o[0].t.extents=a;var g=o[0].t.poffset,y=sf(g);for(i=0;i<o.length;i++){var b=o[i],_=b[t]-b.w/2;if(rl(_)){var w=b[t]+b.w/2,x=c(b.p);a[x]?a[x]=[Math.min(_,a[x][0]),Math.max(w,a[x][1])]:a[x]=[_,w]}if(b.p0=b.p+(y?g[i]:g),b.p1=b.p0+b.w,b.s0=b.b,b.s1=b.s0+b.s,p){var T=Math.min(b.s0,b.s1)||0,S=Math.max(b.s0,b.s1)||0,M=b[t];h[M]=M in h?Math.min(h[M],T):T,d[M]=M in d?Math.max(d[M],S):S}}}p&&mpe(e,h,d,r)}function J0(e){return e._id.charAt(0)}WO.exports={crossTraceCalc:lpe,setGroupPositions:dA}});var JO=R((EEe,ZO)=>{"use strict";var jO=F3(),XO=N3().setGroupPositions;function bpe(e,r){for(var t=r.xaxis,a=r.yaxis,n=e._fullLayout,i=e._fullData,o=e.calcdata,l=[],s=[],u=0;u<i.length;u++){var f=i[u];f.visible===!0&&f.type==="scatter"&&f.xaxis===t._id&&f.yaxis===a._id&&(f.orientation==="h"?l.push(o[u]):f.orientation==="v"&&s.push(o[u]))}var c={mode:n.scattermode,gap:n.scattergap};XO(e,t,a,s,c),XO(e,a,t,l,c)}ZO.exports=function(r,t){r._fullLayout.scattermode==="group"&&bpe(r,t);var a=t.xaxis,n=t.yaxis,i=a._id+n._id,o=r._fullLayout._scatterStackOpts[i];if(o){var l=r.calcdata,s,u,f,c,h,d,p,g,y,b,_,w,x,T,S;for(var M in o){b=o[M];var C=b.traceIndices;if(C.length){for(_=b.stackgaps==="interpolate",w=b.groupnorm,b.orientation==="v"?(x="x",T="y"):(x="y",T="x"),S=new Array(C.length),s=0;s<S.length;s++)S[s]=!1;d=l[C[0]];var q=new Array(d.length);for(s=0;s<d.length;s++)q[s]=d[s][x];for(s=1;s<C.length;s++){for(h=l[C[s]],u=f=0;u<h.length;u++){for(p=h[u][x];p>q[f]&&f<q.length;f++)mA(h,u,q[f],s,S,_,x),u++;if(p!==q[f]){for(c=0;c<s;c++)mA(l[C[c]],f,p,c,S,_,x);q.splice(f,0,p)}f++}for(;f<q.length;f++)mA(h,u,q[f],s,S,_,x),u++}var F=q.length;for(u=0;u<d.length;u++){for(g=d[u][T]=d[u].s,s=1;s<C.length;s++)h=l[C[s]],h[0].trace._rawLength=h[0].trace._length,h[0].trace._length=F,g+=h[u].s,h[u][T]=g;if(w)for(y=(w==="fraction"?g:g/100)||1,s=0;s<C.length;s++){var P=l[C[s]][u];P[T]/=y,P.sNorm=P.s/y}}for(s=0;s<C.length;s++){h=l[C[s]];var I=h[0].trace,H=jO.calcMarkerSize(I,I._rawLength),V=Array.isArray(H);if(H&&S[s]||V){var j=H;for(H=new Array(F),u=0;u<F;u++)H[u]=h[u].gap?0:V?j[h[u].i]:j}var W=new Array(F),z=new Array(F);for(u=0;u<F;u++)W[u]=h[u].x,z[u]=h[u].y;jO.calcAxisExpansion(r,I,a,n,W,z,H),h[0].t.orientation=b.orientation}}}}};function mA(e,r,t,a,n,i,o){n[a]=!0;var l={i:null,gap:!0,s:0};if(l[o]=t,e.splice(r,0,l),r&&t===e[r-1][o]){var s=e[r-1];l.s=s.s,l.i=s.i,l.gap=s.gap}else i&&(l.s=xpe(e,r,t,o));r||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}function xpe(e,r,t,a){var n=e[r-1],i=e[r+1];return i?n?n.s+(i.s-n.s)*(t-n[a])/(i[a]-n[a]):i.s:n.s}});var az=R((LEe,tz)=>{"use strict";var _pe=Sa(),ez=vn(),cp=ez.BADNUM,rz=ez.LOG_CLIP,$O=rz+.5,KO=rz-.5,I3=fr(),wpe=I3.segmentsIntersect,QO=I3.constrain,gA=J1();tz.exports=function(r,t){var a=t.trace||{},n=t.xaxis,i=t.yaxis,o=n.type==="log",l=i.type==="log",s=n._length,u=i._length,f=t.backoff,c=a.marker,h=t.connectGaps,d=t.baseTolerance,p=t.shape,g=p==="linear",y=a.fill&&a.fill!=="none",b=[],_=gA.minTolerance,w=r.length,x=new Array(w),T=0,S,M,C,q,F,P,I,H,V,j,W,z,O,G,Z,Q;function ie(Je){var se=r[Je];if(!se)return!1;var we=t.linearized?n.l2p(se.x):n.c2p(se.x),Ge=t.linearized?i.l2p(se.y):i.c2p(se.y);if(we===cp){if(o&&(we=n.c2p(se.x,!0)),we===cp)return!1;l&&Ge===cp&&(we*=Math.abs(n._m*u*(n._m>0?$O:KO)/(i._m*s*(i._m>0?$O:KO)))),we*=1e3}if(Ge===cp){if(l&&(Ge=i.c2p(se.y,!0)),Ge===cp)return!1;Ge*=1e3}return[we,Ge]}function be(Je,se,we,Ge){var Oe=we-Je,Wr=Ge-se,tt=.5-Je,$r=.5-se,kt=Oe*Oe+Wr*Wr,ra=Oe*tt+Wr*$r;if(ra>0&&ra<kt){var pa=tt*Wr-$r*Oe;if(pa*pa<kt)return!0}}var ne,de;function K(Je,se){var we=Je[0]/s,Ge=Je[1]/u,Oe=Math.max(0,-we,we-1,-Ge,Ge-1);return Oe&&ne!==void 0&&be(we,Ge,ne,de)&&(Oe=0),Oe&&se&&be(we,Ge,se[0]/s,se[1]/u)&&(Oe=0),(1+gA.toleranceGrowth*Oe)*d}function me(Je,se){var we=Je[0]-se[0],Ge=Je[1]-se[1];return Math.sqrt(we*we+Ge*Ge)}var fe=gA.maxScreensAway,ke=-s*fe,ve=s*(1+fe),Ae=-u*fe,Y=u*(1+fe),ae=[[ke,Ae,ve,Ae],[ve,Ae,ve,Y],[ve,Y,ke,Y],[ke,Y,ke,Ae]],X,Se,qe,De,tr,$e;function Ze(Je,se){for(var we=[],Ge=0,Oe=0;Oe<4;Oe++){var Wr=ae[Oe],tt=wpe(Je[0],Je[1],se[0],se[1],Wr[0],Wr[1],Wr[2],Wr[3]);tt&&(!Ge||Math.abs(tt.x-we[0][0])>1||Math.abs(tt.y-we[0][1])>1)&&(tt=[tt.x,tt.y],Ge&&me(tt,Je)<me(we[0],Je)?we.unshift(tt):we.push(tt),Ge++)}return we}function lr(Je){if(Je[0]<ke||Je[0]>ve||Je[1]<Ae||Je[1]>Y)return[QO(Je[0],ke,ve),QO(Je[1],Ae,Y)]}function pr(Je,se){if(Je[0]===se[0]&&(Je[0]===ke||Je[0]===ve)||Je[1]===se[1]&&(Je[1]===Ae||Je[1]===Y))return!0}function ir(Je,se){var we=[],Ge=lr(Je),Oe=lr(se);return Ge&&Oe&&pr(Ge,Oe)||(Ge&&we.push(Ge),Oe&&we.push(Oe)),we}function Xe(Je,se,we){return function(Ge,Oe){var Wr=lr(Ge),tt=lr(Oe),$r=[];if(Wr&&tt&&pr(Wr,tt))return $r;Wr&&$r.push(Wr),tt&&$r.push(tt);var kt=2*I3.constrain((Ge[Je]+Oe[Je])/2,se,we)-((Wr||Ge)[Je]+(tt||Oe)[Je]);if(kt){var ra;Wr&&tt?ra=kt>0==Wr[Je]>tt[Je]?Wr:tt:ra=Wr||tt,ra[Je]+=kt}return $r}}var Cr;p==="linear"||p==="spline"?Cr=Ze:p==="hv"||p==="vh"?Cr=ir:p==="hvh"?Cr=Xe(0,ke,ve):p==="vhv"&&(Cr=Xe(1,Ae,Y));function br(Je,se){var we=se[0]-Je[0],Ge=(se[1]-Je[1])/we,Oe=(Je[1]*se[0]-se[1]*Je[0])/we;return Oe>0?[Ge>0?ke:ve,Y]:[Ge>0?ve:ke,Ae]}function pe(Je){var se=Je[0],we=Je[1],Ge=se===x[T-1][0],Oe=we===x[T-1][1];if(!(Ge&&Oe))if(T>1){var Wr=se===x[T-2][0],tt=we===x[T-2][1];Ge&&(se===ke||se===ve)&&Wr?tt?T--:x[T-1]=Je:Oe&&(we===Ae||we===Y)&&tt?Wr?T--:x[T-1]=Je:x[T++]=Je}else x[T++]=Je}function Ie(Je){x[T-1][0]!==Je[0]&&x[T-1][1]!==Je[1]&&pe([qe,De]),pe(Je),tr=null,qe=De=0}var ze=I3.isArrayOrTypedArray(c);function et(Je){if(Je&&f&&(Je.i=S,Je.d=r,Je.trace=a,Je.marker=ze?c[Je.i]:c,Je.backoff=f),ne=Je[0]/s,de=Je[1]/u,X=Je[0]<ke?ke:Je[0]>ve?ve:0,Se=Je[1]<Ae?Ae:Je[1]>Y?Y:0,X||Se){if(!T)x[T++]=[X||Je[0],Se||Je[1]];else if(tr){var se=Cr(tr,Je);se.length>1&&(Ie(se[0]),x[T++]=se[1])}else $e=Cr(x[T-1],Je)[0],x[T++]=$e;var we=x[T-1];X&&Se&&(we[0]!==X||we[1]!==Se)?(tr&&(qe!==X&&De!==Se?pe(qe&&De?br(tr,Je):[qe||X,De||Se]):qe&&De&&pe([qe,De])),pe([X,Se])):qe-X&&De-Se&&pe([X||qe,Se||De]),tr=Je,qe=X,De=Se}else tr&&Ie(Cr(tr,Je)[0]),x[T++]=Je}for(S=0;S<w;S++)if(M=ie(S),!!M){for(T=0,tr=null,et(M),S++;S<w;S++){if(q=ie(S),!q){if(h)continue;break}if(!g||!t.simplify){et(q);continue}var zr=ie(S+1);if(j=me(q,M),!(!(y&&(T===0||T===w-1))&&j<K(q,zr)*_)){for(H=[(q[0]-M[0])/j,(q[1]-M[1])/j],F=M,W=j,z=G=Z=0,I=!1,C=q,S++;S<r.length;S++){if(P=zr,zr=ie(S+1),!P){if(h)continue;break}if(V=[P[0]-M[0],P[1]-M[1]],Q=V[0]*H[1]-V[1]*H[0],G=Math.min(G,Q),Z=Math.max(Z,Q),Z-G>K(P,zr))break;C=P,O=V[0]*H[0]+V[1]*H[1],O>W?(W=O,q=P,I=!1):O<z&&(z=O,F=P,I=!0)}if(I?(et(q),C!==F&&et(F)):(F!==M&&et(F),C!==q&&et(q)),et(C),S>=r.length||!P)break;et(P),M=P}}tr&&pe([qe||tr[0],De||tr[1]]),b.push(x.slice(0,T))}var Ve=p.slice(p.length-1);if(f&&Ve!=="h"&&Ve!=="v"){for(var He=!1,dr=-1,Tr=[],mr=0;mr<b.length;mr++)for(var vr=0;vr<b[mr].length-1;vr++){var Er=b[mr][vr],Ir=b[mr][vr+1],Hr=_pe.applyBackoff(Ir,Er);(Hr[0]!==Ir[0]||Hr[1]!==Ir[1])&&(He=!0),Tr[dr+1]||(dr++,Tr[dr]=[Er,[Hr[0],Hr[1]]])}return He?Tr:b}return b}});var bA=R((qEe,iz)=>{"use strict";var nz={tonextx:1,tonexty:1,tonext:1};iz.exports=function(r,t,a){var n,i,o,l,s,u={},f=!1,c=-1,h=0,d=-1;for(i=0;i<a.length;i++)n=a[i][0].trace,o=n.stackgroup||"",o?o in u?s=u[o]:(s=u[o]=h,h++):n.fill in nz&&d>=0?s=d:(s=d=h,h++),s<c&&(f=!0),n._groupIndex=c=s;var p=a.slice();f&&p.sort(function(y,b){var _=y[0].trace,w=b[0].trace;return _._groupIndex-w._groupIndex||_.index-w.index});var g={};for(i=0;i<p.length;i++)n=p[i][0].trace,o=n.stackgroup||"",n.visible===!0?(n._nexttrace=null,n.fill in nz&&(l=g[o],n._prevtrace=l||null,l&&(l._nexttrace=n)),n._ownfill=n.fill&&(n.fill.substr(0,6)==="tozero"||n.fill==="toself"||n.fill.substr(0,2)==="to"&&!n._prevtrace),g[o]=n):n._prevtrace=n._nexttrace=n._ownfill=null;return p}});var uz=R((DEe,sz)=>{"use strict";var El=aa(),Ape=_t(),vp=fr(),$0=vp.ensureSingle,lz=vp.identity,sn=Sa(),K0=gi(),Tpe=az(),Mpe=bA(),O3=d6().tester;sz.exports=function(r,t,a,n,i,o){var l,s,u=!i,f=!!i&&i.duration>0,c=Mpe(r,t,a);if(l=n.selectAll("g.trace").data(c,function(d){return d[0].trace.uid}),l.enter().append("g").attr("class",function(d){return"trace scatter trace"+d[0].trace.uid}).style("stroke-miterlimit",2),l.order(),Spe(r,l,t),f){o&&(s=o());var h=El.transition().duration(i.duration).ease(i.easing).each("end",function(){s&&s()}).each("interrupt",function(){s&&s()});h.each(function(){n.selectAll("g.trace").each(function(d,p){oz(r,p,t,d,c,this,i)})})}else l.each(function(d,p){oz(r,p,t,d,c,this,i)});u&&l.exit().remove(),n.selectAll("path:not([d])").remove()};function Spe(e,r,t){r.each(function(a){var n=$0(El.select(this),"g","fills");sn.setClipUrl(n,t.layerClipId,e);var i=a[0].trace,o=[];i._ownfill&&o.push("_ownFill"),i._nexttrace&&o.push("_nextFill");var l=n.selectAll("g").data(o,lz);l.enter().append("g"),l.exit().each(function(s){i[s]=null}).remove(),l.order().each(function(s){i[s]=$0(El.select(this),"path","js-fill")})})}function oz(e,r,t,a,n,i,o){var l=e._context.staticPlot,s;kpe(e,r,t,a,n);var u=!!o&&o.duration>0;function f(Xe){return u?Xe.transition():Xe}var c=t.xaxis,h=t.yaxis,d=a[0].trace,p=d.line,g=El.select(i),y=$0(g,"g","errorbars"),b=$0(g,"g","lines"),_=$0(g,"g","points"),w=$0(g,"g","text");if(Ape.getComponentMethod("errorbars","plot")(e,y,t,o),d.visible!==!0)return;f(g).style("opacity",d.opacity);var x,T,S=d.fill.charAt(d.fill.length-1);S!=="x"&&S!=="y"&&(S="");var M,C;S==="y"?(M=1,C=h.c2p(0,!0)):S==="x"&&(M=0,C=c.c2p(0,!0)),a[0][t.isRangePlot?"nodeRangePlot3":"node3"]=g;var q="",F=[],P=d._prevtrace,I=null,H=null;P&&(q=P._prevRevpath||"",T=P._nextFill,F=P._ownPolygons,I=P._fillsegments,H=P._fillElement);var V,j,W="",z="",O,G,Z,Q,ie,be,ne=[];d._polygons=[];var de=[],K=[],me=vp.noop;if(x=d._ownFill,K0.hasLines(d)||d.fill!=="none"){T&&T.datum(a),["hv","vh","hvh","vhv"].indexOf(p.shape)!==-1?(O=sn.steps(p.shape),G=sn.steps(p.shape.split("").reverse().join(""))):p.shape==="spline"?O=G=function(Xe){var Cr=Xe[Xe.length-1];return Xe.length>1&&Xe[0][0]===Cr[0]&&Xe[0][1]===Cr[1]?sn.smoothclosed(Xe.slice(1),p.smoothing):sn.smoothopen(Xe,p.smoothing)}:O=G=function(Xe){return"M"+Xe.join("L")},Z=function(Xe){return G(Xe.reverse())},K=Tpe(a,{xaxis:c,yaxis:h,trace:d,connectGaps:d.connectgaps,baseTolerance:Math.max(p.width||1,3)/4,shape:p.shape,backoff:p.backoff,simplify:p.simplify,fill:d.fill}),de=new Array(K.length);var fe=0;for(s=0;s<K.length;s++){var ke,ve=K[s];!ke||!S?(ke=ve.slice(),de[fe]=ke,fe++):ke.push.apply(ke,ve)}d._fillElement=null,d._fillExclusionElement=H,d._fillsegments=de.slice(0,fe),de=d._fillsegments,K.length&&(Q=K[0][0].slice(),ie=K[K.length-1],be=ie[ie.length-1].slice()),me=function(Xe){return function(Cr){if(V=O(Cr),j=Z(Cr),W?S?(W+="L"+V.substr(1),z=j+("L"+z.substr(1))):(W+="Z"+V,z=j+"Z"+z):(W=V,z=j),K0.hasLines(d)){var br=El.select(this);if(br.datum(a),Xe)f(br.style("opacity",0).attr("d",V).call(sn.lineGroupStyle)).style("opacity",1);else{var pe=f(br);pe.attr("d",V),sn.singleLineStyle(a,pe)}}}}}var Ae=b.selectAll(".js-line").data(K);f(Ae.exit()).style("opacity",0).remove(),Ae.each(me(!1)),Ae.enter().append("path").classed("js-line",!0).style("vector-effect",l?"none":"non-scaling-stroke").call(sn.lineGroupStyle).each(me(!0)),sn.setClipUrl(Ae,t.layerClipId,e);function Y(Xe){f(Xe).attr("d","M0,0Z")}var ae=function(){var Xe=new Array(de.length);for(s=0;s<de.length;s++)Xe[s]=O3(de[s]);return Xe},X=function(Xe){var Cr,br;if(!Xe||Xe.length===0)for(Cr=new Array(de.length),br=0;br<de.length;br++){var pe=de[br][0].slice(),Ie=de[br][de[br].length-1].slice();pe[M]=Ie[M]=C;var ze=[Ie,pe],et=ze.concat(de[br]);Cr[br]=O3(et)}else{for(Cr=new Array(Xe.length-1+de.length),br=0;br<Xe.length-1;br++)Cr[br]=O3(Xe[br]);var zr=Xe[Xe.length-1].slice();for(zr.reverse(),br=0;br<de.length;br++)Cr[Xe.length-1+br]=O3(de[br].concat(zr))}return Cr};K.length?(x?(x.datum(a),Q&&be&&(S?(Q[M]=be[M]=C,f(x).attr("d","M"+be+"L"+Q+"L"+W.substr(1)).call(sn.singleFillStyle,e),ne=X(null)):(f(x).attr("d",W+"Z").call(sn.singleFillStyle,e),ne=ae())),d._polygons=ne,d._fillElement=x):T&&(d.fill.substr(0,6)==="tonext"&&W&&q?(d.fill==="tonext"?(f(T).attr("d",W+"Z"+q+"Z").call(sn.singleFillStyle,e),ne=ae(),d._polygons=ne.concat(F)):(f(T).attr("d",W+"L"+q.substr(1)+"Z").call(sn.singleFillStyle,e),ne=X(I),d._polygons=ne),d._fillElement=T):Y(T)),d._prevRevpath=z):(x?Y(x):T&&Y(T),d._prevRevpath=null),d._ownPolygons=ne;function Se(Xe){return Xe.filter(function(Cr){return!Cr.gap&&Cr.vis})}function qe(Xe){return Xe.filter(function(Cr){return Cr.vis})}function De(Xe){return Xe.filter(function(Cr){return!Cr.gap})}function tr(Xe){return Xe.id}function $e(Xe){if(Xe.ids)return tr}function Ze(){return!1}function lr(Xe,Cr,br){var pe,Ie,ze,et=br[0].trace,zr=K0.hasMarkers(et),Ve=K0.hasText(et),He=$e(et),dr=Ze,Tr=Ze;if(zr||Ve){var mr=lz,vr=et.stackgroup,Er=vr&&e._fullLayout._scatterStackOpts[c._id+h._id][vr].stackgaps==="infer zero";et.marker.maxdisplayed||et._needsCull?mr=Er?qe:Se:vr&&!Er&&(mr=De),zr&&(dr=mr),Ve&&(Tr=mr)}Ie=Xe.selectAll("path.point"),pe=Ie.data(dr,He);var Ir=pe.enter().append("path").classed("point",!0);u&&Ir.call(sn.pointStyle,et,e).call(sn.translatePoints,c,h).style("opacity",0).transition().style("opacity",1),pe.order();var Hr;zr&&(Hr=sn.makePointStyleFns(et)),pe.each(function(Je){var se=El.select(this),we=f(se);ze=sn.translatePoint(Je,we,c,h),ze?(sn.singlePointStyle(Je,we,et,Hr,e),t.layerClipId&&sn.hideOutsideRangePoint(Je,we,c,h,et.xcalendar,et.ycalendar),et.customdata&&se.classed("plotly-customdata",Je.data!==null&&Je.data!==void 0)):we.remove()}),u?pe.exit().transition().style("opacity",0).remove():pe.exit().remove(),Ie=Cr.selectAll("g"),pe=Ie.data(Tr,He),pe.enter().append("g").classed("textpoint",!0).append("text"),pe.order(),pe.each(function(Je){var se=El.select(this),we=f(se.select("text"));ze=sn.translatePoint(Je,we,c,h),ze?t.layerClipId&&sn.hideOutsideRangePoint(Je,se,c,h,et.xcalendar,et.ycalendar):se.remove()}),pe.selectAll("text").call(sn.textPointStyle,et,e).each(function(Je){var se=c.c2p(Je.x),we=h.c2p(Je.y);El.select(this).selectAll("tspan.line").each(function(){f(El.select(this)).attr({x:se,y:we})})}),pe.exit().remove()}_.datum(a),w.datum(a),lr(_,w,a);var pr=d.cliponaxis===!1,ir=pr?null:t.layerClipId;sn.setClipUrl(_,ir,e),sn.setClipUrl(w,ir,e)}function kpe(e,r,t,a,n){var i=t.xaxis,o=t.yaxis,l=El.extent(vp.simpleMap(i.range,i.r2c)),s=El.extent(vp.simpleMap(o.range,o.r2c)),u=a[0].trace;if(K0.hasMarkers(u)){var f=u.marker.maxdisplayed;if(f!==0){var c=a.filter(function(g){return g.x>=l[0]&&g.x<=l[1]&&g.y>=s[0]&&g.y<=s[1]}),h=Math.ceil(c.length/f),d=0;n.forEach(function(g,y){var b=g[0].trace;K0.hasMarkers(b)&&b.marker.maxdisplayed>0&&y<r&&d++});var p=Math.round(d*h/3+Math.floor(d/3)*h/7.1);a.forEach(function(g){delete g.vis}),c.forEach(function(g,y){Math.round((y+p)%h)===0&&(g.vis=!0)})}}}});var hp=R((FEe,fz)=>{"use strict";fz.exports={container:"marker",min:"cmin",max:"cmax"}});var xA=R((REe,cz)=>{"use strict";var z3=qa();cz.exports=function(r,t,a){var n={},i={_fullLayout:a},o=z3.getFromTrace(i,t,"x"),l=z3.getFromTrace(i,t,"y"),s=r.orig_x;s===void 0&&(s=r.x);var u=r.orig_y;return u===void 0&&(u=r.y),n.xLabel=z3.tickText(o,o.c2l(s),!0).text,n.yLabel=z3.tickText(l,l.c2l(u),!0).text,n}});var TA=R((PEe,vz)=>{"use strict";var _A=aa(),Q0=Sa(),Cpe=_t();function Epe(e){var r=_A.select(e).selectAll("g.trace.scatter");r.style("opacity",function(t){return t[0].trace.opacity}),r.selectAll("g.points").each(function(t){var a=_A.select(this),n=t.trace||t[0].trace;wA(a,n,e)}),r.selectAll("g.text").each(function(t){var a=_A.select(this),n=t.trace||t[0].trace;AA(a,n,e)}),r.selectAll("g.trace path.js-line").call(Q0.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(Q0.fillGroupStyle,e,!1),Cpe.getComponentMethod("errorbars","style")(r)}function wA(e,r,t){Q0.pointStyle(e.selectAll("path.point"),r,t)}function AA(e,r,t){Q0.textPointStyle(e.selectAll("text"),r,t)}function Lpe(e,r,t){var a=r[0].trace;a.selectedpoints?(Q0.selectedPointStyle(t.selectAll("path.point"),a),Q0.selectedTextStyle(t.selectAll("text"),a)):(wA(t,a,e),AA(t,a,e))}vz.exports={style:Epe,stylePoints:wA,styleText:AA,styleOnSelect:Lpe}});var MA=R((NEe,hz)=>{"use strict";var eh=Vt(),qpe=gi();hz.exports=function(r,t){var a,n;if(r.mode==="lines")return a=r.line.color,a&&eh.opacity(a)?a:r.fillcolor;if(r.mode==="none")return r.fill?r.fillcolor:"";var i=t.mcc||(r.marker||{}).color,o=t.mlcc||((r.marker||{}).line||{}).color;return n=i&&eh.opacity(i)?i:o&&eh.opacity(o)&&(t.mlw||((r.marker||{}).line||{}).width)?o:"",n?eh.opacity(n)<.3?eh.addOpacity(n,.3):n:(a=(r.line||{}).color,a&&eh.opacity(a)&&qpe.hasLines(r)&&r.line.width?a:r.fillcolor)}});var yz=R((IEe,pz)=>{"use strict";var B3=fr(),dz=Ks(),Dpe=_t(),Fpe=MA(),SA=Vt(),Rpe=B3.fillText;pz.exports=function(r,t,a,n){var i=r.cd,o=i[0].trace,l=r.xa,s=r.ya,u=l.c2p(t),f=s.c2p(a),c=[u,f],h=o.hoveron||"",d=o.mode.indexOf("markers")!==-1?3:.5,p=!!o.xperiodalignment,g=!!o.yperiodalignment;if(h.indexOf("points")!==-1){var y=function(z){if(p){var O=l.c2p(z.xStart),G=l.c2p(z.xEnd);return u>=Math.min(O,G)&&u<=Math.max(O,G)?0:1/0}var Z=Math.max(3,z.mrc||0),Q=1-1/Z,ie=Math.abs(l.c2p(z.x)-u);return ie<Z?Q*ie/Z:ie-Z+Q},b=function(z){if(g){var O=s.c2p(z.yStart),G=s.c2p(z.yEnd);return f>=Math.min(O,G)&&f<=Math.max(O,G)?0:1/0}var Z=Math.max(3,z.mrc||0),Q=1-1/Z,ie=Math.abs(s.c2p(z.y)-f);return ie<Z?Q*ie/Z:ie-Z+Q},_=function(z){var O=Math.max(d,z.mrc||0),G=l.c2p(z.x)-u,Z=s.c2p(z.y)-f;return Math.max(Math.sqrt(G*G+Z*Z)-O,1-d/O)},w=dz.getDistanceFunction(n,y,b,_);if(dz.getClosest(i,w,r),r.index!==!1){var x=i[r.index],T=l.c2p(x.x,!0),S=s.c2p(x.y,!0),M=x.mrc||1;r.index=x.i;var C=i[0].t.orientation,q=C&&(x.sNorm||x.s),F=C==="h"?q:x.orig_x!==void 0?x.orig_x:x.x,P=C==="v"?q:x.orig_y!==void 0?x.orig_y:x.y;return B3.extendFlat(r,{color:Fpe(o,x),x0:T-M,x1:T+M,xLabelVal:F,y0:S-M,y1:S+M,yLabelVal:P,spikeDistance:_(x),hovertemplate:o.hovertemplate}),Rpe(x,o,r),Dpe.getComponentMethod("errorbars","hoverInfo")(x,o,r),[r]}}function I(z){if(!z)return!1;var O=z.node();try{var G=new DOMPoint(c[0],c[1]);return O.isPointInFill(G)}catch(Q){var Z=O.ownerSVGElement.createSVGPoint();return Z.x=c[0],Z.y=c[1],O.isPointInFill(Z)}}function H(z){var O,G=[],Z=1/0,Q=-1/0,ie=1/0,be=-1/0,ne;for(O=0;O<z.length;O++){var de=z[O];de.contains(c)&&(G.push(de),ie=Math.min(ie,de.ymin),be=Math.max(be,de.ymax))}if(G.length===0)return null;ie=Math.max(ie,0),be=Math.min(be,s._length),ne=(ie+be)/2;var K,me,fe,ke,ve,Ae,Y;for(O=0;O<G.length;O++)for(me=G[O].pts,K=1;K<me.length;K++)Ae=me[K-1][1],Y=me[K][1],Ae>ne!=Y>=ne&&(ke=me[K-1][0],ve=me[K][0],Y-Ae&&(fe=ke+(ve-ke)*(ne-Ae)/(Y-Ae),Z=Math.min(Z,fe),Q=Math.max(Q,fe)));return Z=Math.max(Z,0),Q=Math.min(Q,l._length),{x0:Z,x1:Q,y0:ne,y1:ne}}if(h.indexOf("fills")!==-1&&o._fillElement){var V=I(o._fillElement)&&!I(o._fillExclusionElement);if(V){var j=H(o._polygons);j===null&&(j={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var W=SA.defaultLine;return SA.opacity(o.fillcolor)?W=o.fillcolor:SA.opacity((o.line||{}).color)&&(W=o.line.color),B3.extendFlat(r,{distance:r.maxHoverDistance,x0:j.x0,x1:j.x1,y0:j.y0,y1:j.y1,color:W,hovertemplate:!1}),delete r.index,o.text&&!B3.isArrayOrTypedArray(o.text)?r.text=String(o.text):r.text=o.name,[r]}}}});var bz=R((OEe,gz)=>{"use strict";var mz=gi();gz.exports=function(r,t){var a=r.cd,n=r.xaxis,i=r.yaxis,o=[],l=a[0].trace,s,u,f,c,h=!mz.hasMarkers(l)&&!mz.hasText(l);if(h)return[];if(t===!1)for(s=0;s<a.length;s++)a[s].selected=0;else for(s=0;s<a.length;s++)u=a[s],f=n.c2p(u.x),c=i.c2p(u.y),u.i!==null&&t.contains([f,c],!1,s,r)?(o.push({pointNumber:u.i,x:n.c2d(u.x),y:i.c2d(u.y)}),u.selected=1):u.selected=0;return o}});var _z=R((zEe,xz)=>{"use strict";xz.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}});var Mz=R((BEe,Tz)=>{"use strict";var dp=_t().traceIs,kA=G4();Tz.exports=function(r,t,a,n){a("autotypenumbers",n.autotypenumbersDflt);var i=a("type",(n.splomStash||{}).type);i==="-"&&(Ppe(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function Ppe(e,r){if(e.type==="-"){var t=e._id,a=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=a);var i=Npe(r,t,a);if(i){if(i.type==="histogram"&&a==={v:"y",h:"x"}[i.orientation||"v"]){e.type="linear";return}var o=a+"calendar",l=i[o],s={noMultiCategory:!dp(i,"cartesian")||dp(i,"noMultiCategory")};if(i.type==="box"&&i._hasPreCompStats&&a==={h:"x",v:"y"}[i.orientation||"v"]&&(s.noMultiCategory=!0),s.autotypenumbers=e.autotypenumbers,Az(i,a)){var u=wz(i),f=[];for(n=0;n<r.length;n++){var c=r[n];!dp(c,"box-violin")||(c[a+"axis"]||a)!==t||(c[u]!==void 0?f.push(c[u][0]):c.name!==void 0?f.push(c.name):f.push("text"),c[o]!==l&&(l=void 0))}e.type=kA(f,l,s)}else if(i.type==="splom"){var h=i.dimensions,d=h[i._axesDim[t]];d.visible&&(e.type=kA(d.values,l,s))}else e.type=kA(i[a]||[i[a+"0"]],l,s)}}}function Npe(e,r,t){for(var a=0;a<e.length;a++){var n=e[a];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(Az(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function wz(e){return{v:"x",h:"y"}[e.orientation||"v"]}function Az(e,r){var t=wz(e),a=dp(e,"box-violin"),n=dp(e._fullInput||{},"candlestick");return a&&!n&&r===t&&e[t]===void 0&&e[t+"0"]===void 0}});var kz=R((UEe,Sz)=>{"use strict";var Ipe=ao().isTypedArraySpec;function Ope(e,r){var t=r.dataAttr||e._id.charAt(0),a={},n,i,o;if(r.axData)n=r.axData;else for(n=[],i=0;i<r.data.length;i++){var l=r.data[i];l[t+"axis"]===e._id&&n.push(l)}for(i=0;i<n.length;i++){var s=n[i][t];for(o=0;o<s.length;o++){var u=s[o];u!=null&&(a[u]=1)}}return Object.keys(a)}Sz.exports=function(r,t,a,n){if(t.type==="category"){var i=r.categoryarray,o=Array.isArray(i)&&i.length>0||Ipe(i),l;o&&(l="array");var s=a("categoryorder",l),u;s==="array"&&(u=a("categoryarray")),!o&&s==="array"&&(s=t.categoryorder="trace"),s==="trace"?t._initialCategories=[]:s==="array"?t._initialCategories=u.slice():(u=Ope(t,n).sort(),s==="category ascending"?t._initialCategories=u:s==="category descending"&&(t._initialCategories=u.reverse()))}}});var Lz=R((HEe,Ez)=>{"use strict";var Cz=zo().mix,zpe=es(),Bpe=fr();Ez.exports=function(r,t,a,n){n=n||{};var i=n.dfltColor;function o(M,C){return Bpe.coerce2(r,t,n.attributes,M,C)}var l=o("linecolor",i),s=o("linewidth"),u=a("showline",n.showLine||!!l||!!s);u||(delete t.linecolor,delete t.linewidth);var f=Cz(i,n.bgColor,n.blend||zpe.lightFraction).toRgbString(),c=o("gridcolor",f),h=o("gridwidth"),d=o("griddash"),p=a("showgrid",n.showGrid||!!c||!!h||!!d);if(p||(delete t.gridcolor,delete t.gridwidth,delete t.griddash),n.hasMinor){var g=Cz(t.gridcolor,n.bgColor,67).toRgbString(),y=o("minor.gridcolor",g),b=o("minor.gridwidth",t.gridwidth||1),_=o("minor.griddash",t.griddash||"solid"),w=a("minor.showgrid",!!y||!!b||!!_);w||(delete t.minor.gridcolor,delete t.minor.gridwidth,delete t.minor.griddash)}if(!n.noZeroLine){var x=o("zerolinecolor",i),T=o("zerolinewidth"),S=a("zeroline",n.showGrid||!!x||!!T);S||(delete t.zerolinecolor,delete t.zerolinewidth)}}});var EA=R((GEe,Nz)=>{"use strict";var qz=Zt(),Upe=_t(),pp=fr(),Hpe=Oa(),Gpe=_l(),CA=xl(),Dz=h4(),Fz=p4(),Vpe=g4(),Ype=b4(),Wpe=kz(),jpe=Lz(),Xpe=uw(),Rz=Wg(),U3=ui().WEEKDAY_PATTERN,Zpe=ui().HOUR_PATTERN;Nz.exports=function(r,t,a,n,i){var o=n.letter,l=n.font||{},s=n.splomStash||{},u=a("visible",!n.visibleDflt),f=t._template||{},c=t.type||f.type||"-",h;if(c==="date"){var d=Upe.getComponentMethod("calendars","handleDefaults");d(r,t,"calendar",n.calendar),n.noTicklabelmode||(h=a("ticklabelmode"))}!n.noTicklabelindex&&(c==="date"||c==="linear")&&a("ticklabelindex");var p="";(!n.noTicklabelposition||c==="multicategory")&&(p=pp.coerce(r,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:h==="period"?["outside","inside"]:o==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),n.noTicklabeloverflow||a("ticklabeloverflow",p.indexOf("inside")!==-1?"hide past domain":c==="category"||c==="multicategory"?"allow":"hide past div"),Rz(t,i),Xpe(r,t,a,n),Wpe(r,t,a,n),c!=="category"&&!n.noHover&&a("hoverformat");var g=a("color"),y=g!==CA.color.dflt?g:l.color,b=s.label||i._dfltTitle[o];if(Ype(r,t,a,c,n),!u)return t;a("title.text",b),pp.coerceFont(a,"title.font",l,{overrideDflt:{size:pp.bigFont(l.size),color:y}}),Dz(r,t,a,c);var _=n.hasMinor;if(_&&(Hpe.newContainer(t,"minor"),Dz(r,t,a,c,{isMinor:!0})),Vpe(r,t,a,c,n),Fz(r,t,a,n),_){var w=n.isMinor;n.isMinor=!0,Fz(r,t,a,n),n.isMinor=w}jpe(r,t,a,{dfltColor:g,bgColor:n.bgColor,showGrid:n.showGrid,hasMinor:_,attributes:CA}),_&&!t.minor.ticks&&!t.minor.showgrid&&delete t.minor,(t.showline||t.ticks)&&a("mirror");var x=c==="multicategory";if(!n.noTickson&&(c==="category"||x)&&(t.ticks||t.showgrid)){var T;x&&(T="boundaries");var S=a("tickson",T);S==="boundaries"&&delete t.ticklabelposition}if(x){var M=a("showdividers");M&&(a("dividercolor"),a("dividerwidth"))}if(c==="date")if(Gpe(r,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:Jpe}),!t.rangebreaks.length)delete t.rangebreaks;else{for(var C=0;C<t.rangebreaks.length;C++)if(t.rangebreaks[C].pattern===U3){t._hasDayOfWeekBreaks=!0;break}if(Rz(t,i),i._has("scattergl")||i._has("splom"))for(var q=0;q<n.data.length;q++){var F=n.data[q];(F.type==="scattergl"||F.type==="splom")&&(F.visible=!1,pp.warn(F.type+" traces do not work on axes with rangebreaks. Setting trace "+F.index+" to `visible: false`."))}}return t};function Jpe(e,r,t){function a(h,d){return pp.coerce(e,r,CA.rangebreaks,h,d)}var n=a("enabled");if(n){var i=a("bounds");if(i&&i.length>=2){var o="",l,s;if(i.length===2){for(l=0;l<2;l++)if(s=Pz(i[l]),s){o=U3;break}}var u=a("pattern",o);if(u===U3)for(l=0;l<2;l++)s=Pz(i[l]),s&&(r.bounds[l]=i[l]=s-1);if(u)for(l=0;l<2;l++)switch(s=i[l],u){case U3:if(!qz(s)){r.enabled=!1;return}if(s=+s,s!==Math.floor(s)||s<0||s>=7){r.enabled=!1;return}r.bounds[l]=i[l]=s;break;case Zpe:if(!qz(s)){r.enabled=!1;return}if(s=+s,s<0||s>24){r.enabled=!1;return}r.bounds[l]=i[l]=s;break}if(t.autorange===!1){var f=t.range;if(f[0]<f[1]){if(i[0]<f[0]&&i[1]>f[1]){r.enabled=!1;return}}else if(i[0]>f[0]&&i[1]<f[1]){r.enabled=!1;return}}}else{var c=a("values");if(c&&c.length)a("dvalue");else{r.enabled=!1;return}}}}var $pe={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function Pz(e){if(typeof e=="string")return $pe[e.substr(0,3).toLowerCase()]}});var LA=R((VEe,Iz)=>{"use strict";var Kpe=Zt(),H3=fr();Iz.exports=function(r,t,a,n){var i=n.counterAxes||[],o=n.overlayableAxes||[],l=n.letter,s=n.grid,u=n.overlayingDomain,f,c,h,d,p,g;s&&(c=s._domains[l][s._axisMap[t._id]],f=s._anchors[t._id],c&&(h=s[l+"side"].split(" ")[0],d=s.domain[l][h==="right"||h==="top"?1:0])),c=c||[0,1],f=f||(Kpe(r.position)?"free":i[0]||"free"),h=h||(l==="x"?"bottom":"left"),d=d||0,p=0,g=!1;var y=H3.coerce(r,t,{anchor:{valType:"enumerated",values:["free"].concat(i),dflt:f}},"anchor"),b=H3.coerce(r,t,{side:{valType:"enumerated",values:l==="x"?["bottom","top"]:["left","right"],dflt:h}},"side");if(y==="free"){if(l==="y"){var _=a("autoshift");_&&(d=b==="left"?u[0]:u[1],g=t.automargin?t.automargin:!0,p=b==="left"?-3:3),a("shift",p)}a("position",d)}a("automargin",g);var w=!1;if(o.length&&(w=H3.coerce(r,t,{overlaying:{valType:"enumerated",values:[!1].concat(o),dflt:!1}},"overlaying")),!w){var x=a("domain",c);x[0]>x[1]-1/4096&&(t.domain=c),H3.noneOrAll(r.domain,t.domain,c),t.tickmode==="sync"&&(t.tickmode="auto")}return a("layer"),t}});var Wz=R((YEe,Yz)=>{"use strict";var zc=fr(),Oz=Vt(),Qpe=ns().isUnifiedHover,eye=Iw(),zz=Oa(),rye=a0(),Bz=xl(),tye=Mz(),Uz=EA(),aye=G0(),Hz=LA(),DA=yn(),ps=DA.id2name,Gz=DA.name2id,nye=ui().AX_ID_PATTERN,Vz=_t(),G3=Vz.traceIs,qA=Vz.getComponentMethod;function V3(e,r,t){Array.isArray(e[r])?e[r].push(t):e[r]=[t]}Yz.exports=function(r,t,a){var n=t.autotypenumbers,i={},o={},l={},s={},u={},f={},c={},h={},d={},p={},g,y;for(g=0;g<a.length;g++){var b=a[g];if(G3(b,"cartesian")){var _;if(b.xaxis)_=ps(b.xaxis),V3(i,_,b);else if(b.xaxes)for(y=0;y<b.xaxes.length;y++)V3(i,ps(b.xaxes[y]),b);var w;if(b.yaxis)w=ps(b.yaxis),V3(i,w,b);else if(b.yaxes)for(y=0;y<b.yaxes.length;y++)V3(i,ps(b.yaxes[y]),b);if(b.type==="funnel"?b.orientation==="h"?(_&&(o[_]=!0),w&&(c[w]=!0)):w&&(l[w]=!0):b.type==="image"?(w&&(h[w]=!0),_&&(h[_]=!0)):(w&&(u[w]=!0,f[w]=!0),(!G3(b,"carpet")||b.type==="carpet"&&!b._cheater)&&_&&(s[_]=!0)),b.type==="carpet"&&b._cheater&&_&&(o[_]=!0),G3(b,"2dMap")&&(d[_]=!0,d[w]=!0),G3(b,"oriented")){var x=b.orientation==="h"?w:_;p[x]=!0}}}var T=t._subplots,S=T.xaxis,M=T.yaxis,C=zc.simpleMap(S,ps),q=zc.simpleMap(M,ps),F=C.concat(q),P=Oz.background;S.length&&M.length&&(P=zc.coerce(r,t,rye,"plot_bgcolor"));var I=Oz.combine(P,t.paper_bgcolor),H,V,j,W,z;function O(){var Ie=i[H]||[];z._traceIndices=Ie.map(function(ze){return ze.index}),z._annIndices=[],z._shapeIndices=[],z._selectionIndices=[],z._imgIndices=[],z._subplotsWith=[],z._counterAxes=[],z._name=z._attr=H,z._id=V}function G(Ie,ze){return zc.coerce(W,z,Bz,Ie,ze)}function Z(Ie,ze){return zc.coerce2(W,z,Bz,Ie,ze)}function Q(Ie){return Ie==="x"?M:S}function ie(Ie,ze){for(var et=Ie==="x"?C:q,zr=[],Ve=0;Ve<et.length;Ve++){var He=et[Ve];He!==ze&&!(r[He]||{}).overlaying&&zr.push(Gz(He))}return zr}var be={x:Q("x"),y:Q("y")},ne=be.x.concat(be.y),de={},K=[];function me(){var Ie=W.matches;nye.test(Ie)&&ne.indexOf(Ie)===-1&&(de[Ie]=W.type,K=Object.keys(de))}var fe=eye(r,t),ke=Qpe(fe);for(g=0;g<F.length;g++){H=F[g],V=Gz(H),j=H.charAt(0),zc.isPlainObject(r[H])||(r[H]={}),W=r[H],z=zz.newContainer(t,H,j+"axis"),O();var ve=j==="x"&&!s[H]&&o[H]||j==="y"&&!u[H]&&l[H],Ae=j==="y"&&(!f[H]&&c[H]||h[H]),Y={hasMinor:!0,letter:j,font:t.font,outerTicks:d[H],showGrid:!p[H],data:i[H]||[],bgColor:I,calendar:t.calendar,automargin:!0,visibleDflt:ve,reverseDflt:Ae,autotypenumbersDflt:n,splomStash:((t._splomAxes||{})[j]||{})[V],noAutotickangles:j==="y"};G("uirevision",t.uirevision),tye(W,z,G,Y),Uz(W,z,G,Y,t);var ae=ke&&j===fe.charAt(0),X=Z("spikecolor",ke?z.color:void 0),Se=Z("spikethickness",ke?1.5:void 0),qe=Z("spikedash",ke?"dot":void 0),De=Z("spikemode",ke?"across":void 0),tr=Z("spikesnap"),$e=G("showspikes",!!ae||!!X||!!Se||!!qe||!!De||!!tr);$e||(delete z.spikecolor,delete z.spikethickness,delete z.spikedash,delete z.spikemode,delete z.spikesnap);var Ze=ps(W.overlaying),lr=[0,1];if(t[Ze]!==void 0){var pr=ps(t[Ze].anchor);t[pr]!==void 0&&(lr=t[pr].domain)}Hz(W,z,G,{letter:j,counterAxes:be[j],overlayableAxes:ie(j,H),grid:t.grid,overlayingDomain:lr}),G("title.standoff"),me(),z._input=W}for(g=0;g<K.length;){V=K[g++],H=ps(V),j=H.charAt(0),zc.isPlainObject(r[H])||(r[H]={}),W=r[H],z=zz.newContainer(t,H,j+"axis"),O();var ir={letter:j,font:t.font,outerTicks:d[H],showGrid:!p[H],data:[],bgColor:I,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:n,splomStash:((t._splomAxes||{})[j]||{})[V]};G("uirevision",t.uirevision),z.type=de[V]||"linear",Uz(W,z,G,ir,t),Hz(W,z,G,{letter:j,counterAxes:be[j],overlayableAxes:ie(j,H),grid:t.grid}),G("fixedrange"),me(),z._input=W}var Xe=qA("rangeslider","handleDefaults"),Cr=qA("rangeselector","handleDefaults");for(g=0;g<C.length;g++)H=C[g],W=r[H],z=t[H],Xe(r,t,H),z.type==="date"&&Cr(W,z,t,q,z.calendar),G("fixedrange");for(g=0;g<q.length;g++){H=q[g],W=r[H],z=t[H];var br=t[ps(z.anchor)],pe=qA("rangeslider","isVisible")(br);G("fixedrange",pe)}aye.handleDefaults(r,t,{axIds:ne.concat(K).sort(DA.idSort),axHasImage:h})}});var Zz=R((WEe,Xz)=>{"use strict";var iye=aa(),jz=_t(),Y3=fr(),Eo=Sa(),W3=qa();Xz.exports=function(r,t,a,n){var i=r._fullLayout;if(t.length===0){W3.redrawComponents(r);return}function o(y){var b=y.xaxis,_=y.yaxis;i._defs.select("#"+y.clipId+"> rect").call(Eo.setTranslate,0,0).call(Eo.setScale,1,1),y.plot.call(Eo.setTranslate,b._offset,_._offset).call(Eo.setScale,1,1);var w=y.plot.selectAll(".scatterlayer .trace");w.selectAll(".point").call(Eo.setPointGroupScale,1,1),w.selectAll(".textpoint").call(Eo.setTextPointsScale,1,1),w.call(Eo.hideOutsideRangePoints,y)}function l(y,b){var _=y.plotinfo,w=_.xaxis,x=_.yaxis,T=w._length,S=x._length,M=!!y.xr1,C=!!y.yr1,q=[];if(M){var F=Y3.simpleMap(y.xr0,w.r2l),P=Y3.simpleMap(y.xr1,w.r2l),I=F[1]-F[0],H=P[1]-P[0];q[0]=(F[0]*(1-b)+b*P[0]-F[0])/(F[1]-F[0])*T,q[2]=T*(1-b+b*H/I),w.range[0]=w.l2r(F[0]*(1-b)+b*P[0]),w.range[1]=w.l2r(F[1]*(1-b)+b*P[1])}else q[0]=0,q[2]=T;if(C){var V=Y3.simpleMap(y.yr0,x.r2l),j=Y3.simpleMap(y.yr1,x.r2l),W=V[1]-V[0],z=j[1]-j[0];q[1]=(V[1]*(1-b)+b*j[1]-V[1])/(V[0]-V[1])*S,q[3]=S*(1-b+b*z/W),x.range[0]=w.l2r(V[0]*(1-b)+b*j[0]),x.range[1]=x.l2r(V[1]*(1-b)+b*j[1])}else q[1]=0,q[3]=S;W3.drawOne(r,w,{skipTitle:!0}),W3.drawOne(r,x,{skipTitle:!0}),W3.redrawComponents(r,[w._id,x._id]);var O=M?T/q[2]:1,G=C?S/q[3]:1,Z=M?q[0]:0,Q=C?q[1]:0,ie=M?q[0]/q[2]*T:0,be=C?q[1]/q[3]*S:0,ne=w._offset-ie,de=x._offset-be;_.clipRect.call(Eo.setTranslate,Z,Q).call(Eo.setScale,1/O,1/G),_.plot.call(Eo.setTranslate,ne,de).call(Eo.setScale,O,G),Eo.setPointGroupScale(_.zoomScalePts,1/O,1/G),Eo.setTextPointsScale(_.zoomScaleTxt,1/O,1/G)}var s;n&&(s=n());function u(){for(var y={},b=0;b<t.length;b++){var _=t[b],w=_.plotinfo.xaxis,x=_.plotinfo.yaxis;_.xr1&&(y[w._name+".range"]=_.xr1.slice()),_.yr1&&(y[x._name+".range"]=_.yr1.slice())}return s&&s(),jz.call("relayout",r,y).then(function(){for(var T=0;T<t.length;T++)o(t[T].plotinfo)})}function f(){for(var y={},b=0;b<t.length;b++){var _=t[b],w=_.plotinfo.xaxis,x=_.plotinfo.yaxis;_.xr0&&(y[w._name+".range"]=_.xr0.slice()),_.yr0&&(y[x._name+".range"]=_.yr0.slice())}return jz.call("relayout",r,y).then(function(){for(var T=0;T<t.length;T++)o(t[T].plotinfo)})}var c,h,d,p=iye.ease(a.easing);r._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(d),d=null,f()});function g(){h=Date.now();for(var y=Math.min(1,(h-c)/a.duration),b=p(y),_=0;_<t.length;_++)l(t[_],b);h-c>a.duration?(u(),d=window.cancelAnimationFrame(g)):d=window.requestAnimationFrame(g)}return c=Date.now(),d=window.requestAnimationFrame(g),Promise.resolve()}});var rh=R(_i=>{"use strict";var X3=aa(),Jz=_t(),Bc=fr(),oye=Wn(),lye=Sa(),$z=$_().getModuleCalcData,uf=yn(),Ll=ui(),sye=yc(),ya=Bc.ensureSingle;function j3(e,r,t){return Bc.ensureSingle(e,r,t,function(a){a.datum(t)})}var Uc=Ll.zindexSeparator;_i.name="cartesian";_i.attr=["xaxis","yaxis"];_i.idRoot=["x","y"];_i.idRegex=Ll.idRegex;_i.attrRegex=Ll.attrRegex;_i.attributes=_z();_i.layoutAttributes=xl();_i.supplyLayoutDefaults=Wz();_i.transitionAxes=Zz();_i.finalizeSubplots=function(e,r){var t=r._subplots,a=t.xaxis,n=t.yaxis,i=t.cartesian,o=i,l={},s={},u,f,c;for(u=0;u<o.length;u++){var h=o[u].split("y");l[h[0]]=1,s["y"+h[1]]=1}for(u=0;u<a.length;u++)f=a[u],l[f]||(c=(e[uf.id2name(f)]||{}).anchor,Ll.idRegex.y.test(c)||(c="y"),i.push(f+c),o.push(f+c),s[c]||(s[c]=1,Bc.pushUnique(n,c)));for(u=0;u<n.length;u++)c=n[u],s[c]||(f=(e[uf.id2name(c)]||{}).anchor,Ll.idRegex.x.test(f)||(f="x"),i.push(f+c),o.push(f+c),l[f]||(l[f]=1,Bc.pushUnique(a,f)));if(!o.length){f="",c="";for(var d in e)if(Ll.attrRegex.test(d)){var p=d.charAt(0);p==="x"?(!f||+d.substr(5)<+f.substr(5))&&(f=d):(!c||+d.substr(5)<+c.substr(5))&&(c=d)}f=f?uf.name2id(f):"x",c=c?uf.name2id(c):"y",a.push(f),n.push(c),i.push(f+c)}};_i.plot=function(e,r,t,a){var n=e._fullLayout,i=n._subplots.cartesian,o=e.calcdata,l;if(!Array.isArray(r))for(r=[],l=0;l<o.length;l++)r.push(l);for(var s=n._zindices,u=0;u<s.length;u++){var f=s[u];for(l=0;l<i.length;l++){var c=i[l],h=n._plots[c];if(u>0){var d=h.id;if(d.indexOf(Uc)!==-1)continue;d+=Uc+(u+1),h=Bc.extendFlat({},h,{id:d,plot:n._cartesianlayer.selectAll(".subplot").select("."+d)})}for(var p=[],g,y=0;y<o.length;y++){var b=o[y],_=b[0].trace;f===(_.zorder||0)&&_.xaxis+_.yaxis===c&&((r.indexOf(_.index)!==-1||_.carpet)&&(g&&g[0].trace.xaxis+g[0].trace.yaxis===c&&["tonextx","tonexty","tonext"].indexOf(_.fill)!==-1&&p.indexOf(g)===-1&&p.push(g),p.push(b)),g=b)}Kz(e,h,p,t,a)}}};function Kz(e,r,t,a,n){for(var i=Ll.traceLayerClasses,o=e._fullLayout,l=o._zindices,s=o._modules,u,f,c,h=[],d=[],p=0;p<l.length;p++)for(var g=l[p],y=0;y<s.length;y++){u=s[y];var b=u.name,_=Jz.modules[b].categories;if(_.svg){var w=u.layerName||b+"layer",x=w+(p?Number(p)+1:""),T=u.plot;f=$z(t,T,g),c=f[0],t=f[1],c.length&&h.push({i:i.indexOf(w),zindex:p,className:x,plotMethod:T,cdModule:c}),_.zoomScale&&d.push("."+x)}}h.sort(function(C,q){return(C.zindex||0)-(q.zindex||0)||C.i-q.i});var S=r.plot.selectAll("g.mlayer").data(h,function(C){return C.className});if(S.enter().append("g").attr("class",function(C){return C.className}).classed("mlayer",!0).classed("rangeplot",r.isRangePlot),S.exit().remove(),S.order(),S.each(function(C){var q=X3.select(this),F=C.className;C.plotMethod(e,r,C.cdModule,q,a,n),Ll.clipOnAxisFalseQuery.indexOf("."+F)===-1&&lye.setClipUrl(q,r.layerClipId,e)}),o._has("scattergl")&&(u=Jz.getModule("scattergl"),c=$z(t,u)[0],u.plot(e,r,c)),!e._context.staticPlot&&(r._hasClipOnAxisFalse&&(r.clipOnAxisFalseTraces=r.plot.selectAll(Ll.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),d.length)){var M=r.plot.selectAll(d.join(",")).selectAll(".trace");r.zoomScalePts=M.selectAll("path.point"),r.zoomScaleTxt=M.selectAll(".textpoint")}}_i.clean=function(e,r,t,a){var n=a._plots||{},i=r._plots||{},o=a._subplots||{},l,s,u;if(a._hasOnlyLargeSploms&&!r._hasOnlyLargeSploms)for(u in n)l=n[u],l.plotgroup&&l.plotgroup.remove();var f=a._has&&a._has("gl"),c=r._has&&r._has("gl");if(f&&!c)for(u in n)l=n[u],l._scene&&l._scene.destroy();if(o.xaxis&&o.yaxis){var h=uf.listIds({_fullLayout:a});for(s=0;s<h.length;s++){var d=h[s];r[uf.id2name(d)]||a._infolayer.selectAll(".g-"+d+"title").remove()}}var p=a._has&&a._has("cartesian"),g=r._has&&r._has("cartesian");if(p&&!g)eB(a._cartesianlayer.selectAll(".subplot"),a),a._defs.selectAll(".axesclip").remove(),delete a._axisConstraintGroups,delete a._axisMatchGroups;else if(o.cartesian)for(s=0;s<o.cartesian.length;s++){var y=o.cartesian[s];if(y.indexOf(Uc)===-1&&!i[y]){var b="."+y+",."+y+"-x,."+y+"-y";a._cartesianlayer.selectAll(b).remove(),rB(y,a)}}};_i.drawFramework=function(e){var r=e._fullLayout,t=e.calcdata,a,n={};for(a=0;a<t.length;a++){var i=t[a][0],o=i.trace,l=o.zorder||0;n[l]||(n[l]=[]),n[l].push(i)}var s=Object.keys(n).map(Number).sort(Bc.sorterAsc);s.length||(s=[0]),r._zindices=s;var u=uye(e),f=u.length,c=[];for(a=0;a<f;a++)c[a]=u[a].slice();for(var h=1;h<s.length;h++){var d=[];for(a=0;a<f;a++)d[a]=u[a].slice(),d[a][0]+=Uc+(h+1);c=c.concat(d)}var p=r._cartesianlayer.selectAll(".subplot").data(c,String);p.enter().append("g").attr("class",function(g){return"subplot "+g[0]}),p.order(),p.exit().call(eB,r),p.each(function(g){var y=g[0],b=y.indexOf(Uc),_=b!==-1,w=_?y.slice(0,b):y,x=r._plots[y];x||(x=Bc.extendFlat({},r._plots[w]),x&&(x.id=y,r._plots[y]=x,r._subplots.cartesian.push(y))),x&&(x.plotgroup=X3.select(this),Qz(e,x),_||(x.draglayer=ya(r._draggers,"g",y)))})};_i.rangePlot=function(e,r,t){Qz(e,r),Kz(e,r,t),oye.style(e)};function uye(e){var r=e._fullLayout,t=r._zindices.length,a=r._subplots.cartesian,n=a.length,i,o,l,s,u,f,c=[],h=[];for(i=0;i<n;i++){l=a[i],s=r._plots[l],u=s.xaxis,f=s.yaxis;var d=u._mainAxis,p=f._mainAxis,g=d._id+p._id,y=r._plots[g];s.overlays=[],g!==l&&y?(s.mainplot=g,s.mainplotinfo=y,h.push(l)):(s.mainplot=void 0,s.mainplotinfo=void 0,c.push(l))}for(i=0;i<h.length;i++)l=h[i],s=r._plots[l],s.mainplotinfo.overlays.push(s);var b=c.concat(h),_=[];for(i=0;i<n;i++){l=b[i],s=r._plots[l],u=s.xaxis,f=s.yaxis;for(var w=[],x=1;x<=t;x++){var T="";for(x>1&&(T+=Uc+x),w.push(l+T),o=0;o<s.overlays.length;o++)w.push(s.overlays[o].id+T)}w=w.concat([u.layer,f.layer,u.overlaying||"",f.overlaying||""]),_.push(w)}return _}function Qz(e,r){var t=e._fullLayout,a=r.plotgroup,n=r.id,i=n.indexOf(Uc),o=i!==-1,l=Ll.layerValue2layerClass[r.xaxis.layer],s=Ll.layerValue2layerClass[r.yaxis.layer],u=t._hasOnlyLargeSploms,f=t._zindices.length>1,c=r.mainplotinfo;if(!r.mainplot||f)if(u)r.xlines=ya(a,"path","xlines-above"),r.ylines=ya(a,"path","ylines-above"),r.xaxislayer=ya(a,"g","xaxislayer-above"),r.yaxislayer=ya(a,"g","yaxislayer-above");else{if(!o){var h=ya(a,"g","layer-subplot");r.shapelayer=ya(h,"g","shapelayer"),r.imagelayer=ya(h,"g","imagelayer"),c&&f?(r.minorGridlayer=c.minorGridlayer,r.gridlayer=c.gridlayer,r.zerolinelayer=c.zerolinelayer):(r.minorGridlayer=ya(a,"g","minor-gridlayer"),r.gridlayer=ya(a,"g","gridlayer"),r.zerolinelayer=ya(a,"g","zerolinelayer"));var d=ya(a,"g","layer-between");r.shapelayerBetween=ya(d,"g","shapelayer"),r.imagelayerBetween=ya(d,"g","imagelayer"),ya(a,"path","xlines-below"),ya(a,"path","ylines-below"),r.overlinesBelow=ya(a,"g","overlines-below"),ya(a,"g","xaxislayer-below"),ya(a,"g","yaxislayer-below"),r.overaxesBelow=ya(a,"g","overaxes-below")}r.overplot=ya(a,"g","overplot"),r.plot=ya(r.overplot,"g",n),o||(r.xlines=ya(a,"path","xlines-above"),r.ylines=ya(a,"path","ylines-above"),r.overlinesAbove=ya(a,"g","overlines-above"),ya(a,"g","xaxislayer-above"),ya(a,"g","yaxislayer-above"),r.overaxesAbove=ya(a,"g","overaxes-above"),r.xlines=a.select(".xlines-"+l),r.ylines=a.select(".ylines-"+s),r.xaxislayer=a.select(".xaxislayer-"+l),r.yaxislayer=a.select(".yaxislayer-"+s))}else{var p=c.plotgroup,g=n+"-x",y=n+"-y";r.minorGridlayer=c.minorGridlayer,r.gridlayer=c.gridlayer,r.zerolinelayer=c.zerolinelayer,ya(c.overlinesBelow,"path",g),ya(c.overlinesBelow,"path",y),ya(c.overaxesBelow,"g",g),ya(c.overaxesBelow,"g",y),r.plot=ya(c.overplot,"g",n),ya(c.overlinesAbove,"path",g),ya(c.overlinesAbove,"path",y),ya(c.overaxesAbove,"g",g),ya(c.overaxesAbove,"g",y),r.xlines=p.select(".overlines-"+l).select("."+g),r.ylines=p.select(".overlines-"+s).select("."+y),r.xaxislayer=p.select(".overaxes-"+l).select("."+g),r.yaxislayer=p.select(".overaxes-"+s).select("."+y)}o||(u||(j3(r.minorGridlayer,"g",r.xaxis._id),j3(r.minorGridlayer,"g",r.yaxis._id),r.minorGridlayer.selectAll("g").map(function(b){return b[0]}).sort(uf.idSort),j3(r.gridlayer,"g",r.xaxis._id),j3(r.gridlayer,"g",r.yaxis._id),r.gridlayer.selectAll("g").map(function(b){return b[0]}).sort(uf.idSort)),r.xlines.style("fill","none").classed("crisp",!0),r.ylines.style("fill","none").classed("crisp",!0))}function eB(e,r){if(e){var t={};e.each(function(s){var u=s[0],f=X3.select(this);f.remove(),rB(u,r),t[u]=!0});for(var a in r._plots)for(var n=r._plots[a],i=n.overlays||[],o=0;o<i.length;o++){var l=i[o];t[l.id]&&l.plot.selectAll(".trace").remove()}}}function rB(e,r){r._draggers.selectAll("g."+e).remove(),r._defs.select("#clip"+r._uid+e+"plot").remove()}_i.toSVG=function(e){var r=e._fullLayout._glimages,t=X3.select(e).selectAll(".svg-container"),a=t.filter(function(i,o){return o===t.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function n(){var i=this,o=i.toDataURL("image/png"),l=r.append("svg:image");l.attr({xmlns:sye.svg,"xlink:href":o,preserveAspectRatio:"none",x:0,y:0,width:i.style.width,height:i.style.height})}a.each(n)};_i.updateFx=P6().updateFx});var aB=R((XEe,tB)=>{"use strict";var Z3=gi();tB.exports={hasLines:Z3.hasLines,hasMarkers:Z3.hasMarkers,hasText:Z3.hasText,isBubble:Z3.isBubble,attributes:nf(),layoutAttributes:xg(),supplyDefaults:wO(),crossTraceDefaults:aA(),supplyLayoutDefaults:SO(),calc:F3().calc,crossTraceCalc:JO(),arraysToCalcdata:lA(),plot:uz(),colorbar:hp(),formatLabels:xA(),style:TA().style,styleOnSelect:TA().styleOnSelect,hoverPoints:yz(),selectPoints:bz(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:rh(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}});var oB=R((ZEe,iB)=>{"use strict";var fye=aa(),cye=Vt(),nB=S6(),FA=fr(),vye=FA.strScale,hye=FA.strRotate,dye=FA.strTranslate;iB.exports=function(r,t,a){var n=r.node(),i=nB[a.arrowhead||0],o=nB[a.startarrowhead||0],l=(a.arrowwidth||1)*(a.arrowsize||1),s=(a.arrowwidth||1)*(a.startarrowsize||1),u=t.indexOf("start")>=0,f=t.indexOf("end")>=0,c=i.backoff*l+a.standoff,h=o.backoff*s+a.startstandoff,d,p,g,y;if(n.nodeName==="line"){d={x:+r.attr("x1"),y:+r.attr("y1")},p={x:+r.attr("x2"),y:+r.attr("y2")};var b=d.x-p.x,_=d.y-p.y;if(g=Math.atan2(_,b),y=g+Math.PI,c&&h&&c+h>Math.sqrt(b*b+_*_)){V();return}if(c){if(c*c>b*b+_*_){V();return}var w=c*Math.cos(g),x=c*Math.sin(g);p.x+=w,p.y+=x,r.attr({x2:p.x,y2:p.y})}if(h){if(h*h>b*b+_*_){V();return}var T=h*Math.cos(g),S=h*Math.sin(g);d.x-=T,d.y-=S,r.attr({x1:d.x,y1:d.y})}}else if(n.nodeName==="path"){var M=n.getTotalLength(),C="";if(M<c+h){V();return}var q=n.getPointAtLength(0),F=n.getPointAtLength(.1);g=Math.atan2(q.y-F.y,q.x-F.x),d=n.getPointAtLength(Math.min(h,M)),C="0px,"+h+"px,";var P=n.getPointAtLength(M),I=n.getPointAtLength(M-.1);y=Math.atan2(P.y-I.y,P.x-I.x),p=n.getPointAtLength(Math.max(0,M-c));var H=C?h+c:c;C+=M-H+"px,"+M+"px",r.style("stroke-dasharray",C)}function V(){r.style("stroke-dasharray","0px,100px")}function j(W,z,O,G){W.path&&(W.noRotate&&(O=0),fye.select(n.parentNode).append("path").attr({class:r.attr("class"),d:W.path,transform:dye(z.x,z.y)+hye(O*180/Math.PI)+vye(G)}).style({fill:cye.rgb(a.arrowcolor),"stroke-width":0}))}u&&j(o,d,g,s),f&&j(i,p,y,l)}});var J3=R((JEe,cB)=>{"use strict";var lB=aa(),RA=_t(),pye=Wn(),cf=fr(),PA=cf.strTranslate,mp=qa(),Hc=Vt(),au=Sa(),sB=Ks(),NA=Ci(),IA=Qu(),yp=Al(),yye=Oa().arrayEditor,mye=oB();cB.exports={draw:gye,drawOne:uB,drawRaw:fB};function gye(e){var r=e._fullLayout;r._infolayer.selectAll(".annotation").remove();for(var t=0;t<r.annotations.length;t++)r.annotations[t].visible&&uB(e,t);return pye.previousPromises(e)}function uB(e,r){var t=e._fullLayout,a=t.annotations[r]||{},n=mp.getFromId(e,a.xref),i=mp.getFromId(e,a.yref);n&&n.setScale(),i&&i.setScale(),fB(e,a,r,!1,n,i)}function ff(e,r,t,a,n){var i=n[t],o=n[t+"ref"],l=t.indexOf("y")!==-1,s=mp.getRefType(o)==="domain",u=l?a.h:a.w;return e?s?i+(l?-r:r)/e._length:e.p2r(e.r2p(i)+r):i+(l?-r:r)/u}function fB(e,r,t,a,n,i){var o=e._fullLayout,l=e._fullLayout._size,s=e._context.edits,u,f;a?(u="annotation-"+a,f=a+".annotations"):(u="annotation",f="annotations");var c=yye(e.layout,f,r),h=c.modifyBase,d=c.modifyItem,p=c.getUpdateObj;o._infolayer.selectAll("."+u+'[data-index="'+t+'"]').remove();var g="clip"+o._uid+"_ann"+t;if(!r._input||r.visible===!1){lB.selectAll("#"+g).remove();return}var y={x:{},y:{}},b=+r.textangle||0,_=o._infolayer.append("g").classed(u,!0).attr("data-index",String(t)).style("opacity",r.opacity),w=_.append("g").classed("annotation-text-g",!0),x=s[r.showarrow?"annotationTail":"annotationPosition"],T=r.captureevents||s.annotationText||x;function S(G){var Z={index:t,annotation:r._input,fullAnnotation:r,event:G};return a&&(Z.subplotId=a),Z}var M=w.append("g").style("pointer-events",T?"all":null).call(IA,"pointer").on("click",function(){e._dragging=!1,e.emit("plotly_clickannotation",S(lB.event))});r.hovertext&&M.on("mouseover",function(){var G=r.hoverlabel,Z=G.font,Q=this.getBoundingClientRect(),ie=e.getBoundingClientRect();sB.loneHover({x0:Q.left-ie.left,x1:Q.right-ie.left,y:(Q.top+Q.bottom)/2-ie.top,text:r.hovertext,color:G.bgcolor,borderColor:G.bordercolor,fontFamily:Z.family,fontSize:Z.size,fontColor:Z.color,fontWeight:Z.weight,fontStyle:Z.style,fontVariant:Z.variant,fontShadow:Z.fontShadow,fontLineposition:Z.fontLineposition,fontTextcase:Z.fontTextcase},{container:o._hoverlayer.node(),outerContainer:o._paper.node(),gd:e})}).on("mouseout",function(){sB.loneUnhover(o._hoverlayer.node())});var C=r.borderwidth,q=r.borderpad,F=C+q,P=M.append("rect").attr("class","bg").style("stroke-width",C+"px").call(Hc.stroke,r.bordercolor).call(Hc.fill,r.bgcolor),I=r.width||r.height,H=o._topclips.selectAll("#"+g).data(I?[0]:[]);H.enter().append("clipPath").classed("annclip",!0).attr("id",g).append("rect"),H.exit().remove();var V=r.font,j=o._meta?cf.templateString(r.text,o._meta):r.text,W=M.append("text").classed("annotation-text",!0).text(j);function z(G){return G.call(au.font,V).attr({"text-anchor":{left:"start",right:"end"}[r.align]||"middle"}),NA.convertToTspans(G,e,O),G}function O(){var G=W.selectAll("a");if(G.size()===1&&G.text()===W.text()){var Z=M.insert("a",":first-child").attr({"xlink:xlink:href":G.attr("xlink:href"),"xlink:xlink:show":G.attr("xlink:show")}).style({cursor:"pointer"});Z.node().appendChild(P.node())}var Q=M.select(".annotation-text-math-group"),ie=!Q.empty(),be=au.bBox((ie?Q:W).node()),ne=be.width,de=be.height,K=r.width||ne,me=r.height||de,fe=Math.round(K+2*F),ke=Math.round(me+2*F);function ve(Ge,Oe){return Oe==="auto"&&(Ge<1/3?Oe="left":Ge>2/3?Oe="right":Oe="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Oe]}for(var Ae=!1,Y=["x","y"],ae=0;ae<Y.length;ae++){var X=Y[ae],Se=r[X+"ref"]||X,qe=r["a"+X+"ref"],De={x:n,y:i}[X],tr=(b+(X==="x"?0:-90))*Math.PI/180,$e=fe*Math.cos(tr),Ze=ke*Math.sin(tr),lr=Math.abs($e)+Math.abs(Ze),pr=r[X+"anchor"],ir=r[X+"shift"]*(X==="x"?1:-1),Xe=y[X],Cr,br,pe,Ie,ze,et=mp.getRefType(Se);if(De&&et!=="domain"){var zr=De.r2fraction(r[X]);(zr<0||zr>1)&&(qe===Se?(zr=De.r2fraction(r["a"+X]),(zr<0||zr>1)&&(Ae=!0)):Ae=!0),Cr=De._offset+De.r2p(r[X]),Ie=.5}else{var Ve=et==="domain";X==="x"?(pe=r[X],Cr=Ve?De._offset+De._length*pe:Cr=l.l+l.w*pe):(pe=1-r[X],Cr=Ve?De._offset+De._length*pe:Cr=l.t+l.h*pe),Ie=r.showarrow?.5:pe}if(r.showarrow){Xe.head=Cr;var He=r["a"+X];if(ze=$e*ve(.5,r.xanchor)-Ze*ve(.5,r.yanchor),qe===Se){var dr=mp.getRefType(qe);dr==="domain"?(X==="y"&&(He=1-He),Xe.tail=De._offset+De._length*He):dr==="paper"?X==="y"?(He=1-He,Xe.tail=l.t+l.h*He):Xe.tail=l.l+l.w*He:Xe.tail=De._offset+De.r2p(He),br=ze}else Xe.tail=Cr+He,br=ze+He;Xe.text=Xe.tail+ze;var Tr=o[X==="x"?"width":"height"];if(Se==="paper"&&(Xe.head=cf.constrain(Xe.head,1,Tr-1)),qe==="pixel"){var mr=-Math.max(Xe.tail-3,Xe.text),vr=Math.min(Xe.tail+3,Xe.text)-Tr;mr>0?(Xe.tail+=mr,Xe.text+=mr):vr>0&&(Xe.tail-=vr,Xe.text-=vr)}Xe.tail+=ir,Xe.head+=ir}else ze=lr*ve(Ie,pr),br=ze,Xe.text=Cr+ze;Xe.text+=ir,ze+=ir,br+=ir,r["_"+X+"padplus"]=lr/2+br,r["_"+X+"padminus"]=lr/2-br,r["_"+X+"size"]=lr,r["_"+X+"shift"]=ze}if(Ae){M.remove();return}var Er=0,Ir=0;if(r.align!=="left"&&(Er=(K-ne)*(r.align==="center"?.5:1)),r.valign!=="top"&&(Ir=(me-de)*(r.valign==="middle"?.5:1)),ie)Q.select("svg").attr({x:F+Er-1,y:F+Ir}).call(au.setClipUrl,I?g:null,e);else{var Hr=F+Ir-be.top,Je=F+Er-be.left;W.call(NA.positionText,Je,Hr).call(au.setClipUrl,I?g:null,e)}H.select("rect").call(au.setRect,F,F,K,me),P.call(au.setRect,C/2,C/2,fe-C,ke-C),M.call(au.setTranslate,Math.round(y.x.text-fe/2),Math.round(y.y.text-ke/2)),w.attr({transform:"rotate("+b+","+y.x.text+","+y.y.text+")"});var se=function(Ge,Oe){_.selectAll(".annotation-arrow-g").remove();var Wr=y.x.head,tt=y.y.head,$r=y.x.tail+Ge,kt=y.y.tail+Oe,ra=y.x.text+Ge,pa=y.y.text+Oe,na=cf.rotationXYMatrix(b,ra,pa),Ka=cf.apply2DTransform(na),En=cf.apply2DTransform2(na),oi=+P.attr("width"),Ln=+P.attr("height"),Wi=ra-.5*oi,zn=Wi+oi,qn=pa-.5*Ln,yi=qn+Ln,wt=[[Wi,qn,Wi,yi],[Wi,yi,zn,yi],[zn,yi,zn,qn],[zn,qn,Wi,qn]].map(En);if(!wt.reduce(function(wa,Bn){return wa^!!cf.segmentsIntersect(Wr,tt,Wr+1e6,tt+1e6,Bn[0],Bn[1],Bn[2],Bn[3])},!1)){wt.forEach(function(wa){var Bn=cf.segmentsIntersect($r,kt,Wr,tt,wa[0],wa[1],wa[2],wa[3]);Bn&&($r=Bn.x,kt=Bn.y)});var Ta=r.arrowwidth,ta=r.arrowcolor,Ra=r.arrowside,ja=_.append("g").style({opacity:Hc.opacity(ta)}).classed("annotation-arrow-g",!0),Ma=ja.append("path").attr("d","M"+$r+","+kt+"L"+Wr+","+tt).style("stroke-width",Ta+"px").call(Hc.stroke,Hc.rgb(ta));if(mye(Ma,Ra,r),s.annotationPosition&&Ma.node().parentNode&&!a){var Ea=Wr,Qa=tt;if(r.standoff){var nn=Math.sqrt(Math.pow(Wr-$r,2)+Math.pow(tt-kt,2));Ea+=r.standoff*($r-Wr)/nn,Qa+=r.standoff*(kt-tt)/nn}var ji=ja.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+($r-Ea)+","+(kt-Qa),transform:PA(Ea,Qa)}).style("stroke-width",Ta+6+"px").call(Hc.stroke,"rgba(0,0,0,0)").call(Hc.fill,"rgba(0,0,0,0)"),Xi,bn;yp.init({element:ji.node(),gd:e,prepFn:function(){var wa=au.getTranslate(M);Xi=wa.x,bn=wa.y,n&&n.autorange&&h(n._name+".autorange",!0),i&&i.autorange&&h(i._name+".autorange",!0)},moveFn:function(wa,Bn){var ws=Ka(Xi,bn),As=ws[0]+wa,Hl=ws[1]+Bn;M.call(au.setTranslate,As,Hl),d("x",ff(n,wa,"x",l,r)),d("y",ff(i,Bn,"y",l,r)),r.axref===r.xref&&d("ax",ff(n,wa,"ax",l,r)),r.ayref===r.yref&&d("ay",ff(i,Bn,"ay",l,r)),ja.attr("transform",PA(wa,Bn)),w.attr({transform:"rotate("+b+","+As+","+Hl+")"})},doneFn:function(){RA.call("_guiRelayout",e,p());var wa=document.querySelector(".js-notes-box-panel");wa&&wa.redraw(wa.selectedObj)}})}}};if(r.showarrow&&se(0,0),x){var we;yp.init({element:M.node(),gd:e,prepFn:function(){we=w.attr("transform")},moveFn:function(Ge,Oe){var Wr="pointer";if(r.showarrow)r.axref===r.xref?d("ax",ff(n,Ge,"ax",l,r)):d("ax",r.ax+Ge),r.ayref===r.yref?d("ay",ff(i,Oe,"ay",l.w,r)):d("ay",r.ay+Oe),se(Ge,Oe);else{if(a)return;var tt,$r;if(n)tt=ff(n,Ge,"x",l,r);else{var kt=r._xsize/l.w,ra=r.x+(r._xshift-r.xshift)/l.w-kt/2;tt=yp.align(ra+Ge/l.w,kt,0,1,r.xanchor)}if(i)$r=ff(i,Oe,"y",l,r);else{var pa=r._ysize/l.h,na=r.y-(r._yshift+r.yshift)/l.h-pa/2;$r=yp.align(na-Oe/l.h,pa,0,1,r.yanchor)}d("x",tt),d("y",$r),(!n||!i)&&(Wr=yp.getCursor(n?.5:tt,i?.5:$r,r.xanchor,r.yanchor))}w.attr({transform:PA(Ge,Oe)+we}),IA(M,Wr)},clickFn:function(Ge,Oe){r.captureevents&&e.emit("plotly_clickannotation",S(Oe))},doneFn:function(){IA(M),RA.call("_guiRelayout",e,p());var Ge=document.querySelector(".js-notes-box-panel");Ge&&Ge.redraw(Ge.selectedObj)}})}}s.annotationText?W.call(NA.makeEditable,{delegate:M,gd:e}).call(z).on("edit",function(G){r.text=G,this.call(z),d("text",G),n&&n.autorange&&h(n._name+".autorange",!0),i&&i.autorange&&h(i._name+".autorange",!0),RA.call("_guiRelayout",e,p())}):W.call(z)}});var mB=R(($Ee,yB)=>{"use strict";var vB=fr(),bye=_t(),hB=Oa().arrayEditor;yB.exports={hasClickToShow:xye,onClick:_ye};function xye(e,r){var t=pB(e,r);return t.on.length>0||t.explicitOff.length>0}function _ye(e,r){var t=pB(e,r),a=t.on,n=t.off.concat(t.explicitOff),i={},o=e._fullLayout.annotations,l,s;if(a.length||n.length){for(l=0;l<a.length;l++)s=hB(e.layout,"annotations",o[a[l]]),s.modifyItem("visible",!0),vB.extendFlat(i,s.getUpdateObj());for(l=0;l<n.length;l++)s=hB(e.layout,"annotations",o[n[l]]),s.modifyItem("visible",!1),vB.extendFlat(i,s.getUpdateObj());return bye.call("update",e,{},i)}}function pB(e,r){var t=e._fullLayout.annotations,a=[],n=[],i=[],o=(r||[]).length,l,s,u,f,c,h,d,p;for(l=0;l<t.length;l++)if(u=t[l],f=u.clicktoshow,f){for(s=0;s<o;s++)if(c=r[s],h=c.xaxis,d=c.yaxis,h._id===u.xref&&d._id===u.yref&&h.d2r(c.x)===dB(u._xclick,h)&&d.d2r(c.y)===dB(u._yclick,d)){u.visible?f==="onout"?p=n:p=i:p=a,p.push(l);break}s===o&&u.visible&&f==="onout"&&n.push(l)}return{on:a,off:n,explicitOff:i}}function dB(e,r){return r.type==="log"?r.l2r(e):r.d2r(e)}});var zA=R((KEe,gB)=>{"use strict";var OA=fr(),th=Vt();gB.exports=function(r,t,a,n){n("opacity");var i=n("bgcolor"),o=n("bordercolor"),l=th.opacity(o);n("borderpad");var s=n("borderwidth"),u=n("showarrow");n("text",u?" ":a._dfltTitle.annotation),n("textangle"),OA.coerceFont(n,"font",a.font),n("width"),n("align");var f=n("height");if(f&&n("valign"),u){var c=n("arrowside"),h,d;c.indexOf("end")!==-1&&(h=n("arrowhead"),d=n("arrowsize")),c.indexOf("start")!==-1&&(n("startarrowhead",h),n("startarrowsize",d)),n("arrowcolor",l?t.bordercolor:th.defaultLine),n("arrowwidth",(l&&s||1)*2),n("standoff"),n("startstandoff")}var p=n("hovertext"),g=a.hoverlabel||{};if(p){var y=n("hoverlabel.bgcolor",g.bgcolor||(th.opacity(i)?th.rgb(i):th.defaultLine)),b=n("hoverlabel.bordercolor",g.bordercolor||th.contrast(y)),_=OA.extendFlat({},g.font);_.color||(_.color=b),OA.coerceFont(n,"hoverlabel.font",_)}n("captureevents",!!p)}});var xB=R((QEe,bB)=>{"use strict";var BA=fr(),Gc=qa(),wye=_l(),Aye=zA(),Tye=Y0();bB.exports=function(r,t){wye(r,t,{name:"annotations",handleItemDefaults:Mye})};function Mye(e,r,t){function a(w,x){return BA.coerce(e,r,Tye,w,x)}var n=a("visible"),i=a("clicktoshow");if(n||i){Aye(e,r,t,a);for(var o=r.showarrow,l=["x","y"],s=[-10,-30],u={_fullLayout:t},f=0;f<2;f++){var c=l[f],h=Gc.coerceRef(e,r,u,c,"","paper");if(h!=="paper"){var d=Gc.getFromId(u,h);d._annIndices.push(r._index)}if(Gc.coercePosition(r,u,a,h,c,.5),o){var p="a"+c,g=Gc.coerceRef(e,r,u,p,"pixel",["pixel","paper"]);g!=="pixel"&&g!==h&&(g=r[p]="pixel");var y=g==="pixel"?s[f]:.4;Gc.coercePosition(r,u,a,g,p,y)}a(c+"anchor"),a(c+"shift")}if(BA.noneOrAll(e,r,["x","y"]),o&&BA.noneOrAll(e,r,["ax","ay"]),i){var b=a("xclick"),_=a("yclick");r._xclick=b===void 0?r.x:Gc.cleanPosition(b,u,r.xref),r._yclick=_===void 0?r.y:Gc.cleanPosition(_,u,r.yref)}}}});var AB=R((eLe,wB)=>{"use strict";var UA=fr(),Vc=qa(),Sye=J3().draw;wB.exports=function(r){var t=r._fullLayout,a=UA.filterVisible(t.annotations);if(a.length&&r._fullData.length)return UA.syncOrAsync([Sye,kye],r)};function kye(e){var r=e._fullLayout;UA.filterVisible(r.annotations).forEach(function(t){var a=Vc.getFromId(e,t.xref),n=Vc.getFromId(e,t.yref),i=Vc.getRefType(t.xref),o=Vc.getRefType(t.yref);t._extremes={},i==="range"&&_B(t,a),o==="range"&&_B(t,n)})}function _B(e,r){var t=r._id,a=t.charAt(0),n=e[a],i=e["a"+a],o=e[a+"ref"],l=e["a"+a+"ref"],s=e["_"+a+"padplus"],u=e["_"+a+"padminus"],f={x:1,y:-1}[a]*e[a+"shift"],c=3*e.arrowsize*e.arrowwidth||0,h=c+f,d=c-f,p=3*e.startarrowsize*e.arrowwidth||0,g=p+f,y=p-f,b;if(l===o){var _=Vc.findExtremes(r,[r.r2c(n)],{ppadplus:h,ppadminus:d}),w=Vc.findExtremes(r,[r.r2c(i)],{ppadplus:Math.max(s,g),ppadminus:Math.max(u,y)});b={min:[_.min[0],w.min[0]],max:[_.max[0],w.max[0]]}}else g=i?g+i:g,y=i?y-i:y,b=Vc.findExtremes(r,[r.r2c(n)],{ppadplus:Math.max(s,h,g),ppadminus:Math.max(u,d,y)});e._extremes[t]=b}});var MB=R((rLe,TB)=>{"use strict";var Cye=Zt(),Eye=zm();TB.exports=function(r,t,a,n){t=t||{};var i=a==="log"&&t.type==="linear",o=a==="linear"&&t.type==="log";if(!(i||o))return;var l=r._fullLayout.annotations,s=t._id.charAt(0),u,f;function c(d){var p=u[d],g=null;i?g=Eye(p,t.range):g=Math.pow(10,p),Cye(g)||(g=null),n(f+d,g)}for(var h=0;h<l.length;h++)u=l[h],f="annotations["+h+"].",u[s+"ref"]===t._id&&c(s),u["a"+s+"ref"]===t._id&&c("a"+s)}});var CB=R((tLe,kB)=>{"use strict";var HA=J3(),SB=mB();kB.exports={moduleType:"component",name:"annotations",layoutAttributes:Y0(),supplyLayoutDefaults:xB(),includeBasePlot:$1()("annotations"),calcAutorange:AB(),draw:HA.draw,drawOne:HA.drawOne,drawRaw:HA.drawRaw,hasClickToShow:SB.hasClickToShow,onClick:SB.onClick,convertCoords:MB()}});var $3=R((aLe,EB)=>{"use strict";var Pa=Y0(),Lye=yl().overrideAll,qye=Oa().templatedArray;EB.exports=Lye(qye("annotation",{visible:Pa.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:Pa.xanchor,xshift:Pa.xshift,yanchor:Pa.yanchor,yshift:Pa.yshift,text:Pa.text,textangle:Pa.textangle,font:Pa.font,width:Pa.width,height:Pa.height,opacity:Pa.opacity,align:Pa.align,valign:Pa.valign,bgcolor:Pa.bgcolor,bordercolor:Pa.bordercolor,borderpad:Pa.borderpad,borderwidth:Pa.borderwidth,showarrow:Pa.showarrow,arrowcolor:Pa.arrowcolor,arrowhead:Pa.arrowhead,startarrowhead:Pa.startarrowhead,arrowside:Pa.arrowside,arrowsize:Pa.arrowsize,startarrowsize:Pa.startarrowsize,arrowwidth:Pa.arrowwidth,standoff:Pa.standoff,startstandoff:Pa.startstandoff,hovertext:Pa.hovertext,hoverlabel:Pa.hoverlabel,captureevents:Pa.captureevents}),"calc","from-root")});var qB=R((nLe,LB)=>{"use strict";var GA=fr(),Dye=qa(),Fye=_l(),Rye=zA(),Pye=$3();LB.exports=function(r,t,a){Fye(r,t,{name:"annotations",handleItemDefaults:Nye,fullLayout:a.fullLayout})};function Nye(e,r,t,a){function n(l,s){return GA.coerce(e,r,Pye,l,s)}function i(l){var s=l+"axis",u={_fullLayout:{}};return u._fullLayout[s]=t[s],Dye.coercePosition(r,u,n,l,l,.5)}var o=n("visible");o&&(Rye(e,r,a.fullLayout,n),i("x"),i("y"),i("z"),GA.noneOrAll(e,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),GA.noneOrAll(e,r,["ax","ay"])))}});var PB=R((iLe,RB)=>{"use strict";var DB=fr(),FB=qa();RB.exports=function(r){for(var t=r.fullSceneLayout,a=t.annotations,n=0;n<a.length;n++)Iye(a[n],r);r.fullLayout._infolayer.selectAll(".annotation-"+r.id).remove()};function Iye(e,r){var t=r.fullSceneLayout,a=t.domain,n=r.fullLayout._size,i={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},DB.extendFlat(e._xa,i),FB.setConvert(e._xa),e._xa._offset=n.l+a.x[0]*n.w,e._xa.l2p=function(){return .5*(1+e._pdata[0]/e._pdata[3])*n.w*(a.x[1]-a.x[0])},e._ya={},DB.extendFlat(e._ya,i),FB.setConvert(e._ya),e._ya._offset=n.t+(1-a.y[1])*n.h,e._ya.l2p=function(){return .5*(1-e._pdata[1]/e._pdata[3])*n.h*(a.y[1]-a.y[0])}}});var IB=R((oLe,NB)=>{"use strict";function VA(e,r){var t=[0,0,0,0],a,n;for(a=0;a<4;++a)for(n=0;n<4;++n)t[n]+=e[4*a+n]*r[a];return t}function Oye(e,r){var t=VA(e.projection,VA(e.view,VA(e.model,[r[0],r[1],r[2],1])));return t}NB.exports=Oye});var zB=R((lLe,OB)=>{"use strict";var zye=J3().drawRaw,Bye=IB(),Uye=["x","y","z"];OB.exports=function(r){for(var t=r.fullSceneLayout,a=r.dataScale,n=t.annotations,i=0;i<n.length;i++){for(var o=n[i],l=!1,s=0;s<3;s++){var u=Uye[s],f=o[u],c=t[u+"axis"],h=c.r2fraction(f);if(h<0||h>1){l=!0;break}}l?r.fullLayout._infolayer.select(".annotation-"+r.id+'[data-index="'+i+'"]').remove():(o._pdata=Bye(r.glplot.cameraParams,[t.xaxis.r2l(o.x)*a[0],t.yaxis.r2l(o.y)*a[1],t.zaxis.r2l(o.z)*a[2]]),zye(r.graphDiv,o,i,r.id,o._xa,o._ya))}}});var HB=R((sLe,UB)=>{"use strict";var Hye=_t(),BB=fr();UB.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:$3()}}},layoutAttributes:$3(),handleDefaults:qB(),includeBasePlot:Gye,convert:PB(),draw:zB()};function Gye(e,r){var t=Hye.subplotsRegistry.gl3d;if(t)for(var a=t.attrRegex,n=Object.keys(e),i=0;i<n.length;i++){var o=n[i];a.test(o)&&(e[o].annotations||[]).length&&(BB.pushUnique(r._basePlotModules,t),BB.pushUnique(r._subplots.gl3d,o))}}});var YA=R((fLe,WB)=>{"use strict";var GB=Y0(),VB=ti(),YB=nf().line,Vye=Us().dash,ql=xn().extendFlat,Yye=Oa().templatedArray,uLe=Z1(),ah=pl(),Wye=Hs().shapeTexttemplateAttrs,jye=Km();WB.exports=Yye("shape",{visible:ql({},ah.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:ql({},ah.legend,{editType:"calc+arraydraw"}),legendgroup:ql({},ah.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:ql({},ah.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:VB({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:ql({},ah.legendrank,{editType:"calc+arraydraw"}),legendwidth:ql({},ah.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:ql({},GB.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:ql({},GB.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:ql({},YB.color,{editType:"arraydraw"}),width:ql({},YB.width,{editType:"calc+arraydraw"}),dash:ql({},Vye,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:Wye({},{keys:Object.keys(jye)}),font:VB({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})});var ZB=R((cLe,XB)=>{"use strict";var gp=fr(),nh=qa(),Xye=_l(),Zye=YA(),jB=tf();XB.exports=function(r,t){Xye(r,t,{name:"shapes",handleItemDefaults:$ye})};function Jye(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function $ye(e,r,t){function a(G,Z){return gp.coerce(e,r,Zye,G,Z)}r._isShape=!0;var n=a("visible");if(n){var i=a("showlegend");i&&(a("legend"),a("legendwidth"),a("legendgroup"),a("legendgrouptitle.text"),gp.coerceFont(a,"legendgrouptitle.font"),a("legendrank"));var o=a("path"),l=o?"path":"rect",s=a("type",l),u=s!=="path";u&&delete r.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule");var f=a("line.width");f&&(a("line.color"),a("line.dash"));for(var c=a("xsizemode"),h=a("ysizemode"),d=["x","y"],p=0;p<2;p++){var g=d[p],y=g+"anchor",b=g==="x"?c:h,_={_fullLayout:t},w,x,T,S=nh.coerceRef(e,r,_,g,void 0,"paper"),M=nh.getRefType(S);if(M==="range"?(w=nh.getFromId(_,S),w._shapeIndices.push(r._index),T=jB.rangeToShapePosition(w),x=jB.shapePositionToRange(w),(w.type==="category"||w.type==="multicategory")&&(a(g+"0shift"),a(g+"1shift"))):x=T=gp.identity,u){var C=.25,q=.75,F=g+"0",P=g+"1",I=e[F],H=e[P];e[F]=x(e[F],!0),e[P]=x(e[P],!0),b==="pixel"?(a(F,0),a(P,10)):(nh.coercePosition(r,_,a,S,F,C),nh.coercePosition(r,_,a,S,P,q)),r[F]=T(r[F]),r[P]=T(r[P]),e[F]=I,e[P]=H}if(b==="pixel"){var V=e[y];e[y]=x(e[y],!0),nh.coercePosition(r,_,a,S,y,.25),r[y]=T(r[y]),e[y]=V}}u&&gp.noneOrAll(e,r,["x0","x1","y0","y1"]);var j=s==="line",W,z;if(u&&(W=a("label.texttemplate")),W||(z=a("label.text")),z||W){a("label.textangle");var O=a("label.textposition",j?"middle":"middle center");a("label.xanchor"),a("label.yanchor",Jye(j,O)),a("label.padding"),gp.coerceFont(a,"label.font",t.font)}}}});var KB=R((vLe,$B)=>{"use strict";var Kye=Vt(),JB=fr();function Qye(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}$B.exports=function(r,t,a){a("newshape.visible"),a("newshape.name"),a("newshape.showlegend"),a("newshape.legend"),a("newshape.legendwidth"),a("newshape.legendgroup"),a("newshape.legendgrouptitle.text"),JB.coerceFont(a,"newshape.legendgrouptitle.font"),a("newshape.legendrank"),a("newshape.drawdirection"),a("newshape.layer"),a("newshape.fillcolor"),a("newshape.fillrule"),a("newshape.opacity");var n=a("newshape.line.width");if(n){var i=(r||{}).plot_bgcolor||"#FFF";a("newshape.line.color",Kye.contrast(i)),a("newshape.line.dash")}var o=r.dragmode==="drawline",l=a("newshape.label.text"),s=a("newshape.label.texttemplate");if(l||s){a("newshape.label.textangle");var u=a("newshape.label.textposition",o?"middle":"middle center");a("newshape.label.xanchor"),a("newshape.label.yanchor",Qye(o,u)),a("newshape.label.padding"),JB.coerceFont(a,"newshape.label.font",t.font)}a("activeshape.fillcolor"),a("activeshape.opacity")}});var aU=R((hLe,tU)=>{"use strict";var WA=fr(),ih=qa(),oh=L1(),eU=tf();tU.exports=function(r){var t=r._fullLayout,a=WA.filterVisible(t.shapes);if(!(!a.length||!r._fullData.length))for(var n=0;n<a.length;n++){var i=a[n];i._extremes={};var o,l,s=ih.getRefType(i.xref),u=ih.getRefType(i.yref);i.xref!=="paper"&&s!=="domain"&&(o=ih.getFromId(r,i.xref),l=QB(o,i,oh.paramIsX),l&&(i._extremes[o._id]=ih.findExtremes(o,l,eme(i)))),i.yref!=="paper"&&u!=="domain"&&(o=ih.getFromId(r,i.yref),l=QB(o,i,oh.paramIsY),l&&(i._extremes[o._id]=ih.findExtremes(o,l,rme(i))))}};function eme(e){return rU(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function rme(e){return rU(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function rU(e,r,t,a,n,i){var o=e/2,l=i;if(r==="pixel"){var s=n?eU.extractPathCoords(n,i?oh.paramIsY:oh.paramIsX):[t,a],u=WA.aggNums(Math.max,null,s),f=WA.aggNums(Math.min,null,s),c=f<0?Math.abs(f)+o:o,h=u>0?u+o:o;return{ppad:o,ppadplus:l?c:h,ppadminus:l?h:c}}else return{ppad:o}}function QB(e,r,t){var a=e._id.charAt(0)==="x"?"x":"y",n=e.type==="category"||e.type==="multicategory",i,o,l=0,s=0,u=n?e.r2c:e.d2c,f=r[a+"sizemode"]==="scaled";if(f?(i=r[a+"0"],o=r[a+"1"],n&&(l=r[a+"0shift"],s=r[a+"1shift"])):(i=r[a+"anchor"],o=r[a+"anchor"]),i!==void 0)return[u(i)+l,u(o)+s];if(r.path){var c=1/0,h=-1/0,d=r.path.match(oh.segmentRE),p,g,y,b,_;for(e.type==="date"&&(u=eU.decodeDate(u)),p=0;p<d.length;p++)g=d[p],y=t[g.charAt(0)].drawn,y!==void 0&&(b=d[p].substr(1).match(oh.paramRE),!(!b||b.length<y)&&(_=u(b[y]),_<c&&(c=_),_>h&&(h=_)));if(h>=c)return[c,h]}}});var oU=R((dLe,iU)=>{"use strict";var nU=O2();iU.exports={moduleType:"component",name:"shapes",layoutAttributes:YA(),supplyLayoutDefaults:ZB(),supplyDrawNewShapeDefaults:KB(),includeBasePlot:$1()("shapes"),calcAutorange:aU(),draw:nU.draw,drawOne:nU.drawOne}});var jA=R((yLe,sU)=>{"use strict";var lU=ui(),tme=Oa().templatedArray,pLe=Z1();sU.exports=tme("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",lU.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",lU.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})});var fU=R((mLe,uU)=>{"use strict";var ame=fr(),XA=qa(),nme=_l(),ime=jA(),ome="images";uU.exports=function(r,t){var a={name:ome,handleItemDefaults:lme};nme(r,t,a)};function lme(e,r,t){function a(h,d){return ame.coerce(e,r,ime,h,d)}var n=a("source"),i=a("visible",!!n);if(!i)return r;a("layer"),a("xanchor"),a("yanchor"),a("sizex"),a("sizey"),a("sizing"),a("opacity");for(var o={_fullLayout:t},l=["x","y"],s=0;s<2;s++){var u=l[s],f=XA.coerceRef(e,r,o,u,"paper",void 0);if(f!=="paper"){var c=XA.getFromId(o,f);c._imgIndices.push(r._index)}XA.coercePosition(r,o,a,f,u,0)}return r}});var dU=R((gLe,hU)=>{"use strict";var cU=aa(),sme=Sa(),lh=qa(),vU=yn(),ume=yc();hU.exports=function(r){var t=r._fullLayout,a=[],n={},i=[],o,l;for(l=0;l<t.images.length;l++){var s=t.images[l];if(s.visible)if(s.layer==="below"&&s.xref!=="paper"&&s.yref!=="paper"){o=vU.ref2id(s.xref)+vU.ref2id(s.yref);var u=t._plots[o];if(!u){i.push(s);continue}u.mainplot&&(o=u.mainplot.id),n[o]||(n[o]=[]),n[o].push(s)}else s.layer==="above"?a.push(s):i.push(s)}var f={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function c(_){var w=cU.select(this);if(this._imgSrc!==_.source)if(w.attr("xmlns",ume.svg),!r._context.staticPlot||_.source&&_.source.slice(0,5)==="data:")w.attr("xlink:href",_.source),this._imgSrc=_.source;else{var x=new Promise(function(T){var S=new Image;this.img=S,S.setAttribute("crossOrigin","anonymous"),S.onerror=M,S.onload=function(){var C=document.createElement("canvas");C.width=this.width,C.height=this.height;var q=C.getContext("2d",{willReadFrequently:!0});q.drawImage(this,0,0);var F=C.toDataURL("image/png");w.attr("xlink:href",F),T()},w.on("error",M),S.src=_.source,this._imgSrc=_.source;function M(){w.remove(),T()}}.bind(this));r._promises.push(x)}}function h(_){var w=cU.select(this),x=lh.getFromId(r,_.xref),T=lh.getFromId(r,_.yref),S=lh.getRefType(_.xref)==="domain",M=lh.getRefType(_.yref)==="domain",C=t._size,q,F;x!==void 0?q=typeof _.xref=="string"&&S?x._length*_.sizex:Math.abs(x.l2p(_.sizex)-x.l2p(0)):q=_.sizex*C.w,T!==void 0?F=typeof _.yref=="string"&&M?T._length*_.sizey:Math.abs(T.l2p(_.sizey)-T.l2p(0)):F=_.sizey*C.h;var P=q*f.x[_.xanchor].offset,I=F*f.y[_.yanchor].offset,H=f.x[_.xanchor].sizing+f.y[_.yanchor].sizing,V,j;switch(x!==void 0?V=typeof _.xref=="string"&&S?x._length*_.x+x._offset:x.r2p(_.x)+x._offset:V=_.x*C.w+C.l,V+=P,T!==void 0?j=typeof _.yref=="string"&&M?T._length*(1-_.y)+T._offset:T.r2p(_.y)+T._offset:j=C.h-_.y*C.h+C.t,j+=I,_.sizing){case"fill":H+=" slice";break;case"stretch":H="none";break}w.attr({x:V,y:j,width:q,height:F,preserveAspectRatio:H,opacity:_.opacity});var W=x&&lh.getRefType(_.xref)!=="domain"?x._id:"",z=T&&lh.getRefType(_.yref)!=="domain"?T._id:"",O=W+z;sme.setClipUrl(w,O?"clip"+t._uid+O:null,r)}var d=t._imageLowerLayer.selectAll("image").data(i),p=t._imageUpperLayer.selectAll("image").data(a);d.enter().append("image"),p.enter().append("image"),d.exit().remove(),p.exit().remove(),d.each(function(_){c.bind(this)(_),h.bind(this)(_)}),p.each(function(_){c.bind(this)(_),h.bind(this)(_)});var g=Object.keys(t._plots);for(l=0;l<g.length;l++){o=g[l];var y=t._plots[o];if(y.imagelayer){var b=y.imagelayer.selectAll("image").data(n[o]||[]);b.enter().append("image"),b.exit().remove(),b.each(function(_){c.bind(this)(_),h.bind(this)(_)})}}}});var mU=R((bLe,yU)=>{"use strict";var pU=Zt(),fme=zm();yU.exports=function(r,t,a,n){t=t||{};var i=a==="log"&&t.type==="linear",o=a==="linear"&&t.type==="log";if(i||o){for(var l=r._fullLayout.images,s=t._id.charAt(0),u,f,c=0;c<l.length;c++)if(u=l[c],f="images["+c+"].",u[s+"ref"]===t._id){var h=u[s],d=u["size"+s],p=null,g=null;if(i){p=fme(h,t.range);var y=d/Math.pow(10,p)/2;g=2*Math.log(y+Math.sqrt(1+y*y))/Math.LN10}else p=Math.pow(10,h),g=p*(Math.pow(10,d/2)-Math.pow(10,-d/2));pU(p)?pU(g)||(g=null):(p=null,g=null),n(f+s,p),n(f+"size"+s,g)}}}});var bU=R((xLe,gU)=>{"use strict";gU.exports={moduleType:"component",name:"images",layoutAttributes:jA(),supplyLayoutDefaults:fU(),includeBasePlot:$1()("images"),draw:dU(),convertCoords:mU()}});var K3=R((_Le,xU)=>{"use strict";xU.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}});var ZA=R((wLe,wU)=>{"use strict";var cme=ti(),vme=es(),hme=xn().extendFlat,dme=yl().overrideAll,pme=Qm(),_U=Oa().templatedArray,yme=_U("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});wU.exports=dme(_U("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:yme,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:hme(pme({editType:"arraydraw"}),{}),font:cme({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:vme.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")});var SU=R((ALe,MU)=>{"use strict";var Q3=fr(),AU=_l(),TU=ZA(),mme=K3(),gme=mme.name,bme=TU.buttons;MU.exports=function(r,t){var a={name:gme,handleItemDefaults:xme};AU(r,t,a)};function xme(e,r,t){function a(o,l){return Q3.coerce(e,r,TU,o,l)}var n=AU(e,r,{name:"buttons",handleItemDefaults:_me}),i=a("visible",n.length>0);i&&(a("active"),a("direction"),a("type"),a("showactive"),a("x"),a("y"),Q3.noneOrAll(e,r,["x","y"]),a("xanchor"),a("yanchor"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),Q3.coerceFont(a,"font",t.font),a("bgcolor",t.paper_bgcolor),a("bordercolor"),a("borderwidth"))}function _me(e,r){function t(n,i){return Q3.coerce(e,r,bme,n,i)}var a=t("visible",e.method==="skip"||Array.isArray(e.args));a&&(t("method"),t("args"),t("args2"),t("label"),t("execute"))}});var EU=R((TLe,CU)=>{"use strict";CU.exports=Ja;var Dl=aa(),kU=Vt(),sh=Sa(),eb=fr();function Ja(e,r,t){this.gd=e,this.container=r,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}Ja.barWidth=2;Ja.barLength=20;Ja.barRadius=2;Ja.barPad=1;Ja.barColor="#808BA4";Ja.prototype.enable=function(r,t,a){var n=this.gd._fullLayout,i=n.width,o=n.height;this.position=r;var l=this.position.l,s=this.position.w,u=this.position.t,f=this.position.h,c=this.position.direction,h=c==="down",d=c==="left",p=c==="right",g=c==="up",y=s,b=f,_,w,x,T;!h&&!d&&!p&&!g&&(this.position.direction="down",h=!0);var S=h||g;S?(_=l,w=_+y,h?(x=u,T=Math.min(x+b,o),b=T-x):(T=u+b,x=Math.max(T-b,0),b=T-x)):(x=u,T=x+b,d?(w=l+y,_=Math.max(w-y,0),y=w-_):(_=l,w=Math.min(_+y,i),y=w-_)),this._box={l:_,t:x,w:y,h:b};var M=s>y,C=Ja.barLength+2*Ja.barPad,q=Ja.barWidth+2*Ja.barPad,F=l,P=u+f;P+q>o&&(P=o-q);var I=this.container.selectAll("rect.scrollbar-horizontal").data(M?[0]:[]);I.exit().on(".drag",null).remove(),I.enter().append("rect").classed("scrollbar-horizontal",!0).call(kU.fill,Ja.barColor),M?(this.hbar=I.attr({rx:Ja.barRadius,ry:Ja.barRadius,x:F,y:P,width:C,height:q}),this._hbarXMin=F+C/2,this._hbarTranslateMax=y-C):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var H=f>b,V=Ja.barWidth+2*Ja.barPad,j=Ja.barLength+2*Ja.barPad,W=l+s,z=u;W+V>i&&(W=i-V);var O=this.container.selectAll("rect.scrollbar-vertical").data(H?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-vertical",!0).call(kU.fill,Ja.barColor),H?(this.vbar=O.attr({rx:Ja.barRadius,ry:Ja.barRadius,x:W,y:z,width:V,height:j}),this._vbarYMin=z+j/2,this._vbarTranslateMax=b-j):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var G=this.id,Z=_-.5,Q=H?w+V+.5:w+.5,ie=x-.5,be=M?T+q+.5:T+.5,ne=n._topdefs.selectAll("#"+G).data(M||H?[0]:[]);if(ne.exit().remove(),ne.enter().append("clipPath").attr("id",G).append("rect"),M||H?(this._clipRect=ne.select("rect").attr({x:Math.floor(Z),y:Math.floor(ie),width:Math.ceil(Q)-Math.floor(Z),height:Math.ceil(be)-Math.floor(ie)}),this.container.call(sh.setClipUrl,G,this.gd),this.bg.attr({x:l,y:u,width:s,height:f})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(sh.setClipUrl,null),delete this._clipRect),M||H){var de=Dl.behavior.drag().on("dragstart",function(){Dl.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(de);var K=Dl.behavior.drag().on("dragstart",function(){Dl.event.sourceEvent.preventDefault(),Dl.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));M&&this.hbar.on(".drag",null).call(K),H&&this.vbar.on(".drag",null).call(K)}this.setTranslate(t,a)};Ja.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(sh.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)};Ja.prototype._onBoxDrag=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r-=Dl.event.dx),this.vbar&&(t-=Dl.event.dy),this.setTranslate(r,t)};Ja.prototype._onBoxWheel=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r+=Dl.event.deltaY),this.vbar&&(t+=Dl.event.deltaY),this.setTranslate(r,t)};Ja.prototype._onBarDrag=function(){var r=this.translateX,t=this.translateY;if(this.hbar){var a=r+this._hbarXMin,n=a+this._hbarTranslateMax,i=eb.constrain(Dl.event.x,a,n),o=(i-a)/(n-a),l=this.position.w-this._box.w;r=o*l}if(this.vbar){var s=t+this._vbarYMin,u=s+this._vbarTranslateMax,f=eb.constrain(Dl.event.y,s,u),c=(f-s)/(u-s),h=this.position.h-this._box.h;t=c*h}this.setTranslate(r,t)};Ja.prototype.setTranslate=function(r,t){var a=this.position.w-this._box.w,n=this.position.h-this._box.h;if(r=eb.constrain(r||0,0,a),t=eb.constrain(t||0,0,n),this.translateX=r,this.translateY=t,this.container.call(sh.setTranslate,this._box.l-this.position.l-r,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+r-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var i=r/a;this.hbar.call(sh.setTranslate,r+i*this._hbarTranslateMax,t)}if(this.vbar){var o=t/n;this.vbar.call(sh.setTranslate,r,t+o*this._vbarTranslateMax)}}});var zU=R((MLe,OU)=>{"use strict";var uh=aa(),bp=Wn(),xp=Vt(),fh=Sa(),Lo=fr(),rb=Ci(),wme=Oa().arrayEditor,qU=ki().LINE_SPACING,qt=K3(),Ame=EU();OU.exports=function(r){var t=r._fullLayout,a=Lo.filterVisible(t[qt.name]);function n(h){bp.autoMargin(r,NU(h))}var i=t._menulayer.selectAll("g."+qt.containerClassName).data(a.length>0?[0]:[]);if(i.enter().append("g").classed(qt.containerClassName,!0).style("cursor","pointer"),i.exit().each(function(){uh.select(this).selectAll("g."+qt.headerGroupClassName).each(n)}).remove(),a.length!==0){var o=i.selectAll("g."+qt.headerGroupClassName).data(a,Tme);o.enter().append("g").classed(qt.headerGroupClassName,!0);for(var l=Lo.ensureSingle(i,"g",qt.dropdownButtonGroupClassName,function(h){h.style("pointer-events","all")}),s=0;s<a.length;s++){var u=a[s];Lme(r,u)}var f="updatemenus"+t._uid,c=new Ame(r,l,f);o.enter().size()&&(l.node().parentNode.appendChild(l.node()),l.call($A)),o.exit().each(function(h){l.call($A),n(h)}).remove(),o.each(function(h){var d=uh.select(this),p=h.type==="dropdown"?l:null;bp.manageCommandObserver(r,h,h.buttons,function(g){JA(r,h,h.buttons[g.index],d,p,c,g.index,!0)}),h.type==="dropdown"?(FU(r,d,l,c,h),DU(l,h)&&_p(r,d,l,c,h)):_p(r,d,null,null,h)})}};function Tme(e){return e._index}function Mme(e){return+e.attr(qt.menuIndexAttrName)==-1}function DU(e,r){return+e.attr(qt.menuIndexAttrName)===r._index}function JA(e,r,t,a,n,i,o,l){r.active=o,wme(e.layout,qt.name,r).applyUpdate("active",o),r.type==="buttons"?_p(e,a,null,null,r):r.type==="dropdown"&&(n.attr(qt.menuIndexAttrName,"-1"),FU(e,a,n,i,r),l||_p(e,a,n,i,r))}function FU(e,r,t,a,n){var i=Lo.ensureSingle(r,"g",qt.headerClassName,function(h){h.style("pointer-events","all")}),o=n._dims,l=n.active,s=n.buttons[l]||qt.blankHeaderOpts,u={y:n.pad.t,yPad:0,x:n.pad.l,xPad:0,index:0},f={width:o.headerWidth,height:o.headerHeight};i.call(KA,n,s,e).call(IU,n,u,f);var c=Lo.ensureSingle(r,"text",qt.headerArrowClassName,function(h){h.attr("text-anchor","end").call(fh.font,n.font).text(qt.arrowSymbol[n.direction])});c.attr({x:o.headerWidth-qt.arrowOffsetX+n.pad.l,y:o.headerHeight/2+qt.textOffsetY+n.pad.t}),i.on("click",function(){t.call($A,String(DU(t,n)?-1:n._index)),_p(e,r,t,a,n)}),i.on("mouseover",function(){i.call(RU)}),i.on("mouseout",function(){i.call(PU,n)}),fh.setTranslate(r,o.lx,o.ly)}function _p(e,r,t,a,n){t||(t=r,t.attr("pointer-events","all"));var i=!Mme(t)||n.type==="buttons"?n.buttons:[],o=n.type==="dropdown"?qt.dropdownButtonClassName:qt.buttonClassName,l=t.selectAll("g."+o).data(Lo.filterVisible(i)),s=l.enter().append("g").classed(o,!0),u=l.exit();n.type==="dropdown"?(s.attr("opacity","0").transition().attr("opacity","1"),u.transition().attr("opacity","0").remove()):u.remove();var f=0,c=0,h=n._dims,d=["up","down"].indexOf(n.direction)!==-1;n.type==="dropdown"&&(d?c=h.headerHeight+qt.gapButtonHeader:f=h.headerWidth+qt.gapButtonHeader),n.type==="dropdown"&&n.direction==="up"&&(c=-qt.gapButtonHeader+qt.gapButton-h.openHeight),n.type==="dropdown"&&n.direction==="left"&&(f=-qt.gapButtonHeader+qt.gapButton-h.openWidth);var p={x:h.lx+f+n.pad.l,y:h.ly+c+n.pad.t,yPad:qt.gapButton,xPad:qt.gapButton,index:0},g={l:p.x+n.borderwidth,t:p.y+n.borderwidth};l.each(function(y,b){var _=uh.select(this);_.call(KA,n,y,e).call(IU,n,p),_.on("click",function(){uh.event.defaultPrevented||(y.execute&&(y.args2&&n.active===b?(JA(e,n,y,r,t,a,-1),bp.executeAPICommand(e,y.method,y.args2)):(JA(e,n,y,r,t,a,b),bp.executeAPICommand(e,y.method,y.args))),e.emit("plotly_buttonclicked",{menu:n,button:y,active:n.active}))}),_.on("mouseover",function(){_.call(RU)}),_.on("mouseout",function(){_.call(PU,n),l.call(LU,n)})}),l.call(LU,n),d?(g.w=Math.max(h.openWidth,h.headerWidth),g.h=p.y-g.t):(g.w=p.x-g.l,g.h=Math.max(h.openHeight,h.headerHeight)),g.direction=n.direction,a&&(l.size()?Sme(e,r,t,a,n,g):kme(a))}function Sme(e,r,t,a,n,i){var o=n.direction,l=o==="up"||o==="down",s=n._dims,u=n.active,f,c,h;if(l)for(c=0,h=0;h<u;h++)c+=s.heights[h]+qt.gapButton;else for(f=0,h=0;h<u;h++)f+=s.widths[h]+qt.gapButton;a.enable(i,f,c),a.hbar&&a.hbar.attr("opacity","0").transition().attr("opacity","1"),a.vbar&&a.vbar.attr("opacity","0").transition().attr("opacity","1")}function kme(e){var r=!!e.hbar,t=!!e.vbar;r&&e.hbar.transition().attr("opacity","0").each("end",function(){r=!1,t||e.disable()}),t&&e.vbar.transition().attr("opacity","0").each("end",function(){t=!1,r||e.disable()})}function KA(e,r,t,a){e.call(Cme,r).call(Eme,r,t,a)}function Cme(e,r){var t=Lo.ensureSingle(e,"rect",qt.itemRectClassName,function(a){a.attr({rx:qt.rx,ry:qt.ry,"shape-rendering":"crispEdges"})});t.call(xp.stroke,r.bordercolor).call(xp.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function Eme(e,r,t,a){var n=Lo.ensureSingle(e,"text",qt.itemTextClassName,function(l){l.attr({"text-anchor":"start","data-notex":1})}),i=t.label,o=a._fullLayout._meta;o&&(i=Lo.templateString(i,o)),n.call(fh.font,r.font).text(i).call(rb.convertToTspans,a)}function LU(e,r){var t=r.active;e.each(function(a,n){var i=uh.select(this);n===t&&r.showactive&&i.select("rect."+qt.itemRectClassName).call(xp.fill,qt.activeColor)})}function RU(e){e.select("rect."+qt.itemRectClassName).call(xp.fill,qt.hoverColor)}function PU(e,r){e.select("rect."+qt.itemRectClassName).call(xp.fill,r.bgcolor)}function Lme(e,r){var t=r._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},a=fh.tester.selectAll("g."+qt.dropdownButtonClassName).data(Lo.filterVisible(r.buttons));a.enter().append("g").classed(qt.dropdownButtonClassName,!0);var n=["up","down"].indexOf(r.direction)!==-1;a.each(function(f,c){var h=uh.select(this);h.call(KA,r,f,e);var d=h.select("."+qt.itemTextClassName),p=d.node()&&fh.bBox(d.node()).width,g=Math.max(p+qt.textPadX,qt.minWidth),y=r.font.size*qU,b=rb.lineCount(d),_=Math.max(y*b,qt.minHeight)+qt.textOffsetY;_=Math.ceil(_),g=Math.ceil(g),t.widths[c]=g,t.heights[c]=_,t.height1=Math.max(t.height1,_),t.width1=Math.max(t.width1,g),n?(t.totalWidth=Math.max(t.totalWidth,g),t.openWidth=t.totalWidth,t.totalHeight+=_+qt.gapButton,t.openHeight+=_+qt.gapButton):(t.totalWidth+=g+qt.gapButton,t.openWidth+=g+qt.gapButton,t.totalHeight=Math.max(t.totalHeight,_),t.openHeight=t.totalHeight)}),n?t.totalHeight-=qt.gapButton:t.totalWidth-=qt.gapButton,t.headerWidth=t.width1+qt.arrowPadX,t.headerHeight=t.height1,r.type==="dropdown"&&(n?(t.width1+=qt.arrowPadX,t.totalHeight=t.height1):t.totalWidth=t.width1,t.totalWidth+=qt.arrowPadX),a.remove();var i=t.totalWidth+r.pad.l+r.pad.r,o=t.totalHeight+r.pad.t+r.pad.b,l=e._fullLayout._size;t.lx=l.l+l.w*r.x,t.ly=l.t+l.h*(1-r.y);var s="left";Lo.isRightAnchor(r)&&(t.lx-=i,s="right"),Lo.isCenterAnchor(r)&&(t.lx-=i/2,s="center");var u="top";Lo.isBottomAnchor(r)&&(t.ly-=o,u="bottom"),Lo.isMiddleAnchor(r)&&(t.ly-=o/2,u="middle"),t.totalWidth=Math.ceil(t.totalWidth),t.totalHeight=Math.ceil(t.totalHeight),t.lx=Math.round(t.lx),t.ly=Math.round(t.ly),bp.autoMargin(e,NU(r),{x:r.x,y:r.y,l:i*({right:1,center:.5}[s]||0),r:i*({left:1,center:.5}[s]||0),b:o*({top:1,middle:.5}[u]||0),t:o*({bottom:1,middle:.5}[u]||0)})}function NU(e){return qt.autoMarginIdRoot+e._index}function IU(e,r,t,a){a=a||{};var n=e.select("."+qt.itemRectClassName),i=e.select("."+qt.itemTextClassName),o=r.borderwidth,l=t.index,s=r._dims;fh.setTranslate(e,o+t.x,o+t.y);var u=["up","down"].indexOf(r.direction)!==-1,f=a.height||(u?s.heights[l]:s.height1);n.attr({x:0,y:0,width:a.width||(u?s.width1:s.widths[l]),height:f});var c=r.font.size*qU,h=rb.lineCount(i),d=(h-1)*c/2;rb.positionText(i,qt.textOffsetX,f/2-d+qt.textOffsetY),u?t.y+=s.heights[l]+t.yPad:t.x+=s.widths[l]+t.xPad,t.index++}function $A(e,r){e.attr(qt.menuIndexAttrName,r||"-1").selectAll("g."+qt.dropdownButtonClassName).remove()}});var UU=R((SLe,BU)=>{"use strict";var qme=K3();BU.exports={moduleType:"component",name:qme.name,layoutAttributes:ZA(),supplyLayoutDefaults:SU(),draw:zU()}});var wp=R((kLe,HU)=>{"use strict";HU.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}});var QA=R((CLe,YU)=>{"use strict";var GU=ti(),Dme=Qm(),Fme=xn().extendDeepAll,Rme=yl().overrideAll,Pme=t1(),VU=Oa().templatedArray,Yc=wp(),Nme=VU("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});YU.exports=Rme(VU("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:Nme,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:Fme(Dme({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:Pme.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:GU({})},font:GU({}),activebgcolor:{valType:"color",dflt:Yc.gripBgActiveColor},bgcolor:{valType:"color",dflt:Yc.railBgColor},bordercolor:{valType:"color",dflt:Yc.railBorderColor},borderwidth:{valType:"number",min:0,dflt:Yc.railBorderWidth},ticklen:{valType:"number",min:0,dflt:Yc.tickLength},tickcolor:{valType:"color",dflt:Yc.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:Yc.minorTickLength}}),"arraydraw","from-root")});var ZU=R((ELe,XU)=>{"use strict";var ch=fr(),WU=_l(),jU=QA(),Ime=wp(),Ome=Ime.name,zme=jU.steps;XU.exports=function(r,t){WU(r,t,{name:Ome,handleItemDefaults:Bme})};function Bme(e,r,t){function a(c,h){return ch.coerce(e,r,jU,c,h)}for(var n=WU(e,r,{name:"steps",handleItemDefaults:Ume}),i=0,o=0;o<n.length;o++)n[o].visible&&i++;var l;if(i<2?l=r.visible=!1:l=a("visible"),!!l){r._stepCount=i;var s=r._visibleSteps=ch.filterVisible(n),u=a("active");(n[u]||{}).visible||(r.active=s[0]._index),a("x"),a("y"),ch.noneOrAll(e,r,["x","y"]),a("xanchor"),a("yanchor"),a("len"),a("lenmode"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),ch.coerceFont(a,"font",t.font);var f=a("currentvalue.visible");f&&(a("currentvalue.xanchor"),a("currentvalue.prefix"),a("currentvalue.suffix"),a("currentvalue.offset"),ch.coerceFont(a,"currentvalue.font",r.font)),a("transition.duration"),a("transition.easing"),a("bgcolor"),a("activebgcolor"),a("bordercolor"),a("borderwidth"),a("ticklen"),a("tickwidth"),a("tickcolor"),a("minorticklen")}}function Ume(e,r){function t(i,o){return ch.coerce(e,r,zme,i,o)}var a;if(e.method!=="skip"&&!Array.isArray(e.args)?a=r.visible=!1:a=t("visible"),a){t("method"),t("args");var n=t("label","step-"+r._index);t("value",n),t("execute")}}});var iH=R((LLe,nH)=>{"use strict";var Fl=aa(),tb=Wn(),vf=Vt(),Rl=Sa(),qo=fr(),Hme=qo.strTranslate,Ap=Ci(),Gme=Oa().arrayEditor,Gt=wp(),t8=ki(),KU=t8.LINE_SPACING,e8=t8.FROM_TL,r8=t8.FROM_BR;nH.exports=function(r){var t=r._context.staticPlot,a=r._fullLayout,n=Vme(a,r),i=a._infolayer.selectAll("g."+Gt.containerClassName).data(n.length>0?[0]:[]);i.enter().append("g").classed(Gt.containerClassName,!0).style("cursor",t?null:"ew-resize");function o(f){f._commandObserver&&(f._commandObserver.remove(),delete f._commandObserver),tb.autoMargin(r,QU(f))}if(i.exit().each(function(){Fl.select(this).selectAll("g."+Gt.groupClassName).each(o)}).remove(),n.length!==0){var l=i.selectAll("g."+Gt.groupClassName).data(n,Yme);l.enter().append("g").classed(Gt.groupClassName,!0),l.exit().each(o).remove();for(var s=0;s<n.length;s++){var u=n[s];Wme(r,u)}l.each(function(f){var c=Fl.select(this);$me(f),tb.manageCommandObserver(r,f,f._visibleSteps,function(h){var d=c.data()[0];d.active!==h.index&&(d._dragging||rH(r,c,d,h.index,!1,!0))}),jme(r,Fl.select(this),f)})}};function QU(e){return Gt.autoMarginIdRoot+e._index}function Vme(e,r){for(var t=e[Gt.name],a=[],n=0;n<t.length;n++){var i=t[n];i.visible&&(i._gd=r,a.push(i))}return a}function Yme(e){return e._index}function Wme(e,r){var t=Rl.tester.selectAll("g."+Gt.labelGroupClass).data(r._visibleSteps);t.enter().append("g").classed(Gt.labelGroupClass,!0);var a=0,n=0;t.each(function(p){var g=Fl.select(this),y=eH(g,{step:p},r),b=y.node();if(b){var _=Rl.bBox(b);n=Math.max(n,_.height),a=Math.max(a,_.width)}}),t.remove();var i=r._dims={};i.inputAreaWidth=Math.max(Gt.railWidth,Gt.gripHeight);var o=e._fullLayout._size;i.lx=o.l+o.w*r.x,i.ly=o.t+o.h*(1-r.y),r.lenmode==="fraction"?i.outerLength=Math.round(o.w*r.len):i.outerLength=r.len,i.inputAreaStart=0,i.inputAreaLength=Math.round(i.outerLength-r.pad.l-r.pad.r);var l=i.inputAreaLength-2*Gt.stepInset,s=l/(r._stepCount-1),u=a+Gt.labelPadding;if(i.labelStride=Math.max(1,Math.ceil(u/s)),i.labelHeight=n,i.currentValueMaxWidth=0,i.currentValueHeight=0,i.currentValueTotalHeight=0,i.currentValueMaxLines=1,r.currentvalue.visible){var f=Rl.tester.append("g");t.each(function(p){var g=ab(f,r,p.label),y=g.node()&&Rl.bBox(g.node())||{width:0,height:0},b=Ap.lineCount(g);i.currentValueMaxWidth=Math.max(i.currentValueMaxWidth,Math.ceil(y.width)),i.currentValueHeight=Math.max(i.currentValueHeight,Math.ceil(y.height)),i.currentValueMaxLines=Math.max(i.currentValueMaxLines,b)}),i.currentValueTotalHeight=i.currentValueHeight+r.currentvalue.offset,f.remove()}i.height=i.currentValueTotalHeight+Gt.tickOffset+r.ticklen+Gt.labelOffset+i.labelHeight+r.pad.t+r.pad.b;var c="left";qo.isRightAnchor(r)&&(i.lx-=i.outerLength,c="right"),qo.isCenterAnchor(r)&&(i.lx-=i.outerLength/2,c="center");var h="top";qo.isBottomAnchor(r)&&(i.ly-=i.height,h="bottom"),qo.isMiddleAnchor(r)&&(i.ly-=i.height/2,h="middle"),i.outerLength=Math.ceil(i.outerLength),i.height=Math.ceil(i.height),i.lx=Math.round(i.lx),i.ly=Math.round(i.ly);var d={y:r.y,b:i.height*r8[h],t:i.height*e8[h]};r.lenmode==="fraction"?(d.l=0,d.xl=r.x-r.len*e8[c],d.r=0,d.xr=r.x+r.len*r8[c]):(d.x=r.x,d.l=i.outerLength*e8[c],d.r=i.outerLength*r8[c]),tb.autoMargin(e,QU(r),d)}function jme(e,r,t){(t.steps[t.active]||{}).visible||(t.active=t._visibleSteps[0]._index),r.call(ab,t).call(Qme,t).call(Zme,t).call(Jme,t).call(Kme,e,t).call(Xme,e,t);var a=t._dims;Rl.setTranslate(r,a.lx+t.pad.l,a.ly+t.pad.t),r.call(aH,t,!1),r.call(ab,t)}function ab(e,r,t){if(r.currentvalue.visible){var a=r._dims,n,i;switch(r.currentvalue.xanchor){case"right":n=a.inputAreaLength-Gt.currentValueInset-a.currentValueMaxWidth,i="left";break;case"center":n=a.inputAreaLength*.5,i="middle";break;default:n=Gt.currentValueInset,i="left"}var o=qo.ensureSingle(e,"text",Gt.labelClass,function(h){h.attr({"text-anchor":i,"data-notex":1})}),l=r.currentvalue.prefix?r.currentvalue.prefix:"";if(typeof t=="string")l+=t;else{var s=r.steps[r.active].label,u=r._gd._fullLayout._meta;u&&(s=qo.templateString(s,u)),l+=s}r.currentvalue.suffix&&(l+=r.currentvalue.suffix),o.call(Rl.font,r.currentvalue.font).text(l).call(Ap.convertToTspans,r._gd);var f=Ap.lineCount(o),c=(a.currentValueMaxLines+1-f)*r.currentvalue.font.size*KU;return Ap.positionText(o,n,c),o}}function Xme(e,r,t){var a=qo.ensureSingle(e,"rect",Gt.gripRectClass,function(n){n.call(tH,r,e,t).style("pointer-events","all")});a.attr({width:Gt.gripWidth,height:Gt.gripHeight,rx:Gt.gripRadius,ry:Gt.gripRadius}).call(vf.stroke,t.bordercolor).call(vf.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function eH(e,r,t){var a=qo.ensureSingle(e,"text",Gt.labelClass,function(o){o.attr({"text-anchor":"middle","data-notex":1})}),n=r.step.label,i=t._gd._fullLayout._meta;return i&&(n=qo.templateString(n,i)),a.call(Rl.font,t.font).text(n).call(Ap.convertToTspans,t._gd),a}function Zme(e,r){var t=qo.ensureSingle(e,"g",Gt.labelsClass),a=r._dims,n=t.selectAll("g."+Gt.labelGroupClass).data(a.labelSteps);n.enter().append("g").classed(Gt.labelGroupClass,!0),n.exit().remove(),n.each(function(i){var o=Fl.select(this);o.call(eH,i,r),Rl.setTranslate(o,a8(r,i.fraction),Gt.tickOffset+r.ticklen+r.font.size*KU+Gt.labelOffset+a.currentValueTotalHeight)})}function JU(e,r,t,a,n){var i=Math.round(a*(t._stepCount-1)),o=t._visibleSteps[i]._index;o!==t.active&&rH(e,r,t,o,!0,n)}function rH(e,r,t,a,n,i){var o=t.active;t.active=a,Gme(e.layout,Gt.name,t).applyUpdate("active",a);var l=t.steps[t.active];r.call(aH,t,i),r.call(ab,t),e.emit("plotly_sliderchange",{slider:t,step:t.steps[t.active],interaction:n,previousActive:o}),l&&l.method&&n&&(r._nextMethod?(r._nextMethod.step=l,r._nextMethod.doCallback=n,r._nextMethod.doTransition=i):(r._nextMethod={step:l,doCallback:n,doTransition:i},r._nextMethodRaf=window.requestAnimationFrame(function(){var s=r._nextMethod.step;s.method&&(s.execute&&tb.executeAPICommand(e,s.method,s.args),r._nextMethod=null,r._nextMethodRaf=null)})))}function tH(e,r,t){if(r._context.staticPlot)return;var a=t.node(),n=Fl.select(r);function i(){return t.data()[0]}function o(){var l=i();r.emit("plotly_sliderstart",{slider:l});var s=t.select("."+Gt.gripRectClass);Fl.event.stopPropagation(),Fl.event.preventDefault(),s.call(vf.fill,l.activebgcolor);var u=$U(l,Fl.mouse(a)[0]);JU(r,t,l,u,!0),l._dragging=!0;function f(){var h=i(),d=$U(h,Fl.mouse(a)[0]);JU(r,t,h,d,!1)}n.on("mousemove",f),n.on("touchmove",f);function c(){var h=i();h._dragging=!1,s.call(vf.fill,h.bgcolor),n.on("mouseup",null),n.on("mousemove",null),n.on("touchend",null),n.on("touchmove",null),r.emit("plotly_sliderend",{slider:h,step:h.steps[h.active]})}n.on("mouseup",c),n.on("touchend",c)}e.on("mousedown",o),e.on("touchstart",o)}function Jme(e,r){var t=e.selectAll("rect."+Gt.tickRectClass).data(r._visibleSteps),a=r._dims;t.enter().append("rect").classed(Gt.tickRectClass,!0),t.exit().remove(),t.attr({width:r.tickwidth+"px","shape-rendering":"crispEdges"}),t.each(function(n,i){var o=i%a.labelStride===0,l=Fl.select(this);l.attr({height:o?r.ticklen:r.minorticklen}).call(vf.fill,r.tickcolor),Rl.setTranslate(l,a8(r,i/(r._stepCount-1))-.5*r.tickwidth,(o?Gt.tickOffset:Gt.minorTickOffset)+a.currentValueTotalHeight)})}function $me(e){var r=e._dims;r.labelSteps=[];for(var t=e._stepCount,a=0;a<t;a+=r.labelStride)r.labelSteps.push({fraction:a/(t-1),step:e._visibleSteps[a]})}function aH(e,r,t){for(var a=e.select("rect."+Gt.gripRectClass),n=0,i=0;i<r._stepCount;i++)if(r._visibleSteps[i]._index===r.active){n=i;break}var o=a8(r,n/(r._stepCount-1));if(!r._invokingCommand){var l=a;t&&r.transition.duration>0&&(l=l.transition().duration(r.transition.duration).ease(r.transition.easing)),l.attr("transform",Hme(o-Gt.gripWidth*.5,r._dims.currentValueTotalHeight))}}function a8(e,r){var t=e._dims;return t.inputAreaStart+Gt.stepInset+(t.inputAreaLength-2*Gt.stepInset)*Math.min(1,Math.max(0,r))}function $U(e,r){var t=e._dims;return Math.min(1,Math.max(0,(r-Gt.stepInset-t.inputAreaStart)/(t.inputAreaLength-2*Gt.stepInset-2*t.inputAreaStart)))}function Kme(e,r,t){var a=t._dims,n=qo.ensureSingle(e,"rect",Gt.railTouchRectClass,function(i){i.call(tH,r,e,t).style("pointer-events","all")});n.attr({width:a.inputAreaLength,height:Math.max(a.inputAreaWidth,Gt.tickOffset+t.ticklen+a.labelHeight)}).call(vf.fill,t.bgcolor).attr("opacity",0),Rl.setTranslate(n,0,a.currentValueTotalHeight)}function Qme(e,r){var t=r._dims,a=t.inputAreaLength-Gt.railInset*2,n=qo.ensureSingle(e,"rect",Gt.railRectClass);n.attr({width:a,height:Gt.railWidth,rx:Gt.railRadius,ry:Gt.railRadius,"shape-rendering":"crispEdges"}).call(vf.stroke,r.bordercolor).call(vf.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px"),Rl.setTranslate(n,Gt.railInset,(t.inputAreaWidth-Gt.railWidth)*.5+t.currentValueTotalHeight)}});var lH=R((qLe,oH)=>{"use strict";var ege=wp();oH.exports={moduleType:"component",name:ege.name,layoutAttributes:QA(),supplyLayoutDefaults:ZU(),draw:iH()}});var nb=R((DLe,uH)=>{"use strict";var sH=es();uH.exports={bgcolor:{valType:"color",dflt:sH.background,editType:"plot"},bordercolor:{valType:"color",dflt:sH.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}});var n8=R((FLe,fH)=>{"use strict";fH.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}});var ib=R((RLe,cH)=>{"use strict";cH.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}});var dH=R(lb=>{"use strict";var rge=yn(),tge=Ci(),vH=ib(),age=ki().LINE_SPACING,ob=vH.name;function hH(e){var r=e&&e[ob];return r&&r.visible}lb.isVisible=hH;lb.makeData=function(e){for(var r=rge.list({_fullLayout:e},"x",!0),t=e.margin,a=[],n=0;n<r.length;n++){var i=r[n];if(hH(i)){a.push(i);var o=i[ob];o._id=ob+i._id,o._height=(e.height-t.b-t.t)*o.thickness,o._offsetShift=Math.floor(o.borderwidth/2)}}e._rangeSliderData=a};lb.autoMarginOpts=function(e,r){var t=e._fullLayout,a=r[ob],n=r._id.charAt(0),i=0,o=0;if(r.side==="bottom"&&(i=r._depth,r.title.text!==t._dfltTitle[n])){o=1.5*r.title.font.size+10+a._offsetShift;var l=(r.title.text.match(tge.BR_TAG_ALL)||[]).length;o+=l*r.title.font.size*age}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:a._height+i+Math.max(t.margin.b,o),pad:vH.extraPad+a._offsetShift*2}}});var gH=R((NLe,mH)=>{"use strict";var sb=fr(),pH=Oa(),yH=yn(),nge=nb(),ige=n8();mH.exports=function(r,t,a){var n=r[a],i=t[a];if(!(n.rangeslider||t._requestRangeslider[i._id]))return;sb.isPlainObject(n.rangeslider)||(n.rangeslider={});var o=n.rangeslider,l=pH.newContainer(i,"rangeslider");function s(T,S){return sb.coerce(o,l,nge,T,S)}var u,f;function c(T,S){return sb.coerce(u,f,ige,T,S)}var h=s("visible");if(h){s("bgcolor",t.plot_bgcolor),s("bordercolor"),s("borderwidth"),s("thickness"),s("autorange",!i.isValidRange(o.range)),s("range");var d=t._subplots;if(d)for(var p=d.cartesian.filter(function(T){return T.substr(0,T.indexOf("y"))===yH.name2id(a)}).map(function(T){return T.substr(T.indexOf("y"),T.length)}),g=sb.simpleMap(p,yH.id2name),y=0;y<g.length;y++){var b=g[y];u=o[b]||{},f=pH.newContainer(l,b,"yaxis");var _=t[b],w;u.range&&_.isValidRange(u.range)&&(w="fixed");var x=c("rangemode",w);x!=="match"&&c("range",_.range.slice())}l._input=o}}});var xH=R((ILe,bH)=>{"use strict";var oge=yn().list,lge=S0().getAutoRange,sge=ib();bH.exports=function(r){for(var t=oge(r,"x",!0),a=0;a<t.length;a++){var n=t[a],i=n[sge.name];i&&i.visible&&i.autorange&&(i._input.autorange=!0,i._input.range=i.range=lge(r,n))}}});var TH=R((OLe,AH)=>{"use strict";var ub=aa(),uge=_t(),fge=Wn(),un=fr(),fb=un.strTranslate,wH=Sa(),hf=Vt(),cge=g1(),vge=rh(),i8=yn(),hge=Al(),dge=Qu(),Kt=ib();AH.exports=function(e){for(var r=e._fullLayout,t=r._rangeSliderData,a=0;a<t.length;a++){var n=t[a][Kt.name];n._clipId=n._id+"-"+r._uid}function i(l){return l._name}var o=r._infolayer.selectAll("g."+Kt.containerClassName).data(t,i);o.exit().each(function(l){var s=l[Kt.name];r._topdefs.select("#"+s._clipId).remove()}).remove(),t.length!==0&&(o.enter().append("g").classed(Kt.containerClassName,!0).attr("pointer-events","all"),o.each(function(l){var s=ub.select(this),u=l[Kt.name],f=r[i8.id2name(l.anchor)],c=u[i8.id2name(l.anchor)];if(u.range){var h=un.simpleMap(u.range,l.r2l),d=un.simpleMap(l.range,l.r2l),p;d[0]<d[1]?p=[Math.min(h[0],d[0]),Math.max(h[1],d[1])]:p=[Math.max(h[0],d[0]),Math.min(h[1],d[1])],u.range=u._input.range=un.simpleMap(p,l.l2r)}l.cleanRange("rangeslider.range");var g=r._size,y=l.domain;u._width=g.w*(y[1]-y[0]);var b=Math.round(g.l+g.w*y[0]),_=Math.round(g.t+g.h*(1-l._counterDomainMin)+(l.side==="bottom"?l._depth:0)+u._offsetShift+Kt.extraPad);s.attr("transform",fb(b,_)),u._rl=un.simpleMap(u.range,l.r2l);var w=u._rl[0],x=u._rl[1],T=x-w;if(u.p2d=function(j){return j/u._width*T+w},u.d2p=function(j){return(j-w)/T*u._width},l.rangebreaks){var S=l.locateBreaks(w,x);if(S.length){var M,C,q=0;for(M=0;M<S.length;M++)C=S[M],q+=C.max-C.min;var F=u._width/(x-w-q),P=[-F*w];for(M=0;M<S.length;M++)C=S[M],P.push(P[P.length-1]-F*(C.max-C.min));for(u.d2p=function(j){for(var W=P[0],z=0;z<S.length;z++){var O=S[z];if(j>=O.max)W=P[z+1];else if(j<O.min)break}return W+F*j},M=0;M<S.length;M++)C=S[M],C.pmin=u.d2p(C.min),C.pmax=u.d2p(C.max);u.p2d=function(j){for(var W=P[0],z=0;z<S.length;z++){var O=S[z];if(j>=O.pmax)W=P[z+1];else if(j<O.pmin)break}return(j-W)/F}}}if(c.rangemode!=="match"){var I=f.r2l(c.range[0]),H=f.r2l(c.range[1]),V=H-I;u.d2pOppAxis=function(j){return(j-I)/V*u._height}}s.call(gge,e,l,u).call(bge,e,l,u).call(xge,e,l,u).call(wge,e,l,u,c).call(Age,e,l,u).call(Tge,e,l,u),pge(s,e,l,u),mge(s,e,l,u,f,c),l.side==="bottom"&&cge.draw(e,l._id+"title",{propContainer:l,propName:l._name+".title",placeholder:r._dfltTitle.x,attributes:{x:l._offset+l._length/2,y:_+u._height+u._offsetShift+10+1.5*l.title.font.size,"text-anchor":"middle"}})}))};function _H(e){return typeof e.clientX=="number"?e.clientX:e.touches&&e.touches.length>0?e.touches[0].clientX:0}function pge(e,r,t,a){if(r._context.staticPlot)return;var n=e.select("rect."+Kt.slideBoxClassName).node(),i=e.select("rect."+Kt.grabAreaMinClassName).node(),o=e.select("rect."+Kt.grabAreaMaxClassName).node();function l(){var s=ub.event,u=s.target,f=_H(s),c=f-e.node().getBoundingClientRect().left,h=a.d2p(t._rl[0]),d=a.d2p(t._rl[1]),p=hge.coverSlip();this.addEventListener("touchmove",g),this.addEventListener("touchend",y),p.addEventListener("mousemove",g),p.addEventListener("mouseup",y);function g(b){var _=_H(b),w=+_-f,x,T,S;switch(u){case n:if(S="ew-resize",h+w>t._length||d+w<0)return;x=h+w,T=d+w;break;case i:if(S="col-resize",h+w>t._length)return;x=h+w,T=d;break;case o:if(S="col-resize",d+w<0)return;x=h,T=d+w;break;default:S="ew-resize",x=c,T=c+w;break}if(T<x){var M=T;T=x,x=M}a._pixelMin=x,a._pixelMax=T,dge(ub.select(p),S),yge(e,r,t,a)}function y(){p.removeEventListener("mousemove",g),p.removeEventListener("mouseup",y),this.removeEventListener("touchmove",g),this.removeEventListener("touchend",y),un.removeElement(p)}}e.on("mousedown",l),e.on("touchstart",l)}function yge(e,r,t,a){function n(l){return t.l2r(un.constrain(l,a._rl[0],a._rl[1]))}var i=n(a.p2d(a._pixelMin)),o=n(a.p2d(a._pixelMax));window.requestAnimationFrame(function(){uge.call("_guiRelayout",r,t._name+".range",[i,o])})}function mge(e,r,t,a,n,i){var o=Kt.handleWidth/2;function l(b){return un.constrain(b,0,a._width)}function s(b){return un.constrain(b,0,a._height)}function u(b){return un.constrain(b,-o,a._width+o)}var f=l(a.d2p(t._rl[0])),c=l(a.d2p(t._rl[1]));if(e.select("rect."+Kt.slideBoxClassName).attr("x",f).attr("width",c-f),e.select("rect."+Kt.maskMinClassName).attr("width",f),e.select("rect."+Kt.maskMaxClassName).attr("x",c).attr("width",a._width-c),i.rangemode!=="match"){var h=a._height-s(a.d2pOppAxis(n._rl[1])),d=a._height-s(a.d2pOppAxis(n._rl[0]));e.select("rect."+Kt.maskMinOppAxisClassName).attr("x",f).attr("height",h).attr("width",c-f),e.select("rect."+Kt.maskMaxOppAxisClassName).attr("x",f).attr("y",d).attr("height",a._height-d).attr("width",c-f),e.select("rect."+Kt.slideBoxClassName).attr("y",h).attr("height",d-h)}var p=.5,g=Math.round(u(f-o))-p,y=Math.round(u(c-o))+p;e.select("g."+Kt.grabberMinClassName).attr("transform",fb(g,p)),e.select("g."+Kt.grabberMaxClassName).attr("transform",fb(y,p))}function gge(e,r,t,a){var n=un.ensureSingle(e,"rect",Kt.bgClassName,function(s){s.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),i=a.borderwidth%2===0?a.borderwidth:a.borderwidth-1,o=-a._offsetShift,l=wH.crispRound(r,a.borderwidth);n.attr({width:a._width+i,height:a._height+i,transform:fb(o,o),"stroke-width":l}).call(hf.stroke,a.bordercolor).call(hf.fill,a.bgcolor)}function bge(e,r,t,a){var n=r._fullLayout,i=un.ensureSingleById(n._topdefs,"clipPath",a._clipId,function(o){o.append("rect").attr({x:0,y:0})});i.select("rect").attr({width:a._width,height:a._height})}function xge(e,r,t,a){var n=r.calcdata,i=e.selectAll("g."+Kt.rangePlotClassName).data(t._subplotsWith,un.identity);i.enter().append("g").attr("class",function(l){return Kt.rangePlotClassName+" "+l}).call(wH.setClipUrl,a._clipId,r),i.order(),i.exit().remove();var o;i.each(function(l,s){var u=ub.select(this),f=s===0,c=i8.getFromId(r,l,"y"),h=c._name,d=a[h],p={data:[],layout:{xaxis:{type:t.type,domain:[0,1],range:a.range.slice(),calendar:t.calendar},width:a._width,height:a._height,margin:{t:0,b:0,l:0,r:0}},_context:r._context};t.rangebreaks&&(p.layout.xaxis.rangebreaks=t.rangebreaks),p.layout[h]={type:c.type,domain:[0,1],range:d.rangemode!=="match"?d.range.slice():c.range.slice(),calendar:c.calendar},c.rangebreaks&&(p.layout[h].rangebreaks=c.rangebreaks),fge.supplyDefaults(p);var g=p._fullLayout.xaxis,y=p._fullLayout[h];g.clearCalc(),g.setScale(),y.clearCalc(),y.setScale();var b={id:l,plotgroup:u,xaxis:g,yaxis:y,isRangePlot:!0};f?o=b:(b.mainplot="xy",b.mainplotinfo=o),vge.rangePlot(r,b,_ge(n,l))})}function _ge(e,r){for(var t=[],a=0;a<e.length;a++){var n=e[a],i=n[0].trace;i.xaxis+i.yaxis===r&&t.push(n)}return t}function wge(e,r,t,a,n){var i=un.ensureSingle(e,"rect",Kt.maskMinClassName,function(u){u.attr({x:0,y:0,"shape-rendering":"crispEdges"})});i.attr("height",a._height).call(hf.fill,Kt.maskColor);var o=un.ensureSingle(e,"rect",Kt.maskMaxClassName,function(u){u.attr({y:0,"shape-rendering":"crispEdges"})});if(o.attr("height",a._height).call(hf.fill,Kt.maskColor),n.rangemode!=="match"){var l=un.ensureSingle(e,"rect",Kt.maskMinOppAxisClassName,function(u){u.attr({y:0,"shape-rendering":"crispEdges"})});l.attr("width",a._width).call(hf.fill,Kt.maskOppAxisColor);var s=un.ensureSingle(e,"rect",Kt.maskMaxOppAxisClassName,function(u){u.attr({y:0,"shape-rendering":"crispEdges"})});s.attr("width",a._width).style("border-top",Kt.maskOppBorder).call(hf.fill,Kt.maskOppAxisColor)}}function Age(e,r,t,a){if(!r._context.staticPlot){var n=un.ensureSingle(e,"rect",Kt.slideBoxClassName,function(i){i.attr({y:0,cursor:Kt.slideBoxCursor,"shape-rendering":"crispEdges"})});n.attr({height:a._height,fill:Kt.slideBoxFill})}}function Tge(e,r,t,a){var n=un.ensureSingle(e,"g",Kt.grabberMinClassName),i=un.ensureSingle(e,"g",Kt.grabberMaxClassName),o={x:0,width:Kt.handleWidth,rx:Kt.handleRadius,fill:hf.background,stroke:hf.defaultLine,"stroke-width":Kt.handleStrokeWidth,"shape-rendering":"crispEdges"},l={y:Math.round(a._height/4),height:Math.round(a._height/2)},s=un.ensureSingle(n,"rect",Kt.handleMinClassName,function(d){d.attr(o)});s.attr(l);var u=un.ensureSingle(i,"rect",Kt.handleMaxClassName,function(d){d.attr(o)});u.attr(l);var f={width:Kt.grabAreaWidth,x:0,y:0,fill:Kt.grabAreaFill,cursor:r._context.staticPlot?void 0:Kt.grabAreaCursor},c=un.ensureSingle(n,"rect",Kt.grabAreaMinClassName,function(d){d.attr(f)});c.attr("height",a._height);var h=un.ensureSingle(i,"rect",Kt.grabAreaMaxClassName,function(d){d.attr(f)});h.attr("height",a._height)}});var SH=R((zLe,MH)=>{"use strict";var Mge=fr(),Sge=nb(),kge=n8(),o8=dH();MH.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:Mge.extendFlat({},Sge,{yaxis:kge})}}},layoutAttributes:nb(),handleDefaults:gH(),calcAutorange:xH(),draw:TH(),isVisible:o8.isVisible,makeData:o8.makeData,autoMarginOpts:o8.autoMarginOpts}});var cb=R((BLe,CH)=>{"use strict";var Cge=ti(),kH=es(),Ege=Oa().templatedArray,Lge=Ege("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});CH.exports={visible:{valType:"boolean",editType:"plot"},buttons:Lge,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:Cge({editType:"plot"}),bgcolor:{valType:"color",dflt:kH.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:kH.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}});var l8=R((ULe,EH)=>{"use strict";EH.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}});var DH=R((HLe,qH)=>{"use strict";var vb=fr(),qge=Vt(),Dge=Oa(),Fge=_l(),LH=cb(),s8=l8();qH.exports=function(r,t,a,n,i){var o=r.rangeselector||{},l=Dge.newContainer(t,"rangeselector");function s(d,p){return vb.coerce(o,l,LH,d,p)}var u=Fge(o,l,{name:"buttons",handleItemDefaults:Rge,calendar:i}),f=s("visible",u.length>0);if(f){var c=Pge(t,a,n);s("x",c[0]),s("y",c[1]),vb.noneOrAll(r,t,["x","y"]),s("xanchor"),s("yanchor"),vb.coerceFont(s,"font",a.font);var h=s("bgcolor");s("activecolor",qge.contrast(h,s8.lightAmount,s8.darkAmount)),s("bordercolor"),s("borderwidth")}};function Rge(e,r,t,a){var n=a.calendar;function i(s,u){return vb.coerce(e,r,LH.buttons,s,u)}var o=i("visible");if(o){var l=i("step");l!=="all"&&(n&&n!=="gregorian"&&(l==="month"||l==="year")?r.stepmode="backward":i("stepmode"),i("count")),i("label")}}function Pge(e,r,t){for(var a=t.filter(function(l){return r[l].anchor===e._id}),n=0,i=0;i<a.length;i++){var o=r[a[i]].domain;o&&(n=Math.max(o[1],n))}return[e.domain[0],n+s8.yPad]}});var RH=R((GLe,FH)=>{"use strict";var Nge=t_(),Ige=fr().titleCase;FH.exports=function(r,t){var a=r._name,n={};if(t.step==="all")n[a+".autorange"]=!0;else{var i=Oge(r,t);n[a+".range[0]"]=i[0],n[a+".range[1]"]=i[1]}return n};function Oge(e,r){var t=e.range,a=new Date(e.r2l(t[1])),n=r.step,i=Nge["utc"+Ige(n)],o=r.count,l;switch(r.stepmode){case"backward":l=e.l2r(+i.offset(a,-o));break;case"todate":var s=i.offset(a,-o);l=e.l2r(+i.ceil(s));break}var u=t[1];return[l,u]}});var HH=R((VLe,UH)=>{"use strict";var db=aa(),zge=_t(),Bge=Wn(),PH=Vt(),BH=Sa(),nu=fr(),NH=nu.strTranslate,hb=Ci(),Uge=yn(),c8=ki(),IH=c8.LINE_SPACING,OH=c8.FROM_TL,zH=c8.FROM_BR,f8=l8(),Hge=RH();UH.exports=function(r){var t=r._fullLayout,a=t._infolayer.selectAll(".rangeselector").data(Gge(r),Vge);a.enter().append("g").classed("rangeselector",!0),a.exit().remove(),a.style({cursor:"pointer","pointer-events":"all"}),a.each(function(n){var i=db.select(this),o=n,l=o.rangeselector,s=i.selectAll("g.button").data(nu.filterVisible(l.buttons));s.enter().append("g").classed("button",!0),s.exit().remove(),s.each(function(u){var f=db.select(this),c=Hge(o,u);u._isActive=Yge(o,u,c),f.call(u8,l,u),f.call(jge,l,u,r),f.on("click",function(){r._dragged||zge.call("_guiRelayout",r,c)}),f.on("mouseover",function(){u._isHovered=!0,f.call(u8,l,u)}),f.on("mouseout",function(){u._isHovered=!1,f.call(u8,l,u)})}),Zge(r,s,l,o._name,i)})};function Gge(e){for(var r=Uge.list(e,"x",!0),t=[],a=0;a<r.length;a++){var n=r[a];n.rangeselector&&n.rangeselector.visible&&t.push(n)}return t}function Vge(e){return e._id}function Yge(e,r,t){if(r.step==="all")return e.autorange===!0;var a=Object.keys(t);return e.range[0]===t[a[0]]&&e.range[1]===t[a[1]]}function u8(e,r,t){var a=nu.ensureSingle(e,"rect","selector-rect",function(n){n.attr("shape-rendering","crispEdges")});a.attr({rx:f8.rx,ry:f8.ry}),a.call(PH.stroke,r.bordercolor).call(PH.fill,Wge(r,t)).style("stroke-width",r.borderwidth+"px")}function Wge(e,r){return r._isActive||r._isHovered?e.activecolor:e.bgcolor}function jge(e,r,t,a){function n(o){hb.convertToTspans(o,a)}var i=nu.ensureSingle(e,"text","selector-text",function(o){o.attr("text-anchor","middle")});i.call(BH.font,r.font).text(Xge(t,a._fullLayout._meta)).call(n)}function Xge(e,r){return e.label?r?nu.templateString(e.label,r):e.label:e.step==="all"?"all":e.count+e.step.charAt(0)}function Zge(e,r,t,a,n){var i=0,o=0,l=t.borderwidth;r.each(function(){var d=db.select(this),p=d.select(".selector-text"),g=t.font.size*IH,y=Math.max(g*hb.lineCount(p),16)+3;o=Math.max(o,y)}),r.each(function(){var d=db.select(this),p=d.select(".selector-rect"),g=d.select(".selector-text"),y=g.node()&&BH.bBox(g.node()).width,b=t.font.size*IH,_=hb.lineCount(g),w=Math.max(y+10,f8.minButtonWidth);d.attr("transform",NH(l+i,l)),p.attr({x:0,y:0,width:w,height:o}),hb.positionText(g,w/2,o/2-(_-1)*b/2+3),i+=w+5});var s=e._fullLayout._size,u=s.l+s.w*t.x,f=s.t+s.h*(1-t.y),c="left";nu.isRightAnchor(t)&&(u-=i,c="right"),nu.isCenterAnchor(t)&&(u-=i/2,c="center");var h="top";nu.isBottomAnchor(t)&&(f-=o,h="bottom"),nu.isMiddleAnchor(t)&&(f-=o/2,h="middle"),i=Math.ceil(i),o=Math.ceil(o),u=Math.round(u),f=Math.round(f),Bge.autoMargin(e,a+"-range-selector",{x:t.x,y:t.y,l:i*OH[c],r:i*zH[c],b:o*zH[h],t:o*OH[h]}),n.attr("transform",NH(u,f))}});var VH=R((YLe,GH)=>{"use strict";GH.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:cb()}}},layoutAttributes:cb(),handleDefaults:DH(),draw:HH()}});var WH=R(v8=>{"use strict";var YH=xn().extendFlat;v8.attributes=function(e,r){e=e||{},r=r||{};var t={valType:"info_array",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},a=e.name?e.name+" ":"",n=e.trace?"trace ":"subplot ",i=r.description?" "+r.description:"",o={x:YH({},t,{}),y:YH({},t,{}),editType:e.editType};return e.noGridCell||(o.row={valType:"integer",min:0,dflt:0,editType:e.editType},o.column={valType:"integer",min:0,dflt:0,editType:e.editType}),o};v8.defaults=function(e,r,t,a){var n=a&&a.x||[0,1],i=a&&a.y||[0,1],o=r.grid;if(o){var l=t("domain.column");l!==void 0&&(l<o.columns?n=o._domains.x[l]:delete e.domain.column);var s=t("domain.row");s!==void 0&&(s<o.rows?i=o._domains.y[s]:delete e.domain.row)}var u=t("domain.x",n),f=t("domain.y",i);u[0]<u[1]||(e.domain.x=n.slice()),f[0]<f[1]||(e.domain.y=i.slice())}});var $H=R((jLe,JH)=>{"use strict";var Jge=fr(),$ge=e0().counter,Kge=WH().attributes,jH=ui().idRegex,Qge=Oa(),h8={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[$ge("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[jH.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[jH.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:Kge({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function pb(e,r,t){var a=r[t+"axes"],n=Object.keys((e._splomAxes||{})[t]||{});if(Array.isArray(a))return a;if(n.length)return n}function e2e(e,r){var t=e.grid||{},a=pb(r,t,"x"),n=pb(r,t,"y");if(!e.grid&&!a&&!n)return;var i=Array.isArray(t.subplots)&&Array.isArray(t.subplots[0]),o=Array.isArray(a),l=Array.isArray(n),s=o&&a!==t.xaxes&&l&&n!==t.yaxes,u,f;i?(u=t.subplots.length,f=t.subplots[0].length):(l&&(u=n.length),o&&(f=a.length));var c=Qge.newContainer(r,"grid");function h(S,M){return Jge.coerce(t,c,h8,S,M)}var d=h("rows",u),p=h("columns",f);if(!(d*p>1)){delete r.grid;return}if(!i&&!o&&!l){var g=h("pattern")==="independent";g&&(i=!0)}c._hasSubplotGrid=i;var y=h("roworder"),b=y==="top to bottom",_=i?.2:.1,w=i?.3:.1,x,T;s&&r._splomGridDflt&&(x=r._splomGridDflt.xside,T=r._splomGridDflt.yside),c._domains={x:XH("x",h,_,x,p),y:XH("y",h,w,T,d,b)}}function XH(e,r,t,a,n,i){var o=r(e+"gap",t),l=r("domain."+e);r(e+"side",a);for(var s=new Array(n),u=l[0],f=(l[1]-u)/(n-o),c=f*(1-o),h=0;h<n;h++){var d=u+f*h;s[i?n-1-h:h]=[d,d+c]}return s}function r2e(e,r){var t=r.grid;if(!(!t||!t._domains)){var a=e.grid||{},n=r._subplots,i=t._hasSubplotGrid,o=t.rows,l=t.columns,s=t.pattern==="independent",u,f,c,h,d,p,g,y=t._axisMap={};if(i){var b=a.subplots||[];p=t.subplots=new Array(o);var _=1;for(u=0;u<o;u++){var w=p[u]=new Array(l),x=b[u]||[];for(f=0;f<l;f++)if(s?(d=_===1?"xy":"x"+_+"y"+_,_++):d=x[f],w[f]="",n.cartesian.indexOf(d)!==-1){if(g=d.indexOf("y"),c=d.slice(0,g),h=d.slice(g),y[c]!==void 0&&y[c]!==f||y[h]!==void 0&&y[h]!==u)continue;w[f]=d,y[c]=f,y[h]=u}}}else{var T=pb(r,a,"x"),S=pb(r,a,"y");t.xaxes=ZH(T,n.xaxis,l,y,"x"),t.yaxes=ZH(S,n.yaxis,o,y,"y")}var M=t._anchors={},C=t.roworder==="top to bottom";for(var q in y){var F=q.charAt(0),P=t[F+"side"],I,H,V;if(P.length<8)M[q]="free";else if(F==="x"){if(P.charAt(0)==="t"===C?(I=0,H=1,V=o):(I=o-1,H=-1,V=-1),i){var j=y[q];for(u=I;u!==V;u+=H)if(d=p[u][j],!!d&&(g=d.indexOf("y"),d.slice(0,g)===q)){M[q]=d.slice(g);break}}else for(u=I;u!==V;u+=H)if(h=t.yaxes[u],n.cartesian.indexOf(q+h)!==-1){M[q]=h;break}}else if(P.charAt(0)==="l"?(I=0,H=1,V=l):(I=l-1,H=-1,V=-1),i){var W=y[q];for(u=I;u!==V;u+=H)if(d=p[W][u],!!d&&(g=d.indexOf("y"),d.slice(g)===q)){M[q]=d.slice(0,g);break}}else for(u=I;u!==V;u+=H)if(c=t.xaxes[u],n.cartesian.indexOf(c+q)!==-1){M[q]=c;break}}}}function ZH(e,r,t,a,n){var i=new Array(t),o;function l(s,u){r.indexOf(u)!==-1&&a[u]===void 0?(i[s]=u,a[u]=s):i[s]=""}if(Array.isArray(e))for(o=0;o<t;o++)l(o,e[o]);else for(l(0,n),o=1;o<t;o++)l(o,n+(o+1));return i}JH.exports={moduleType:"component",name:"grid",schema:{layout:{grid:h8}},layoutAttributes:h8,sizeDefaults:e2e,contentDefaults:r2e}});var d8=R((XLe,KH)=>{"use strict";KH.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}});var rG=R((ZLe,eG)=>{"use strict";var QH=Zt(),t2e=_t(),a2e=fr(),n2e=Oa(),i2e=d8();eG.exports=function(e,r,t,a){var n="error_"+a.axis,i=n2e.newContainer(r,n),o=e[n]||{};function l(p,g){return a2e.coerce(o,i,i2e,p,g)}var s=o.array!==void 0||o.value!==void 0||o.type==="sqrt",u=l("visible",s);if(u!==!1){var f=l("type","array"in o?"data":"percent"),c=!0;f!=="sqrt"&&(c=l("symmetric",!((f==="data"?"arrayminus":"valueminus")in o))),f==="data"?(l("array"),l("traceref"),c||(l("arrayminus"),l("tracerefminus"))):(f==="percent"||f==="constant")&&(l("value"),c||l("valueminus"));var h="copy_"+a.inherit+"style";if(a.inherit){var d=r["error_"+a.inherit];(d||{}).visible&&l(h,!(o.color||QH(o.thickness)||QH(o.width)))}(!a.inherit||!i[h])&&(l("color",t),l("thickness"),l("width",t2e.traceIs(r,"gl3d")?0:4))}}});var p8=R((JLe,aG)=>{"use strict";aG.exports=function(r){var t=r.type,a=r.symmetric;if(t==="data"){var n=r.array||[];if(a)return function(u,f){var c=+n[f];return[c,c]};var i=r.arrayminus||[];return function(u,f){var c=+n[f],h=+i[f];return!isNaN(c)||!isNaN(h)?[h||0,c||0]:[NaN,NaN]}}else{var o=tG(t,r.value),l=tG(t,r.valueminus);return a||r.valueminus===void 0?function(u){var f=o(u);return[f,f]}:function(u){return[l(u),o(u)]}}};function tG(e,r){if(e==="percent")return function(t){return Math.abs(t*r/100)};if(e==="constant")return function(){return Math.abs(r)};if(e==="sqrt")return function(t){return Math.sqrt(Math.abs(t))}}});var oG=R(($Le,iG)=>{"use strict";var y8=Zt(),o2e=_t(),m8=qa(),l2e=fr(),s2e=p8();iG.exports=function(r){for(var t=r.calcdata,a=0;a<t.length;a++){var n=t[a],i=n[0].trace;if(i.visible===!0&&o2e.traceIs(i,"errorBarsOK")){var o=m8.getFromId(r,i.xaxis),l=m8.getFromId(r,i.yaxis);nG(n,i,o,"x"),nG(n,i,l,"y")}}};function nG(e,r,t,a){var n=r["error_"+a]||{},i=n.visible&&["linear","log"].indexOf(t.type)!==-1,o=[];if(i){for(var l=s2e(n),s=0;s<e.length;s++){var u=e[s],f=u.i;if(f===void 0)f=s;else if(f===null)continue;var c=u[a];if(y8(t.c2l(c))){var h=l(c,f);if(y8(h[0])&&y8(h[1])){var d=u[a+"s"]=c-h[0],p=u[a+"h"]=c+h[1];o.push(d,p)}}}var g=t._id,y=r._extremes[g],b=m8.findExtremes(t,o,l2e.extendFlat({tozero:y.opts.tozero},{padded:!0}));y.min=y.min.concat(b.min),y.max=y.max.concat(b.max)}}});var uG=R((KLe,sG)=>{"use strict";var lG=aa(),df=Zt(),u2e=Sa(),f2e=gi();sG.exports=function(r,t,a,n){var i,o=a.xaxis,l=a.yaxis,s=n&&n.duration>0,u=r._context.staticPlot;t.each(function(f){var c=f[0].trace,h=c.error_x||{},d=c.error_y||{},p;c.ids&&(p=function(_){return _.id});var g=f2e.hasMarkers(c)&&c.marker.maxdisplayed>0;!d.visible&&!h.visible&&(f=[]);var y=lG.select(this).selectAll("g.errorbar").data(f,p);if(y.exit().remove(),!!f.length){h.visible||y.selectAll("path.xerror").remove(),d.visible||y.selectAll("path.yerror").remove(),y.style("opacity",1);var b=y.enter().append("g").classed("errorbar",!0);s&&b.style("opacity",0).transition().duration(n.duration).style("opacity",1),u2e.setClipUrl(y,a.layerClipId,r),y.each(function(_){var w=lG.select(this),x=c2e(_,o,l);if(!(g&&!_.vis)){var T,S=w.select("path.yerror");if(d.visible&&df(x.x)&&df(x.yh)&&df(x.ys)){var M=d.width;T="M"+(x.x-M)+","+x.yh+"h"+2*M+"m-"+M+",0V"+x.ys,x.noYS||(T+="m-"+M+",0h"+2*M),i=!S.size(),i?S=w.append("path").style("vector-effect",u?"none":"non-scaling-stroke").classed("yerror",!0):s&&(S=S.transition().duration(n.duration).ease(n.easing)),S.attr("d",T)}else S.remove();var C=w.select("path.xerror");if(h.visible&&df(x.y)&&df(x.xh)&&df(x.xs)){var q=(h.copy_ystyle?d:h).width;T="M"+x.xh+","+(x.y-q)+"v"+2*q+"m0,-"+q+"H"+x.xs,x.noXS||(T+="m0,-"+q+"v"+2*q),i=!C.size(),i?C=w.append("path").style("vector-effect",u?"none":"non-scaling-stroke").classed("xerror",!0):s&&(C=C.transition().duration(n.duration).ease(n.easing)),C.attr("d",T)}else C.remove()}})}})};function c2e(e,r,t){var a={x:r.c2p(e.x),y:t.c2p(e.y)};return e.yh!==void 0&&(a.yh=t.c2p(e.yh),a.ys=t.c2p(e.ys),df(a.ys)||(a.noYS=!0,a.ys=t.c2p(e.ys,!0))),e.xh!==void 0&&(a.xh=r.c2p(e.xh),a.xs=r.c2p(e.xs),df(a.xs)||(a.noXS=!0,a.xs=r.c2p(e.xs,!0))),a}});var vG=R((QLe,cG)=>{"use strict";var v2e=aa(),fG=Vt();cG.exports=function(r){r.each(function(t){var a=t[0].trace,n=a.error_y||{},i=a.error_x||{},o=v2e.select(this);o.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(fG.stroke,n.color),i.copy_ystyle&&(i=n),o.selectAll("path.xerror").style("stroke-width",i.thickness+"px").call(fG.stroke,i.color)})}});var pG=R((eqe,dG)=>{"use strict";var Tp=fr(),hG=yl().overrideAll,Mp=d8(),Wc={error_x:Tp.extendFlat({},Mp),error_y:Tp.extendFlat({},Mp)};delete Wc.error_x.copy_zstyle;delete Wc.error_y.copy_zstyle;delete Wc.error_y.copy_ystyle;var Sp={error_x:Tp.extendFlat({},Mp),error_y:Tp.extendFlat({},Mp),error_z:Tp.extendFlat({},Mp)};delete Sp.error_x.copy_ystyle;delete Sp.error_y.copy_ystyle;delete Sp.error_z.copy_ystyle;delete Sp.error_z.copy_zstyle;dG.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:Wc,bar:Wc,histogram:Wc,scatter3d:hG(Sp,"calc","nested"),scattergl:hG(Wc,"calc","nested")}},supplyDefaults:rG(),calc:oG(),makeComputeError:p8(),plot:uG(),style:vG(),hoverInfo:h2e};function h2e(e,r,t){(r.error_y||{}).visible&&(t.yerr=e.yh-e.y,r.error_y.symmetric||(t.yerrneg=e.y-e.ys)),(r.error_x||{}).visible&&(t.xerr=e.xh-e.x,r.error_x.symmetric||(t.xerrneg=e.x-e.xs))}});var mG=R((rqe,yG)=>{"use strict";yG.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}});var TG=R((tqe,AG)=>{"use strict";var pf=aa(),g8=zo(),mb=Wn(),gG=_t(),iu=qa(),yb=Al(),tl=fr(),Nl=tl.strTranslate,wG=xn().extendFlat,b8=Qu(),Pl=Sa(),x8=Vt(),d2e=g1(),p2e=Ci(),y2e=Go().flipScale,m2e=EA(),g2e=LA(),b2e=xl(),_8=ki(),bG=_8.LINE_SPACING,xG=_8.FROM_TL,_G=_8.FROM_BR,Wa=mG().cn;function x2e(e){var r=e._fullLayout,t=r._infolayer.selectAll("g."+Wa.colorbar).data(_2e(e),function(a){return a._id});t.enter().append("g").attr("class",function(a){return a._id}).classed(Wa.colorbar,!0),t.each(function(a){var n=pf.select(this);tl.ensureSingle(n,"rect",Wa.cbbg),tl.ensureSingle(n,"g",Wa.cbfills),tl.ensureSingle(n,"g",Wa.cblines),tl.ensureSingle(n,"g",Wa.cbaxis,function(o){o.classed(Wa.crisp,!0)}),tl.ensureSingle(n,"g",Wa.cbtitleunshift,function(o){o.append("g").classed(Wa.cbtitle,!0)}),tl.ensureSingle(n,"rect",Wa.cboutline);var i=w2e(n,a,e);i&&i.then&&(e._promises||[]).push(i),e._context.edits.colorbarPosition&&A2e(n,a,e)}),t.exit().each(function(a){mb.autoMargin(e,a._id)}).remove(),t.order()}function _2e(e){var r=e._fullLayout,t=e.calcdata,a=[],n,i,o,l;function s(w){return wG(w,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function u(){typeof l.calc=="function"?l.calc(e,o,n):(n._fillgradient=i.reversescale?y2e(i.colorscale):i.colorscale,n._zrange=[i[l.min],i[l.max]])}for(var f=0;f<t.length;f++){var c=t[f];if(o=c[0].trace,!!o._module){var h=o._module.colorbar;if(o.visible===!0&&h)for(var d=Array.isArray(h),p=d?h:[h],g=0;g<p.length;g++){l=p[g];var y=l.container;i=y?o[y]:o,i&&i.showscale&&(n=s(i.colorbar),n._id="cb"+o.uid+(d&&y?"-"+y:""),n._traceIndex=o.index,n._propPrefix=(y?y+".":"")+"colorbar.",n._meta=o._meta,u(),a.push(n))}}}for(var b in r._colorAxes)if(i=r[b],i.showscale){var _=r._colorAxes[b];n=s(i.colorbar),n._id="cb"+b,n._propPrefix=b+".colorbar.",n._meta=r._meta,l={min:"cmin",max:"cmax"},_[0]!=="heatmap"&&(o=_[1],l.calc=o._module.colorbar.calc),u(),a.push(n)}return a}function w2e(e,r,t){var a=r.orientation==="v",n=r.len,i=r.lenmode,o=r.thickness,l=r.thicknessmode,s=r.outlinewidth,u=r.borderwidth,f=r.bgcolor,c=r.xanchor,h=r.yanchor,d=r.xpad,p=r.ypad,g=r.x,y=a?r.y:1-r.y,b=r.yref==="paper",_=r.xref==="paper",w=t._fullLayout,x=w._size,T=r._fillcolor,S=r._line,M=r.title,C=M.side,q=r._zrange||pf.extent((typeof T=="function"?T:S.color).domain()),F=typeof S.color=="function"?S.color:function(){return S.color},P=typeof T=="function"?T:function(){return T},I=r._levels,H=T2e(t,r,q),V=H.fill,j=H.line,W=Math.round(o*(l==="fraction"?a?x.w:x.h:1)),z=W/(a?x.w:x.h),O=Math.round(n*(i==="fraction"?a?x.h:x.w:1)),G=O/(a?x.h:x.w),Z=_?x.w:t._fullLayout.width,Q=b?x.h:t._fullLayout.height,ie=Math.round(a?g*Z+d:y*Q+p),be={center:.5,right:1}[c]||0,ne={top:1,middle:.5}[h]||0,de=a?g-be*z:y-ne*z,K=a?y-ne*G:g-be*G,me=Math.round(a?Q*(1-K):Z*K);r._lenFrac=G,r._thickFrac=z,r._uFrac=de,r._vFrac=K;var fe=r._axis=M2e(t,r,q);fe.position=z+(a?g+d/x.w:y+p/x.h);var ke=["top","bottom"].indexOf(C)!==-1;if(a&&ke&&(fe.title.side=C,fe.titlex=g+d/x.w,fe.titley=K+(M.side==="top"?G-p/x.h:p/x.h)),!a&&!ke&&(fe.title.side=C,fe.titley=y+p/x.h,fe.titlex=K+d/x.w),S.color&&r.tickmode==="auto"){fe.tickmode="linear",fe.tick0=I.start;var ve=I.size,Ae=tl.constrain(O/50,4,15)+1,Y=(q[1]-q[0])/((r.nticks||Ae)*ve);if(Y>1){var ae=Math.pow(10,Math.floor(Math.log(Y)/Math.LN10));ve*=ae*tl.roundUp(Y/ae,[2,5,10]),(Math.abs(I.start)/I.size+1e-6)%1<2e-6&&(fe.tick0=0)}fe.dtick=ve}fe.domain=a?[K+p/x.h,K+G-p/x.h]:[K+d/x.w,K+G-d/x.w],fe.setScale(),e.attr("transform",Nl(Math.round(x.l),Math.round(x.t)));var X=e.select("."+Wa.cbtitleunshift).attr("transform",Nl(-Math.round(x.l),-Math.round(x.t))),Se=fe.ticklabelposition,qe=fe.title.font.size,De=e.select("."+Wa.cbaxis),tr,$e=0,Ze=0;function lr(br,pe){var Ie={propContainer:fe,propName:r._propPrefix+"title",traceIndex:r._traceIndex,_meta:r._meta,placeholder:w._dfltTitle.colorbar,containerGroup:e.select("."+Wa.cbtitle)},ze=br.charAt(0)==="h"?br.substr(1):"h"+br;e.selectAll("."+ze+",."+ze+"-math-group").remove(),d2e.draw(t,br,wG(Ie,pe||{}))}function pr(){if(a&&ke||!a&&!ke){var br,pe;C==="top"&&(br=d+x.l+Z*g,pe=p+x.t+Q*(1-K-G)+3+qe*.75),C==="bottom"&&(br=d+x.l+Z*g,pe=p+x.t+Q*(1-K)-3-qe*.25),C==="right"&&(pe=p+x.t+Q*y+3+qe*.75,br=d+x.l+Z*K),lr(fe._id+"title",{attributes:{x:br,y:pe,"text-anchor":a?"start":"middle"}})}}function ir(){if(a&&!ke||!a&&ke){var br=fe.position||0,pe=fe._offset+fe._length/2,Ie,ze;if(C==="right")ze=pe,Ie=x.l+Z*br+10+qe*(fe.showticklabels?1:.5);else if(Ie=pe,C==="bottom"&&(ze=x.t+Q*br+10+(Se.indexOf("inside")===-1?fe.tickfont.size:0)+(fe.ticks!=="intside"&&r.ticklen||0)),C==="top"){var et=M.text.split("<br>").length;ze=x.t+Q*br+10-W-bG*qe*et}lr((a?"h":"v")+fe._id+"title",{avoid:{selection:pf.select(t).selectAll("g."+fe._id+"tick"),side:C,offsetTop:a?0:x.t,offsetLeft:a?x.l:0,maxShift:a?w.width:w.height},attributes:{x:Ie,y:ze,"text-anchor":"middle"},transform:{rotate:a?-90:0,offset:0}})}}function Xe(){if(!a&&!ke||a&&ke){var br=e.select("."+Wa.cbtitle),pe=br.select("text"),Ie=[-s/2,s/2],ze=br.select(".h"+fe._id+"title-math-group").node(),et=15.6;pe.node()&&(et=parseInt(pe.node().style.fontSize,10)*bG);var zr;if(ze?(zr=Pl.bBox(ze),Ze=zr.width,$e=zr.height,$e>et&&(Ie[1]-=($e-et)/2)):pe.node()&&!pe.classed(Wa.jsPlaceholder)&&(zr=Pl.bBox(pe.node()),Ze=zr.width,$e=zr.height),a){if($e){if($e+=5,C==="top")fe.domain[1]-=$e/x.h,Ie[1]*=-1;else{fe.domain[0]+=$e/x.h;var Ve=p2e.lineCount(pe);Ie[1]+=(1-Ve)*et}br.attr("transform",Nl(Ie[0],Ie[1])),fe.setScale()}}else Ze&&(C==="right"&&(fe.domain[0]+=(Ze+qe/2)/x.w),br.attr("transform",Nl(Ie[0],Ie[1])),fe.setScale())}e.selectAll("."+Wa.cbfills+",."+Wa.cblines).attr("transform",a?Nl(0,Math.round(x.h*(1-fe.domain[1]))):Nl(Math.round(x.w*fe.domain[0]),0)),De.attr("transform",a?Nl(0,Math.round(-x.t)):Nl(Math.round(-x.l),0));var He=e.select("."+Wa.cbfills).selectAll("rect."+Wa.cbfill).attr("style","").data(V);He.enter().append("rect").classed(Wa.cbfill,!0).attr("style",""),He.exit().remove();var dr=q.map(fe.c2p).map(Math.round).sort(function(Ir,Hr){return Ir-Hr});He.each(function(Ir,Hr){var Je=[Hr===0?q[0]:(V[Hr]+V[Hr-1])/2,Hr===V.length-1?q[1]:(V[Hr]+V[Hr+1])/2].map(fe.c2p).map(Math.round);a&&(Je[1]=tl.constrain(Je[1]+(Je[1]>Je[0])?1:-1,dr[0],dr[1]));var se=pf.select(this).attr(a?"x":"y",ie).attr(a?"y":"x",pf.min(Je)).attr(a?"width":"height",Math.max(W,2)).attr(a?"height":"width",Math.max(pf.max(Je)-pf.min(Je),2));if(r._fillgradient)Pl.gradient(se,t,r._id,a?"vertical":"horizontalreversed",r._fillgradient,"fill");else{var we=P(Ir).replace("e-","");se.attr("fill",g8(we).toHexString())}});var Tr=e.select("."+Wa.cblines).selectAll("path."+Wa.cbline).data(S.color&&S.width?j:[]);Tr.enter().append("path").classed(Wa.cbline,!0),Tr.exit().remove(),Tr.each(function(Ir){var Hr=ie,Je=Math.round(fe.c2p(Ir))+S.width/2%1;pf.select(this).attr("d","M"+(a?Hr+","+Je:Je+","+Hr)+(a?"h":"v")+W).call(Pl.lineGroupStyle,S.width,F(Ir),S.dash)}),De.selectAll("g."+fe._id+"tick,path").remove();var mr=ie+W+(s||0)/2-(r.ticks==="outside"?1:0),vr=iu.calcTicks(fe),Er=iu.getTickSigns(fe)[2];return iu.drawTicks(t,fe,{vals:fe.ticks==="inside"?iu.clipEnds(fe,vr):vr,layer:De,path:iu.makeTickPath(fe,mr,Er),transFn:iu.makeTransTickFn(fe)}),iu.drawLabels(t,fe,{vals:vr,layer:De,transFn:iu.makeTransTickLabelFn(fe),labelFns:iu.makeLabelFns(fe,mr)})}function Cr(){var br,pe=W+s/2;Se.indexOf("inside")===-1&&(br=Pl.bBox(De.node()),pe+=a?br.width:br.height),tr=X.select("text");var Ie=0,ze=a&&C==="top",et=!a&&C==="right",zr=0;if(tr.node()&&!tr.classed(Wa.jsPlaceholder)){var Ve,He=X.select(".h"+fe._id+"title-math-group").node();He&&(a&&ke||!a&&!ke)?(br=Pl.bBox(He),Ie=br.width,Ve=br.height):(br=Pl.bBox(X.node()),Ie=br.right-x.l-(a?ie:me),Ve=br.bottom-x.t-(a?me:ie),!a&&C==="top"&&(pe+=br.height,zr=br.height)),et&&(tr.attr("transform",Nl(Ie/2+qe/2,0)),Ie*=2),pe=Math.max(pe,a?Ie:Ve)}var dr=(a?d:p)*2+pe+u+s/2,Tr=0;!a&&M.text&&h==="bottom"&&y<=0&&(Tr=dr/2,dr+=Tr,zr+=Tr),w._hColorbarMoveTitle=Tr,w._hColorbarMoveCBTitle=zr;var mr=u+s,vr=(a?ie:me)-mr/2-(a?d:0),Er=(a?me:ie)-(a?O:p+zr-Tr);e.select("."+Wa.cbbg).attr("x",vr).attr("y",Er).attr(a?"width":"height",Math.max(dr-Tr,2)).attr(a?"height":"width",Math.max(O+mr,2)).call(x8.fill,f).call(x8.stroke,r.bordercolor).style("stroke-width",u);var Ir=et?Math.max(Ie-10,0):0;e.selectAll("."+Wa.cboutline).attr("x",(a?ie:me+d)+Ir).attr("y",(a?me+p-O:ie)+(ze?$e:0)).attr(a?"width":"height",Math.max(W,2)).attr(a?"height":"width",Math.max(O-(a?2*p+$e:2*d+Ir),2)).call(x8.stroke,r.outlinecolor).style({fill:"none","stroke-width":s});var Hr=a?be*dr:0,Je=a?0:(1-ne)*dr-zr;if(Hr=_?x.l-Hr:-Hr,Je=b?x.t-Je:-Je,e.attr("transform",Nl(Hr,Je)),!a&&(u||g8(f).getAlpha()&&!g8.equals(w.paper_bgcolor,f))){var se=De.selectAll("text"),we=se[0].length,Ge=e.select("."+Wa.cbbg).node(),Oe=Pl.bBox(Ge),Wr=Pl.getTranslate(e),tt=2;se.each(function(Wi,zn){var qn=0,yi=we-1;if(zn===qn||zn===yi){var wt=Pl.bBox(this),Ta=Pl.getTranslate(this),ta;if(zn===yi){var Ra=wt.right+Ta.x,ja=Oe.right+Wr.x+me-u-tt+g;ta=ja-Ra,ta>0&&(ta=0)}else if(zn===qn){var Ma=wt.left+Ta.x,Ea=Oe.left+Wr.x+me+u+tt;ta=Ea-Ma,ta<0&&(ta=0)}ta&&(we<3?this.setAttribute("transform","translate("+ta+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var $r={},kt=xG[c],ra=_G[c],pa=xG[h],na=_G[h],Ka=dr-W;a?(i==="pixels"?($r.y=y,$r.t=O*pa,$r.b=O*na):($r.t=$r.b=0,$r.yt=y+n*pa,$r.yb=y-n*na),l==="pixels"?($r.x=g,$r.l=dr*kt,$r.r=dr*ra):($r.l=Ka*kt,$r.r=Ka*ra,$r.xl=g-o*kt,$r.xr=g+o*ra)):(i==="pixels"?($r.x=g,$r.l=O*kt,$r.r=O*ra):($r.l=$r.r=0,$r.xl=g+n*kt,$r.xr=g-n*ra),l==="pixels"?($r.y=1-y,$r.t=dr*pa,$r.b=dr*na):($r.t=Ka*pa,$r.b=Ka*na,$r.yt=y-o*pa,$r.yb=y+o*na));var En=r.y<.5?"b":"t",oi=r.x<.5?"l":"r";t._fullLayout._reservedMargin[r._id]={};var Ln={r:w.width-vr-Hr,l:vr+$r.r,b:w.height-Er-Je,t:Er+$r.b};_&&b?mb.autoMargin(t,r._id,$r):_?t._fullLayout._reservedMargin[r._id][En]=Ln[En]:b||a?t._fullLayout._reservedMargin[r._id][oi]=Ln[oi]:t._fullLayout._reservedMargin[r._id][En]=Ln[En]}return tl.syncOrAsync([mb.previousPromises,pr,Xe,ir,mb.previousPromises,Cr],t)}function A2e(e,r,t){var a=r.orientation==="v",n=t._fullLayout,i=n._size,o,l,s;yb.init({element:e.node(),gd:t,prepFn:function(){o=e.attr("transform"),b8(e)},moveFn:function(u,f){e.attr("transform",o+Nl(u,f)),l=yb.align((a?r._uFrac:r._vFrac)+u/i.w,a?r._thickFrac:r._lenFrac,0,1,r.xanchor),s=yb.align((a?r._vFrac:1-r._uFrac)-f/i.h,a?r._lenFrac:r._thickFrac,0,1,r.yanchor);var c=yb.getCursor(l,s,r.xanchor,r.yanchor);b8(e,c)},doneFn:function(){if(b8(e),l!==void 0&&s!==void 0){var u={};u[r._propPrefix+"x"]=l,u[r._propPrefix+"y"]=s,r._traceIndex!==void 0?gG.call("_guiRestyle",t,u,r._traceIndex):gG.call("_guiRelayout",t,u)}}})}function T2e(e,r,t){var a=r._levels,n=[],i=[],o,l,s=a.end+a.size/100,u=a.size,f=1.001*t[0]-.001*t[1],c=1.001*t[1]-.001*t[0];for(l=0;l<1e5&&(o=a.start+l*u,!(u>0?o>=s:o<=s));l++)o>f&&o<c&&n.push(o);if(r._fillgradient)i=[0];else if(typeof r._fillcolor=="function"){var h=r._filllevels;if(h)for(s=h.end+h.size/100,u=h.size,l=0;l<1e5&&(o=h.start+l*u,!(u>0?o>=s:o<=s));l++)o>t[0]&&o<t[1]&&i.push(o);else i=n.map(function(d){return d-a.size/2}),i.push(i[i.length-1]+a.size)}else r._fillcolor&&typeof r._fillcolor=="string"&&(i=[0]);return a.size<0&&(n.reverse(),i.reverse()),{line:n,fill:i}}function M2e(e,r,t){var a=e._fullLayout,n=r.orientation==="v",i={type:"linear",range:t,tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,labelalias:r.labelalias,ticklabelposition:r.ticklabelposition,ticklabeloverflow:r.ticklabeloverflow,ticklabelstep:r.ticklabelstep,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,exponentformat:r.exponentformat,minexponent:r.minexponent,separatethousands:r.separatethousands,showexponent:r.showexponent,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,title:r.title,showline:!0,anchor:"free",side:n?"right":"bottom",position:1},o=n?"y":"x",l={type:"linear",_id:o+r._id},s={letter:o,font:a.font,noAutotickangles:o==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:a.calendar};function u(f,c){return tl.coerce(i,l,b2e,f,c)}return m2e(i,l,u,s,a),g2e(i,l,u,s),l}AG.exports={draw:x2e}});var SG=R((aqe,MG)=>{"use strict";MG.exports={moduleType:"component",name:"colorbar",attributes:Cg(),supplyDefaults:x4(),draw:TG().draw,hasColorbar:u4()}});var CG=R((nqe,kG)=>{"use strict";kG.exports={moduleType:"component",name:"legend",layoutAttributes:yw(),supplyLayoutDefaults:bw(),draw:Dw(),style:Cw()}});var LG=R((iqe,EG)=>{"use strict";EG.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}});var DG=R((oqe,qG)=>{"use strict";qG.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}});var A8=R((lqe,NG)=>{"use strict";var S2e=_t(),PG=fr(),w8=PG.extendFlat,FG=PG.extendDeep;function RG(e){var r;switch(e){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function k2e(e){var r=["xaxis","yaxis","zaxis"];return r.indexOf(e.slice(0,5))>-1}NG.exports=function(r,t){var a,n=r.data,i=r.layout,o=FG([],n),l=FG({},i,RG(t.tileClass)),s=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var u=Object.keys(l);for(a=0;a<u.length;a++)k2e(u[a])&&(l[u[a]].title={text:""});for(a=0;a<o.length;a++){var f=o[a];f.showscale=!1,f.marker&&(f.marker.showscale=!1),S2e.traceIs(f,"pie-like")&&(f.textposition="none")}}if(Array.isArray(t.annotations))for(a=0;a<t.annotations.length;a++)l.annotations.push(t.annotations[a]);var c=Object.keys(l).filter(function(y){return y.match(/^scene\d*$/)});if(c.length){var h={};for(t.tileClass==="thumbnail"&&(h={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),a=0;a<c.length;a++){var d=l[c[a]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),w8(d.xaxis,h),w8(d.yaxis,h),w8(d.zaxis,h),d._scene=null}}var p=document.createElement("div");t.tileClass&&(p.className=t.tileClass);var g={gd:p,td:p,layout:l,data:o,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:s.mapboxAccessToken}};return t.setBackground!=="transparent"&&(g.config.setBackground=t.setBackground||"opaque"),g.gd.defaultLayout=RG(t.tileClass),g}});var zG=R((sqe,OG)=>{"use strict";var C2e=pg().EventEmitter,E2e=_t(),L2e=fr(),IG=Nc(),q2e=A8(),D2e=_3(),F2e=w3();function R2e(e,r){var t=new C2e,a=q2e(e,{format:"png"}),n=a.gd;n.style.position="absolute",n.style.left="-5000px",document.body.appendChild(n);function i(){var l=IG.getDelay(n._fullLayout);setTimeout(function(){var s=D2e(n),u=document.createElement("canvas");u.id=L2e.randstr(),t=F2e({format:r.format,width:n._fullLayout.width,height:n._fullLayout.height,canvas:u,emitter:t,svg:s}),t.clean=function(){n&&document.body.removeChild(n)}},l)}var o=IG.getRedrawFunc(n);return E2e.call("_doPlot",n,a.data,a.layout,a.config).then(o).then(i).catch(function(l){t.emit("error",l)}),t}OG.exports=R2e});var HG=R((uqe,UG)=>{"use strict";var BG=Nc(),P2e={getDelay:BG.getDelay,getRedrawFunc:BG.getRedrawFunc,clone:A8(),toSVG:_3(),svgToImg:w3(),toImage:zG(),downloadImage:J6()};UG.exports=P2e});var VG=R(ou=>{"use strict";ou.version=Em().version;H9();DC();var N2e=_t(),kp=ou.register=N2e.register,M8=rO(),GG=Object.keys(M8);for(gb=0;gb<GG.length;gb++)vh=GG[gb],vh.charAt(0)!=="_"&&(ou[vh]=M8[vh]),kp({moduleType:"apiMethod",name:vh,fn:M8[vh]});var vh,gb;kp(aB());kp([CB(),HB(),W0(),oU(),bU(),UU(),lH(),SH(),VH(),$H(),pG(),Fg(),SG(),CG(),Ks(),a6()]);kp([LG(),DG()]);window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(kp(window.PlotlyLocales),delete window.PlotlyLocales);ou.Icons=A2();var bb=Ks(),T8=Wn();ou.Plots={resize:T8.resize,graphJson:T8.graphJson,sendDataToCloud:T8.sendDataToCloud};ou.Fx={hover:bb.hover,unhover:bb.unhover,loneHover:bb.loneHover,loneUnhover:bb.loneUnhover};ou.Snapshot=HG();ou.PlotSchema=d0()});var WG=R((cqe,YG)=>{"use strict";YG.exports=VG()});var S8=R((vqe,jG)=>{"use strict";jG.exports={TEXTPAD:3,eventDataKeys:["value","label"]}});var hh=R((hqe,$G)=>{"use strict";var tn=nf(),XG=m0().axisHoverFormat,I2e=Hs().hovertemplateAttrs,O2e=Hs().texttemplateAttrs,JG=b0(),z2e=ti(),ZG=S8(),B2e=Us().pattern,jc=xn().extendFlat,k8=z2e({editType:"calc",arrayOk:!0,colorEditType:"style"}),U2e=tn.marker,H2e=U2e.line,G2e=jc({},H2e.width,{dflt:0}),V2e=jc({width:G2e,editType:"calc"},JG("marker.line")),Y2e=jc({line:V2e,editType:"calc"},JG("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:B2e,cornerradius:{valType:"any",editType:"calc"}});$G.exports={x:tn.x,x0:tn.x0,dx:tn.dx,y:tn.y,y0:tn.y0,dy:tn.dy,xperiod:tn.xperiod,yperiod:tn.yperiod,xperiod0:tn.xperiod0,yperiod0:tn.yperiod0,xperiodalignment:tn.xperiodalignment,yperiodalignment:tn.yperiodalignment,xhoverformat:XG("x"),yhoverformat:XG("y"),text:tn.text,texttemplate:O2e({editType:"plot"},{keys:ZG.eventDataKeys}),hovertext:tn.hovertext,hovertemplate:I2e({},{keys:ZG.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:jc({},k8,{}),insidetextfont:jc({},k8,{}),outsidetextfont:jc({},k8,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:jc({},tn.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:Y2e,offsetgroup:tn.offsetgroup,alignmentgroup:tn.alignmentgroup,selected:{marker:{opacity:tn.selected.marker.opacity,color:tn.selected.marker.color,editType:"style"},textfont:tn.selected.textfont,editType:"style"},unselected:{marker:{opacity:tn.unselected.marker.opacity,color:tn.unselected.marker.color,editType:"style"},textfont:tn.unselected.textfont,editType:"style"},zorder:tn.zorder}});var xb=R((dqe,KG)=>{"use strict";KG.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}});var C8=R((pqe,rV)=>{"use strict";var W2e=Vt(),QG=Go().hasColorscale,eV=x0(),j2e=fr().coercePattern;rV.exports=function(r,t,a,n,i){var o=a("marker.color",n),l=QG(r,"marker");l&&eV(r,t,i,a,{prefix:"marker.",cLetter:"c"}),a("marker.line.color",W2e.defaultLine),QG(r,"marker.line")&&eV(r,t,i,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width"),a("marker.opacity"),j2e(a,"marker.pattern",o,l),a("selected.marker.color"),a("unselected.marker.color")}});var ph=R((yqe,lV)=>{"use strict";var tV=Zt(),dh=fr(),aV=Vt(),X2e=_t(),Z2e=k3(),J2e=C3(),$2e=C8(),K2e=L3(),nV=hh(),_b=dh.coerceFont;function Q2e(e,r,t,a){function n(u,f){return dh.coerce(e,r,nV,u,f)}var i=Z2e(e,r,a,n);if(!i){r.visible=!1;return}J2e(e,r,a,n),n("xhoverformat"),n("yhoverformat"),n("zorder"),n("orientation",r.x&&!r.y?"h":"v"),n("base"),n("offset"),n("width"),n("text"),n("hovertext"),n("hovertemplate");var o=n("textposition");oV(e,r,a,n,o,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),$2e(e,r,n,t,a);var l=(r.marker.line||{}).color,s=X2e.getComponentMethod("errorbars","supplyDefaults");s(e,r,l||aV.defaultLine,{axis:"y"}),s(e,r,l||aV.defaultLine,{axis:"x",inherit:"y"}),dh.coerceSelectionMarkerOpacity(r,n)}function e3e(e,r){var t,a;function n(l,s){return dh.coerce(a._input,a,nV,l,s)}for(var i=0;i<e.length;i++)if(a=e[i],a.type==="bar"){t=a._input;var o=n("marker.cornerradius",r.barcornerradius);a.marker&&(a.marker.cornerradius=iV(o)),K2e(t,a,r,n,r.barmode)}}function iV(e){if(tV(e)){if(e=+e,e>=0)return e}else if(typeof e=="string"&&(e=e.trim(),e.slice(-1)==="%"&&tV(e.slice(0,-1))&&(e=+e.slice(0,-1),e>=0)))return e+"%"}function oV(e,r,t,a,n,i){i=i||{};var o=i.moduleHasSelected!==!1,l=i.moduleHasUnselected!==!1,s=i.moduleHasConstrain!==!1,u=i.moduleHasCliponaxis!==!1,f=i.moduleHasTextangle!==!1,c=i.moduleHasInsideanchor!==!1,h=!!i.hasPathbar,d=Array.isArray(n)||n==="auto",p=d||n==="inside",g=d||n==="outside";if(p||g){var y=_b(a,"textfont",t.font),b=dh.extendFlat({},y),_=e.textfont&&e.textfont.color,w=!_;if(w&&delete b.color,_b(a,"insidetextfont",b),h){var x=dh.extendFlat({},y);w&&delete x.color,_b(a,"pathbar.textfont",x)}g&&_b(a,"outsidetextfont",y),o&&a("selected.textfont.color"),l&&a("unselected.textfont.color"),s&&a("constraintext"),u&&a("cliponaxis"),f&&a("textangle"),a("texttemplate")}p&&c&&a("insidetextanchor")}lV.exports={supplyDefaults:Q2e,crossTraceDefaults:e3e,handleText:oV,validateCornerradius:iV}});var E8=R((mqe,sV)=>{"use strict";var r3e=_t(),t3e=qa(),a3e=fr(),n3e=xb(),i3e=ph().validateCornerradius;sV.exports=function(e,r,t){function a(g,y){return a3e.coerce(e,r,n3e,g,y)}for(var n=!1,i=!1,o=!1,l={},s=a("barmode"),u=s==="group",f=0;f<t.length;f++){var c=t[f];if(r3e.traceIs(c,"bar")&&c.visible)n=!0;else continue;var h=c.xaxis+c.yaxis;if(u?(l[h]&&(o=!0),l[h]=!0):(h+=c._input.offsetgroup,l.length>0&&!l[h]&&(o=!0),l[h]=!0),c.visible&&c.type==="histogram"){var d=t3e.getFromId({_fullLayout:r},c[c.orientation==="v"?"xaxis":"yaxis"]);d.type!=="category"&&(i=!0)}}if(!n){delete r.barmode;return}s!=="overlay"&&a("barnorm"),a("bargap",i&&!o?0:.2),a("bargroupgap");var p=a("barcornerradius");r.barcornerradius=i3e(p)}});var wb=R((gqe,uV)=>{"use strict";var yh=fr();uV.exports=function(r,t){for(var a=0;a<r.length;a++)r[a].i=a;yh.mergeArray(t.text,r,"tx"),yh.mergeArray(t.hovertext,r,"htx");var n=t.marker;if(n){yh.mergeArray(n.opacity,r,"mo",!0),yh.mergeArray(n.color,r,"mc");var i=n.line;i&&(yh.mergeArray(i.color,r,"mlc"),yh.mergeArrayCastPositive(i.width,r,"mlw"))}}});var pV=R((bqe,dV)=>{"use strict";var fV=qa(),cV=D3(),vV=Go().hasColorscale,hV=qg(),o3e=wb(),l3e=sA();dV.exports=function(r,t){var a=fV.getFromId(r,t.xaxis||"x"),n=fV.getFromId(r,t.yaxis||"y"),i,o,l,s,u,f,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(i=a.makeCalcdata(t,"x",c),l=n.makeCalcdata(t,"y"),s=cV(t,n,"y",l),u=!!t.yperiodalignment,f="y"):(i=n.makeCalcdata(t,"y",c),l=a.makeCalcdata(t,"x"),s=cV(t,a,"x",l),u=!!t.xperiodalignment,f="x"),o=s.vals;for(var h=Math.min(o.length,i.length),d=new Array(h),p=0;p<h;p++)d[p]={p:o[p],s:i[p]},u&&(d[p].orig_p=l[p],d[p][f+"End"]=s.ends[p],d[p][f+"Start"]=s.starts[p]),t.ids&&(d[p].id=String(t.ids[p]));return vV(t,"marker")&&hV(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),vV(t,"marker.line")&&hV(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),o3e(d,t),l3e(d,t),d}});var L8=R((xqe,mV)=>{"use strict";var s3e=aa(),u3e=fr();function f3e(e,r,t){var a=e._fullLayout,n=a["_"+t+"Text_minsize"];if(n){var i=a.uniformtext.mode==="hide",o;switch(t){case"funnelarea":case"pie":case"sunburst":o="g.slice";break;case"treemap":case"icicle":o="g.slice, g.pathbar";break;default:o="g.points > g.point"}r.selectAll(o).each(function(l){var s=l.transform;if(s){s.scale=i&&s.hide?0:n/s.fontSize;var u=s3e.select(this).select("text");u3e.setTransormAndDisplay(u,s)}})}}function c3e(e,r,t){if(t.uniformtext.mode){var a=yV(e),n=t.uniformtext.minsize,i=r.scale*r.fontSize;r.hide=i<n,t[a]=t[a]||1/0,r.hide||(t[a]=Math.min(t[a],Math.max(i,n)))}}function v3e(e,r){var t=yV(e);r[t]=void 0}function yV(e){return"_"+e+"Text_minsize"}mV.exports={recordMinTextSize:c3e,clearMinTextSize:v3e,resizeText:f3e}});var Ab=R(Xc=>{"use strict";var h3e=Zt(),d3e=zo(),gV=fr().isArrayOrTypedArray;Xc.coerceString=function(e,r,t){if(typeof r=="string"){if(r||!e.noBlank)return r}else if((typeof r=="number"||r===!0)&&!e.strict)return String(r);return t!==void 0?t:e.dflt};Xc.coerceNumber=function(e,r,t){if(h3e(r)){r=+r;var a=e.min,n=e.max,i=a!==void 0&&r<a||n!==void 0&&r>n;if(!i)return r}return t!==void 0?t:e.dflt};Xc.coerceColor=function(e,r,t){return d3e(r).isValid()?r:t!==void 0?t:e.dflt};Xc.coerceEnumerated=function(e,r,t){return e.coerceNumber&&(r=+r),e.values.indexOf(r)!==-1?r:t!==void 0?t:e.dflt};Xc.getValue=function(e,r){var t;return gV(e)?r<e.length&&(t=e[r]):t=e,t};Xc.getLineWidth=function(e,r){var t=0<r.mlw?r.mlw:gV(e.marker.line.width)?0:e.marker.line.width;return t}});var mh=R((wqe,EV)=>{"use strict";var Cp=aa(),p3e=Vt(),Ep=Sa(),bV=fr(),xV=_t(),_V=L8().resizeText,q8=hh(),y3e=q8.textfont,m3e=q8.insidetextfont,g3e=q8.outsidetextfont,vi=Ab();function b3e(e){var r=Cp.select(e).selectAll('g[class^="barlayer"]').selectAll("g.trace");_V(e,r,"bar");var t=r.size(),a=e._fullLayout;r.style("opacity",function(n){return n[0].trace.opacity}).each(function(n){(a.barmode==="stack"&&t>1||a.bargap===0&&a.bargroupgap===0&&!n[0].trace.marker.line.width)&&Cp.select(this).attr("shape-rendering","crispEdges")}),r.selectAll("g.points").each(function(n){var i=Cp.select(this),o=n[0].trace;wV(i,o,e)}),xV.getComponentMethod("errorbars","style")(r)}function wV(e,r,t){Ep.pointStyle(e.selectAll("path"),r,t),AV(e,r,t)}function AV(e,r,t){e.selectAll("text").each(function(a){var n=Cp.select(this),i=bV.ensureUniformFontSize(t,TV(n,a,r,t));Ep.font(n,i)})}function x3e(e,r,t){var a=r[0].trace;a.selectedpoints?_3e(t,a,e):(wV(t,a,e),xV.getComponentMethod("errorbars","style")(t))}function _3e(e,r,t){Ep.selectedPointStyle(e.selectAll("path"),r),w3e(e.selectAll("text"),r,t)}function w3e(e,r,t){e.each(function(a){var n=Cp.select(this),i;if(a.selected){i=bV.ensureUniformFontSize(t,TV(n,a,r,t));var o=r.selected.textfont&&r.selected.textfont.color;o&&(i.color=o),Ep.font(n,i)}else Ep.selectedTextStyle(n,r)})}function TV(e,r,t,a){var n=a._fullLayout.font,i=t.textfont;if(e.classed("bartext-inside")){var o=CV(r,t);i=SV(t,r.i,n,o)}else e.classed("bartext-outside")&&(i=kV(t,r.i,n));return i}function MV(e,r,t){return D8(y3e,e.textfont,r,t)}function SV(e,r,t,a){var n=MV(e,r,t),i=e._input.textfont===void 0||e._input.textfont.color===void 0||Array.isArray(e.textfont.color)&&e.textfont.color[r]===void 0;return i&&(n={color:p3e.contrast(a),family:n.family,size:n.size,weight:n.weight,style:n.style,variant:n.variant,textcase:n.textcase,lineposition:n.lineposition,shadow:n.shadow}),D8(m3e,e.insidetextfont,r,n)}function kV(e,r,t){var a=MV(e,r,t);return D8(g3e,e.outsidetextfont,r,a)}function D8(e,r,t,a){r=r||{};var n=vi.getValue(r.family,t),i=vi.getValue(r.size,t),o=vi.getValue(r.color,t),l=vi.getValue(r.weight,t),s=vi.getValue(r.style,t),u=vi.getValue(r.variant,t),f=vi.getValue(r.textcase,t),c=vi.getValue(r.lineposition,t),h=vi.getValue(r.shadow,t);return{family:vi.coerceString(e.family,n,a.family),size:vi.coerceNumber(e.size,i,a.size),color:vi.coerceColor(e.color,o,a.color),weight:vi.coerceString(e.weight,l,a.weight),style:vi.coerceString(e.style,s,a.style),variant:vi.coerceString(e.variant,u,a.variant),textcase:vi.coerceString(e.variant,f,a.textcase),lineposition:vi.coerceString(e.variant,c,a.lineposition),shadow:vi.coerceString(e.variant,h,a.shadow)}}function CV(e,r){return r.type==="waterfall"?r[e.dir].marker.color:e.mcc||e.mc||r.marker.color}EV.exports={style:b3e,styleTextPoints:AV,styleOnSelect:x3e,getInsideTextFont:SV,getOutsideTextFont:kV,getBarColor:CV,resizeText:_V}});var P8=R((Aqe,IV)=>{"use strict";var Tb=aa(),Mb=Zt(),ni=fr(),A3e=Ci(),T3e=Vt(),yf=Sa(),M3e=_t(),Sb=qa().tickText,LV=L8(),S3e=LV.recordMinTextSize,k3e=LV.clearMinTextSize,F8=mh(),gh=Ab(),C3e=S8(),qV=hh(),E3e=qV.text,L3e=qV.textposition,q3e=ns().appendArrayPointValue,Ri=C3e.TEXTPAD;function D3e(e){return e.id}function F3e(e){if(e.ids)return D3e}function R8(e){return(e>0)-(e<0)}function ys(e,r){return e<r?1:-1}function R3e(e,r,t,a){var n=[],i=[],o=a?r:t,l=a?t:r;return n[0]=o.c2p(e.s0,!0),i[0]=l.c2p(e.p0,!0),n[1]=o.c2p(e.s1,!0),i[1]=l.c2p(e.p1,!0),a?[n,i]:[i,n]}function DV(e,r,t,a){if(!r.uniformtext.mode&&FV(t)){var n;return a&&(n=a()),e.transition().duration(t.duration).ease(t.easing).each("end",function(){n&&n()}).each("interrupt",function(){n&&n()})}else return e}function FV(e){return e&&e.duration>0}function P3e(e,r,t,a,n,i){var o=r.xaxis,l=r.yaxis,s=e._fullLayout,u=e._context.staticPlot;n||(n={mode:s.barmode,norm:s.barmode,gap:s.bargap,groupgap:s.bargroupgap},k3e("bar",s));var f=ni.makeTraceGroups(a,t,"trace bars").each(function(c){var h=Tb.select(this),d=c[0].trace,p=c[0].t,g=d.type==="waterfall",y=d.type==="funnel",b=d.type==="histogram",_=d.type==="bar",w=_||y,x=0;g&&d.connector.visible&&d.connector.mode==="between"&&(x=d.connector.line.width/2);var T=d.orientation==="h",S=FV(n),M=ni.ensureSingle(h,"g","points"),C=F3e(d),q=M.selectAll("g.point").data(ni.identity,C);q.enter().append("g").classed("point",!0),q.exit().remove(),q.each(function(P,I){var H=Tb.select(this),V=R3e(P,o,l,T),j=V[0][0],W=V[0][1],z=V[1][0],O=V[1][1],G=(T?W-j:O-z)===0;G&&w&&gh.getLineWidth(d,P)&&(G=!1),G||(G=!Mb(j)||!Mb(W)||!Mb(z)||!Mb(O)),P.isBlank=G,G&&(T?W=j:O=z),x&&!G&&(T?(j-=ys(j,W)*x,W+=ys(j,W)*x):(z-=ys(z,O)*x,O+=ys(z,O)*x));var Z,Q;if(d.type==="waterfall"){if(!G){var ie=d[P.dir].marker;Z=ie.line.width,Q=ie.color}}else Z=gh.getLineWidth(d,P),Q=P.mc||d.marker.color;function be(pe){var Ie=Tb.round(Z/2%1,2);return n.gap===0&&n.groupgap===0?Tb.round(Math.round(pe)-Ie,2):pe}function ne(pe,Ie,ze){return ze&&pe===Ie?pe:Math.abs(pe-Ie)>=2?be(pe):pe>Ie?Math.ceil(pe):Math.floor(pe)}var de=T3e.opacity(Q),K=de<1||Z>.01?be:ne;e._context.staticPlot||(j=K(j,W,T),W=K(W,j,T),z=K(z,O,!T),O=K(O,z,!T));var me=T?o.c2p:l.c2p,fe;P.s0>0?fe=P._sMax:P.s0<0?fe=P._sMin:fe=P.s1>0?P._sMax:P._sMin;function ke(pe,Ie){if(!pe)return 0;var ze=Math.abs(T?O-z:W-j),et=Math.abs(T?W-j:O-z),zr=K(Math.abs(me(fe,!0)-me(0,!0))),Ve=P.hasB?Math.min(ze/2,et/2):Math.min(ze/2,zr),He;if(Ie==="%"){var dr=Math.min(50,pe);He=ze*(dr/100)}else He=pe;return K(Math.max(Math.min(He,Ve),0))}var ve=_||b?ke(p.cornerradiusvalue,p.cornerradiusform):0,Ae,Y,ae="M"+j+","+z+"V"+O+"H"+W+"V"+z+"Z",X=0;if(ve&&P.s){var Se=R8(P.s0)===0||R8(P.s)===R8(P.s0)?P.s1:P.s0;if(X=K(P.hasB?0:Math.abs(me(fe,!0)-me(Se,!0))),X<ve){var qe=ys(j,W),De=ys(z,O),tr=qe===-De?1:0;if(T)if(P.hasB)Ae="M"+(j+ve*qe)+","+z+"A "+ve+","+ve+" 0 0 "+tr+" "+j+","+(z+ve*De)+"V"+(O-ve*De)+"A "+ve+","+ve+" 0 0 "+tr+" "+(j+ve*qe)+","+O+"H"+(W-ve*qe)+"A "+ve+","+ve+" 0 0 "+tr+" "+W+","+(O-ve*De)+"V"+(z+ve*De)+"A "+ve+","+ve+" 0 0 "+tr+" "+(W-ve*qe)+","+z+"Z";else{Y=Math.abs(W-j)+X;var $e=Y<ve?ve-Math.sqrt(Y*(2*ve-Y)):0,Ze=X>0?Math.sqrt(X*(2*ve-X)):0,lr=qe>0?Math.max:Math.min;Ae="M"+j+","+z+"V"+(O-$e*De)+"H"+lr(W-(ve-X)*qe,j)+"A "+ve+","+ve+" 0 0 "+tr+" "+W+","+(O-ve*De-Ze)+"V"+(z+ve*De+Ze)+"A "+ve+","+ve+" 0 0 "+tr+" "+lr(W-(ve-X)*qe,j)+","+(z+$e*De)+"Z"}else if(P.hasB)Ae="M"+(j+ve*qe)+","+z+"A "+ve+","+ve+" 0 0 "+tr+" "+j+","+(z+ve*De)+"V"+(O-ve*De)+"A "+ve+","+ve+" 0 0 "+tr+" "+(j+ve*qe)+","+O+"H"+(W-ve*qe)+"A "+ve+","+ve+" 0 0 "+tr+" "+W+","+(O-ve*De)+"V"+(z+ve*De)+"A "+ve+","+ve+" 0 0 "+tr+" "+(W-ve*qe)+","+z+"Z";else{Y=Math.abs(O-z)+X;var pr=Y<ve?ve-Math.sqrt(Y*(2*ve-Y)):0,ir=X>0?Math.sqrt(X*(2*ve-X)):0,Xe=De>0?Math.max:Math.min;Ae="M"+(j+pr*qe)+","+z+"V"+Xe(O-(ve-X)*De,z)+"A "+ve+","+ve+" 0 0 "+tr+" "+(j+ve*qe-ir)+","+O+"H"+(W-ve*qe+ir)+"A "+ve+","+ve+" 0 0 "+tr+" "+(W-pr*qe)+","+Xe(O-(ve-X)*De,z)+"V"+z+"Z"}}else Ae=ae}else Ae=ae;var Cr=DV(ni.ensureSingle(H,"path"),s,n,i);if(Cr.style("vector-effect",u?"none":"non-scaling-stroke").attr("d",isNaN((W-j)*(O-z))||G&&e._context.staticPlot?"M0,0Z":Ae).call(yf.setClipUrl,r.layerClipId,e),!s.uniformtext.mode&&S){var br=yf.makePointStyleFns(d);yf.singlePointStyle(P,Cr,d,br,e)}N3e(e,r,H,c,I,j,W,z,O,ve,X,n,i),r.layerClipId&&yf.hideOutsideRangePoint(P,H.select("text"),o,l,d.xcalendar,d.ycalendar)});var F=d.cliponaxis===!1;yf.setClipUrl(h,F?null:r.layerClipId,e)});M3e.getComponentMethod("errorbars","plot")(e,f,r,n)}function N3e(e,r,t,a,n,i,o,l,s,u,f,c,h){var d=r.xaxis,p=r.yaxis,g=e._fullLayout,y;function b(Y,ae,X){var Se=ni.ensureSingle(Y,"text").text(ae).attr({class:"bartext bartext-"+y,"text-anchor":"middle","data-notex":1}).call(yf.font,X).call(A3e.convertToTspans,e);return Se}var _=a[0].trace,w=_.orientation==="h",x=z3e(g,a,n,d,p);y=B3e(_,n);var T=c.mode==="stack"||c.mode==="relative",S=a[n],M=!T||S._outmost,C=S.hasB,q=u&&u-f>Ri;if(!x||y==="none"||(S.isBlank||i===o||l===s)&&(y==="auto"||y==="inside")){t.select("text").remove();return}var F=g.font,P=F8.getBarColor(a[n],_),I=F8.getInsideTextFont(_,n,F,P),H=F8.getOutsideTextFont(_,n,F),V=_.insidetextanchor||"end",j=t.datum();w?d.type==="log"&&j.s0<=0&&(d.range[0]<d.range[1]?i=0:i=d._length):p.type==="log"&&j.s0<=0&&(p.range[0]<p.range[1]?l=p._length:l=0);var W=Math.abs(o-i),z=Math.abs(s-l),O=W-2*Ri,G=z-2*Ri,Z,Q,ie,be,ne;if(y==="outside"&&!M&&!S.hasB&&(y="inside"),y==="auto")if(M){y="inside",ne=ni.ensureUniformFontSize(e,I),Z=b(t,x,ne),Q=yf.bBox(Z.node()),ie=Q.width,be=Q.height;var de=ie>0&&be>0,K;q?C?K=Zc(O-2*u,G,ie,be,w)||Zc(O,G-2*u,ie,be,w):w?K=Zc(O-(u-f),G,ie,be,w)||Zc(O,G-2*(u-f),ie,be,w):K=Zc(O,G-(u-f),ie,be,w)||Zc(O-2*(u-f),G,ie,be,w):K=Zc(O,G,ie,be,w),de&&K?y="inside":(y="outside",Z.remove(),Z=null)}else y="inside";if(!Z){ne=ni.ensureUniformFontSize(e,y==="outside"?H:I),Z=b(t,x,ne);var me=Z.attr("transform");if(Z.attr("transform",""),Q=yf.bBox(Z.node()),ie=Q.width,be=Q.height,Z.attr("transform",me),ie<=0||be<=0){Z.remove();return}}var fe=_.textangle,ke,ve;y==="outside"?(ve=_.constraintext==="both"||_.constraintext==="outside",ke=O3e(i,o,l,s,Q,{isHorizontal:w,constrained:ve,angle:fe})):(ve=_.constraintext==="both"||_.constraintext==="inside",ke=NV(i,o,l,s,Q,{isHorizontal:w,constrained:ve,angle:fe,anchor:V,hasB:C,r:u,overhead:f})),ke.fontSize=ne.size,S3e(_.type==="histogram"?"bar":_.type,ke,g),S.transform=ke;var Ae=DV(Z,g,c,h);ni.setTransormAndDisplay(Ae,ke)}function Zc(e,r,t,a,n){if(e<0||r<0)return!1;var i=t<=e&&a<=r,o=t<=r&&a<=e,l=n?e>=t*(r/a):r>=a*(e/t);return i||o||l}function RV(e){return e==="auto"?0:e}function PV(e,r){var t=Math.PI/180*r,a=Math.abs(Math.sin(t)),n=Math.abs(Math.cos(t));return{x:e.width*n+e.height*a,y:e.width*a+e.height*n}}function NV(e,r,t,a,n,i){var o=!!i.isHorizontal,l=!!i.constrained,s=i.angle||0,u=i.anchor,f=u==="end",c=u==="start",h=i.leftToRight||0,d=(h+1)/2,p=1-d,g=i.hasB,y=i.r,b=i.overhead,_=n.width,w=n.height,x=Math.abs(r-e),T=Math.abs(a-t),S=x>2*Ri&&T>2*Ri?Ri:0;x-=2*S,T-=2*S;var M=RV(s);s==="auto"&&!(_<=x&&w<=T)&&(_>x||w>T)&&(!(_>T||w>x)||_<w!=x<T)&&(M+=90);var C=PV(n,M),q,F;if(y&&y-b>Ri){var P=I3e(e,r,t,a,C,y,b,o,g);q=P.scale,F=P.pad}else q=1,l&&(q=Math.min(1,x/C.x,T/C.y)),F=0;var I=n.left*p+n.right*d,H=(n.top+n.bottom)/2,V=(e+Ri)*p+(r-Ri)*d,j=(t+a)/2,W=0,z=0;if(c||f){var O=(o?C.x:C.y)/2;y&&(f||g)&&(S+=F);var G=o?ys(e,r):ys(t,a);o?c?(V=e+G*S,W=-G*O):(V=r-G*S,W=G*O):c?(j=t+G*S,z=-G*O):(j=a-G*S,z=G*O)}return{textX:I,textY:H,targetX:V,targetY:j,anchorX:W,anchorY:z,scale:q,rotate:M}}function I3e(e,r,t,a,n,i,o,l,s){var u=Math.max(0,Math.abs(r-e)-2*Ri),f=Math.max(0,Math.abs(a-t)-2*Ri),c=i-Ri,h=o?c-Math.sqrt(c*c-(c-o)*(c-o)):c,d=s?c*2:l?c-o:2*h,p=s?c*2:l?2*h:c-o,g,y,b,_,w;return n.y/n.x>=f/(u-d)?_=f/n.y:n.y/n.x<=(f-p)/u?_=u/n.x:!s&&l?(g=n.x*n.x+n.y*n.y/4,y=-2*n.x*(u-c)-n.y*(f/2-c),b=(u-c)*(u-c)+(f/2-c)*(f/2-c)-c*c,_=(-y+Math.sqrt(y*y-4*g*b))/(2*g)):s?(g=(n.x*n.x+n.y*n.y)/4,y=-n.x*(u/2-c)-n.y*(f/2-c),b=(u/2-c)*(u/2-c)+(f/2-c)*(f/2-c)-c*c,_=(-y+Math.sqrt(y*y-4*g*b))/(2*g)):(g=n.x*n.x/4+n.y*n.y,y=-n.x*(u/2-c)-2*n.y*(f-c),b=(u/2-c)*(u/2-c)+(f-c)*(f-c)-c*c,_=(-y+Math.sqrt(y*y-4*g*b))/(2*g)),_=Math.min(1,_),l?w=Math.max(0,c-Math.sqrt(Math.max(0,c*c-(c-(f-n.y*_)/2)*(c-(f-n.y*_)/2)))-o):w=Math.max(0,c-Math.sqrt(Math.max(0,c*c-(c-(u-n.x*_)/2)*(c-(u-n.x*_)/2)))-o),{scale:_,pad:w}}function O3e(e,r,t,a,n,i){var o=!!i.isHorizontal,l=!!i.constrained,s=i.angle||0,u=n.width,f=n.height,c=Math.abs(r-e),h=Math.abs(a-t),d;o?d=h>2*Ri?Ri:0:d=c>2*Ri?Ri:0;var p=1;l&&(p=o?Math.min(1,h/f):Math.min(1,c/u));var g=RV(s),y=PV(n,g),b=(o?y.x:y.y)/2,_=(n.left+n.right)/2,w=(n.top+n.bottom)/2,x=(e+r)/2,T=(t+a)/2,S=0,M=0,C=o?ys(r,e):ys(t,a);return o?(x=r-C*d,S=C*b):(T=a+C*d,M=-C*b),{textX:_,textY:w,targetX:x,targetY:T,anchorX:S,anchorY:M,scale:p,rotate:g}}function z3e(e,r,t,a,n){var i=r[0].trace,o=i.texttemplate,l;return o?l=U3e(e,r,t,a,n):i.textinfo?l=H3e(r,t,a,n):l=gh.getValue(i.text,t),gh.coerceString(E3e,l)}function B3e(e,r){var t=gh.getValue(e.textposition,r);return gh.coerceEnumerated(L3e,t)}function U3e(e,r,t,a,n){var i=r[0].trace,o=ni.castOption(i,t,"texttemplate");if(!o)return"";var l=i.type==="histogram",s=i.type==="waterfall",u=i.type==="funnel",f=i.orientation==="h",c,h,d,p;f?(c="y",h=n,d="x",p=a):(c="x",h=a,d="y",p=n);function g(S){return Sb(h,h.c2l(S),!0).text}function y(S){return Sb(p,p.c2l(S),!0).text}var b=r[t],_={};_.label=b.p,_.labelLabel=_[c+"Label"]=g(b.p);var w=ni.castOption(i,b.i,"text");(w===0||w)&&(_.text=w),_.value=b.s,_.valueLabel=_[d+"Label"]=y(b.s);var x={};q3e(x,i,b.i),(l||x.x===void 0)&&(x.x=f?_.value:_.label),(l||x.y===void 0)&&(x.y=f?_.label:_.value),(l||x.xLabel===void 0)&&(x.xLabel=f?_.valueLabel:_.labelLabel),(l||x.yLabel===void 0)&&(x.yLabel=f?_.labelLabel:_.valueLabel),s&&(_.delta=+b.rawS||b.s,_.deltaLabel=y(_.delta),_.final=b.v,_.finalLabel=y(_.final),_.initial=_.final-_.delta,_.initialLabel=y(_.initial)),u&&(_.value=b.s,_.valueLabel=y(_.value),_.percentInitial=b.begR,_.percentInitialLabel=ni.formatPercent(b.begR),_.percentPrevious=b.difR,_.percentPreviousLabel=ni.formatPercent(b.difR),_.percentTotal=b.sumR,_.percenTotalLabel=ni.formatPercent(b.sumR));var T=ni.castOption(i,b.i,"customdata");return T&&(_.customdata=T),ni.texttemplateString(o,_,e._d3locale,x,_,i._meta||{})}function H3e(e,r,t,a){var n=e[0].trace,i=n.orientation==="h",o=n.type==="waterfall",l=n.type==="funnel";function s(T){var S=i?a:t;return Sb(S,T,!0).text}function u(T){var S=i?t:a;return Sb(S,+T,!0).text}var f=n.textinfo,c=e[r],h=f.split("+"),d=[],p,g=function(T){return h.indexOf(T)!==-1};if(g("label")&&d.push(s(e[r].p)),g("text")&&(p=ni.castOption(n,c.i,"text"),(p===0||p)&&d.push(p)),o){var y=+c.rawS||c.s,b=c.v,_=b-y;g("initial")&&d.push(u(_)),g("delta")&&d.push(u(y)),g("final")&&d.push(u(b))}if(l){g("value")&&d.push(u(c.s));var w=0;g("percent initial")&&w++,g("percent previous")&&w++,g("percent total")&&w++;var x=w>1;g("percent initial")&&(p=ni.formatPercent(c.begR),x&&(p+=" of initial"),d.push(p)),g("percent previous")&&(p=ni.formatPercent(c.difR),x&&(p+=" of previous"),d.push(p)),g("percent total")&&(p=ni.formatPercent(c.sumR),x&&(p+=" of total"),d.push(p))}return d.join("<br>")}IV.exports={plot:P3e,toMoveInsideBar:NV}});var I8=R((Tqe,UV)=>{"use strict";var Lp=Ks(),G3e=_t(),OV=Vt(),V3e=fr().fillText,Y3e=Ab().getLineWidth,N8=qa().hoverLabelText,W3e=vn().BADNUM;function j3e(e,r,t,a,n){var i=zV(e,r,t,a,n);if(i){var o=i.cd,l=o[0].trace,s=o[i.index];return i.color=BV(l,s),G3e.getComponentMethod("errorbars","hoverInfo")(s,l,i),[i]}}function zV(e,r,t,a,n){var i=e.cd,o=i[0].trace,l=i[0].t,s=a==="closest",u=o.type==="waterfall",f=e.maxHoverDistance,c=e.maxSpikeDistance,h,d,p,g,y,b,_;o.orientation==="h"?(h=t,d=r,p="y",g="x",y=j,b=I):(h=r,d=t,p="x",g="y",b=j,y=I);var w=o[p+"period"],x=s||w;function T(K){return M(K,-1)}function S(K){return M(K,1)}function M(K,me){var fe=K.w;return K[p]+me*fe/2}function C(K){return K[p+"End"]-K[p+"Start"]}var q=s?T:w?function(K){return K.p-C(K)/2}:function(K){return Math.min(T(K),K.p-l.bardelta/2)},F=s?S:w?function(K){return K.p+C(K)/2}:function(K){return Math.max(S(K),K.p+l.bardelta/2)};function P(K,me,fe){return n.finiteRange&&(fe=0),Lp.inbox(K-h,me-h,fe+Math.min(1,Math.abs(me-K)/_)-1)}function I(K){return P(q(K),F(K),f)}function H(K){return P(T(K),S(K),c)}function V(K){var me=K[g];if(u){var fe=Math.abs(K.rawS)||0;d>0?me+=fe:d<0&&(me-=fe)}return me}function j(K){var me=d,fe=K.b,ke=V(K);return Lp.inbox(fe-me,ke-me,f+(ke-me)/(ke-fe)-1)}function W(K){var me=d,fe=K.b,ke=V(K);return Lp.inbox(fe-me,ke-me,c+(ke-me)/(ke-fe)-1)}var z=e[p+"a"],O=e[g+"a"];_=Math.abs(z.r2c(z.range[1])-z.r2c(z.range[0]));function G(K){return(y(K)+b(K))/2}var Z=Lp.getDistanceFunction(a,y,b,G);if(Lp.getClosest(i,Z,e),e.index!==!1&&i[e.index].p!==W3e){x||(q=function(K){return Math.min(T(K),K.p-l.bargroupwidth/2)},F=function(K){return Math.max(S(K),K.p+l.bargroupwidth/2)});var Q=e.index,ie=i[Q],be=o.base?ie.b+ie.s:ie.s;e[g+"0"]=e[g+"1"]=O.c2p(ie[g],!0),e[g+"LabelVal"]=be;var ne=l.extents[l.extents.round(ie.p)];e[p+"0"]=z.c2p(s?q(ie):ne[0],!0),e[p+"1"]=z.c2p(s?F(ie):ne[1],!0);var de=ie.orig_p!==void 0;return e[p+"LabelVal"]=de?ie.orig_p:ie.p,e.labelLabel=N8(z,e[p+"LabelVal"],o[p+"hoverformat"]),e.valueLabel=N8(O,e[g+"LabelVal"],o[g+"hoverformat"]),e.baseLabel=N8(O,ie.b,o[g+"hoverformat"]),e.spikeDistance=(W(ie)+H(ie))/2,e[p+"Spike"]=z.c2p(ie.p,!0),V3e(ie,o,e),e.hovertemplate=o.hovertemplate,e}}function BV(e,r){var t=r.mcc||e.marker.color,a=r.mlcc||e.marker.line.color,n=Y3e(e,r);if(OV.opacity(t))return t;if(OV.opacity(a)&&n)return a}UV.exports={hoverPoints:j3e,hoverOnBars:zV,getTraceColor:BV}});var GV=R((Mqe,HV)=>{"use strict";HV.exports=function(r,t,a){return r.x="xVal"in t?t.xVal:t.x,r.y="yVal"in t?t.yVal:t.y,t.xa&&(r.xaxis=t.xa),t.ya&&(r.yaxis=t.ya),a.orientation==="h"?(r.label=r.y,r.value=r.x):(r.label=r.x,r.value=r.y),r}});var O8=R((Sqe,VV)=>{"use strict";VV.exports=function(r,t){var a=r.cd,n=r.xaxis,i=r.yaxis,o=a[0].trace,l=o.type==="funnel",s=o.orientation==="h",u=[],f;if(t===!1)for(f=0;f<a.length;f++)a[f].selected=0;else for(f=0;f<a.length;f++){var c=a[f],h="ct"in c?c.ct:X3e(c,n,i,s,l);t.contains(h,!1,f,r)?(u.push({pointNumber:f,x:n.c2d(c.x),y:i.c2d(c.y)}),c.selected=1):c.selected=0}return u};function X3e(e,r,t,a,n){var i=r.c2p(a?e.s0:e.p0,!0),o=r.c2p(a?e.s1:e.p1,!0),l=t.c2p(a?e.p0:e.s0,!0),s=t.c2p(a?e.p1:e.s1,!0);return n?[(i+o)/2,(l+s)/2]:a?[o,(l+s)/2]:[(i+o)/2,s]}});var WV=R((kqe,YV)=>{"use strict";YV.exports={attributes:hh(),layoutAttributes:xb(),supplyDefaults:ph().supplyDefaults,crossTraceDefaults:ph().crossTraceDefaults,supplyLayoutDefaults:E8(),calc:pV(),crossTraceCalc:N3().crossTraceCalc,colorbar:hp(),arraysToCalcdata:wb(),plot:P8().plot,style:mh().style,styleOnSelect:mh().styleOnSelect,hoverPoints:I8().hoverPoints,eventData:GV(),selectPoints:O8(),moduleType:"trace",name:"bar",basePlotModule:rh(),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}});var XV=R((Cqe,jV)=>{"use strict";jV.exports=WV()});var JV=R((Eqe,ZV)=>{"use strict";ZV.exports=function(r,t){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}});var KV=R((Lqe,$V)=>{"use strict";$V.exports={eventDataKeys:["binNumber"]}});var U8=R((qqe,rY)=>{"use strict";var yo=hh(),QV=m0().axisHoverFormat,Z3e=Hs().hovertemplateAttrs,J3e=Hs().texttemplateAttrs,z8=ti(),eY=JV(),$3e=KV(),B8=xn().extendFlat;rY.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:QV("x"),yhoverformat:QV("y"),text:B8({},yo.text,{}),hovertext:B8({},yo.hovertext,{}),orientation:yo.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:eY("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:eY("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:Z3e({},{keys:$3e.eventDataKeys}),texttemplate:J3e({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:B8({},yo.textposition,{arrayOk:!1}),textfont:z8({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:z8({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:z8({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:yo.insidetextanchor,textangle:yo.textangle,cliponaxis:yo.cliponaxis,constraintext:yo.constraintext,marker:yo.marker,offsetgroup:yo.offsetgroup,alignmentgroup:yo.alignmentgroup,selected:yo.selected,unselected:yo.unselected,zorder:yo.zorder}});var iY=R((Dqe,nY)=>{"use strict";var tY=_t(),qp=fr(),aY=Vt(),K3e=ph().handleText,Q3e=C8(),ebe=U8();nY.exports=function(r,t,a,n){function i(_,w){return qp.coerce(r,t,ebe,_,w)}var o=i("x"),l=i("y"),s=i("cumulative.enabled");s&&(i("cumulative.direction"),i("cumulative.currentbin")),i("text");var u=i("textposition");K3e(r,t,n,i,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat");var f=i("orientation",l&&!o?"h":"v"),c=f==="v"?"x":"y",h=f==="v"?"y":"x",d=o&&l?Math.min(qp.minRowLength(o)&&qp.minRowLength(l)):qp.minRowLength(t[c]||[]);if(!d){t.visible=!1;return}t._length=d;var p=tY.getComponentMethod("calendars","handleTraceDefaults");p(r,t,["x","y"],n);var g=t[h];g&&i("histfunc"),i("histnorm"),i("autobin"+c),Q3e(r,t,i,a,n),qp.coerceSelectionMarkerOpacity(t,i);var y=(t.marker.line||{}).color,b=tY.getComponentMethod("errorbars","supplyDefaults");b(r,t,y||aY.defaultLine,{axis:"y"}),b(r,t,y||aY.defaultLine,{axis:"x",inherit:"y"}),i("zorder")}});var uY=R((Fqe,sY)=>{"use strict";var Dp=fr(),rbe=yn(),kb=_t().traceIs,tbe=L3(),abe=ph().validateCornerradius,oY=Dp.nestedProperty,H8=G0().getAxisGroup,lY=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],nbe=["x","y"];sY.exports=function(r,t){var a=t._histogramBinOpts={},n=[],i={},o=[],l,s,u,f,c,h,d;function p(j,W){return Dp.coerce(l._input,l,l._module.attributes,j,W)}function g(j){return j.orientation==="v"?"x":"y"}function y(j,W){var z=rbe.getFromTrace({_fullLayout:t},j,W);return z.type}function b(j,W,z){var O=j.uid+"__"+z;W||(W=O);var G=y(j,z),Z=j[z+"calendar"]||"",Q=a[W],ie=!0;Q&&(G===Q.axType&&Z===Q.calendar?(ie=!1,Q.traces.push(j),Q.dirs.push(z)):(W=O,G!==Q.axType&&Dp.warn(["Attempted to group the bins of trace",j.index,"set on a","type:"+G,"axis","with bins on","type:"+Q.axType,"axis."].join(" ")),Z!==Q.calendar&&Dp.warn(["Attempted to group the bins of trace",j.index,"set with a",Z,"calendar","with bins",Q.calendar?"on a "+Q.calendar+" calendar":"w/o a set calendar"].join(" ")))),ie&&(a[W]={traces:[j],dirs:[z],axType:G,calendar:j[z+"calendar"]||""}),j["_"+z+"bingroup"]=W}for(c=0;c<r.length;c++)if(l=r[c],kb(l,"histogram")){if(n.push(l),delete l._xautoBinFinished,delete l._yautoBinFinished,l.type==="histogram"){var _=p("marker.cornerradius",t.barcornerradius);l.marker&&(l.marker.cornerradius=abe(_))}kb(l,"2dMap")||tbe(l._input,l,t,p,t.barmode)}var w=t._alignmentOpts||{};for(c=0;c<n.length;c++){if(l=n[c],u="",!kb(l,"2dMap")){if(f=g(l),t.barmode==="group"&&l.alignmentgroup){var x=l[f+"axis"],T=H8(t,x)+l.orientation;(w[T]||{})[l.alignmentgroup]&&(u=T)}!u&&t.barmode!=="overlay"&&(u=H8(t,l.xaxis)+H8(t,l.yaxis)+g(l))}u?(i[u]||(i[u]=[]),i[u].push(l)):o.push(l)}for(u in i){if(s=i[u],s.length===1){o.push(s[0]);continue}var S=!1;for(s.length&&(l=s[0],S=p("bingroup")),u=S||u,c=0;c<s.length;c++){l=s[c];var M=l._input.bingroup;M&&M!==u&&Dp.warn(["Trace",l.index,"must match","within bingroup",u+".","Ignoring its bingroup:",M,"setting."].join(" ")),l.bingroup=u,b(l,u,g(l))}}for(c=0;c<o.length;c++){l=o[c];var C=p("bingroup");if(kb(l,"2dMap"))for(d=0;d<2;d++){f=nbe[d];var q=p(f+"bingroup",C?C+"__"+f:null);b(l,q,f)}else b(l,C,g(l))}for(u in a){var F=a[u];for(s=F.traces,h=0;h<lY.length;h++){var P=lY[h],I=P.name,H,V;if(!(I==="nbins"&&F.sizeFound)){for(c=0;c<s.length;c++){if(l=s[c],f=F.dirs[c],H=P.aStr[f],oY(l._input,H).get()!==void 0){F[I]=p(H),F[I+"Found"]=!0;break}V=(l._autoBin||{})[f]||{},V[I]&&oY(l,H).set(V[I])}if(I==="start"||I==="end")for(;c<s.length;c++)l=s[c],l["_"+f+"bingroup"]&&(V=(l._autoBin||{})[f]||{},p(H,V[I]));I==="nbins"&&!F.sizeFound&&!F.nbinsFound&&(l=s[0],F[I]=p(H))}}}}});var cY=R((Rqe,fY)=>{"use strict";var bh=Zt();fY.exports={count:function(e,r,t){return t[e]++,1},sum:function(e,r,t,a){var n=a[r];return bh(n)?(n=Number(n),t[e]+=n,n):0},avg:function(e,r,t,a,n){var i=a[r];return bh(i)&&(i=Number(i),t[e]+=i,n[e]++),0},min:function(e,r,t,a){var n=a[r];if(bh(n))if(n=Number(n),bh(t[e])){if(t[e]>n){var i=n-t[e];return t[e]=n,i}}else return t[e]=n,n;return 0},max:function(e,r,t,a){var n=a[r];if(bh(n))if(n=Number(n),bh(t[e])){if(t[e]<n){var i=n-t[e];return t[e]=n,i}}else return t[e]=n,n;return 0}}});var hY=R((Pqe,vY)=>{"use strict";vY.exports={percent:function(e,r){for(var t=e.length,a=100/r,n=0;n<t;n++)e[n]*=a},probability:function(e,r){for(var t=e.length,a=0;a<t;a++)e[a]/=r},density:function(e,r,t,a){var n=e.length;a=a||1;for(var i=0;i<n;i++)e[i]*=t[i]*a},"probability density":function(e,r,t,a){var n=e.length;a&&(r/=a);for(var i=0;i<n;i++)e[i]*=t[i]/r}}});var pY=R((Nqe,dY)=>{"use strict";dY.exports=function(r,t){for(var a=r.length,n=0,i=0;i<a;i++)t[i]?(r[i]/=t[i],n+=r[i]):r[i]=null;return n}});var TY=R((Iqe,AY)=>{"use strict";var xh=vn(),Jc=xh.ONEAVGYEAR,yY=xh.ONEAVGMONTH,Eb=xh.ONEDAY,mY=xh.ONEHOUR,gY=xh.ONEMIN,bY=xh.ONESEC,xY=qa().tickIncrement;AY.exports=function(r,t,a,n,i){var o=-1.1*t,l=-.1*t,s=r-l,u=a[0],f=a[1],c=Math.min(Cb(u+l,u+s,n,i),Cb(f+l,f+s,n,i)),h=Math.min(Cb(u+o,u+l,n,i),Cb(f+o,f+l,n,i)),d,p;if(c>h&&h<Math.abs(f-u)/4e3?(d=c,p=!1):(d=Math.min(c,h),p=!0),n.type==="date"&&d>Eb){var g=d===Jc?1:6,y=d===Jc?"M12":"M1";return function(b,_){var w=n.c2d(b,Jc,i),x=w.indexOf("-",g);x>0&&(w=w.substr(0,x));var T=n.d2c(w,0,i);if(T<b){var S=xY(T,y,!1,i);(T+S)/2<b+r&&(T=S)}return _&&p?xY(T,y,!0,i):T}}return function(b,_){var w=d*Math.round(b/d);return w+d/10<b&&w+d*.9<b+r&&(w+=d),_&&p&&(w-=d),w}};function Cb(e,r,t,a){if(e*r<=0)return 1/0;for(var n=Math.abs(r-e),i=t.type==="date",o=_Y(n,i),l=0;l<10;l++){var s=_Y(o*80,i);if(o===s)break;if(ibe(s,e,r,i,t,a))o=s;else break}return o}function _Y(e,r){return r&&e>bY?e>Eb?e>Jc*1.1?Jc:e>yY*1.1?yY:Eb:e>mY?mY:e>gY?gY:bY:Math.pow(10,Math.floor(Math.log(e)/Math.LN10))}function ibe(e,r,t,a,n,i){if(a&&e>Eb){var o=wY(r,n,i),l=wY(t,n,i),s=e===Jc?0:1;return o[s]!==l[s]}return Math.floor(t/e)-Math.floor(r/e)>.1}function wY(e,r,t){var a=r.c2d(e,Jc,t).split("-");return a[0]===""&&(a.unshift(),a[0]="-"+a[0]),a}});var CY=R((Oqe,kY)=>{"use strict";var G8=Zt(),Pi=fr(),MY=_t(),al=qa(),obe=wb(),SY=cY(),lbe=hY(),sbe=pY(),ube=TY();function fbe(e,r){var t=[],a=[],n=r.orientation==="h",i=al.getFromId(e,n?r.yaxis:r.xaxis),o=n?"y":"x",l={x:"y",y:"x"}[o],s=r[o+"calendar"],u=r.cumulative,f,c=V8(e,r,i,o),h=c[0],d=c[1],p=typeof h.size=="string",g=[],y=p?g:h,b=[],_=[],w=[],x=0,T=r.histnorm,S=r.histfunc,M=T.indexOf("density")!==-1,C,q,F;u.enabled&&M&&(T=T.replace(/ ?density$/,""),M=!1);var P=S==="max"||S==="min",I=P?null:0,H=SY.count,V=lbe[T],j=!1,W=function(Y){return i.r2c(Y,0,s)},z;for(Pi.isArrayOrTypedArray(r[l])&&S!=="count"&&(z=r[l],j=S==="avg",H=SY[S]),f=W(h.start),q=W(h.end)+(f-al.tickIncrement(f,h.size,!1,s))/1e6;f<q&&t.length<1e6&&(C=al.tickIncrement(f,h.size,!1,s),t.push((f+C)/2),a.push(I),w.push([]),g.push(f),M&&b.push(1/(C-f)),j&&_.push(0),!(C<=f));)f=C;g.push(f),!p&&i.type==="date"&&(y={start:W(y.start),end:W(y.end),size:y.size}),e._fullLayout._roundFnOpts||(e._fullLayout._roundFnOpts={});var O=r["_"+o+"bingroup"],G={leftGap:1/0,rightGap:1/0};O&&(e._fullLayout._roundFnOpts[O]||(e._fullLayout._roundFnOpts[O]=G),G=e._fullLayout._roundFnOpts[O]);var Z=a.length,Q=!0,ie=G.leftGap,be=G.rightGap,ne={};for(f=0;f<d.length;f++){var de=d[f];F=Pi.findBin(de,y),F>=0&&F<Z&&(x+=H(F,f,a,z,_),Q&&w[F].length&&de!==d[w[F][0]]&&(Q=!1),w[F].push(f),ne[f]=F,ie=Math.min(ie,de-g[F]),be=Math.min(be,g[F+1]-de))}G.leftGap=ie,G.rightGap=be;var K;Q||(K=function(Y,ae){return function(){var X=e._fullLayout._roundFnOpts[O];return ube(X.leftGap,X.rightGap,g,i,s)(Y,ae)}}),j&&(x=sbe(a,_)),V&&V(a,x,b),u.enabled&&hbe(a,u.direction,u.currentbin);var me=Math.min(t.length,a.length),fe=[],ke=0,ve=me-1;for(f=0;f<me;f++)if(a[f]){ke=f;break}for(f=me-1;f>=ke;f--)if(a[f]){ve=f;break}for(f=ke;f<=ve;f++)if(G8(t[f])&&G8(a[f])){var Ae={p:t[f],s:a[f],b:0};u.enabled||(Ae.pts=w[f],Q?Ae.ph0=Ae.ph1=w[f].length?d[w[f][0]]:t[f]:(r._computePh=!0,Ae.ph0=K(g[f]),Ae.ph1=K(g[f+1],!0))),fe.push(Ae)}return fe.length===1&&(fe[0].width1=al.tickIncrement(fe[0].p,h.size,!1,s)-fe[0].p),obe(fe,r),Pi.isArrayOrTypedArray(r.selectedpoints)&&Pi.tagSelected(fe,r,ne),fe}function V8(e,r,t,a,n){var i=a+"bins",o=e._fullLayout,l=r["_"+a+"bingroup"],s=o._histogramBinOpts[l],u=o.barmode==="overlay",f,c,h,d,p,g,y,b=function(de){return t.r2c(de,0,d)},_=function(de){return t.c2r(de,0,d)},w=t.type==="date"?function(de){return de||de===0?Pi.cleanDate(de,null,d):null}:function(de){return G8(de)?Number(de):null};function x(de,K,me){K[de+"Found"]?(K[de]=w(K[de]),K[de]===null&&(K[de]=me[de])):(g[de]=K[de]=me[de],Pi.nestedProperty(c[0],i+"."+de).set(me[de]))}if(r["_"+a+"autoBinFinished"])delete r["_"+a+"autoBinFinished"];else{c=s.traces;var T=[],S=!0,M=!1,C=!1;for(f=0;f<c.length;f++)if(h=c[f],h.visible){var q=s.dirs[f];p=h["_"+q+"pos0"]=t.makeCalcdata(h,q),T=Pi.concat(T,p),delete h["_"+a+"autoBinFinished"],r.visible===!0&&(S?S=!1:(delete h._autoBin,h["_"+a+"autoBinFinished"]=1),MY.traceIs(h,"2dMap")&&(M=!0),h.type==="histogram2dcontour"&&(C=!0))}d=c[0][a+"calendar"];var F=al.autoBin(T,t,s.nbins,M,d,s.sizeFound&&s.size),P=c[0]._autoBin={};if(g=P[s.dirs[0]]={},C&&(s.size||(F.start=_(al.tickIncrement(b(F.start),F.size,!0,d))),s.end===void 0&&(F.end=_(al.tickIncrement(b(F.end),F.size,!1,d)))),u&&!MY.traceIs(r,"2dMap")&&F._dataSpan===0&&t.type!=="category"&&t.type!=="multicategory"&&r.bingroup===""&&typeof r.xbins=="undefined"){if(n)return[F,p,!0];F=cbe(e,r,t,a,i)}y=h.cumulative||{},y.enabled&&y.currentbin!=="include"&&(y.direction==="decreasing"?F.start=_(al.tickIncrement(b(F.start),F.size,!0,d)):F.end=_(al.tickIncrement(b(F.end),F.size,!1,d))),s.size=F.size,s.sizeFound||(g.size=F.size,Pi.nestedProperty(c[0],i+".size").set(F.size)),x("start",s,F),x("end",s,F)}p=r["_"+a+"pos0"],delete r["_"+a+"pos0"];var I=r._input[i]||{},H=Pi.extendFlat({},s),V=s.start,j=t.r2l(I.start),W=j!==void 0;if((s.startFound||W)&&j!==t.r2l(V)){var z=W?j:Pi.aggNums(Math.min,null,p),O={type:t.type==="category"||t.type==="multicategory"?"linear":t.type,r2l:t.r2l,dtick:s.size,tick0:V,calendar:d,range:[z,al.tickIncrement(z,s.size,!1,d)].map(t.l2r)},G=al.tickFirst(O);G>t.r2l(z)&&(G=al.tickIncrement(G,s.size,!0,d)),H.start=t.l2r(G),W||Pi.nestedProperty(r,i+".start").set(H.start)}var Z=s.end,Q=t.r2l(I.end),ie=Q!==void 0;if((s.endFound||ie)&&Q!==t.r2l(Z)){var be=ie?Q:Pi.aggNums(Math.max,null,p);H.end=t.l2r(be),ie||Pi.nestedProperty(r,i+".start").set(H.end)}var ne="autobin"+a;return r._input[ne]===!1&&(r._input[i]=Pi.extendFlat({},r[i]||{}),delete r._input[ne],delete r[ne]),[H,p]}function cbe(e,r,t,a,n){var i=e._fullLayout,o=vbe(e,r),l=!1,s=1/0,u=[r],f,c,h;for(f=0;f<o.length;f++)if(c=o[f],c===r)l=!0;else if(!l)h=i._histogramBinOpts[c["_"+a+"bingroup"]],s=Math.min(s,h.size||c[n].size);else{var d=V8(e,c,t,a,!0),p=d[0],g=d[2];c["_"+a+"autoBinFinished"]=1,c["_"+a+"pos0"]=d[1],g?u.push(c):s=Math.min(s,p.size)}var y=new Array(u.length);for(f=0;f<u.length;f++)for(var b=u[f]["_"+a+"pos0"],_=0;_<b.length;_++)if(b[_]!==void 0){y[f]=b[_];break}for(isFinite(s)||(s=Pi.distinctVals(y).minDiff),f=0;f<u.length;f++){c=u[f];var w=c[a+"calendar"],x={start:t.c2r(y[f]-s/2,0,w),end:t.c2r(y[f]+s/2,0,w),size:s};c._input[n]=c[n]=x,h=i._histogramBinOpts[c["_"+a+"bingroup"]],h&&Pi.extendFlat(h,x)}return r[n]}function vbe(e,r){for(var t=r.xaxis,a=r.yaxis,n=r.orientation,i=[],o=e._fullData,l=0;l<o.length;l++){var s=o[l];s.type==="histogram"&&s.visible===!0&&s.orientation===n&&s.xaxis===t&&s.yaxis===a&&i.push(s)}return i}function hbe(e,r,t){var a,n,i;function o(s){i=e[s],e[s]/=2}function l(s){n=e[s],e[s]=i+n/2,i+=n}if(t==="half")if(r==="increasing")for(o(0),a=1;a<e.length;a++)l(a);else for(o(e.length-1),a=e.length-2;a>=0;a--)l(a);else if(r==="increasing"){for(a=1;a<e.length;a++)e[a]+=e[a-1];t==="exclude"&&(e.unshift(0),e.pop())}else{for(a=e.length-2;a>=0;a--)e[a]+=e[a+1];t==="exclude"&&(e.push(0),e.shift())}}kY.exports={calc:fbe,calcAllAutoBins:V8}});var LY=R((zqe,EY)=>{"use strict";var dbe=I8().hoverPoints,pbe=qa().hoverLabelText;EY.exports=function(r,t,a,n,i){var o=dbe(r,t,a,n,i);if(o){r=o[0];var l=r.cd[r.index],s=r.cd[0].trace;if(!s.cumulative.enabled){var u=s.orientation==="h"?"y":"x";r[u+"Label"]=pbe(r[u+"a"],[l.ph0,l.ph1],s[u+"hoverformat"])}return o}}});var DY=R((Bqe,qY)=>{"use strict";qY.exports=function(r,t,a,n,i){if(r.x="xVal"in t?t.xVal:t.x,r.y="yVal"in t?t.yVal:t.y,"zLabelVal"in t&&(r.z=t.zLabelVal),t.xa&&(r.xaxis=t.xa),t.ya&&(r.yaxis=t.ya),!(a.cumulative||{}).enabled){var o=Array.isArray(i)?n[0].pts[i[0]][i[1]]:n[i].pts;r.pointNumbers=o,r.binNumber=r.pointNumber,delete r.pointNumber,delete r.pointIndex;var l;if(a._indexToPoints){l=[];for(var s=0;s<o.length;s++)l=l.concat(a._indexToPoints[o[s]])}else l=o;r.pointIndices=l}return r}});var RY=R((Uqe,FY)=>{"use strict";FY.exports={attributes:U8(),layoutAttributes:xb(),supplyDefaults:iY(),crossTraceDefaults:uY(),supplyLayoutDefaults:E8(),calc:CY().calc,crossTraceCalc:N3().crossTraceCalc,plot:P8().plot,layerName:"barlayer",style:mh().style,styleOnSelect:mh().styleOnSelect,colorbar:hp(),hoverPoints:LY(),selectPoints:O8(),eventData:DY(),moduleType:"trace",name:"histogram",basePlotModule:rh(),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}});var NY=R((Hqe,PY)=>{"use strict";PY.exports=RY()});var zY=R((Gqe,OY)=>{"use strict";var ybe=_t(),Do=fr(),mbe=MA();function gbe(e,r,t,a){var n=e.cd,i=n[0].t,o=n[0].trace,l=e.xa,s=e.ya,u=i.x,f=i.y,c=l.c2p(r),h=s.c2p(t),d=e.distance,p;if(i.tree){var g=l.p2c(c-d),y=l.p2c(c+d),b=s.p2c(h-d),_=s.p2c(h+d);a==="x"?p=i.tree.range(Math.min(g,y),Math.min(s._rl[0],s._rl[1]),Math.max(g,y),Math.max(s._rl[0],s._rl[1])):p=i.tree.range(Math.min(g,y),Math.min(b,_),Math.max(g,y),Math.max(b,_))}else p=i.ids;var w,x,T,S,M,C,q,F,P,I=d;if(a==="x"){var H=!!o.xperiodalignment,V=!!o.yperiodalignment;for(M=0;M<p.length;M++){if(w=p[M],T=u[w],C=Math.abs(l.c2p(T)-c),H){var j=l.c2p(o._xStarts[w]),W=l.c2p(o._xEnds[w]);C=c>=Math.min(j,W)&&c<=Math.max(j,W)?0:1/0}if(C<I){if(I=C,S=f[w],q=s.c2p(S)-h,V){var z=s.c2p(o._yStarts[w]),O=s.c2p(o._yEnds[w]);q=h>=Math.min(z,O)&&h<=Math.max(z,O)?0:1/0}P=Math.sqrt(C*C+q*q),x=p[M]}}}else for(M=p.length-1;M>-1;M--)w=p[M],T=u[w],S=f[w],C=l.c2p(T)-c,q=s.c2p(S)-h,F=Math.sqrt(C*C+q*q),F<I&&(I=P=F,x=w);return e.index=x,e.distance=I,e.dxy=P,x===void 0?[e]:[IY(e,u,f,o)]}function IY(e,r,t,a){var n=e.xa,i=e.ya,o=e.distance,l=e.dxy,s=e.index,u={pointNumber:s,x:r[s],y:t[s]};u.tx=Do.isArrayOrTypedArray(a.text)?a.text[s]:a.text,u.htx=Array.isArray(a.hovertext)?a.hovertext[s]:a.hovertext,u.data=Array.isArray(a.customdata)?a.customdata[s]:a.customdata,u.tp=Array.isArray(a.textposition)?a.textposition[s]:a.textposition;var f=a.textfont;f&&(u.ts=Do.isArrayOrTypedArray(f.size)?f.size[s]:f.size,u.tc=Do.isArrayOrTypedArray(f.color)?f.color[s]:f.color,u.tf=Array.isArray(f.family)?f.family[s]:f.family,u.tw=Array.isArray(f.weight)?f.weight[s]:f.weight,u.ty=Array.isArray(f.style)?f.style[s]:f.style,u.tv=Array.isArray(f.variant)?f.variant[s]:f.variant);var c=a.marker;c&&(u.ms=Do.isArrayOrTypedArray(c.size)?c.size[s]:c.size,u.mo=Do.isArrayOrTypedArray(c.opacity)?c.opacity[s]:c.opacity,u.mx=Do.isArrayOrTypedArray(c.symbol)?c.symbol[s]:c.symbol,u.ma=Do.isArrayOrTypedArray(c.angle)?c.angle[s]:c.angle,u.mc=Do.isArrayOrTypedArray(c.color)?c.color[s]:c.color);var h=c&&c.line;h&&(u.mlc=Array.isArray(h.color)?h.color[s]:h.color,u.mlw=Do.isArrayOrTypedArray(h.width)?h.width[s]:h.width);var d=c&&c.gradient;d&&d.type!=="none"&&(u.mgt=Array.isArray(d.type)?d.type[s]:d.type,u.mgc=Array.isArray(d.color)?d.color[s]:d.color);var p=n.c2p(u.x,!0),g=i.c2p(u.y,!0),y=u.mrc||1,b=a.hoverlabel;b&&(u.hbg=Array.isArray(b.bgcolor)?b.bgcolor[s]:b.bgcolor,u.hbc=Array.isArray(b.bordercolor)?b.bordercolor[s]:b.bordercolor,u.hts=Do.isArrayOrTypedArray(b.font.size)?b.font.size[s]:b.font.size,u.htc=Array.isArray(b.font.color)?b.font.color[s]:b.font.color,u.htf=Array.isArray(b.font.family)?b.font.family[s]:b.font.family,u.hnl=Do.isArrayOrTypedArray(b.namelength)?b.namelength[s]:b.namelength);var _=a.hoverinfo;_&&(u.hi=Array.isArray(_)?_[s]:_);var w=a.hovertemplate;w&&(u.ht=Array.isArray(w)?w[s]:w);var x={};x[e.index]=u;var T=a._origX,S=a._origY,M=Do.extendFlat({},e,{color:mbe(a,u),x0:p-y,x1:p+y,xLabelVal:T?T[s]:u.x,y0:g-y,y1:g+y,yLabelVal:S?S[s]:u.y,cd:x,distance:o,spikeDistance:l,hovertemplate:u.ht});return u.htx?M.text=u.htx:u.tx?M.text=u.tx:a.text&&(M.text=a.text),Do.fillText(u,a,M),ybe.getComponentMethod("errorbars","hoverInfo")(u,a,M),M}OY.exports={hoverPoints:gbe,calcHover:IY}});var Fp=R((Vqe,UY)=>{"use strict";var BY=20;UY.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:BY,SYMBOL_STROKE:BY/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}});var W8=R((Yqe,YY)=>{"use strict";var bbe=pl(),xbe=ti(),_be=k6(),an=nf(),HY=m0().axisHoverFormat,GY=b0(),wbe=ig(),Y8=xn().extendFlat,Abe=yl().overrideAll,Tbe=Fp().DASHES,VY=an.line,lu=an.marker,Mbe=lu.line,_h=YY.exports=Abe({x:an.x,x0:an.x0,dx:an.dx,y:an.y,y0:an.y0,dy:an.dy,xperiod:an.xperiod,yperiod:an.yperiod,xperiod0:an.xperiod0,yperiod0:an.yperiod0,xperiodalignment:an.xperiodalignment,yperiodalignment:an.yperiodalignment,xhoverformat:HY("x"),yhoverformat:HY("y"),text:an.text,hovertext:an.hovertext,textposition:an.textposition,textfont:xbe({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:VY.color,width:VY.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:wbe(Tbe),dflt:"solid"}},marker:Y8({},GY("marker"),{symbol:lu.symbol,angle:lu.angle,size:lu.size,sizeref:lu.sizeref,sizemin:lu.sizemin,sizemode:lu.sizemode,opacity:lu.opacity,colorbar:lu.colorbar,line:Y8({},GY("marker.line"),{width:Mbe.width})}),connectgaps:an.connectgaps,fill:Y8({},an.fill,{dflt:"none"}),fillcolor:_be(),selected:{marker:an.selected.marker,textfont:an.selected.textfont},unselected:{marker:an.unselected.marker,textfont:an.unselected.textfont},opacity:bbe.opacity},"calc","nested");_h.x.editType=_h.y.editType=_h.x0.editType=_h.y0.editType="calc+clearAxisTypes";_h.hovertemplate=an.hovertemplate;_h.texttemplate=an.texttemplate});var X8=R(j8=>{"use strict";var WY=Fp();j8.isOpenSymbol=function(e){return typeof e=="string"?WY.OPEN_RE.test(e):e%200>100};j8.isDotSymbol=function(e){return typeof e=="string"?WY.DOT_RE.test(e):e>200}});var ZY=R((jqe,XY)=>{"use strict";var jY=fr(),Sbe=_t(),kbe=X8(),Cbe=W8(),Ebe=J1(),Lb=gi(),Lbe=k3(),qbe=C3(),Dbe=Q6(),Fbe=eA(),Rbe=tA(),Pbe=rA();XY.exports=function(r,t,a,n){function i(d,p){return jY.coerce(r,t,Cbe,d,p)}var o=r.marker?kbe.isOpenSymbol(r.marker.symbol):!1,l=Lb.isBubble(r),s=Lbe(r,t,n,i);if(!s){t.visible=!1;return}qbe(r,t,n,i),i("xhoverformat"),i("yhoverformat");var u=s<Ebe.PTS_LINESONLY?"lines+markers":"lines";i("text"),i("hovertext"),i("hovertemplate"),i("mode",u),Lb.hasMarkers(t)&&(Dbe(r,t,a,n,i,{noAngleRef:!0,noStandOff:!0}),i("marker.line.width",o||l?1:0)),Lb.hasLines(t)&&(i("connectgaps"),Fbe(r,t,a,n,i),i("line.shape")),Lb.hasText(t)&&(i("texttemplate"),Pbe(r,t,n,i,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var f=(t.line||{}).color,c=(t.marker||{}).color;i("fill"),t.fill!=="none"&&Rbe(r,t,a,i);var h=Sbe.getComponentMethod("errorbars","supplyDefaults");h(r,t,f||c||a,{axis:"y"}),h(r,t,f||c||a,{axis:"x",inherit:"y"}),jY.coerceSelectionMarkerOpacity(t,i)}});var $Y=R((Xqe,JY)=>{"use strict";var Nbe=xA();JY.exports=function(r,t,a){var n=r.i;return"x"in r||(r.x=t._x[n]),"y"in r||(r.y=t._y[n]),Nbe(r,t,a)}});var QY=R((Zqe,KY)=>{"use strict";function Ibe(e,r,t,a,n){for(var i=n+1;a<=n;){var o=a+n>>>1,l=e[o],s=t!==void 0?t(l,r):l-r;s>=0?(i=o,n=o-1):a=o+1}return i}function Obe(e,r,t,a,n){for(var i=n+1;a<=n;){var o=a+n>>>1,l=e[o],s=t!==void 0?t(l,r):l-r;s>0?(i=o,n=o-1):a=o+1}return i}function zbe(e,r,t,a,n){for(var i=a-1;a<=n;){var o=a+n>>>1,l=e[o],s=t!==void 0?t(l,r):l-r;s<0?(i=o,a=o+1):n=o-1}return i}function Bbe(e,r,t,a,n){for(var i=a-1;a<=n;){var o=a+n>>>1,l=e[o],s=t!==void 0?t(l,r):l-r;s<=0?(i=o,a=o+1):n=o-1}return i}function Ube(e,r,t,a,n){for(;a<=n;){var i=a+n>>>1,o=e[i],l=t!==void 0?t(o,r):o-r;if(l===0)return i;l<=0?a=i+1:n=i-1}return-1}function Rp(e,r,t,a,n,i){return typeof t=="function"?i(e,r,t,a===void 0?0:a|0,n===void 0?e.length-1:n|0):i(e,r,void 0,t===void 0?0:t|0,a===void 0?e.length-1:a|0)}KY.exports={ge:function(e,r,t,a,n){return Rp(e,r,t,a,n,Ibe)},gt:function(e,r,t,a,n){return Rp(e,r,t,a,n,Obe)},lt:function(e,r,t,a,n){return Rp(e,r,t,a,n,zbe)},le:function(e,r,t,a,n){return Rp(e,r,t,a,n,Bbe)},eq:function(e,r,t,a,n){return Rp(e,r,t,a,n,Ube)}}});var wh=R((Jqe,eW)=>{eW.exports=Hbe;function Hbe(e,r,t){return r<t?e<r?r:e>t?t:e:e<t?t:e>r?r:e}});var su=R(($qe,tW)=>{"use strict";tW.exports=function(r,t,a){var n={},i,o;if(typeof t=="string"&&(t=rW(t)),Array.isArray(t)){var l={};for(o=0;o<t.length;o++)l[t[o]]=!0;t=l}for(i in t)t[i]=rW(t[i]);var s={};for(i in t){var u=t[i];if(Array.isArray(u))for(o=0;o<u.length;o++){var f=u[o];if(a&&(s[f]=!0),f in r){if(n[i]=r[f],a)for(var c=o;c<u.length;c++)s[u[c]]=!0;break}}else i in r&&(t[i]&&(n[i]=r[i]),a&&(s[i]=!0))}if(a)for(i in r)s[i]||(n[i]=r[i]);return n};var Z8={};function rW(e){return Z8[e]?Z8[e]:(typeof e=="string"&&(e=Z8[e]=e.split(/\s*,\s*|\s+/)),e)}});var Pp=R((Kqe,aW)=>{"use strict";var Gbe=su();aW.exports=Vbe;function Vbe(e){var r;return arguments.length>1&&(e=arguments),typeof e=="string"?e=e.split(/\s/).map(parseFloat):typeof e=="number"&&(e=[e]),e.length&&typeof e[0]=="number"?e.length===1?r={width:e[0],height:e[0],x:0,y:0}:e.length===2?r={width:e[0],height:e[1],x:0,y:0}:r={x:e[0],y:e[1],width:e[2]-e[0]||0,height:e[3]-e[1]||0}:e&&(e=Gbe(e,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),r={x:e.left||0,y:e.top||0},e.width==null?e.right?r.width=e.right-r.x:r.width=0:r.width=e.width,e.height==null?e.bottom?r.height=e.bottom-r.y:r.height=0:r.height=e.height),r}});var Ah=R((Qqe,nW)=>{"use strict";nW.exports=Ybe;function Ybe(e,r){if(!e||e.length==null)throw Error("Argument should be an array");r==null?r=1:r=Math.floor(r);for(var t=Array(r*2),a=0;a<r;a++){for(var n=-1/0,i=1/0,o=a,l=e.length;o<l;o+=r)e[o]>n&&(n=e[o]),e[o]<i&&(i=e[o]);t[a]=i,t[r+a]=n}return t}});var oW=R((eDe,iW)=>{iW.exports=function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==void 0)return arguments[e]}});var qb=R((rDe,lW)=>{lW.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}});var Th=R((tDe,uW)=>{var sW=qb();uW.exports=Wbe;function Wbe(e,r,t){if(!e)throw new TypeError("must specify data as first parameter");if(t=+(t||0)|0,Array.isArray(e)&&e[0]&&typeof e[0][0]=="number"){var a=e[0].length,n=e.length*a,i,o,l,s;(!r||typeof r=="string")&&(r=new(sW(r||"float32"))(n+t));var u=r.length-t;if(n!==u)throw new Error("source length "+n+" ("+a+"x"+e.length+") does not match destination length "+u);for(i=0,l=t;i<e.length;i++)for(o=0;o<a;o++)r[l++]=e[i][o]===null?NaN:e[i][o]}else if(!r||typeof r=="string"){var f=sW(r||"float32");if(Array.isArray(e)||r==="array")for(r=new f(e.length+t),i=0,l=t,s=r.length;l<s;l++,i++)r[l]=e[i]===null?NaN:e[i];else t===0?r=new f(e):(r=new f(e.length+t),r.set(e,t))}else r.set(e,t);return r}});var cW=R((aDe,fW)=>{"use strict";fW.exports=function(e){var r=typeof e;return e!==null&&(r==="object"||r==="function")}});var hW=R((nDe,vW)=>{"use strict";vW.exports=Math.log2||function(e){return Math.log(e)*Math.LOG2E}});var xW=R((iDe,bW)=>{"use strict";var dW=QY(),pW=wh(),jbe=Pp(),Xbe=Ah(),yW=su(),J8=oW(),Zbe=Th(),Jbe=cW(),$be=qb(),mW=hW(),Kbe=1073741824;bW.exports=function(r,t){t||(t={}),r=Zbe(r,"float64"),t=yW(t,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});let a=J8(t.maxDepth,255),n=J8(t.bounds,Xbe(r,2));n[0]===n[2]&&n[2]++,n[1]===n[3]&&n[3]++;let i=gW(r,n),o=r.length>>>1,l;t.dtype||(t.dtype="array"),typeof t.dtype=="string"?l=new($be(t.dtype))(o):t.dtype&&(l=t.dtype,Array.isArray(l)&&(l.length=o));for(let b=0;b<o;++b)l[b]=b;let s=[],u=[],f=[],c=[];d(0,0,1,l,0,1);let h=0;for(let b=0;b<s.length;b++){let _=s[b];if(l.set)l.set(_,h);else for(let x=0,T=_.length;x<T;x++)l[x+h]=_[x];let w=h+s[b].length;c[b]=[h,w],h=w}return l.range=p,l;function d(b,_,w,x,T,S){if(!x.length)return null;let M=s[T]||(s[T]=[]),C=f[T]||(f[T]=[]),q=u[T]||(u[T]=[]),F=M.length;if(T++,T>a||S>Kbe){for(let O=0;O<x.length;O++)M.push(x[O]),C.push(S),q.push(null,null,null,null);return F}if(M.push(x[0]),C.push(S),x.length<=1)return q.push(null,null,null,null),F;let P=w*.5,I=b+P,H=_+P,V=[],j=[],W=[],z=[];for(let O=1,G=x.length;O<G;O++){let Z=x[O],Q=i[Z*2],ie=i[Z*2+1];Q<I?ie<H?V.push(Z):j.push(Z):ie<H?W.push(Z):z.push(Z)}return S<<=2,q.push(d(b,_,P,V,T,S),d(b,H,P,j,T,S+1),d(I,_,P,W,T,S+2),d(I,H,P,z,T,S+3)),F}function p(...b){let _;if(Jbe(b[b.length-1])){let W=b.pop();!b.length&&(W.x!=null||W.l!=null||W.left!=null)&&(b=[W],_={}),_=yW(W,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else _={};b.length||(b=n);let w=jbe(...b),[x,T,S,M]=[Math.min(w.x,w.x+w.width),Math.min(w.y,w.y+w.height),Math.max(w.x,w.x+w.width),Math.max(w.y,w.y+w.height)],[C,q,F,P]=gW([x,T,S,M],n),I=J8(_.level,s.length);if(_.d!=null){let W;typeof _.d=="number"?W=[_.d,_.d]:_.d.length&&(W=_.d),I=Math.min(Math.max(Math.ceil(-mW(Math.abs(W[0])/(n[2]-n[0]))),Math.ceil(-mW(Math.abs(W[1])/(n[3]-n[1])))),I)}if(I=Math.min(I,s.length),_.lod)return g(C,q,F,P,I);let H=[];V(0,0,1,0,0,1);function V(W,z,O,G,Z,Q){if(Z===null||Q===null)return;let ie=W+O,be=z+O;if(C>ie||q>be||F<W||P<z||G>=I||Z===Q)return;let ne=s[G];Q===void 0&&(Q=ne.length);for(let ae=Z;ae<Q;ae++){let X=ne[ae],Se=r[X*2],qe=r[X*2+1];Se>=x&&Se<=S&&qe>=T&&qe<=M&&H.push(X)}let de=u[G],K=de[Z*4+0],me=de[Z*4+1],fe=de[Z*4+2],ke=de[Z*4+3],ve=j(de,Z+1),Ae=O*.5,Y=G+1;V(W,z,Ae,Y,K,me||fe||ke||ve),V(W,z+Ae,Ae,Y,me,fe||ke||ve),V(W+Ae,z,Ae,Y,fe,ke||ve),V(W+Ae,z+Ae,Ae,Y,ke,ve)}function j(W,z){let O=null,G=0;for(;O===null;)if(O=W[z*4+G],G++,G>W.length)return null;return O}return H}function g(b,_,w,x,T){let S=[];for(let M=0;M<T;M++){let C=f[M],q=c[M][0],F=y(b,_,M),P=y(w,x,M),I=dW.ge(C,F),H=dW.gt(C,P,I,C.length-1);S[M]=[I+q,H+q]}return S}function y(b,_,w){let x=1,T=.5,S=.5,M=.5;for(let C=0;C<w;C++)x<<=2,x+=b<T?_<S?0:1:_<S?2:3,M*=.5,T+=b<T?-M:M,S+=_<S?-M:M;return x}};function gW(e,r){let[t,a,n,i]=r,o=1/(n-t),l=1/(i-a),s=new Array(e.length);for(let u=0,f=e.length/2;u<f;u++)s[2*u]=pW((e[2*u]-t)*o,0,1),s[2*u+1]=pW((e[2*u+1]-a)*l,0,1);return s}});var $8=R((oDe,_W)=>{"use strict";_W.exports=xW()});var K8=R((lDe,wW)=>{wW.exports=Qbe;function Qbe(e){var r=0,t=0,a=0,n=0;return e.map(function(i){i=i.slice();var o=i[0],l=o.toUpperCase();if(o!=l)switch(i[0]=l,o){case"a":i[6]+=a,i[7]+=n;break;case"v":i[1]+=n;break;case"h":i[1]+=a;break;default:for(var s=1;s<i.length;)i[s++]+=a,i[s++]+=n}switch(l){case"Z":a=r,n=t;break;case"H":a=i[1];break;case"V":n=i[1];break;case"M":a=r=i[1],n=t=i[2];break;default:a=i[i.length-2],n=i[i.length-1]}return i})}});var MW=R((Db,TW)=>{"use strict";Object.defineProperty(Db,"__esModule",{value:!0});var exe=function(){function e(r,t){var a=[],n=!0,i=!1,o=void 0;try{for(var l=r[Symbol.iterator](),s;!(n=(s=l.next()).done)&&(a.push(s.value),!(t&&a.length===t));n=!0);}catch(u){i=!0,o=u}finally{try{!n&&l.return&&l.return()}finally{if(i)throw o}}return a}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Np=Math.PI*2,Q8=function(r,t,a,n,i,o,l){var s=r.x,u=r.y;s*=t,u*=a;var f=n*s-i*u,c=i*s+n*u;return{x:f+o,y:c+l}},rxe=function(r,t){var a=t===1.5707963267948966?.551915024494:t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),n=Math.cos(r),i=Math.sin(r),o=Math.cos(r+t),l=Math.sin(r+t);return[{x:n-i*a,y:i+n*a},{x:o+l*a,y:l-o*a},{x:o,y:l}]},AW=function(r,t,a,n){var i=r*n-t*a<0?-1:1,o=r*a+t*n;return o>1&&(o=1),o<-1&&(o=-1),i*Math.acos(o)},txe=function(r,t,a,n,i,o,l,s,u,f,c,h){var d=Math.pow(i,2),p=Math.pow(o,2),g=Math.pow(c,2),y=Math.pow(h,2),b=d*p-d*y-p*g;b<0&&(b=0),b/=d*y+p*g,b=Math.sqrt(b)*(l===s?-1:1);var _=b*i/o*h,w=b*-o/i*c,x=f*_-u*w+(r+a)/2,T=u*_+f*w+(t+n)/2,S=(c-_)/i,M=(h-w)/o,C=(-c-_)/i,q=(-h-w)/o,F=AW(1,0,S,M),P=AW(S,M,C,q);return s===0&&P>0&&(P-=Np),s===1&&P<0&&(P+=Np),[x,T,F,P]},axe=function(r){var t=r.px,a=r.py,n=r.cx,i=r.cy,o=r.rx,l=r.ry,s=r.xAxisRotation,u=s===void 0?0:s,f=r.largeArcFlag,c=f===void 0?0:f,h=r.sweepFlag,d=h===void 0?0:h,p=[];if(o===0||l===0)return[];var g=Math.sin(u*Np/360),y=Math.cos(u*Np/360),b=y*(t-n)/2+g*(a-i)/2,_=-g*(t-n)/2+y*(a-i)/2;if(b===0&&_===0)return[];o=Math.abs(o),l=Math.abs(l);var w=Math.pow(b,2)/Math.pow(o,2)+Math.pow(_,2)/Math.pow(l,2);w>1&&(o*=Math.sqrt(w),l*=Math.sqrt(w));var x=txe(t,a,n,i,o,l,c,d,g,y,b,_),T=exe(x,4),S=T[0],M=T[1],C=T[2],q=T[3],F=Math.abs(q)/(Np/4);Math.abs(1-F)<1e-7&&(F=1);var P=Math.max(Math.ceil(F),1);q/=P;for(var I=0;I<P;I++)p.push(rxe(C,q)),C+=q;return p.map(function(H){var V=Q8(H[0],o,l,y,g,S,M),j=V.x,W=V.y,z=Q8(H[1],o,l,y,g,S,M),O=z.x,G=z.y,Z=Q8(H[2],o,l,y,g,S,M),Q=Z.x,ie=Z.y;return{x1:j,y1:W,x2:O,y2:G,x:Q,y:ie}})};Db.default=axe;TW.exports=Db.default});var CW=R((sDe,kW)=>{"use strict";kW.exports=ixe;var nxe=MW();function ixe(e){for(var r,t=[],a=0,n=0,i=0,o=0,l=null,s=null,u=0,f=0,c=0,h=e.length;c<h;c++){var d=e[c],p=d[0];switch(p){case"M":i=d[1],o=d[2];break;case"A":var g=nxe({px:u,py:f,cx:d[6],cy:d[7],rx:d[1],ry:d[2],xAxisRotation:d[3],largeArcFlag:d[4],sweepFlag:d[5]});if(!g.length)continue;for(var y=0,b;y<g.length;y++)b=g[y],d=["C",b.x1,b.y1,b.x2,b.y2,b.x,b.y],y<g.length-1&&t.push(d);break;case"S":var _=u,w=f;(r=="C"||r=="S")&&(_+=_-a,w+=w-n),d=["C",_,w,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(l=u*2-l,s=f*2-s):(l=u,s=f),d=SW(u,f,l,s,d[1],d[2]);break;case"Q":l=d[1],s=d[2],d=SW(u,f,d[1],d[2],d[3],d[4]);break;case"L":d=Fb(u,f,d[1],d[2]);break;case"H":d=Fb(u,f,d[1],f);break;case"V":d=Fb(u,f,u,d[1]);break;case"Z":d=Fb(u,f,i,o);break}r=p,u=d[d.length-2],f=d[d.length-1],d.length>4?(a=d[d.length-4],n=d[d.length-3]):(a=u,n=f),t.push(d)}return t}function Fb(e,r,t,a){return["C",e,r,t,a,t,a]}function SW(e,r,t,a,n,i){return["C",e/3+2/3*t,r/3+2/3*a,n/3+2/3*t,i/3+2/3*a,n,i]}});var e7=R((uDe,EW)=>{"use strict";EW.exports=function(r){return typeof r!="string"?!1:(r=r.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(r)&&/[\dz]$/i.test(r)&&r.length>4))}});var Rb=R((fDe,LW)=>{"use strict";LW.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},t=Symbol("test"),a=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var n=42;r[t]=n;for(t in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var i=Object.getOwnPropertySymbols(r);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(r,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(r,t);if(o.value!==n||o.enumerable!==!0)return!1}return!0}});var Ip=R((cDe,qW)=>{"use strict";var oxe=Rb();qW.exports=function(){return oxe()&&!!Symbol.toStringTag}});var FW=R((vDe,DW)=>{"use strict";DW.exports=Error});var PW=R((hDe,RW)=>{"use strict";RW.exports=EvalError});var IW=R((dDe,NW)=>{"use strict";NW.exports=RangeError});var zW=R((pDe,OW)=>{"use strict";OW.exports=ReferenceError});var r7=R((yDe,BW)=>{"use strict";BW.exports=SyntaxError});var Op=R((mDe,UW)=>{"use strict";UW.exports=TypeError});var GW=R((gDe,HW)=>{"use strict";HW.exports=URIError});var WW=R((bDe,YW)=>{"use strict";var VW=typeof Symbol!="undefined"&&Symbol,lxe=Rb();YW.exports=function(){return typeof VW!="function"||typeof Symbol!="function"||typeof VW("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:lxe()}});var ZW=R((xDe,XW)=>{"use strict";var jW={foo:{}},sxe=Object;XW.exports=function(){return{__proto__:jW}.foo===jW.foo&&!({__proto__:null}instanceof sxe)}});var KW=R((_De,$W)=>{"use strict";var uxe="Function.prototype.bind called on incompatible ",fxe=Object.prototype.toString,cxe=Math.max,vxe="[object Function]",JW=function(r,t){for(var a=[],n=0;n<r.length;n+=1)a[n]=r[n];for(var i=0;i<t.length;i+=1)a[i+r.length]=t[i];return a},hxe=function(r,t){for(var a=[],n=t||0,i=0;n<r.length;n+=1,i+=1)a[i]=r[n];return a},dxe=function(e,r){for(var t="",a=0;a<e.length;a+=1)t+=e[a],a+1<e.length&&(t+=r);return t};$W.exports=function(r){var t=this;if(typeof t!="function"||fxe.apply(t)!==vxe)throw new TypeError(uxe+t);for(var a=hxe(arguments,1),n,i=function(){if(this instanceof n){var f=t.apply(this,JW(a,arguments));return Object(f)===f?f:this}return t.apply(r,JW(a,arguments))},o=cxe(0,t.length-a.length),l=[],s=0;s<o;s++)l[s]="$"+s;if(n=Function("binder","return function ("+dxe(l,",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var u=function(){};u.prototype=t.prototype,n.prototype=new u,u.prototype=null}return n}});var Pb=R((wDe,QW)=>{"use strict";var pxe=KW();QW.exports=Function.prototype.bind||pxe});var rj=R((ADe,ej)=>{"use strict";var yxe=Function.prototype.call,mxe=Object.prototype.hasOwnProperty,gxe=Pb();ej.exports=gxe.call(yxe,mxe)});var Eh=R((TDe,oj)=>{"use strict";var xa,bxe=FW(),xxe=PW(),_xe=IW(),wxe=zW(),Ch=r7(),kh=Op(),Axe=GW(),ij=Function,t7=function(e){try{return ij('"use strict"; return ('+e+").constructor;")()}catch(r){}},$c=Object.getOwnPropertyDescriptor;if($c)try{$c({},"")}catch(e){$c=null}var a7=function(){throw new kh},Txe=$c?function(){try{return arguments.callee,a7}catch(e){try{return $c(arguments,"callee").get}catch(r){return a7}}}():a7,Mh=WW()(),Mxe=ZW()(),hi=Object.getPrototypeOf||(Mxe?function(e){return e.__proto__}:null),Sh={},Sxe=typeof Uint8Array=="undefined"||!hi?xa:hi(Uint8Array),Kc={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?xa:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?xa:ArrayBuffer,"%ArrayIteratorPrototype%":Mh&&hi?hi([][Symbol.iterator]()):xa,"%AsyncFromSyncIteratorPrototype%":xa,"%AsyncFunction%":Sh,"%AsyncGenerator%":Sh,"%AsyncGeneratorFunction%":Sh,"%AsyncIteratorPrototype%":Sh,"%Atomics%":typeof Atomics=="undefined"?xa:Atomics,"%BigInt%":typeof BigInt=="undefined"?xa:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?xa:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?xa:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?xa:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":bxe,"%eval%":eval,"%EvalError%":xxe,"%Float32Array%":typeof Float32Array=="undefined"?xa:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?xa:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?xa:FinalizationRegistry,"%Function%":ij,"%GeneratorFunction%":Sh,"%Int8Array%":typeof Int8Array=="undefined"?xa:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?xa:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?xa:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Mh&&hi?hi(hi([][Symbol.iterator]())):xa,"%JSON%":typeof JSON=="object"?JSON:xa,"%Map%":typeof Map=="undefined"?xa:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Mh||!hi?xa:hi(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?xa:Promise,"%Proxy%":typeof Proxy=="undefined"?xa:Proxy,"%RangeError%":_xe,"%ReferenceError%":wxe,"%Reflect%":typeof Reflect=="undefined"?xa:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?xa:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Mh||!hi?xa:hi(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?xa:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Mh&&hi?hi(""[Symbol.iterator]()):xa,"%Symbol%":Mh?Symbol:xa,"%SyntaxError%":Ch,"%ThrowTypeError%":Txe,"%TypedArray%":Sxe,"%TypeError%":kh,"%Uint8Array%":typeof Uint8Array=="undefined"?xa:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?xa:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?xa:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?xa:Uint32Array,"%URIError%":Axe,"%WeakMap%":typeof WeakMap=="undefined"?xa:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?xa:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?xa:WeakSet};if(hi)try{null.error}catch(e){tj=hi(hi(e)),Kc["%Error.prototype%"]=tj}var tj,kxe=function e(r){var t;if(r==="%AsyncFunction%")t=t7("async function () {}");else if(r==="%GeneratorFunction%")t=t7("function* () {}");else if(r==="%AsyncGeneratorFunction%")t=t7("async function* () {}");else if(r==="%AsyncGenerator%"){var a=e("%AsyncGeneratorFunction%");a&&(t=a.prototype)}else if(r==="%AsyncIteratorPrototype%"){var n=e("%AsyncGenerator%");n&&hi&&(t=hi(n.prototype))}return Kc[r]=t,t},aj={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},zp=Pb(),Nb=rj(),Cxe=zp.call(Function.call,Array.prototype.concat),Exe=zp.call(Function.apply,Array.prototype.splice),nj=zp.call(Function.call,String.prototype.replace),Ib=zp.call(Function.call,String.prototype.slice),Lxe=zp.call(Function.call,RegExp.prototype.exec),qxe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Dxe=/\\(\\)?/g,Fxe=function(r){var t=Ib(r,0,1),a=Ib(r,-1);if(t==="%"&&a!=="%")throw new Ch("invalid intrinsic syntax, expected closing `%`");if(a==="%"&&t!=="%")throw new Ch("invalid intrinsic syntax, expected opening `%`");var n=[];return nj(r,qxe,function(i,o,l,s){n[n.length]=l?nj(s,Dxe,"$1"):o||i}),n},Rxe=function(r,t){var a=r,n;if(Nb(aj,a)&&(n=aj[a],a="%"+n[0]+"%"),Nb(Kc,a)){var i=Kc[a];if(i===Sh&&(i=kxe(a)),typeof i=="undefined"&&!t)throw new kh("intrinsic "+r+" exists, but is not available. Please file an issue!");return{alias:n,name:a,value:i}}throw new Ch("intrinsic "+r+" does not exist!")};oj.exports=function(r,t){if(typeof r!="string"||r.length===0)throw new kh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new kh('"allowMissing" argument must be a boolean');if(Lxe(/^%?[^%]*%?$/,r)===null)throw new Ch("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var a=Fxe(r),n=a.length>0?a[0]:"",i=Rxe("%"+n+"%",t),o=i.name,l=i.value,s=!1,u=i.alias;u&&(n=u[0],Exe(a,Cxe([0,1],u)));for(var f=1,c=!0;f<a.length;f+=1){var h=a[f],d=Ib(h,0,1),p=Ib(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Ch("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(s=!0),n+="."+h,o="%"+n+"%",Nb(Kc,o))l=Kc[o];else if(l!=null){if(!(h in l)){if(!t)throw new kh("base intrinsic for "+r+" exists, but the property is not available.");return}if($c&&f+1>=a.length){var g=$c(l,h);c=!!g,c&&"get"in g&&!("originalValue"in g.get)?l=g.get:l=l[h]}else c=Nb(l,h),l=l[h];c&&!s&&(Kc[o]=l)}}return l}});var zb=R((MDe,lj)=>{"use strict";var Pxe=Eh(),Ob=Pxe("%Object.defineProperty%",!0)||!1;if(Ob)try{Ob({},"a",{value:1})}catch(e){Ob=!1}lj.exports=Ob});var Bp=R((SDe,sj)=>{"use strict";var Nxe=Eh(),Bb=Nxe("%Object.getOwnPropertyDescriptor%",!0);if(Bb)try{Bb([],"length")}catch(e){Bb=null}sj.exports=Bb});var vj=R((kDe,cj)=>{"use strict";var uj=zb(),Ixe=r7(),Lh=Op(),fj=Bp();cj.exports=function(r,t,a){if(!r||typeof r!="object"&&typeof r!="function")throw new Lh("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Lh("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Lh("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Lh("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Lh("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Lh("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,s=!!fj&&fj(r,t);if(uj)uj(r,t,{configurable:o===null&&s?s.configurable:!o,enumerable:n===null&&s?s.enumerable:!n,value:a,writable:i===null&&s?s.writable:!i});else if(l||!n&&!i&&!o)r[t]=a;else throw new Ixe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var i7=R((CDe,dj)=>{"use strict";var n7=zb(),hj=function(){return!!n7};hj.hasArrayLengthDefineBug=function(){if(!n7)return null;try{return n7([],"length",{value:1}).length!==1}catch(r){return!0}};dj.exports=hj});var bj=R((EDe,gj)=>{"use strict";var Oxe=Eh(),pj=vj(),zxe=i7()(),yj=Bp(),mj=Op(),Bxe=Oxe("%Math.floor%");gj.exports=function(r,t){if(typeof r!="function")throw new mj("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||Bxe(t)!==t)throw new mj("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],n=!0,i=!0;if("length"in r&&yj){var o=yj(r,"length");o&&!o.configurable&&(n=!1),o&&!o.writable&&(i=!1)}return(n||i||!a)&&(zxe?pj(r,"length",t,!0,!0):pj(r,"length",t)),r}});var Up=R((LDe,Ub)=>{"use strict";var o7=Pb(),Hb=Eh(),Uxe=bj(),Hxe=Op(),wj=Hb("%Function.prototype.apply%"),Aj=Hb("%Function.prototype.call%"),Tj=Hb("%Reflect.apply%",!0)||o7.call(Aj,wj),xj=zb(),Gxe=Hb("%Math.max%");Ub.exports=function(r){if(typeof r!="function")throw new Hxe("a function is required");var t=Tj(o7,Aj,arguments);return Uxe(t,1+Gxe(0,r.length-(arguments.length-1)),!0)};var _j=function(){return Tj(o7,wj,arguments)};xj?xj(Ub.exports,"apply",{value:_j}):Ub.exports.apply=_j});var qh=R((qDe,kj)=>{"use strict";var Mj=Eh(),Sj=Up(),Vxe=Sj(Mj("String.prototype.indexOf"));kj.exports=function(r,t){var a=Mj(r,!!t);return typeof a=="function"&&Vxe(r,".prototype.")>-1?Sj(a):a}});var Lj=R((DDe,Ej)=>{"use strict";var Yxe=Ip()(),Wxe=qh(),l7=Wxe("Object.prototype.toString"),Gb=function(r){return Yxe&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:l7(r)==="[object Arguments]"},Cj=function(r){return Gb(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&l7(r)!=="[object Array]"&&l7(r.callee)==="[object Function]"},jxe=function(){return Gb(arguments)}();Gb.isLegacyArguments=Cj;Ej.exports=jxe?Gb:Cj});var Fj=R((FDe,Dj)=>{"use strict";var Xxe=Object.prototype.toString,Zxe=Function.prototype.toString,Jxe=/^\s*(?:function)?\*/,qj=Ip()(),s7=Object.getPrototypeOf,$xe=function(){if(!qj)return!1;try{return Function("return function*() {}")()}catch(e){}},u7;Dj.exports=function(r){if(typeof r!="function")return!1;if(Jxe.test(Zxe.call(r)))return!0;if(!qj){var t=Xxe.call(r);return t==="[object GeneratorFunction]"}if(!s7)return!1;if(typeof u7=="undefined"){var a=$xe();u7=a?s7(a):!1}return s7(r)===u7}});var Ij=R((RDe,Nj)=>{"use strict";var Pj=Function.prototype.toString,Dh=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,c7,Vb;if(typeof Dh=="function"&&typeof Object.defineProperty=="function")try{c7=Object.defineProperty({},"length",{get:function(){throw Vb}}),Vb={},Dh(function(){throw 42},null,c7)}catch(e){e!==Vb&&(Dh=null)}else Dh=null;var Kxe=/^\s*class\b/,v7=function(r){try{var t=Pj.call(r);return Kxe.test(t)}catch(a){return!1}},f7=function(r){try{return v7(r)?!1:(Pj.call(r),!0)}catch(t){return!1}},Yb=Object.prototype.toString,Qxe="[object Object]",e5e="[object Function]",r5e="[object GeneratorFunction]",t5e="[object HTMLAllCollection]",a5e="[object HTML document.all class]",n5e="[object HTMLCollection]",i5e=typeof Symbol=="function"&&!!Symbol.toStringTag,o5e=!(0 in[,]),h7=function(){return!1};typeof document=="object"&&(Rj=document.all,Yb.call(Rj)===Yb.call(document.all)&&(h7=function(r){if((o5e||!r)&&(typeof r=="undefined"||typeof r=="object"))try{var t=Yb.call(r);return(t===t5e||t===a5e||t===n5e||t===Qxe)&&r("")==null}catch(a){}return!1}));var Rj;Nj.exports=Dh?function(r){if(h7(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;try{Dh(r,null,c7)}catch(t){if(t!==Vb)return!1}return!v7(r)&&f7(r)}:function(r){if(h7(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;if(i5e)return f7(r);if(v7(r))return!1;var t=Yb.call(r);return t!==e5e&&t!==r5e&&!/^\[object HTML/.test(t)?!1:f7(r)}});var d7=R((PDe,zj)=>{"use strict";var l5e=Ij(),s5e=Object.prototype.toString,Oj=Object.prototype.hasOwnProperty,u5e=function(r,t,a){for(var n=0,i=r.length;n<i;n++)Oj.call(r,n)&&(a==null?t(r[n],n,r):t.call(a,r[n],n,r))},f5e=function(r,t,a){for(var n=0,i=r.length;n<i;n++)a==null?t(r.charAt(n),n,r):t.call(a,r.charAt(n),n,r)},c5e=function(r,t,a){for(var n in r)Oj.call(r,n)&&(a==null?t(r[n],n,r):t.call(a,r[n],n,r))},v5e=function(r,t,a){if(!l5e(t))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=a),s5e.call(r)==="[object Array]"?u5e(r,t,n):typeof r=="string"?f5e(r,t,n):c5e(r,t,n)};zj.exports=v5e});var y7=R((NDe,Bj)=>{"use strict";var p7=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],h5e=typeof globalThis=="undefined"?window:globalThis;Bj.exports=function(){for(var r=[],t=0;t<p7.length;t++)typeof h5e[p7[t]]=="function"&&(r[r.length]=p7[t]);return r}});var Yj=R((IDe,Vj)=>{"use strict";var jb=d7(),d5e=y7(),Uj=Up(),b7=qh(),Wb=Bp(),p5e=b7("Object.prototype.toString"),Gj=Ip()(),Hj=typeof globalThis=="undefined"?window:globalThis,g7=d5e(),x7=b7("String.prototype.slice"),m7=Object.getPrototypeOf,y5e=b7("Array.prototype.indexOf",!0)||function(r,t){for(var a=0;a<r.length;a+=1)if(r[a]===t)return a;return-1},Xb={__proto__:null};Gj&&Wb&&m7?jb(g7,function(e){var r=new Hj[e];if(Symbol.toStringTag in r){var t=m7(r),a=Wb(t,Symbol.toStringTag);if(!a){var n=m7(t);a=Wb(n,Symbol.toStringTag)}Xb["$"+e]=Uj(a.get)}}):jb(g7,function(e){var r=new Hj[e],t=r.slice||r.set;t&&(Xb["$"+e]=Uj(t))});var m5e=function(r){var t=!1;return jb(Xb,function(a,n){if(!t)try{"$"+a(r)===n&&(t=x7(n,1))}catch(i){}}),t},g5e=function(r){var t=!1;return jb(Xb,function(a,n){if(!t)try{a(r),t=x7(n,1)}catch(i){}}),t};Vj.exports=function(r){if(!r||typeof r!="object")return!1;if(!Gj){var t=x7(p5e(r),8,-1);return y5e(g7,t)>-1?t:t!=="Object"?!1:g5e(r)}return Wb?m5e(r):null}});var $j=R((ODe,Jj)=>{"use strict";var Wj=d7(),b5e=y7(),w7=qh(),x5e=w7("Object.prototype.toString"),jj=Ip()(),Zb=Bp(),_5e=typeof globalThis=="undefined"?window:globalThis,Xj=b5e(),w5e=w7("Array.prototype.indexOf",!0)||function(r,t){for(var a=0;a<r.length;a+=1)if(r[a]===t)return a;return-1},A5e=w7("String.prototype.slice"),Zj={},_7=Object.getPrototypeOf;jj&&Zb&&_7&&Wj(Xj,function(e){var r=new _5e[e];if(Symbol.toStringTag in r){var t=_7(r),a=Zb(t,Symbol.toStringTag);if(!a){var n=_7(t);a=Zb(n,Symbol.toStringTag)}Zj[e]=a.get}});var T5e=function(r){var t=!1;return Wj(Zj,function(a,n){if(!t)try{t=a.call(r)===n}catch(i){}}),t};Jj.exports=function(r){if(!r||typeof r!="object")return!1;if(!jj||!(Symbol.toStringTag in r)){var t=A5e(x5e(r),8,-1);return w5e(Xj,t)>-1}return Zb?T5e(r):!1}});var cX=R(ma=>{"use strict";var M5e=Lj(),S5e=Fj(),Il=Yj(),Kj=$j();function Fh(e){return e.call.bind(e)}var Qj=typeof BigInt!="undefined",eX=typeof Symbol!="undefined",nl=Fh(Object.prototype.toString),k5e=Fh(Number.prototype.valueOf),C5e=Fh(String.prototype.valueOf),E5e=Fh(Boolean.prototype.valueOf);Qj&&(rX=Fh(BigInt.prototype.valueOf));var rX;eX&&(tX=Fh(Symbol.prototype.valueOf));var tX;function Gp(e,r){if(typeof e!="object")return!1;try{return r(e),!0}catch(t){return!1}}ma.isArgumentsObject=M5e;ma.isGeneratorFunction=S5e;ma.isTypedArray=Kj;function L5e(e){return typeof Promise!="undefined"&&e instanceof Promise||e!==null&&typeof e=="object"&&typeof e.then=="function"&&typeof e.catch=="function"}ma.isPromise=L5e;function q5e(e){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(e):Kj(e)||nX(e)}ma.isArrayBufferView=q5e;function D5e(e){return Il(e)==="Uint8Array"}ma.isUint8Array=D5e;function F5e(e){return Il(e)==="Uint8ClampedArray"}ma.isUint8ClampedArray=F5e;function R5e(e){return Il(e)==="Uint16Array"}ma.isUint16Array=R5e;function P5e(e){return Il(e)==="Uint32Array"}ma.isUint32Array=P5e;function N5e(e){return Il(e)==="Int8Array"}ma.isInt8Array=N5e;function I5e(e){return Il(e)==="Int16Array"}ma.isInt16Array=I5e;function O5e(e){return Il(e)==="Int32Array"}ma.isInt32Array=O5e;function z5e(e){return Il(e)==="Float32Array"}ma.isFloat32Array=z5e;function B5e(e){return Il(e)==="Float64Array"}ma.isFloat64Array=B5e;function U5e(e){return Il(e)==="BigInt64Array"}ma.isBigInt64Array=U5e;function H5e(e){return Il(e)==="BigUint64Array"}ma.isBigUint64Array=H5e;function Jb(e){return nl(e)==="[object Map]"}Jb.working=typeof Map!="undefined"&&Jb(new Map);function G5e(e){return typeof Map=="undefined"?!1:Jb.working?Jb(e):e instanceof Map}ma.isMap=G5e;function $b(e){return nl(e)==="[object Set]"}$b.working=typeof Set!="undefined"&&$b(new Set);function V5e(e){return typeof Set=="undefined"?!1:$b.working?$b(e):e instanceof Set}ma.isSet=V5e;function Kb(e){return nl(e)==="[object WeakMap]"}Kb.working=typeof WeakMap!="undefined"&&Kb(new WeakMap);function Y5e(e){return typeof WeakMap=="undefined"?!1:Kb.working?Kb(e):e instanceof WeakMap}ma.isWeakMap=Y5e;function T7(e){return nl(e)==="[object WeakSet]"}T7.working=typeof WeakSet!="undefined"&&T7(new WeakSet);function W5e(e){return T7(e)}ma.isWeakSet=W5e;function Qb(e){return nl(e)==="[object ArrayBuffer]"}Qb.working=typeof ArrayBuffer!="undefined"&&Qb(new ArrayBuffer);function aX(e){return typeof ArrayBuffer=="undefined"?!1:Qb.working?Qb(e):e instanceof ArrayBuffer}ma.isArrayBuffer=aX;function ex(e){return nl(e)==="[object DataView]"}ex.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&ex(new DataView(new ArrayBuffer(1),0,1));function nX(e){return typeof DataView=="undefined"?!1:ex.working?ex(e):e instanceof DataView}ma.isDataView=nX;var A7=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function Hp(e){return nl(e)==="[object SharedArrayBuffer]"}function iX(e){return typeof A7=="undefined"?!1:(typeof Hp.working=="undefined"&&(Hp.working=Hp(new A7)),Hp.working?Hp(e):e instanceof A7)}ma.isSharedArrayBuffer=iX;function j5e(e){return nl(e)==="[object AsyncFunction]"}ma.isAsyncFunction=j5e;function X5e(e){return nl(e)==="[object Map Iterator]"}ma.isMapIterator=X5e;function Z5e(e){return nl(e)==="[object Set Iterator]"}ma.isSetIterator=Z5e;function J5e(e){return nl(e)==="[object Generator]"}ma.isGeneratorObject=J5e;function $5e(e){return nl(e)==="[object WebAssembly.Module]"}ma.isWebAssemblyCompiledModule=$5e;function oX(e){return Gp(e,k5e)}ma.isNumberObject=oX;function lX(e){return Gp(e,C5e)}ma.isStringObject=lX;function sX(e){return Gp(e,E5e)}ma.isBooleanObject=sX;function uX(e){return Qj&&Gp(e,rX)}ma.isBigIntObject=uX;function fX(e){return eX&&Gp(e,tX)}ma.isSymbolObject=fX;function K5e(e){return oX(e)||lX(e)||sX(e)||uX(e)||fX(e)}ma.isBoxedPrimitive=K5e;function Q5e(e){return typeof Uint8Array!="undefined"&&(aX(e)||iX(e))}ma.isAnyArrayBuffer=Q5e;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(ma,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})});var hX=R((BDe,vX)=>{vX.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}});var dX=R((UDe,M7)=>{typeof Object.create=="function"?M7.exports=function(r,t){t&&(r.super_=t,r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:M7.exports=function(r,t){if(t){r.super_=t;var a=function(){};a.prototype=t.prototype,r.prototype=new a,r.prototype.constructor=r}}});var Ph=R(ga=>{var pX=Object.getOwnPropertyDescriptors||function(r){for(var t=Object.keys(r),a={},n=0;n<t.length;n++)a[t[n]]=Object.getOwnPropertyDescriptor(r,t[n]);return a},e_e=/%[sdj%]/g;ga.format=function(e){if(!lx(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(mf(arguments[t]));return r.join(" ")}for(var t=1,a=arguments,n=a.length,i=String(e).replace(e_e,function(l){if(l==="%%")return"%";if(t>=n)return l;switch(l){case"%s":return String(a[t++]);case"%d":return Number(a[t++]);case"%j":try{return JSON.stringify(a[t++])}catch(s){return"[Circular]"}default:return l}}),o=a[t];t<n;o=a[++t])ox(o)||!Rh(o)?i+=" "+o:i+=" "+mf(o);return i};ga.deprecate=function(e,r){if(typeof process!="undefined"&&process.noDeprecation===!0)return e;if(typeof process=="undefined")return function(){return ga.deprecate(e,r).apply(this,arguments)};var t=!1;function a(){if(!t){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),t=!0}return e.apply(this,arguments)}return a};var rx={},yX=/^$/;tx="false",tx=tx.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),yX=new RegExp("^"+tx+"$","i");var tx;ga.debuglog=function(e){if(e=e.toUpperCase(),!rx[e])if(yX.test(e)){var r=process.pid;rx[e]=function(){var t=ga.format.apply(ga,arguments);console.error("%s %d: %s",e,r,t)}}else rx[e]=function(){};return rx[e]};function mf(e,r){var t={seen:[],stylize:t_e};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),E7(r)?t.showHidden=r:r&&ga._extend(t,r),ev(t.showHidden)&&(t.showHidden=!1),ev(t.depth)&&(t.depth=2),ev(t.colors)&&(t.colors=!1),ev(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=r_e),nx(t,e,t.depth)}ga.inspect=mf;mf.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};mf.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r_e(e,r){var t=mf.styles[r];return t?"\x1B["+mf.colors[t][0]+"m"+e+"\x1B["+mf.colors[t][1]+"m":e}function t_e(e,r){return e}function a_e(e){var r={};return e.forEach(function(t,a){r[t]=!0}),r}function nx(e,r,t){if(e.customInspect&&r&&ax(r.inspect)&&r.inspect!==ga.inspect&&!(r.constructor&&r.constructor.prototype===r)){var a=r.inspect(t,e);return lx(a)||(a=nx(e,a,t)),a}var n=n_e(e,r);if(n)return n;var i=Object.keys(r),o=a_e(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(r)),Yp(r)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return S7(r);if(i.length===0){if(ax(r)){var l=r.name?": "+r.name:"";return e.stylize("[Function"+l+"]","special")}if(Vp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(ix(r))return e.stylize(Date.prototype.toString.call(r),"date");if(Yp(r))return S7(r)}var s="",u=!1,f=["{","}"];if(mX(r)&&(u=!0,f=["[","]"]),ax(r)){var c=r.name?": "+r.name:"";s=" [Function"+c+"]"}if(Vp(r)&&(s=" "+RegExp.prototype.toString.call(r)),ix(r)&&(s=" "+Date.prototype.toUTCString.call(r)),Yp(r)&&(s=" "+S7(r)),i.length===0&&(!u||r.length==0))return f[0]+s+f[1];if(t<0)return Vp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var h;return u?h=i_e(e,r,t,o,i):h=i.map(function(d){return C7(e,r,t,o,d,u)}),e.seen.pop(),o_e(h,s,f)}function n_e(e,r){if(ev(r))return e.stylize("undefined","undefined");if(lx(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}if(gX(r))return e.stylize(""+r,"number");if(E7(r))return e.stylize(""+r,"boolean");if(ox(r))return e.stylize("null","null")}function S7(e){return"["+Error.prototype.toString.call(e)+"]"}function i_e(e,r,t,a,n){for(var i=[],o=0,l=r.length;o<l;++o)bX(r,String(o))?i.push(C7(e,r,t,a,String(o),!0)):i.push("");return n.forEach(function(s){s.match(/^\d+$/)||i.push(C7(e,r,t,a,s,!0))}),i}function C7(e,r,t,a,n,i){var o,l,s;if(s=Object.getOwnPropertyDescriptor(r,n)||{value:r[n]},s.get?s.set?l=e.stylize("[Getter/Setter]","special"):l=e.stylize("[Getter]","special"):s.set&&(l=e.stylize("[Setter]","special")),bX(a,n)||(o="["+n+"]"),l||(e.seen.indexOf(s.value)<0?(ox(t)?l=nx(e,s.value,null):l=nx(e,s.value,t-1),l.indexOf(`
`)>-1&&(i?l=l.split(`
`).map(function(u){return"  "+u}).join(`
`).slice(2):l=`
`+l.split(`
`).map(function(u){return"   "+u}).join(`
`))):l=e.stylize("[Circular]","special")),ev(o)){if(i&&n.match(/^\d+$/))return l;o=JSON.stringify(""+n),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+l}function o_e(e,r,t){var a=0,n=e.reduce(function(i,o){return a++,o.indexOf(`
`)>=0&&a++,i+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?t[0]+(r===""?"":r+`
 `)+" "+e.join(`,
  `)+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}ga.types=cX();function mX(e){return Array.isArray(e)}ga.isArray=mX;function E7(e){return typeof e=="boolean"}ga.isBoolean=E7;function ox(e){return e===null}ga.isNull=ox;function l_e(e){return e==null}ga.isNullOrUndefined=l_e;function gX(e){return typeof e=="number"}ga.isNumber=gX;function lx(e){return typeof e=="string"}ga.isString=lx;function s_e(e){return typeof e=="symbol"}ga.isSymbol=s_e;function ev(e){return e===void 0}ga.isUndefined=ev;function Vp(e){return Rh(e)&&L7(e)==="[object RegExp]"}ga.isRegExp=Vp;ga.types.isRegExp=Vp;function Rh(e){return typeof e=="object"&&e!==null}ga.isObject=Rh;function ix(e){return Rh(e)&&L7(e)==="[object Date]"}ga.isDate=ix;ga.types.isDate=ix;function Yp(e){return Rh(e)&&(L7(e)==="[object Error]"||e instanceof Error)}ga.isError=Yp;ga.types.isNativeError=Yp;function ax(e){return typeof e=="function"}ga.isFunction=ax;function u_e(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e=="undefined"}ga.isPrimitive=u_e;ga.isBuffer=hX();function L7(e){return Object.prototype.toString.call(e)}function k7(e){return e<10?"0"+e.toString(10):e.toString(10)}var f_e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function c_e(){var e=new Date,r=[k7(e.getHours()),k7(e.getMinutes()),k7(e.getSeconds())].join(":");return[e.getDate(),f_e[e.getMonth()],r].join(" ")}ga.log=function(){console.log("%s - %s",c_e(),ga.format.apply(ga,arguments))};ga.inherits=dX();ga._extend=function(e,r){if(!r||!Rh(r))return e;for(var t=Object.keys(r),a=t.length;a--;)e[t[a]]=r[t[a]];return e};function bX(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var Qc=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;ga.promisify=function(r){if(typeof r!="function")throw new TypeError('The "original" argument must be of type Function');if(Qc&&r[Qc]){var t=r[Qc];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,Qc,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var a,n,i=new Promise(function(s,u){a=s,n=u}),o=[],l=0;l<arguments.length;l++)o.push(arguments[l]);o.push(function(s,u){s?n(s):a(u)});try{r.apply(this,o)}catch(s){n(s)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(r)),Qc&&Object.defineProperty(t,Qc,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,pX(r))};ga.promisify.custom=Qc;function v_e(e,r){if(!e){var t=new Error("Promise was rejected with a falsy value");t.reason=e,e=t}return r(e)}function h_e(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function r(){for(var t=[],a=0;a<arguments.length;a++)t.push(arguments[a]);var n=t.pop();if(typeof n!="function")throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};e.apply(this,t).then(function(l){process.nextTick(o.bind(null,null,l))},function(l){process.nextTick(v_e.bind(null,l,o))})}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,pX(e)),r}ga.callbackify=h_e});var F7=R((GDe,AX)=>{"use strict";function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gf(e)}function xX(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,p_e(a.key),a)}}function d_e(e,r,t){return r&&xX(e.prototype,r),t&&xX(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p_e(e){var r=y_e(e,"string");return gf(r)==="symbol"?r:String(r)}function y_e(e,r){if(gf(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r||"default");if(gf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function m_e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function g_e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&D7(e,r)}function D7(e,r){return D7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},D7(e,r)}function b_e(e){var r=w_e();return function(){var a=sx(e),n;if(r){var i=sx(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return x_e(this,n)}}function x_e(e,r){if(r&&(gf(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return __e(e)}function __e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w_e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function sx(e){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sx(e)}var wX={},Nh,q7;function Wp(e,r,t){t||(t=Error);function a(i,o,l){return typeof r=="string"?r:r(i,o,l)}var n=function(i){g_e(l,i);var o=b_e(l);function l(s,u,f){var c;return m_e(this,l),c=o.call(this,a(s,u,f)),c.code=e,c}return d_e(l)}(t);wX[e]=n}function _X(e,r){if(Array.isArray(e)){var t=e.length;return e=e.map(function(a){return String(a)}),t>2?"one of ".concat(r," ").concat(e.slice(0,t-1).join(", "),", or ")+e[t-1]:t===2?"one of ".concat(r," ").concat(e[0]," or ").concat(e[1]):"of ".concat(r," ").concat(e[0])}else return"of ".concat(r," ").concat(String(e))}function A_e(e,r,t){return e.substr(!t||t<0?0:+t,r.length)===r}function T_e(e,r,t){return(t===void 0||t>e.length)&&(t=e.length),e.substring(t-r.length,t)===r}function M_e(e,r,t){return typeof t!="number"&&(t=0),t+r.length>e.length?!1:e.indexOf(r,t)!==-1}Wp("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);Wp("ERR_INVALID_ARG_TYPE",function(e,r,t){Nh===void 0&&(Nh=ux()),Nh(typeof e=="string","'name' must be a string");var a;typeof r=="string"&&A_e(r,"not ")?(a="must not be",r=r.replace(/^not /,"")):a="must be";var n;if(T_e(e," argument"))n="The ".concat(e," ").concat(a," ").concat(_X(r,"type"));else{var i=M_e(e,".")?"property":"argument";n='The "'.concat(e,'" ').concat(i," ").concat(a," ").concat(_X(r,"type"))}return n+=". Received type ".concat(gf(t)),n},TypeError);Wp("ERR_INVALID_ARG_VALUE",function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";q7===void 0&&(q7=Ph());var a=q7.inspect(r);return a.length>128&&(a="".concat(a.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(t,". Received ").concat(a)},TypeError,RangeError);Wp("ERR_INVALID_RETURN_VALUE",function(e,r,t){var a;return t&&t.constructor&&t.constructor.name?a="instance of ".concat(t.constructor.name):a="type ".concat(gf(t)),"Expected ".concat(e,' to be returned from the "').concat(r,'"')+" function but got ".concat(a,".")},TypeError);Wp("ERR_MISSING_ARGS",function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];Nh===void 0&&(Nh=ux()),Nh(r.length>0,"At least one arg needs to be specified");var a="The ",n=r.length;switch(r=r.map(function(i){return'"'.concat(i,'"')}),n){case 1:a+="".concat(r[0]," argument");break;case 2:a+="".concat(r[0]," and ").concat(r[1]," arguments");break;default:a+=r.slice(0,n-1).join(", "),a+=", and ".concat(r[n-1]," arguments");break}return"".concat(a," must be specified")},TypeError);AX.exports.codes=wX});var FX=R((VDe,DX)=>{"use strict";function TX(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function MX(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?TX(Object(t),!0).forEach(function(a){S_e(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):TX(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function S_e(e,r,t){return r=EX(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function k_e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function SX(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,EX(a.key),a)}}function C_e(e,r,t){return r&&SX(e.prototype,r),t&&SX(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EX(e){var r=E_e(e,"string");return mo(r)==="symbol"?r:String(r)}function E_e(e,r){if(mo(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r||"default");if(mo(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function L_e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Jp(e,r)}function q_e(e){var r=qX();return function(){var a=$p(e),n;if(r){var i=$p(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return LX(this,n)}}function LX(e,r){if(r&&(mo(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R7(e)}function R7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P7(e){var r=typeof Map=="function"?new Map:void 0;return P7=function(a){if(a===null||!D_e(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r!="undefined"){if(r.has(a))return r.get(a);r.set(a,n)}function n(){return fx(a,arguments,$p(this).constructor)}return n.prototype=Object.create(a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Jp(n,a)},P7(e)}function fx(e,r,t){return qX()?fx=Reflect.construct.bind():fx=function(n,i,o){var l=[null];l.push.apply(l,i);var s=Function.bind.apply(n,l),u=new s;return o&&Jp(u,o.prototype),u},fx.apply(null,arguments)}function qX(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function D_e(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Jp(e,r){return Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Jp(e,r)}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$p(e)}function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mo(e)}var F_e=Ph(),N7=F_e.inspect,R_e=F7(),P_e=R_e.codes.ERR_INVALID_ARG_TYPE;function kX(e,r,t){return(t===void 0||t>e.length)&&(t=e.length),e.substring(t-r.length,t)===r}function N_e(e,r){if(r=Math.floor(r),e.length==0||r==0)return"";var t=e.length*r;for(r=Math.floor(Math.log(r)/Math.log(2));r;)e+=e,r--;return e+=e.substring(0,t-e.length),e}var Ol="",jp="",Xp="",wi="",rv={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},I_e=10;function CX(e){var r=Object.keys(e),t=Object.create(Object.getPrototypeOf(e));return r.forEach(function(a){t[a]=e[a]}),Object.defineProperty(t,"message",{value:e.message}),t}function Zp(e){return N7(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function O_e(e,r,t){var a="",n="",i=0,o="",l=!1,s=Zp(e),u=s.split(`
`),f=Zp(r).split(`
`),c=0,h="";if(t==="strictEqual"&&mo(e)==="object"&&mo(r)==="object"&&e!==null&&r!==null&&(t="strictEqualObject"),u.length===1&&f.length===1&&u[0]!==f[0]){var d=u[0].length+f[0].length;if(d<=I_e){if((mo(e)!=="object"||e===null)&&(mo(r)!=="object"||r===null)&&(e!==0||r!==0))return"".concat(rv[t],`

`)+"".concat(u[0]," !== ").concat(f[0],`
`)}else if(t!=="strictEqualObject"){var p=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(d<p){for(;u[0][c]===f[0][c];)c++;c>2&&(h=`
  `.concat(N_e(" ",c),"^"),c=0)}}}for(var g=u[u.length-1],y=f[f.length-1];g===y&&(c++<2?o=`
  `.concat(g).concat(o):a=g,u.pop(),f.pop(),!(u.length===0||f.length===0));)g=u[u.length-1],y=f[f.length-1];var b=Math.max(u.length,f.length);if(b===0){var _=s.split(`
`);if(_.length>30)for(_[26]="".concat(Ol,"...").concat(wi);_.length>27;)_.pop();return"".concat(rv.notIdentical,`

`).concat(_.join(`
`),`
`)}c>3&&(o=`
`.concat(Ol,"...").concat(wi).concat(o),l=!0),a!==""&&(o=`
  `.concat(a).concat(o),a="");var w=0,x=rv[t]+`
`.concat(jp,"+ actual").concat(wi," ").concat(Xp,"- expected").concat(wi),T=" ".concat(Ol,"...").concat(wi," Lines skipped");for(c=0;c<b;c++){var S=c-i;if(u.length<c+1)S>1&&c>2&&(S>4?(n+=`
`.concat(Ol,"...").concat(wi),l=!0):S>3&&(n+=`
  `.concat(f[c-2]),w++),n+=`
  `.concat(f[c-1]),w++),i=c,a+=`
`.concat(Xp,"-").concat(wi," ").concat(f[c]),w++;else if(f.length<c+1)S>1&&c>2&&(S>4?(n+=`
`.concat(Ol,"...").concat(wi),l=!0):S>3&&(n+=`
  `.concat(u[c-2]),w++),n+=`
  `.concat(u[c-1]),w++),i=c,n+=`
`.concat(jp,"+").concat(wi," ").concat(u[c]),w++;else{var M=f[c],C=u[c],q=C!==M&&(!kX(C,",")||C.slice(0,-1)!==M);q&&kX(M,",")&&M.slice(0,-1)===C&&(q=!1,C+=","),q?(S>1&&c>2&&(S>4?(n+=`
`.concat(Ol,"...").concat(wi),l=!0):S>3&&(n+=`
  `.concat(u[c-2]),w++),n+=`
  `.concat(u[c-1]),w++),i=c,n+=`
`.concat(jp,"+").concat(wi," ").concat(C),a+=`
`.concat(Xp,"-").concat(wi," ").concat(M),w+=2):(n+=a,a="",(S===1||c===0)&&(n+=`
  `.concat(C),w++))}if(w>20&&c<b-2)return"".concat(x).concat(T,`
`).concat(n,`
`).concat(Ol,"...").concat(wi).concat(a,`
`)+"".concat(Ol,"...").concat(wi)}return"".concat(x).concat(l?T:"",`
`).concat(n).concat(a).concat(o).concat(h)}var z_e=function(e,r){L_e(a,e);var t=q_e(a);function a(n){var i;if(k_e(this,a),mo(n)!=="object"||n===null)throw new P_e("options","Object",n);var o=n.message,l=n.operator,s=n.stackStartFn,u=n.actual,f=n.expected,c=Error.stackTraceLimit;if(Error.stackTraceLimit=0,o!=null)i=t.call(this,String(o));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Ol="\x1B[34m",jp="\x1B[32m",wi="\x1B[39m",Xp="\x1B[31m"):(Ol="",jp="",wi="",Xp="")),mo(u)==="object"&&u!==null&&mo(f)==="object"&&f!==null&&"stack"in u&&u instanceof Error&&"stack"in f&&f instanceof Error&&(u=CX(u),f=CX(f)),l==="deepStrictEqual"||l==="strictEqual")i=t.call(this,O_e(u,f,l));else if(l==="notDeepStrictEqual"||l==="notStrictEqual"){var h=rv[l],d=Zp(u).split(`
`);if(l==="notStrictEqual"&&mo(u)==="object"&&u!==null&&(h=rv.notStrictEqualObject),d.length>30)for(d[26]="".concat(Ol,"...").concat(wi);d.length>27;)d.pop();d.length===1?i=t.call(this,"".concat(h," ").concat(d[0])):i=t.call(this,"".concat(h,`

`).concat(d.join(`
`),`
`))}else{var p=Zp(u),g="",y=rv[l];l==="notDeepEqual"||l==="notEqual"?(p="".concat(rv[l],`

`).concat(p),p.length>1024&&(p="".concat(p.slice(0,1021),"..."))):(g="".concat(Zp(f)),p.length>512&&(p="".concat(p.slice(0,509),"...")),g.length>512&&(g="".concat(g.slice(0,509),"...")),l==="deepEqual"||l==="equal"?p="".concat(y,`

`).concat(p,`

should equal

`):g=" ".concat(l," ").concat(g)),i=t.call(this,"".concat(p).concat(g))}return Error.stackTraceLimit=c,i.generatedMessage=!o,Object.defineProperty(R7(i),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),i.code="ERR_ASSERTION",i.actual=u,i.expected=f,i.operator=l,Error.captureStackTrace&&Error.captureStackTrace(R7(i),s),i.stack,i.name="AssertionError",LX(i)}return C_e(a,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:r,value:function(i,o){return N7(this,MX(MX({},o),{},{customInspect:!1,depth:0}))}}]),a}(P7(Error),N7.custom);DX.exports=z_e});var I7=R((YDe,PX)=>{"use strict";var RX=Object.prototype.toString;PX.exports=function(r){var t=RX.call(r),a=t==="[object Arguments]";return a||(a=t!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&RX.call(r.callee)==="[object Function]"),a}});var VX=R((WDe,GX)=>{"use strict";var HX;Object.keys||(Kp=Object.prototype.hasOwnProperty,O7=Object.prototype.toString,NX=I7(),z7=Object.prototype.propertyIsEnumerable,IX=!z7.call({toString:null},"toString"),OX=z7.call(function(){},"prototype"),Qp=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],cx=function(e){var r=e.constructor;return r&&r.prototype===e},zX={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},BX=function(){if(typeof window=="undefined")return!1;for(var e in window)try{if(!zX["$"+e]&&Kp.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{cx(window[e])}catch(r){return!0}}catch(r){return!0}return!1}(),UX=function(e){if(typeof window=="undefined"||!BX)return cx(e);try{return cx(e)}catch(r){return!1}},HX=function(r){var t=r!==null&&typeof r=="object",a=O7.call(r)==="[object Function]",n=NX(r),i=t&&O7.call(r)==="[object String]",o=[];if(!t&&!a&&!n)throw new TypeError("Object.keys called on a non-object");var l=OX&&a;if(i&&r.length>0&&!Kp.call(r,0))for(var s=0;s<r.length;++s)o.push(String(s));if(n&&r.length>0)for(var u=0;u<r.length;++u)o.push(String(u));else for(var f in r)!(l&&f==="prototype")&&Kp.call(r,f)&&o.push(String(f));if(IX)for(var c=UX(r),h=0;h<Qp.length;++h)!(c&&Qp[h]==="constructor")&&Kp.call(r,Qp[h])&&o.push(Qp[h]);return o});var Kp,O7,NX,z7,IX,OX,Qp,cx,zX,BX,UX;GX.exports=HX});var B7=R((jDe,jX)=>{"use strict";var B_e=Array.prototype.slice,U_e=I7(),YX=Object.keys,vx=YX?function(r){return YX(r)}:VX(),WX=Object.keys;vx.shim=function(){if(Object.keys){var r=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);r||(Object.keys=function(a){return U_e(a)?WX(B_e.call(a)):WX(a)})}else Object.keys=vx;return Object.keys||vx};jX.exports=vx});var QX=R((XDe,KX)=>{"use strict";var H_e=B7(),JX=Rb()(),$X=qh(),XX=Object,G_e=$X("Array.prototype.push"),ZX=$X("Object.prototype.propertyIsEnumerable"),V_e=JX?Object.getOwnPropertySymbols:null;KX.exports=function(r,t){if(r==null)throw new TypeError("target must be an object");var a=XX(r);if(arguments.length===1)return a;for(var n=1;n<arguments.length;++n){var i=XX(arguments[n]),o=H_e(i),l=JX&&(Object.getOwnPropertySymbols||V_e);if(l)for(var s=l(i),u=0;u<s.length;++u){var f=s[u];ZX(i,f)&&G_e(o,f)}for(var c=0;c<o.length;++c){var h=o[c];if(ZX(i,h)){var d=i[h];a[h]=d}}}return a}});var rZ=R((ZDe,eZ)=>{"use strict";var U7=QX(),Y_e=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",r=e.split(""),t={},a=0;a<r.length;++a)t[r[a]]=r[a];var n=Object.assign({},t),i="";for(var o in n)i+=o;return e!==i},W_e=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(r){return e[1]==="y"}return!1};eZ.exports=function(){return!Object.assign||Y_e()||W_e()?U7:Object.assign}});var H7=R((JDe,aZ)=>{"use strict";var tZ=function(e){return e!==e};aZ.exports=function(r,t){return r===0&&t===0?1/r===1/t:!!(r===t||tZ(r)&&tZ(t))}});var hx=R(($De,nZ)=>{"use strict";var j_e=H7();nZ.exports=function(){return typeof Object.is=="function"?Object.is:j_e}});var ey=R((KDe,sZ)=>{"use strict";var X_e=B7(),Z_e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",J_e=Object.prototype.toString,$_e=Array.prototype.concat,iZ=Object.defineProperty,K_e=function(e){return typeof e=="function"&&J_e.call(e)==="[object Function]"},Q_e=i7()(),oZ=iZ&&Q_e,e4e=function(e,r,t,a){if(r in e){if(a===!0){if(e[r]===t)return}else if(!K_e(a)||!a())return}oZ?iZ(e,r,{configurable:!0,enumerable:!1,value:t,writable:!0}):e[r]=t},lZ=function(e,r){var t=arguments.length>2?arguments[2]:{},a=X_e(r);Z_e&&(a=$_e.call(a,Object.getOwnPropertySymbols(r)));for(var n=0;n<a.length;n+=1)e4e(e,a[n],r[a[n]],t[a[n]])};lZ.supportsDescriptors=!!oZ;sZ.exports=lZ});var fZ=R((QDe,uZ)=>{"use strict";var r4e=hx(),t4e=ey();uZ.exports=function(){var r=r4e();return t4e(Object,{is:r},{is:function(){return Object.is!==r}}),r}});var dZ=R((eFe,hZ)=>{"use strict";var a4e=ey(),n4e=Up(),i4e=H7(),cZ=hx(),o4e=fZ(),vZ=n4e(cZ(),Object);a4e(vZ,{getPolyfill:cZ,implementation:i4e,shim:o4e});hZ.exports=vZ});var G7=R((rFe,pZ)=>{"use strict";pZ.exports=function(r){return r!==r}});var V7=R((tFe,yZ)=>{"use strict";var l4e=G7();yZ.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:l4e}});var gZ=R((aFe,mZ)=>{"use strict";var s4e=ey(),u4e=V7();mZ.exports=function(){var r=u4e();return s4e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r}});var wZ=R((nFe,_Z)=>{"use strict";var f4e=Up(),c4e=ey(),v4e=G7(),bZ=V7(),h4e=gZ(),xZ=f4e(bZ(),Number);c4e(xZ,{getPolyfill:bZ,implementation:v4e,shim:h4e});_Z.exports=xZ});var HZ=R((iFe,UZ)=>{"use strict";function AZ(e,r){return m4e(e)||y4e(e,r)||p4e(e,r)||d4e()}function d4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p4e(e,r){if(e){if(typeof e=="string")return TZ(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return TZ(e,r)}}function TZ(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function y4e(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a,n,i,o,l=[],s=!0,u=!1;try{if(i=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(a=i.call(t)).done)&&(l.push(a.value),l.length!==r);s=!0);}catch(f){u=!0,n=f}finally{try{if(!s&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw n}}return l}}function m4e(e){if(Array.isArray(e))return e}function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},il(e)}var g4e=/a/g.flags!==void 0,xx=function(r){var t=[];return r.forEach(function(a){return t.push(a)}),t},MZ=function(r){var t=[];return r.forEach(function(a,n){return t.push([n,a])}),t},NZ=Object.is?Object.is:dZ(),gx=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},Y7=Number.isNaN?Number.isNaN:wZ();function j7(e){return e.call.bind(e)}var ty=j7(Object.prototype.hasOwnProperty),bx=j7(Object.prototype.propertyIsEnumerable),SZ=j7(Object.prototype.toString),Vi=Ph().types,b4e=Vi.isAnyArrayBuffer,x4e=Vi.isArrayBufferView,kZ=Vi.isDate,dx=Vi.isMap,CZ=Vi.isRegExp,px=Vi.isSet,_4e=Vi.isNativeError,w4e=Vi.isBoxedPrimitive,EZ=Vi.isNumberObject,LZ=Vi.isStringObject,qZ=Vi.isBooleanObject,DZ=Vi.isBigIntObject,A4e=Vi.isSymbolObject,T4e=Vi.isFloat32Array,M4e=Vi.isFloat64Array;function S4e(e){if(e.length===0||e.length>10)return!0;for(var r=0;r<e.length;r++){var t=e.charCodeAt(r);if(t<48||t>57)return!0}return e.length===10&&e>=Math.pow(2,32)}function yx(e){return Object.keys(e).filter(S4e).concat(gx(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function IZ(e,r){if(e===r)return 0;for(var t=e.length,a=r.length,n=0,i=Math.min(t,a);n<i;++n)if(e[n]!==r[n]){t=e[n],a=r[n];break}return t<a?-1:a<t?1:0}var mx=void 0,k4e=!0,C4e=!1,W7=0,X7=1,OZ=2,zZ=3;function E4e(e,r){return g4e?e.source===r.source&&e.flags===r.flags:RegExp.prototype.toString.call(e)===RegExp.prototype.toString.call(r)}function L4e(e,r){if(e.byteLength!==r.byteLength)return!1;for(var t=0;t<e.byteLength;t++)if(e[t]!==r[t])return!1;return!0}function q4e(e,r){return e.byteLength!==r.byteLength?!1:IZ(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(r.buffer,r.byteOffset,r.byteLength))===0}function D4e(e,r){return e.byteLength===r.byteLength&&IZ(new Uint8Array(e),new Uint8Array(r))===0}function F4e(e,r){return EZ(e)?EZ(r)&&NZ(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(r)):LZ(e)?LZ(r)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(r):qZ(e)?qZ(r)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(r):DZ(e)?DZ(r)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(r):A4e(r)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(r)}function ol(e,r,t,a){if(e===r)return e!==0?!0:t?NZ(e,r):!0;if(t){if(il(e)!=="object")return typeof e=="number"&&Y7(e)&&Y7(r);if(il(r)!=="object"||e===null||r===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(r))return!1}else{if(e===null||il(e)!=="object")return r===null||il(r)!=="object"?e==r:!1;if(r===null||il(r)!=="object")return!1}var n=SZ(e),i=SZ(r);if(n!==i)return!1;if(Array.isArray(e)){if(e.length!==r.length)return!1;var o=yx(e,mx),l=yx(r,mx);return o.length!==l.length?!1:ry(e,r,t,a,X7,o)}if(n==="[object Object]"&&(!dx(e)&&dx(r)||!px(e)&&px(r)))return!1;if(kZ(e)){if(!kZ(r)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(r))return!1}else if(CZ(e)){if(!CZ(r)||!E4e(e,r))return!1}else if(_4e(e)||e instanceof Error){if(e.message!==r.message||e.name!==r.name)return!1}else if(x4e(e)){if(!t&&(T4e(e)||M4e(e))){if(!L4e(e,r))return!1}else if(!q4e(e,r))return!1;var s=yx(e,mx),u=yx(r,mx);return s.length!==u.length?!1:ry(e,r,t,a,W7,s)}else{if(px(e))return!px(r)||e.size!==r.size?!1:ry(e,r,t,a,OZ);if(dx(e))return!dx(r)||e.size!==r.size?!1:ry(e,r,t,a,zZ);if(b4e(e)){if(!D4e(e,r))return!1}else if(w4e(e)&&!F4e(e,r))return!1}return ry(e,r,t,a,W7)}function FZ(e,r){return r.filter(function(t){return bx(e,t)})}function ry(e,r,t,a,n,i){if(arguments.length===5){i=Object.keys(e);var o=Object.keys(r);if(i.length!==o.length)return!1}for(var l=0;l<i.length;l++)if(!ty(r,i[l]))return!1;if(t&&arguments.length===5){var s=gx(e);if(s.length!==0){var u=0;for(l=0;l<s.length;l++){var f=s[l];if(bx(e,f)){if(!bx(r,f))return!1;i.push(f),u++}else if(bx(r,f))return!1}var c=gx(r);if(s.length!==c.length&&FZ(r,c).length!==u)return!1}else{var h=gx(r);if(h.length!==0&&FZ(r,h).length!==0)return!1}}if(i.length===0&&(n===W7||n===X7&&e.length===0||e.size===0))return!0;if(a===void 0)a={val1:new Map,val2:new Map,position:0};else{var d=a.val1.get(e);if(d!==void 0){var p=a.val2.get(r);if(p!==void 0)return d===p}a.position++}a.val1.set(e,a.position),a.val2.set(r,a.position);var g=O4e(e,r,t,i,a,n);return a.val1.delete(e),a.val2.delete(r),g}function RZ(e,r,t,a){for(var n=xx(e),i=0;i<n.length;i++){var o=n[i];if(ol(r,o,t,a))return e.delete(o),!0}return!1}function BZ(e){switch(il(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(Y7(e))return!1}return!0}function R4e(e,r,t){var a=BZ(t);return a!=null?a:r.has(a)&&!e.has(a)}function P4e(e,r,t,a,n){var i=BZ(t);if(i!=null)return i;var o=r.get(i);return o===void 0&&!r.has(i)||!ol(a,o,!1,n)?!1:!e.has(i)&&ol(a,o,!1,n)}function N4e(e,r,t,a){for(var n=null,i=xx(e),o=0;o<i.length;o++){var l=i[o];if(il(l)==="object"&&l!==null)n===null&&(n=new Set),n.add(l);else if(!r.has(l)){if(t||!R4e(e,r,l))return!1;n===null&&(n=new Set),n.add(l)}}if(n!==null){for(var s=xx(r),u=0;u<s.length;u++){var f=s[u];if(il(f)==="object"&&f!==null){if(!RZ(n,f,t,a))return!1}else if(!t&&!e.has(f)&&!RZ(n,f,t,a))return!1}return n.size===0}return!0}function PZ(e,r,t,a,n,i){for(var o=xx(e),l=0;l<o.length;l++){var s=o[l];if(ol(t,s,n,i)&&ol(a,r.get(s),n,i))return e.delete(s),!0}return!1}function I4e(e,r,t,a){for(var n=null,i=MZ(e),o=0;o<i.length;o++){var l=AZ(i[o],2),s=l[0],u=l[1];if(il(s)==="object"&&s!==null)n===null&&(n=new Set),n.add(s);else{var f=r.get(s);if(f===void 0&&!r.has(s)||!ol(u,f,t,a)){if(t||!P4e(e,r,s,u,a))return!1;n===null&&(n=new Set),n.add(s)}}}if(n!==null){for(var c=MZ(r),h=0;h<c.length;h++){var d=AZ(c[h],2),p=d[0],g=d[1];if(il(p)==="object"&&p!==null){if(!PZ(n,e,p,g,t,a))return!1}else if(!t&&(!e.has(p)||!ol(e.get(p),g,!1,a))&&!PZ(n,e,p,g,!1,a))return!1}return n.size===0}return!0}function O4e(e,r,t,a,n,i){var o=0;if(i===OZ){if(!N4e(e,r,t,n))return!1}else if(i===zZ){if(!I4e(e,r,t,n))return!1}else if(i===X7)for(;o<e.length;o++)if(ty(e,o)){if(!ty(r,o)||!ol(e[o],r[o],t,n))return!1}else{if(ty(r,o))return!1;for(var l=Object.keys(e);o<l.length;o++){var s=l[o];if(!ty(r,s)||!ol(e[s],r[s],t,n))return!1}return l.length===Object.keys(r).length}for(o=0;o<a.length;o++){var u=a[o];if(!ol(e[u],r[u],t,n))return!1}return!0}function z4e(e,r){return ol(e,r,C4e)}function B4e(e,r){return ol(e,r,k4e)}UZ.exports={isDeepEqual:z4e,isDeepStrictEqual:B4e}});var ux=R((oFe,oJ)=>{"use strict";function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zl(e)}function GZ(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,H4e(a.key),a)}}function U4e(e,r,t){return r&&GZ(e.prototype,r),t&&GZ(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H4e(e){var r=G4e(e,"string");return zl(r)==="symbol"?r:String(r)}function G4e(e,r){if(zl(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r||"default");if(zl(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function V4e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var Y4e=F7(),ay=Y4e.codes,VZ=ay.ERR_AMBIGUOUS_ARGUMENT,Ih=ay.ERR_INVALID_ARG_TYPE,W4e=ay.ERR_INVALID_ARG_VALUE,j4e=ay.ERR_INVALID_RETURN_VALUE,xf=ay.ERR_MISSING_ARGS,_f=FX(),X4e=Ph(),_x=X4e.inspect,XZ=Ph().types,Z4e=XZ.isPromise,wx=XZ.isRegExp,J4e=rZ()(),ZZ=hx()(),Ax=qh()("RegExp.prototype.test"),bf,Tx;function ny(){var e=HZ();bf=e.isDeepEqual,Tx=e.isDeepStrictEqual}var YZ=!1,$a=oJ.exports=Z7,Mx={};function Bl(e){throw e.message instanceof Error?e.message:new _f(e)}function JZ(e,r,t,a,n){var i=arguments.length,o;if(i===0)o="Failed";else if(i===1)t=e,e=void 0;else{if(YZ===!1){YZ=!0;var l=process.emitWarning?process.emitWarning:console.warn.bind(console);l("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}i===2&&(a="!=")}if(t instanceof Error)throw t;var s={actual:e,expected:r,operator:a===void 0?"fail":a,stackStartFn:n||JZ};t!==void 0&&(s.message=t);var u=new _f(s);throw o&&(u.message=o,u.generatedMessage=!0),u}$a.fail=JZ;$a.AssertionError=_f;function $Z(e,r,t,a){if(!t){var n=!1;if(r===0)n=!0,a="No value argument passed to `assert.ok()`";else if(a instanceof Error)throw a;var i=new _f({actual:t,expected:!0,message:a,operator:"==",stackStartFn:e});throw i.generatedMessage=n,i}}function Z7(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];$Z.apply(void 0,[Z7,r.length].concat(r))}$a.ok=Z7;$a.equal=function e(r,t,a){if(arguments.length<2)throw new xf("actual","expected");r!=t&&Bl({actual:r,expected:t,message:a,operator:"==",stackStartFn:e})};$a.notEqual=function e(r,t,a){if(arguments.length<2)throw new xf("actual","expected");r==t&&Bl({actual:r,expected:t,message:a,operator:"!=",stackStartFn:e})};$a.deepEqual=function e(r,t,a){if(arguments.length<2)throw new xf("actual","expected");bf===void 0&&ny(),bf(r,t)||Bl({actual:r,expected:t,message:a,operator:"deepEqual",stackStartFn:e})};$a.notDeepEqual=function e(r,t,a){if(arguments.length<2)throw new xf("actual","expected");bf===void 0&&ny(),bf(r,t)&&Bl({actual:r,expected:t,message:a,operator:"notDeepEqual",stackStartFn:e})};$a.deepStrictEqual=function e(r,t,a){if(arguments.length<2)throw new xf("actual","expected");bf===void 0&&ny(),Tx(r,t)||Bl({actual:r,expected:t,message:a,operator:"deepStrictEqual",stackStartFn:e})};$a.notDeepStrictEqual=KZ;function KZ(e,r,t){if(arguments.length<2)throw new xf("actual","expected");bf===void 0&&ny(),Tx(e,r)&&Bl({actual:e,expected:r,message:t,operator:"notDeepStrictEqual",stackStartFn:KZ})}$a.strictEqual=function e(r,t,a){if(arguments.length<2)throw new xf("actual","expected");ZZ(r,t)||Bl({actual:r,expected:t,message:a,operator:"strictEqual",stackStartFn:e})};$a.notStrictEqual=function e(r,t,a){if(arguments.length<2)throw new xf("actual","expected");ZZ(r,t)&&Bl({actual:r,expected:t,message:a,operator:"notStrictEqual",stackStartFn:e})};var WZ=U4e(function e(r,t,a){var n=this;V4e(this,e),t.forEach(function(i){i in r&&(a!==void 0&&typeof a[i]=="string"&&wx(r[i])&&Ax(r[i],a[i])?n[i]=a[i]:n[i]=r[i])})});function $4e(e,r,t,a,n,i){if(!(t in e)||!Tx(e[t],r[t])){if(!a){var o=new WZ(e,n),l=new WZ(r,n,e),s=new _f({actual:o,expected:l,operator:"deepStrictEqual",stackStartFn:i});throw s.actual=e,s.expected=r,s.operator=i.name,s}Bl({actual:e,expected:r,message:a,operator:i.name,stackStartFn:i})}}function QZ(e,r,t,a){if(typeof r!="function"){if(wx(r))return Ax(r,e);if(arguments.length===2)throw new Ih("expected",["Function","RegExp"],r);if(zl(e)!=="object"||e===null){var n=new _f({actual:e,expected:r,message:t,operator:"deepStrictEqual",stackStartFn:a});throw n.operator=a.name,n}var i=Object.keys(r);if(r instanceof Error)i.push("name","message");else if(i.length===0)throw new W4e("error",r,"may not be an empty object");return bf===void 0&&ny(),i.forEach(function(o){typeof e[o]=="string"&&wx(r[o])&&Ax(r[o],e[o])||$4e(e,r,o,t,i,a)}),!0}return r.prototype!==void 0&&e instanceof r?!0:Error.isPrototypeOf(r)?!1:r.call({},e)===!0}function eJ(e){if(typeof e!="function")throw new Ih("fn","Function",e);try{e()}catch(r){return r}return Mx}function jZ(e){return Z4e(e)||e!==null&&zl(e)==="object"&&typeof e.then=="function"&&typeof e.catch=="function"}function rJ(e){return Promise.resolve().then(function(){var r;if(typeof e=="function"){if(r=e(),!jZ(r))throw new j4e("instance of Promise","promiseFn",r)}else if(jZ(e))r=e;else throw new Ih("promiseFn",["Function","Promise"],e);return Promise.resolve().then(function(){return r}).then(function(){return Mx}).catch(function(t){return t})})}function tJ(e,r,t,a){if(typeof t=="string"){if(arguments.length===4)throw new Ih("error",["Object","Error","Function","RegExp"],t);if(zl(r)==="object"&&r!==null){if(r.message===t)throw new VZ("error/message",'The error message "'.concat(r.message,'" is identical to the message.'))}else if(r===t)throw new VZ("error/message",'The error "'.concat(r,'" is identical to the message.'));a=t,t=void 0}else if(t!=null&&zl(t)!=="object"&&typeof t!="function")throw new Ih("error",["Object","Error","Function","RegExp"],t);if(r===Mx){var n="";t&&t.name&&(n+=" (".concat(t.name,")")),n+=a?": ".concat(a):".";var i=e.name==="rejects"?"rejection":"exception";Bl({actual:void 0,expected:t,operator:e.name,message:"Missing expected ".concat(i).concat(n),stackStartFn:e})}if(t&&!QZ(r,t,a,e))throw r}function aJ(e,r,t,a){if(r!==Mx){if(typeof t=="string"&&(a=t,t=void 0),!t||QZ(r,t)){var n=a?": ".concat(a):".",i=e.name==="doesNotReject"?"rejection":"exception";Bl({actual:r,expected:t,operator:e.name,message:"Got unwanted ".concat(i).concat(n,`
`)+'Actual message: "'.concat(r&&r.message,'"'),stackStartFn:e})}throw r}}$a.throws=function e(r){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];tJ.apply(void 0,[e,eJ(r)].concat(a))};$a.rejects=function e(r){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return rJ(r).then(function(i){return tJ.apply(void 0,[e,i].concat(a))})};$a.doesNotThrow=function e(r){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];aJ.apply(void 0,[e,eJ(r)].concat(a))};$a.doesNotReject=function e(r){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return rJ(r).then(function(i){return aJ.apply(void 0,[e,i].concat(a))})};$a.ifError=function e(r){if(r!=null){var t="ifError got unwanted exception: ";zl(r)==="object"&&typeof r.message=="string"?r.message.length===0&&r.constructor?t+=r.constructor.name:t+=r.message:t+=_x(r);var a=new _f({actual:r,expected:null,operator:"ifError",message:t,stackStartFn:e}),n=r.stack;if(typeof n=="string"){var i=n.split(`
`);i.shift();for(var o=a.stack.split(`
`),l=0;l<i.length;l++){var s=o.indexOf(i[l]);if(s!==-1){o=o.slice(0,s);break}}a.stack="".concat(o.join(`
`),`
`).concat(i.join(`
`))}throw a}};function nJ(e,r,t,a,n){if(!wx(r))throw new Ih("regexp","RegExp",r);var i=n==="match";if(typeof e!="string"||Ax(r,e)!==i){if(t instanceof Error)throw t;var o=!t;t=t||(typeof e!="string"?'The "string" argument must be of type string. Received type '+"".concat(zl(e)," (").concat(_x(e),")"):(i?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(_x(r),`. Input:

`).concat(_x(e),`
`));var l=new _f({actual:e,expected:r,message:t,operator:n,stackStartFn:a});throw l.generatedMessage=o,l}}$a.match=function e(r,t,a){nJ(r,t,a,e,"match")};$a.doesNotMatch=function e(r,t,a){nJ(r,t,a,e,"doesNotMatch")};function iJ(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];$Z.apply(void 0,[iJ,r.length].concat(r))}$a.strict=J4e(iJ,$a,{equal:$a.strictEqual,deepEqual:$a.deepStrictEqual,notEqual:$a.notStrictEqual,notDeepEqual:$a.notDeepStrictEqual});$a.strict.strict=$a.strict});var uJ=R((lFe,sJ)=>{"use strict";var K4e=p1(),Q4e=K8(),ewe=CW(),rwe=e7(),lJ=ux();sJ.exports=twe;function twe(e){if(Array.isArray(e)&&e.length===1&&typeof e[0]=="string"&&(e=e[0]),typeof e=="string"&&(lJ(rwe(e),"String is not an SVG path."),e=K4e(e)),lJ(Array.isArray(e),"Argument should be a string or an array of path segments."),e=Q4e(e),e=ewe(e),!e.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,a=e.length;t<a;t++)for(var n=e[t].slice(1),i=0;i<n.length;i+=2)n[i+0]<r[0]&&(r[0]=n[i+0]),n[i+1]<r[1]&&(r[1]=n[i+1]),n[i+0]>r[2]&&(r[2]=n[i+0]),n[i+1]>r[3]&&(r[3]=n[i+1]);return r}});var pJ=R((sFe,dJ)=>{var tv=Math.PI,fJ=hJ(120);dJ.exports=awe;function awe(e){for(var r,t=[],a=0,n=0,i=0,o=0,l=null,s=null,u=0,f=0,c=0,h=e.length;c<h;c++){var d=e[c],p=d[0];switch(p){case"M":i=d[1],o=d[2];break;case"A":d=vJ(u,f,d[1],d[2],hJ(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var g=u,y=f;(r=="C"||r=="S")&&(g+=g-a,y+=y-n),d=["C",g,y,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(l=u*2-l,s=f*2-s):(l=u,s=f),d=cJ(u,f,l,s,d[1],d[2]);break;case"Q":l=d[1],s=d[2],d=cJ(u,f,d[1],d[2],d[3],d[4]);break;case"L":d=Sx(u,f,d[1],d[2]);break;case"H":d=Sx(u,f,d[1],f);break;case"V":d=Sx(u,f,u,d[1]);break;case"Z":d=Sx(u,f,i,o);break}r=p,u=d[d.length-2],f=d[d.length-1],d.length>4?(a=d[d.length-4],n=d[d.length-3]):(a=u,n=f),t.push(d)}return t}function Sx(e,r,t,a){return["C",e,r,t,a,t,a]}function cJ(e,r,t,a,n,i){return["C",e/3+2/3*t,r/3+2/3*a,n/3+2/3*t,i/3+2/3*a,n,i]}function vJ(e,r,t,a,n,i,o,l,s,u){if(u)w=u[0],x=u[1],b=u[2],_=u[3];else{var f=J7(e,r,-n);e=f.x,r=f.y,f=J7(l,s,-n),l=f.x,s=f.y;var c=(e-l)/2,h=(r-s)/2,d=c*c/(t*t)+h*h/(a*a);d>1&&(d=Math.sqrt(d),t=d*t,a=d*a);var p=t*t,g=a*a,y=(i==o?-1:1)*Math.sqrt(Math.abs((p*g-p*h*h-g*c*c)/(p*h*h+g*c*c)));y==1/0&&(y=1);var b=y*t*h/a+(e+l)/2,_=y*-a*c/t+(r+s)/2,w=Math.asin(((r-_)/a).toFixed(9)),x=Math.asin(((s-_)/a).toFixed(9));w=e<b?tv-w:w,x=l<b?tv-x:x,w<0&&(w=tv*2+w),x<0&&(x=tv*2+x),o&&w>x&&(w=w-tv*2),!o&&x>w&&(x=x-tv*2)}if(Math.abs(x-w)>fJ){var T=x,S=l,M=s;x=w+fJ*(o&&x>w?1:-1),l=b+t*Math.cos(x),s=_+a*Math.sin(x);var C=vJ(l,s,t,a,n,0,o,S,M,[x,T,b,_])}var q=Math.tan((x-w)/4),F=4/3*t*q,P=4/3*a*q,I=[2*e-(e+F*Math.sin(w)),2*r-(r-P*Math.cos(w)),l+F*Math.sin(x),s-P*Math.cos(x),l,s];if(u)return I;C&&(I=I.concat(C));for(var H=0;H<I.length;){var V=J7(I[H],I[H+1],n);I[H++]=V.x,I[H++]=V.y}return I}function J7(e,r,t){return{x:e*Math.cos(t)-r*Math.sin(t),y:e*Math.sin(t)+r*Math.cos(t)}}function hJ(e){return e*(tv/180)}});var mJ=R((uFe,yJ)=>{var nwe=K8(),iwe=pJ(),owe={M:"moveTo",C:"bezierCurveTo"};yJ.exports=function(e,r){e.beginPath(),iwe(nwe(r)).forEach(function(t){var a=t[0],n=t.slice(1);e[owe[a]].apply(e,n)}),e.closePath()}});var _J=R((fFe,xJ)=>{"use strict";var lwe=wh();xJ.exports=swe;var iy=1e20;function swe(e,r){r||(r={});var t=r.cutoff==null?.25:r.cutoff,a=r.radius==null?8:r.radius,n=r.channel||0,i,o,l,s,u,f,c,h,d,p,g;if(ArrayBuffer.isView(e)||Array.isArray(e)){if(!r.width||!r.height)throw Error("For raw data width and height should be provided by options");i=r.width,o=r.height,s=e,r.stride?f=r.stride:f=Math.floor(e.length/i/o)}else window.HTMLCanvasElement&&e instanceof window.HTMLCanvasElement?(h=e,c=h.getContext("2d"),i=h.width,o=h.height,d=c.getImageData(0,0,i,o),s=d.data,f=4):window.CanvasRenderingContext2D&&e instanceof window.CanvasRenderingContext2D?(h=e.canvas,c=e,i=h.width,o=h.height,d=c.getImageData(0,0,i,o),s=d.data,f=4):window.ImageData&&e instanceof window.ImageData&&(d=e,i=e.width,o=e.height,s=d.data,f=4);if(l=Math.max(i,o),window.Uint8ClampedArray&&s instanceof window.Uint8ClampedArray||window.Uint8Array&&s instanceof window.Uint8Array)for(u=s,s=Array(i*o),p=0,g=u.length;p<g;p++)s[p]=u[p*f+n]/255;else if(f!==1)throw Error("Raw data can have only 1 value per pixel");var y=Array(i*o),b=Array(i*o),_=Array(l),w=Array(l),x=Array(l+1),T=Array(l);for(p=0,g=i*o;p<g;p++){var S=s[p];y[p]=S===1?0:S===0?iy:Math.pow(Math.max(0,.5-S),2),b[p]=S===1?iy:S===0?0:Math.pow(Math.max(0,S-.5),2)}gJ(y,i,o,_,w,T,x),gJ(b,i,o,_,w,T,x);var M=window.Float32Array?new Float32Array(i*o):new Array(i*o);for(p=0,g=i*o;p<g;p++)M[p]=lwe(1-((y[p]-b[p])/a+t),0,1);return M}function gJ(e,r,t,a,n,i,o){for(var l=0;l<r;l++){for(var s=0;s<t;s++)a[s]=e[s*r+l];for(bJ(a,n,i,o,t),s=0;s<t;s++)e[s*r+l]=n[s]}for(s=0;s<t;s++){for(l=0;l<r;l++)a[l]=e[s*r+l];for(bJ(a,n,i,o,r),l=0;l<r;l++)e[s*r+l]=Math.sqrt(n[l])}}function bJ(e,r,t,a,n){t[0]=0,a[0]=-iy,a[1]=+iy;for(var i=1,o=0;i<n;i++){for(var l=(e[i]+i*i-(e[t[o]]+t[o]*t[o]))/(2*i-2*t[o]);l<=a[o];)o--,l=(e[i]+i*i-(e[t[o]]+t[o]*t[o]))/(2*i-2*t[o]);o++,t[o]=i,a[o]=l,a[o+1]=+iy}for(i=0,o=0;i<n;i++){for(;a[o+1]<i;)o++;r[i]=(i-t[o])*(i-t[o])+e[t[o]]}}});var AJ=R((cFe,wJ)=>{"use strict";var uwe=uJ(),fwe=p1(),cwe=mJ(),vwe=e7(),hwe=_J(),$7=document.createElement("canvas"),Yi=$7.getContext("2d");wJ.exports=dwe;function dwe(e,r){if(!vwe(e))throw Error("Argument should be valid svg path string");r||(r={});var t,a;r.shape?(t=r.shape[0],a=r.shape[1]):(t=$7.width=r.w||r.width||200,a=$7.height=r.h||r.height||200);var n=Math.min(t,a),i=r.stroke||0,o=r.viewbox||r.viewBox||uwe(e),l=[t/(o[2]-o[0]),a/(o[3]-o[1])],s=Math.min(l[0]||0,l[1]||0)/2;if(Yi.fillStyle="black",Yi.fillRect(0,0,t,a),Yi.fillStyle="white",i&&(typeof i!="number"&&(i=1),i>0?Yi.strokeStyle="white":Yi.strokeStyle="black",Yi.lineWidth=Math.abs(i)),Yi.translate(t*.5,a*.5),Yi.scale(s,s),pwe()){var u=new Path2D(e);Yi.fill(u),i&&Yi.stroke(u)}else{var f=fwe(e);cwe(Yi,f),Yi.fill(),i&&Yi.stroke()}Yi.setTransform(1,0,0,1,0,0);var c=hwe(Yi,{cutoff:r.cutoff!=null?r.cutoff:.5,radius:r.radius!=null?r.radius:n*.5});return c}var kx;function pwe(){if(kx!=null)return kx;var e=document.createElement("canvas").getContext("2d");if(e.canvas.width=e.canvas.height=1,!window.Path2D)return kx=!1;var r=new Path2D("M0,0h1v1h-1v-1Z");e.fillStyle="black",e.fill(r);var t=e.getImageData(0,0,1,1);return kx=t&&t.data&&t.data[3]===255}});var MJ=R((vFe,TJ)=>{"use strict";TJ.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var EJ=R((hFe,CJ)=>{"use strict";var SJ=MJ();CJ.exports=ywe;var kJ={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function ywe(e){var r,t=[],a=1,n;if(typeof e=="string")if(e=e.toLowerCase(),SJ[e])t=SJ[e].slice(),n="rgb";else if(e==="transparent")a=0,n="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var i=e.slice(1),o=i.length,l=o<=4;a=1,l?(t=[parseInt(i[0]+i[0],16),parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16)],o===4&&(a=parseInt(i[3]+i[3],16)/255)):(t=[parseInt(i[0]+i[1],16),parseInt(i[2]+i[3],16),parseInt(i[4]+i[5],16)],o===8&&(a=parseInt(i[6]+i[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),n="rgb"}else if(r=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var s=r[1],u=s==="rgb",i=s.replace(/a$/,"");n=i;var o=i==="cmyk"?4:i==="gray"?1:3;t=r[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,d){if(/%$/.test(h))return d===o?parseFloat(h)/100:i==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(i[d]==="h"){if(/deg$/.test(h))return parseFloat(h);if(kJ[h]!==void 0)return kJ[h]}return parseFloat(h)}),s===i&&t.push(1),a=u||t[o]===void 0?1:t[o],t=t.slice(0,o)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(t=e.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),n=e.match(/([a-z])/ig).join("").toLowerCase());else isNaN(e)?Array.isArray(e)||e.length?(t=[e[0],e[1],e[2]],n="rgb",a=e.length===4?e[3]:1):e instanceof Object&&(e.r!=null||e.red!=null||e.R!=null?(n="rgb",t=[e.r||e.red||e.R||0,e.g||e.green||e.G||0,e.b||e.blue||e.B||0]):(n="hsl",t=[e.h||e.hue||e.H||0,e.s||e.saturation||e.S||0,e.l||e.lightness||e.L||e.b||e.brightness]),a=e.a||e.alpha||e.opacity||1,e.opacity!=null&&(a/=100)):(n="rgb",t=[e>>>16,(e&65280)>>>8,e&255]);return{space:n,values:t,alpha:a}}});var qJ=R((dFe,LJ)=>{"use strict";LJ.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}});var FJ=R((pFe,DJ)=>{"use strict";var mwe=qJ();DJ.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var r=e[0]/360,t=e[1]/100,a=e[2]/100,n,i,o,l,s;if(t===0)return s=a*255,[s,s,s];a<.5?i=a*(1+t):i=a+t-a*t,n=2*a-i,l=[0,0,0];for(var u=0;u<3;u++)o=r+1/3*-(u-1),o<0?o++:o>1&&o--,6*o<1?s=n+(i-n)*6*o:2*o<1?s=i:3*o<2?s=n+(i-n)*(2/3-o)*6:s=n,l[u]=s*255;return l}};mwe.hsl=function(e){var r=e[0]/255,t=e[1]/255,a=e[2]/255,n=Math.min(r,t,a),i=Math.max(r,t,a),o=i-n,l,s,u;return i===n?l=0:r===i?l=(t-a)/o:t===i?l=2+(a-r)/o:a===i&&(l=4+(r-t)/o),l=Math.min(l*60,360),l<0&&(l+=360),u=(n+i)/2,i===n?s=0:u<=.5?s=o/(i+n):s=o/(2-i-n),[l,s*100,u*100]}});var PJ=R((yFe,RJ)=>{"use strict";var gwe=EJ(),bwe=FJ(),Cx=wh();RJ.exports=function(r){var t,a,n,i=gwe(r);return i.space?(t=Array(3),t[0]=Cx(i.values[0],0,255),t[1]=Cx(i.values[1],0,255),t[2]=Cx(i.values[2],0,255),i.space[0]==="h"&&(t=bwe.rgb(t)),t.push(Cx(i.alpha,0,1)),t):[]}});var av=R((mFe,NJ)=>{"use strict";var xwe=PJ(),Ex=wh(),_we=qb();NJ.exports=function(r,t){(t==="float"||!t)&&(t="array"),t==="uint"&&(t="uint8"),t==="uint_clamped"&&(t="uint8_clamped");var a=_we(t),n=new a(4),i=t!=="uint8"&&t!=="uint8_clamped";return(!r.length||typeof r=="string")&&(r=xwe(r),r[0]/=255,r[1]/=255,r[2]/=255),wwe(r)?(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3]!=null?r[3]:255,i&&(n[0]/=255,n[1]/=255,n[2]/=255,n[3]/=255),n):(i?(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3]!=null?r[3]:1):(n[0]=Ex(Math.floor(r[0]*255),0,255),n[1]=Ex(Math.floor(r[1]*255),0,255),n[2]=Ex(Math.floor(r[2]*255),0,255),n[3]=r[3]==null?255:Ex(Math.floor(r[3]*255),0,255)),n)};function wwe(e){return!!(e instanceof Uint8Array||e instanceof Uint8ClampedArray||Array.isArray(e)&&(e[0]>1||e[0]===0)&&(e[1]>1||e[1]===0)&&(e[2]>1||e[2]===0)&&(!e[3]||e[3]>1))}});var VJ=R((gFe,GJ)=>{"use strict";var UJ=Zt(),Awe=zo(),Lx=av(),qx=Fg(),Twe=es().defaultLine,IJ=ao().isArrayOrTypedArray,K7=Lx(Twe),HJ=1;function OJ(e,r){var t=e;return t[3]*=r,t}function zJ(e){if(UJ(e))return K7;var r=Lx(e);return r.length?r:K7}function BJ(e){return UJ(e)?e:HJ}function Mwe(e,r,t){var a=e.color;a&&a._inputArray&&(a=a._inputArray);var n=IJ(a),i=IJ(r),o=qx.extractOpts(e),l=[],s,u,f,c,h;if(o.colorscale!==void 0?s=qx.makeColorScaleFuncFromTrace(e):s=zJ,n?u=function(p,g){return p[g]===void 0?K7:Lx(s(p[g]))}:u=zJ,i?f=function(p,g){return p[g]===void 0?HJ:BJ(p[g])}:f=BJ,n||i)for(var d=0;d<t;d++)c=u(a,d),h=f(r,d),l[d]=OJ(c,h);else l=OJ(Lx(a),r);return l}function Swe(e){var r=qx.extractOpts(e),t=r.colorscale;return r.reversescale&&(t=qx.flipScale(r.colorscale)),t.map(function(a){var n=a[0],i=Awe(a[1]),o=i.toRgb();return{index:n,rgb:[o.r,o.g,o.b,o.a]}})}GJ.exports={formatColor:Mwe,parseColorScale:Swe}});var t$=R((bFe,r$)=>{"use strict";var Fx=Zt(),kwe=AJ(),Dx=av(),Cwe=_t(),Bh=fr(),mn=Bh.isArrayOrTypedArray,Oh=Sa(),YJ=yn(),WJ=VJ().formatColor,zh=gi(),Ewe=T4(),eT=X8(),oy=Fp(),Lwe=Qv().DESELECTDIM,jJ={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},qwe=ns().appendArrayPointValue;function Dwe(e,r){var t,a={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},n=e._context.plotGlPixelRatio;if(r.visible!==!0)return a;if(zh.hasText(r)&&(a.text=e$(e,r),a.textSel=ZJ(e,r,r.selected),a.textUnsel=ZJ(e,r,r.unselected)),zh.hasMarkers(r)&&(a.marker=tT(e,r),a.markerSel=rT(e,r,r.selected),a.markerUnsel=rT(e,r,r.unselected),!r.unselected&&mn(r.marker.opacity))){var i=r.marker.opacity;for(a.markerUnsel.opacity=new Array(i.length),t=0;t<i.length;t++)a.markerUnsel.opacity[t]=Lwe*i[t]}if(zh.hasLines(r)){a.line={overlay:!0,thickness:r.line.width*n,color:r.line.color,opacity:r.opacity};var o=(oy.DASHES[r.line.dash]||[1]).slice();for(t=0;t<o.length;++t)o[t]*=r.line.width*n;a.line.dashes=o}return r.error_x&&r.error_x.visible&&(a.errorX=JJ(r,r.error_x,n)),r.error_y&&r.error_y.visible&&(a.errorY=JJ(r,r.error_y,n)),r.fill&&r.fill!=="none"&&(a.fill={closed:!0,fill:r.fillcolor,thickness:0}),a}function e$(e,r){var t=e._fullLayout,a=r._length,n=r.textfont,i=r.textposition,o=mn(i)?i:[i],l=n.color,s=n.size,u=n.family,f=n.weight,c=n.style,h=n.variant,d={},p,g=e._context.plotGlPixelRatio,y=r.texttemplate;if(y){d.text=[];var b=t._d3locale,_=Array.isArray(y),w=_?Math.min(y.length,a):a,x=_?function(P){return y[P]}:function(){return y};for(p=0;p<w;p++){var T={i:p},S=r._module.formatLabels(T,r,t),M={};qwe(M,r,p);var C=r._meta||{};d.text.push(Bh.texttemplateString(x(p),S,b,M,T,C))}}else mn(r.text)&&r.text.length<a?d.text=r.text.slice():d.text=r.text;if(mn(d.text))for(p=d.text.length;p<a;p++)d.text[p]="";for(d.opacity=r.opacity,d.font={},d.align=[],d.baseline=[],p=0;p<o.length;p++){var q=o[p].split(/\s+/);switch(q[1]){case"left":d.align.push("right");break;case"right":d.align.push("left");break;default:d.align.push(q[1])}switch(q[0]){case"top":d.baseline.push("bottom");break;case"bottom":d.baseline.push("top");break;default:d.baseline.push(q[0])}}if(mn(l))for(d.color=new Array(a),p=0;p<a;p++)d.color[p]=l[p];else d.color=l;if(mn(s)||Array.isArray(u)||mn(f)||Array.isArray(c)||Array.isArray(h))for(d.font=new Array(a),p=0;p<a;p++){var F=d.font[p]={};F.size=(Bh.isTypedArray(s)?s[p]:mn(s)?Fx(s[p])?s[p]:0:s)*g,F.family=Array.isArray(u)?u[p]:u,F.weight=XJ(mn(f)?f[p]:f),F.style=Array.isArray(c)?c[p]:c,F.variant=Array.isArray(h)?h[p]:h}else d.font={size:s*g,family:u,weight:XJ(f),style:c,variant:h};return d}function XJ(e){return e<=1e3?e>500?"bold":"normal":e}function tT(e,r){var t=r._length,a=r.marker,n={},i,o=mn(a.symbol),l=mn(a.angle),s=mn(a.color),u=mn(a.line.color),f=mn(a.opacity),c=mn(a.size),h=mn(a.line.width),d;if(o||(d=eT.isOpenSymbol(a.symbol)),o||s||u||f||l){n.symbols=new Array(t),n.angles=new Array(t),n.colors=new Array(t),n.borderColors=new Array(t);var p=a.symbol,g=a.angle,y=WJ(a,a.opacity,t),b=WJ(a.line,a.opacity,t);if(!mn(b[0])){var _=b;for(b=Array(t),i=0;i<t;i++)b[i]=_}if(!mn(y[0])){var w=y;for(y=Array(t),i=0;i<t;i++)y[i]=w}if(!mn(p)){var x=p;for(p=Array(t),i=0;i<t;i++)p[i]=x}if(!mn(g)){var T=g;for(g=Array(t),i=0;i<t;i++)g[i]=T}for(n.symbols=p,n.angles=g,n.colors=y,n.borderColors=b,i=0;i<t;i++)o&&(d=eT.isOpenSymbol(a.symbol[i])),d&&(b[i]=y[i].slice(),y[i]=y[i].slice(),y[i][3]=0);for(n.opacity=r.opacity,n.markers=new Array(t),i=0;i<t;i++)n.markers[i]=QJ({mx:n.symbols[i],ma:n.angles[i]},r)}else d?(n.color=Dx(a.color,"uint8"),n.color[3]=0,n.borderColor=Dx(a.color,"uint8")):(n.color=Dx(a.color,"uint8"),n.borderColor=Dx(a.line.color,"uint8")),n.opacity=r.opacity*a.opacity,n.marker=QJ({mx:a.symbol,ma:a.angle},r);var S=1,M=Ewe(r,S),C;if(c||h){var q=n.sizes=new Array(t),F=n.borderSizes=new Array(t),P=0,I;if(c){for(i=0;i<t;i++)q[i]=M(a.size[i]),P+=q[i];I=P/t}else for(C=M(a.size),i=0;i<t;i++)q[i]=C;if(h)for(i=0;i<t;i++)F[i]=a.line.width[i];else for(C=a.line.width,i=0;i<t;i++)F[i]=C;n.sizeAvg=I}else n.size=M(a&&a.size||10),n.borderSizes=M(a.line.width);return n}function rT(e,r,t){var a=r.marker,n={};return t&&(t.marker&&t.marker.symbol?n=tT(e,Bh.extendFlat({},a,t.marker)):t.marker&&(t.marker.size&&(n.size=t.marker.size),t.marker.color&&(n.colors=t.marker.color),t.marker.opacity!==void 0&&(n.opacity=t.marker.opacity))),n}function ZJ(e,r,t){var a={};if(!t)return a;if(t.textfont){var n={opacity:1,text:r.text,texttemplate:r.texttemplate,textposition:r.textposition,textfont:Bh.extendFlat({},r.textfont)};t.textfont&&Bh.extendFlat(n.textfont,t.textfont),a=e$(e,n)}return a}function JJ(e,r,t){var a={capSize:r.width*2*t,lineWidth:r.thickness*t,color:r.color};return r.copy_ystyle&&(a=e.error_y),a}var $J=oy.SYMBOL_SDF_SIZE,nv=oy.SYMBOL_SIZE,KJ=oy.SYMBOL_STROKE,Q7={},Fwe=Oh.symbolFuncs[0](nv*.05);function QJ(e,r){var t=e.mx;if(t==="circle")return null;var a,n,i=Oh.symbolNumber(t),o=Oh.symbolFuncs[i%100],l=!!Oh.symbolNoDot[i%100],s=!!Oh.symbolNoFill[i%100],u=eT.isDotSymbol(t);if(e.ma&&(t+="_"+e.ma),Q7[t])return Q7[t];var f=Oh.getMarkerAngle(e,r);return u&&!l?a=o(nv*1.1,f)+Fwe:a=o(nv,f),n=kwe(a,{w:$J,h:$J,viewBox:[-nv,-nv,nv,nv],stroke:s?KJ:-KJ}),Q7[t]=n,n||null}function Rwe(e,r,t){var a=t.length,n=a/2,i,o;if(zh.hasLines(r)&&n)if(r.line.shape==="hv"){for(i=[],o=0;o<n-1;o++)isNaN(t[o*2])||isNaN(t[o*2+1])?i.push(NaN,NaN,NaN,NaN):(i.push(t[o*2],t[o*2+1]),!isNaN(t[o*2+2])&&!isNaN(t[o*2+3])?i.push(t[o*2+2],t[o*2+1]):i.push(NaN,NaN));i.push(t[a-2],t[a-1])}else if(r.line.shape==="hvh"){for(i=[],o=0;o<n-1;o++)if(isNaN(t[o*2])||isNaN(t[o*2+1])||isNaN(t[o*2+2])||isNaN(t[o*2+3]))!isNaN(t[o*2])&&!isNaN(t[o*2+1])?i.push(t[o*2],t[o*2+1]):i.push(NaN,NaN),i.push(NaN,NaN);else{var l=(t[o*2]+t[o*2+2])/2;i.push(t[o*2],t[o*2+1],l,t[o*2+1],l,t[o*2+3])}i.push(t[a-2],t[a-1])}else if(r.line.shape==="vhv"){for(i=[],o=0;o<n-1;o++)if(isNaN(t[o*2])||isNaN(t[o*2+1])||isNaN(t[o*2+2])||isNaN(t[o*2+3]))!isNaN(t[o*2])&&!isNaN(t[o*2+1])?i.push(t[o*2],t[o*2+1]):i.push(NaN,NaN),i.push(NaN,NaN);else{var s=(t[o*2+1]+t[o*2+3])/2;i.push(t[o*2],t[o*2+1],t[o*2],s,t[o*2+2],s)}i.push(t[a-2],t[a-1])}else if(r.line.shape==="vh"){for(i=[],o=0;o<n-1;o++)isNaN(t[o*2])||isNaN(t[o*2+1])?i.push(NaN,NaN,NaN,NaN):(i.push(t[o*2],t[o*2+1]),!isNaN(t[o*2+2])&&!isNaN(t[o*2+3])?i.push(t[o*2],t[o*2+3]):i.push(NaN,NaN));i.push(t[a-2],t[a-1])}else i=t;var u=!1;for(o=0;o<i.length;o++)if(isNaN(i[o])){u=!0;break}var f=u||i.length>oy.TOO_MANY_POINTS||zh.hasMarkers(r)?"rect":"round";if(u&&r.connectgaps){var c=i[0],h=i[1];for(o=0;o<i.length;o+=2)isNaN(i[o])||isNaN(i[o+1])?(i[o]=c,i[o+1]=h):(c=i[o],h=i[o+1])}return{join:f,positions:i}}function Pwe(e,r,t,a,n){var i=Cwe.getComponentMethod("errorbars","makeComputeError"),o=YJ.getFromId(e,r.xaxis,"x"),l=YJ.getFromId(e,r.yaxis,"y"),s=t.length/2,u={};function f(c,h){var d=h._id.charAt(0),p=r["error_"+d];if(p&&p.visible&&(h.type==="linear"||h.type==="log")){for(var g=i(p),y={x:0,y:1}[d],b={x:[0,1,2,3],y:[2,3,0,1]}[d],_=new Float64Array(4*s),w=1/0,x=-1/0,T=0,S=0;T<s;T++,S+=4){var M=c[T];if(Fx(M)){var C=t[T*2+y],q=g(M,T),F=q[0],P=q[1];if(Fx(F)&&Fx(P)){var I=M-F,H=M+P;_[S+b[0]]=C-h.c2l(I),_[S+b[1]]=h.c2l(H)-C,_[S+b[2]]=0,_[S+b[3]]=0,w=Math.min(w,M-F),x=Math.max(x,M+P)}}}u[d]={positions:t,errors:_,_bnds:[w,x]}}}return f(a,o),f(n,l),u}function Nwe(e,r,t,a){var n=r._length,i={},o;if(zh.hasMarkers(r)){var l=t.font,s=t.align,u=t.baseline;for(i.offset=new Array(n),o=0;o<n;o++){var f=a.sizes?a.sizes[o]:a.size,c=mn(l)?l[o].size:l.size,h=mn(s)?s.length>1?s[o]:s[0]:s,d=mn(u)?u.length>1?u[o]:u[0]:u,p=jJ[h],g=jJ[d],y=f?f/.8+1:0,b=-g*y-g*.5;i.offset[o]=[p*y/c,b/c]}}return i}r$.exports={style:Dwe,markerStyle:tT,markerSelection:rT,linePositions:Rwe,errorBarPositions:Pwe,textPosition:Nwe}});var n$=R((xFe,a$)=>{"use strict";var Rx=fr();a$.exports=function(r,t){var a=t._scene,n={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},i={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return t._scene||(a=t._scene={},a.init=function(){Rx.extendFlat(a,i,n)},a.init(),a.update=function(l){var s=Rx.repeat(l,a.count);if(a.fill2d&&a.fill2d.update(s),a.scatter2d&&a.scatter2d.update(s),a.line2d&&a.line2d.update(s),a.error2d&&a.error2d.update(s.concat(s)),a.select2d&&a.select2d.update(s),a.glText)for(var u=0;u<a.count;u++)a.glText[u].update(l)},a.draw=function(){for(var l=a.count,s=a.fill2d,u=a.error2d,f=a.line2d,c=a.scatter2d,h=a.glText,d=a.select2d,p=a.selectBatch,g=a.unselectBatch,y=0;y<l;y++){if(s&&a.fillOrder[y]&&s.draw(a.fillOrder[y]),f&&a.lineOptions[y]&&f.draw(y),u&&(a.errorXOptions[y]&&u.draw(y),a.errorYOptions[y]&&u.draw(y+l)),c&&a.markerOptions[y])if(g[y].length){var b=Rx.repeat([],a.count);b[y]=g[y],c.draw(b)}else p[y].length||c.draw(y);h[y]&&a.textOptions[y]&&h[y].render()}d&&d.draw(p),a.dirty=!1},a.destroy=function(){a.fill2d&&a.fill2d.destroy&&a.fill2d.destroy(),a.scatter2d&&a.scatter2d.destroy&&a.scatter2d.destroy(),a.error2d&&a.error2d.destroy&&a.error2d.destroy(),a.line2d&&a.line2d.destroy&&a.line2d.destroy(),a.select2d&&a.select2d.destroy&&a.select2d.destroy(),a.glText&&a.glText.forEach(function(l){l.destroy&&l.destroy()}),a.lineOptions=null,a.fillOptions=null,a.markerOptions=null,a.markerSelectedOptions=null,a.markerUnselectedOptions=null,a.errorXOptions=null,a.errorYOptions=null,a.textOptions=null,a.textSelectedOptions=null,a.textUnselectedOptions=null,a.selectBatch=null,a.unselectBatch=null,t._scene=null}),a.dirty||Rx.extendFlat(a,n),a}});var f$=R((_Fe,u$)=>{"use strict";var Iwe=$8(),Uh=fr(),i$=yn(),Owe=S0().findExtremes,o$=D3(),aT=F3(),zwe=aT.calcMarkerSize,Bwe=aT.calcAxisExpansion,Uwe=aT.setFirstScatter,Hwe=oA(),Hh=t$(),Gwe=n$(),l$=vn().BADNUM,Vwe=Fp().TOO_MANY_POINTS;u$.exports=function(r,t){var a=r._fullLayout,n=t._xA=i$.getFromId(r,t.xaxis,"x"),i=t._yA=i$.getFromId(r,t.yaxis,"y"),o=a._plots[t.xaxis+t.yaxis],l=t._length,s=l>=Vwe,u=l*2,f={},c,h=n.makeCalcdata(t,"x"),d=i.makeCalcdata(t,"y"),p=o$(t,n,"x",h),g=o$(t,i,"y",d),y=p.vals,b=g.vals;t._x=y,t._y=b,t.xperiodalignment&&(t._origX=h,t._xStarts=p.starts,t._xEnds=p.ends),t.yperiodalignment&&(t._origY=d,t._yStarts=g.starts,t._yEnds=g.ends);var _=new Array(u),w=new Array(l);for(c=0;c<l;c++)_[c*2]=y[c]===l$?NaN:y[c],_[c*2+1]=b[c]===l$?NaN:b[c],w[c]=c;if(n.type==="log")for(c=0;c<u;c+=2)_[c]=n.c2l(_[c]);if(i.type==="log")for(c=1;c<u;c+=2)_[c]=i.c2l(_[c]);s&&n.type!=="log"&&i.type!=="log"?f.tree=Iwe(_):f.ids=w,Hwe(r,t);var x=Ywe(r,o,t,_,y,b),T=Gwe(r,o);Uwe(a,t);var S;return s?x.marker&&(S=x.marker.sizeAvg||Math.max(x.marker.size,3)):S=zwe(t,l),Bwe(r,t,n,i,y,b,S),x.errorX&&s$(t,n,x.errorX),x.errorY&&s$(t,i,x.errorY),x.fill&&!T.fill2d&&(T.fill2d=!0),x.marker&&!T.scatter2d&&(T.scatter2d=!0),x.line&&!T.line2d&&(T.line2d=!0),(x.errorX||x.errorY)&&!T.error2d&&(T.error2d=!0),x.text&&!T.glText&&(T.glText=!0),x.marker&&(x.marker.snap=l),T.lineOptions.push(x.line),T.errorXOptions.push(x.errorX),T.errorYOptions.push(x.errorY),T.fillOptions.push(x.fill),T.markerOptions.push(x.marker),T.markerSelectedOptions.push(x.markerSel),T.markerUnselectedOptions.push(x.markerUnsel),T.textOptions.push(x.text),T.textSelectedOptions.push(x.textSel),T.textUnselectedOptions.push(x.textUnsel),T.selectBatch.push([]),T.unselectBatch.push([]),f._scene=T,f.index=T.count,f.x=y,f.y=b,f.positions=_,T.count++,[{x:!1,y:!1,t:f,trace:t}]};function s$(e,r,t){var a=e._extremes[r._id],n=Owe(r,t._bnds,{padded:!0});a.min=a.min.concat(n.min),a.max=a.max.concat(n.max)}function Ywe(e,r,t,a,n,i){var o=Hh.style(e,t);if(o.marker&&(o.marker.positions=a),o.line&&a.length>1&&Uh.extendFlat(o.line,Hh.linePositions(e,t,a)),o.errorX||o.errorY){var l=Hh.errorBarPositions(e,t,a,n,i);o.errorX&&Uh.extendFlat(o.errorX,l.x),o.errorY&&Uh.extendFlat(o.errorY,l.y)}return o.text&&(Uh.extendFlat(o.text,{positions:a},Hh.textPosition(e,t,o.text,o.marker)),Uh.extendFlat(o.textSel,{positions:a},Hh.textPosition(e,t,o.text,o.markerSel)),Uh.extendFlat(o.textUnsel,{positions:a},Hh.textPosition(e,t,o.text,o.markerUnsel))),o}});var nT=R((wFe,v$)=>{"use strict";var c$=fr(),Wwe=Vt(),jwe=Qv().DESELECTDIM;function Xwe(e){var r=e[0],t=r.trace,a=r.t,n=a._scene,i=a.index,o=n.selectBatch[i],l=n.unselectBatch[i],s=n.textOptions[i],u=n.textSelectedOptions[i]||{},f=n.textUnselectedOptions[i]||{},c=c$.extendFlat({},s),h,d;if(o.length||l.length){var p=u.color,g=f.color,y=s.color,b=c$.isArrayOrTypedArray(y);for(c.color=new Array(t._length),h=0;h<o.length;h++)d=o[h],c.color[d]=p||(b?y[d]:y);for(h=0;h<l.length;h++){d=l[h];var _=b?y[d]:y;c.color[d]=g||(p?_:Wwe.addOpacity(_,jwe))}}n.glText[i].update(c)}v$.exports={styleTextSelection:Xwe}});var p$=R((AFe,d$)=>{"use strict";var h$=gi(),Zwe=nT().styleTextSelection;d$.exports=function(r,t){var a=r.cd,n=r.xaxis,i=r.yaxis,o=[],l=a[0].trace,s=a[0].t,u=l._length,f=s.x,c=s.y,h=s._scene,d=s.index;if(!h)return o;var p=h$.hasText(l),g=h$.hasMarkers(l),y=!g&&!p;if(l.visible!==!0||y)return o;var b=[],_=[];if(t!==!1&&!t.degenerate)for(var w=0;w<u;w++)t.contains([s.xpx[w],s.ypx[w]],!1,w,r)?(b.push(w),o.push({pointNumber:w,x:n.c2d(f[w]),y:i.c2d(c[w])})):_.push(w);if(g){var x=h.scatter2d;if(!b.length&&!_.length){var T=new Array(h.count);T[d]=h.markerOptions[d],x.update.apply(x,T)}else if(!h.selectBatch[d].length&&!h.unselectBatch[d].length){var S=new Array(h.count);S[d]=h.markerUnselectedOptions[d],x.update.apply(x,S)}}return h.selectBatch[d]=b,h.unselectBatch[d]=_,p&&Zwe(a),o}});var m$=R((TFe,y$)=>{"use strict";var Jwe=zY();y$.exports={moduleType:"trace",name:"scattergl",basePlotModule:rh(),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:W8(),supplyDefaults:ZY(),crossTraceDefaults:aA(),colorbar:hp(),formatLabels:$Y(),calc:f$(),hoverPoints:Jwe.hoverPoints,selectPoints:p$(),meta:{}}});var b$=R((MFe,Nx)=>{"use strict";var Px=wh();Nx.exports=g$;Nx.exports.to=g$;Nx.exports.from=$we;function g$(e,r){r==null&&(r=!0);var t=e[0],a=e[1],n=e[2],i=e[3];i==null&&(i=r?1:255),r&&(t*=255,a*=255,n*=255,i*=255),t=Px(t,0,255)&255,a=Px(a,0,255)&255,n=Px(n,0,255)&255,i=Px(i,0,255)&255;var o=t*16777216+(a<<16)+(n<<8)+i;return o}function $we(e,r){e=+e;var t=e>>>24,a=(e&16711680)>>>16,n=(e&65280)>>>8,i=e&255;return r===!1?[t,a,n,i]:[t/255,a/255,n/255,i/255]}});var Sn=R((SFe,_$)=>{"use strict";var x$=Object.getOwnPropertySymbols,Kwe=Object.prototype.hasOwnProperty,Qwe=Object.prototype.propertyIsEnumerable;function e6e(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r6e(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;var a=Object.getOwnPropertyNames(r).map(function(i){return r[i]});if(a.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(i){n[i]=i}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch(i){return!1}}_$.exports=r6e()?Object.assign:function(e,r){for(var t,a=e6e(e),n,i=1;i<arguments.length;i++){t=Object(arguments[i]);for(var o in t)Kwe.call(t,o)&&(a[o]=t[o]);if(x$){n=x$(t);for(var l=0;l<n.length;l++)Qwe.call(t,n[l])&&(a[n[l]]=t[n[l]])}}return a}});var A$=R((kFe,w$)=>{w$.exports=function(e){typeof e=="string"&&(e=[e]);for(var r=[].slice.call(arguments,1),t=[],a=0;a<e.length-1;a++)t.push(e[a],r[a]||"");return t.push(e[a]),t.join("")}});var iT=R((CFe,T$)=>{"use strict";T$.exports=function(r,t,a){Array.isArray(a)||(a=[].slice.call(arguments,2));for(var n=0,i=a.length;n<i;n++){var o=a[n];for(var l in o)if(!(t[l]!==void 0&&!Array.isArray(t[l])&&r[l]===t[l])&&l in t){var s;if(o[l]===!0)s=t[l];else{if(o[l]===!1)continue;if(typeof o[l]=="function"&&(s=o[l](t[l],r,t),s===void 0))continue}r[l]=s}}return r}});var S$=R((EFe,M$)=>{"use strict";M$.exports=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))});var Ix=R((LFe,Gh)=>{"use strict";Gh.exports=ly;Gh.exports.float32=Gh.exports.float=ly;Gh.exports.fract32=Gh.exports.fract=t6e;var k$=new Float32Array(1);function t6e(e,r){if(e.length){if(e instanceof Float32Array)return new Float32Array(e.length);r instanceof Float32Array||(r=ly(e));for(var t=0,a=r.length;t<a;t++)r[t]=e[t]-r[t];return r}return ly(e-ly(e))}function ly(e){return e.length?e instanceof Float32Array?e:new Float32Array(e):(k$[0]=e,k$[0])}});var q$=R((qFe,L$)=>{"use strict";function a6e(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a,n,i,o,l=[],s=!0,u=!1;try{if(i=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(a=i.call(t)).done)&&(l.push(a.value),l.length!==r);s=!0);}catch(f){u=!0,n=f}finally{try{if(!s&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw n}}return l}}function n6e(e,r){return l6e(e)||a6e(e,r)||E$(e,r)||f6e()}function i6e(e){return o6e(e)||s6e(e)||E$(e)||u6e()}function o6e(e){if(Array.isArray(e))return oT(e)}function l6e(e){if(Array.isArray(e))return e}function s6e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E$(e,r){if(e){if(typeof e=="string")return oT(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oT(e,r)}}function oT(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function u6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c6e=av(),v6e=Ah(),h6e=b$(),d6e=$8(),iv=Sn(),Ox=A$(),p6e=su(),y6e=iT(),m6e=Th(),C$=S$(),zx=Ix(),g6e=Pp(),b6e=di;function di(e,r){var t=this;if(!(this instanceof di))return new di(e,r);typeof e=="function"?(r||(r={}),r.regl=e):(r=e,e=null),r&&r.length&&(r.positions=r),e=r.regl;var a=e._gl,n,i=[],o={},l=[],s=[null],u=[null],f=255,c=100;this.tooManyColors=C$,n=e.texture({data:new Uint8Array(f*4),width:f,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),iv(this,{regl:e,gl:a,groups:l,markerCache:u,markerTextures:s,palette:i,paletteIds:o,paletteTexture:n,maxColors:f,maxSize:c,canvas:a.canvas}),this.update(r);var h={uniforms:{constPointSize:!!r.constPointSize,opacity:e.prop("opacity"),paletteSize:function(y,b){return[t.tooManyColors?0:f,n.height]},pixelRatio:e.context("pixelRatio"),scale:e.prop("scale"),scaleFract:e.prop("scaleFract"),translate:e.prop("translate"),translateFract:e.prop("translateFract"),markerTexture:e.prop("markerTexture"),paletteTexture:n},attributes:{x:function(y,b){return b.xAttr||{buffer:b.positionBuffer,stride:8,offset:0}},y:function(y,b){return b.yAttr||{buffer:b.positionBuffer,stride:8,offset:4}},xFract:function(y,b){return b.xAttr?{constant:[0,0]}:{buffer:b.positionFractBuffer,stride:8,offset:0}},yFract:function(y,b){return b.yAttr?{constant:[0,0]}:{buffer:b.positionFractBuffer,stride:8,offset:4}},size:function(y,b){return b.size.length?{buffer:b.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(b.size*255/t.maxSize)]}},borderSize:function(y,b){return b.borderSize.length?{buffer:b.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(b.borderSize*255/t.maxSize)]}},colorId:function(y,b){return b.color.length?{buffer:b.colorBuffer,stride:t.tooManyColors?8:4,offset:0}:{constant:t.tooManyColors?i.slice(b.color*4,b.color*4+4):[b.color]}},borderColorId:function(y,b){return b.borderColor.length?{buffer:b.colorBuffer,stride:t.tooManyColors?8:4,offset:t.tooManyColors?4:2}:{constant:t.tooManyColors?i.slice(b.borderColor*4,b.borderColor*4+4):[b.borderColor]}},isActive:function(y,b){return b.activation===!0?{constant:[1]}:b.activation?b.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:e.prop("elements"),count:e.prop("count"),offset:e.prop("offset"),primitive:"points"},d=iv({},h);d.frag=Ox([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),d.vert=Ox([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=e(d);var p=iv({},h);p.frag=Ox([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),p.vert=Ox([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),C$&&(p.frag=p.frag.replace("smoothstep","smoothStep"),d.frag=d.frag.replace("smoothstep","smoothStep")),this.drawCircle=e(p)}di.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4};di.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this};di.prototype.draw=function(){for(var e=this,r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];var n=this.groups;if(t.length===1&&Array.isArray(t[0])&&(t[0][0]===null||Array.isArray(t[0][0]))&&(t=t[0]),this.regl._refresh(),t.length)for(var i=0;i<t.length;i++)this.drawItem(i,t[i]);else n.forEach(function(o,l){e.drawItem(l)});return this};di.prototype.drawItem=function(e,r){var t=this.groups,a=t[e];if(typeof r=="number"&&(e=r,a=t[r],r=null),!!(a&&a.count&&a.opacity)){a.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,a,r));for(var n=[],i=1;i<a.activation.length;i++)!a.activation[i]||a.activation[i]!==!0&&!a.activation[i].data.length||n.push.apply(n,i6e(this.getMarkerDrawOptions(i,a,r)));n.length&&this.drawMarker(n)}};di.prototype.getMarkerDrawOptions=function(e,r,t){var a=r.range,n=r.tree,i=r.viewport,o=r.activation,l=r.selectionBuffer,s=r.count,u=this.regl;if(!n)return t?[iv({},r,{markerTexture:this.markerTextures[e],activation:o[e],count:t.length,elements:t,offset:0})]:[iv({},r,{markerTexture:this.markerTextures[e],activation:o[e],offset:0})];var f=[],c=n.range(a,{lod:!0,px:[(a[2]-a[0])/i.width,(a[3]-a[1])/i.height]});if(t){for(var h=o[e],d=h.data,p=new Uint8Array(s),g=0;g<t.length;g++){var y=t[g];p[y]=d?d[y]:1}l.subdata(p)}for(var b=c.length;b--;){var _=n6e(c[b],2),w=_[0],x=_[1];f.push(iv({},r,{markerTexture:this.markerTextures[e],activation:t?l:o[e],offset:w,count:x-w}))}return f};di.prototype.update=function(){for(var e=this,r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];if(t.length){t.length===1&&Array.isArray(t[0])&&(t=t[0]);var n=this.groups,i=this.gl,o=this.regl,l=this.maxSize,s=this.maxColors,u=this.palette;this.groups=n=t.map(function(f,c){var h=n[c];if(f===void 0)return h;f===null?f={positions:null}:typeof f=="function"?f={ondraw:f}:typeof f[0]=="number"&&(f={positions:f}),f=p6e(f,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),f.positions===null&&(f.positions=[]),f.tooManyColors!=null&&(e.tooManyColors=f.tooManyColors),h||(n[c]=h={id:c,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:o.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:o.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:o.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:o.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:o.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},f=iv({},di.defaults,f)),f.positions&&!("marker"in f)&&(f.marker=h.marker,delete h.marker),f.marker&&!("positions"in f)&&(f.positions=h.positions,delete h.positions);var d=0,p=0;if(y6e(h,f,[{snap:!0,size:function(z,O){return z==null&&(z=di.defaults.size),d+=z&&z.length?1:0,z},borderSize:function(z,O){return z==null&&(z=di.defaults.borderSize),d+=z&&z.length?1:0,z},opacity:parseFloat,color:function(z,O){return z==null&&(z=di.defaults.color),z=e.updateColor(z),p++,z},borderColor:function(z,O){return z==null&&(z=di.defaults.borderColor),z=e.updateColor(z),p++,z},bounds:function(z,O,G){return"range"in G||(G.range=null),z},positions:function(z,O,G){var Z=O.snap,Q=O.positionBuffer,ie=O.positionFractBuffer,be=O.selectionBuffer;if(z.x||z.y)return z.x.length?O.xAttr={buffer:o.buffer(z.x),offset:0,stride:4,count:z.x.length}:O.xAttr={buffer:z.x.buffer,offset:z.x.offset*4||0,stride:(z.x.stride||1)*4,count:z.x.count},z.y.length?O.yAttr={buffer:o.buffer(z.y),offset:0,stride:4,count:z.y.length}:O.yAttr={buffer:z.y.buffer,offset:z.y.offset*4||0,stride:(z.y.stride||1)*4,count:z.y.count},O.count=Math.max(O.xAttr.count,O.yAttr.count),z;z=m6e(z,"float64");var ne=O.count=Math.floor(z.length/2),de=O.bounds=ne?v6e(z,2):null;if(!G.range&&!O.range&&(delete O.range,G.range=de),!G.marker&&!O.marker&&(delete O.marker,G.marker=null),Z&&(Z===!0||ne>Z)?O.tree=d6e(z,{bounds:de}):Z&&Z.length&&(O.tree=Z),O.tree){var K={primitive:"points",usage:"static",data:O.tree,type:"uint32"};O.elements?O.elements(K):O.elements=o.elements(K)}var me=zx.float32(z);Q({data:me,usage:"dynamic"});var fe=zx.fract32(z,me);return ie({data:fe,usage:"dynamic"}),be({data:new Uint8Array(ne),type:"uint8",usage:"stream"}),z}},{marker:function(z,O,G){var Z=O.activation;if(Z.forEach(function(fe){return fe&&fe.destroy&&fe.destroy()}),Z.length=0,!z||typeof z[0]=="number"){var Q=e.addMarker(z);Z[Q]=!0}else{for(var ie=[],be=0,ne=Math.min(z.length,O.count);be<ne;be++){var de=e.addMarker(z[be]);ie[de]||(ie[de]=new Uint8Array(O.count)),ie[de][be]=1}for(var K=0;K<ie.length;K++)if(ie[K]){var me={data:ie[K],type:"uint8",usage:"static"};Z[K]?Z[K](me):Z[K]=o.buffer(me),Z[K].data=ie[K]}}return z},range:function(z,O,G){var Z=O.bounds;if(Z)return z||(z=Z),O.scale=[1/(z[2]-z[0]),1/(z[3]-z[1])],O.translate=[-z[0],-z[1]],O.scaleFract=zx.fract(O.scale),O.translateFract=zx.fract(O.translate),z},viewport:function(z){var O=g6e(z||[i.drawingBufferWidth,i.drawingBufferHeight]);return O}}]),d){var g=h,y=g.count,b=g.size,_=g.borderSize,w=g.sizeBuffer,x=new Uint8Array(y*2);if(b.length||_.length)for(var T=0;T<y;T++)x[T*2]=Math.round((b[T]==null?b:b[T])*255/l),x[T*2+1]=Math.round((_[T]==null?_:_[T])*255/l);w({data:x,usage:"dynamic"})}if(p){var S=h,M=S.count,C=S.color,q=S.borderColor,F=S.colorBuffer,P;if(e.tooManyColors){if(C.length||q.length){P=new Uint8Array(M*8);for(var I=0;I<M;I++){var H=C[I];P[I*8]=u[H*4],P[I*8+1]=u[H*4+1],P[I*8+2]=u[H*4+2],P[I*8+3]=u[H*4+3];var V=q[I];P[I*8+4]=u[V*4],P[I*8+5]=u[V*4+1],P[I*8+6]=u[V*4+2],P[I*8+7]=u[V*4+3]}}}else if(C.length||q.length){P=new Uint8Array(M*4+2);for(var j=0;j<M;j++)C[j]!=null&&(P[j*4]=C[j]%s,P[j*4+1]=Math.floor(C[j]/s)),q[j]!=null&&(P[j*4+2]=q[j]%s,P[j*4+3]=Math.floor(q[j]/s))}F({data:P||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return h})}};di.prototype.addMarker=function(e){var r=this.markerTextures,t=this.regl,a=this.markerCache,n=e==null?0:a.indexOf(e);if(n>=0)return n;var i;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)i=e;else{i=new Uint8Array(e.length);for(var o=0,l=e.length;o<l;o++)i[o]=e[o]*255}var s=Math.floor(Math.sqrt(i.length));return n=r.length,a.push(e),r.push(t.texture({channels:1,data:i,radius:s,mag:"linear",min:"linear"})),n};di.prototype.updateColor=function(e){var r=this.paletteIds,t=this.palette,a=this.maxColors;Array.isArray(e)||(e=[e]);var n=[];if(typeof e[0]=="number"){var i=[];if(Array.isArray(e))for(var o=0;o<e.length;o+=4)i.push(e.slice(o,o+4));else for(var l=0;l<e.length;l+=4)i.push(e.subarray(l,l+4));e=i}for(var s=0;s<e.length;s++){var u=e[s];u=c6e(u,"uint8");var f=h6e(u,!1);if(r[f]==null){var c=t.length;r[f]=Math.floor(c/4),t[c]=u[0],t[c+1]=u[1],t[c+2]=u[2],t[c+3]=u[3]}n[s]=r[f]}return!this.tooManyColors&&t.length>a*4&&(this.tooManyColors=!0),this.updatePalette(t),n.length===1?n[0]:n};di.prototype.updatePalette=function(e){if(!this.tooManyColors){var r=this.maxColors,t=this.paletteTexture,a=Math.ceil(e.length*.25/r);if(a>1){e=e.slice();for(var n=e.length*.25%r;n<a*r;n++)e.push(0,0,0,0)}t.height<a&&t.resize(r,a),t.subimage({width:Math.min(e.length*.25,r),height:a,data:e},0,0)}};di.prototype.destroy=function(){return this.groups.forEach(function(e){e.sizeBuffer.destroy(),e.positionBuffer.destroy(),e.positionFractBuffer.destroy(),e.colorBuffer.destroy(),e.activation.forEach(function(r){return r&&r.destroy&&r.destroy()}),e.selectionBuffer.destroy(),e.elements&&e.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(e){return e&&e.destroy&&e.destroy()}),this};var x6e=Sn(),_6e=function(r,t){var a=new b6e(r,t),n=a.render.bind(a);return x6e(n,{render:n,update:a.update.bind(a),draw:a.draw.bind(a),destroy:a.destroy.bind(a),regl:a.regl,gl:a.gl,canvas:a.gl.canvas,groups:a.groups,markers:a.markerCache,palette:a.palette}),n};L$.exports=_6e});var N$=R((DFe,fT)=>{"use strict";fT.exports=Hx;fT.exports.default=Hx;function Hx(e,r,t){t=t||2;var a=r&&r.length,n=a?r[0]*t:e.length,i=F$(e,0,n,t,!0),o=[];if(!i||i.next===i.prev)return o;var l,s,u,f,c,h,d;if(a&&(i=S6e(e,r,i,t)),e.length>80*t){l=u=e[0],s=f=e[1];for(var p=t;p<n;p+=t)c=e[p],h=e[p+1],c<l&&(l=c),h<s&&(s=h),c>u&&(u=c),h>f&&(f=h);d=Math.max(u-l,f-s),d=d!==0?32767/d:0}return sy(i,o,t,l,s,d,0),o}function F$(e,r,t,a,n){var i,o;if(n===uT(e,r,t,a)>0)for(i=r;i<t;i+=a)o=D$(i,e[i],e[i+1],o);else for(i=t-a;i>=r;i-=a)o=D$(i,e[i],e[i+1],o);return o&&Gx(o,o.next)&&(fy(o),o=o.next),o}function ov(e,r){if(!e)return e;r||(r=e);var t=e,a;do if(a=!1,!t.steiner&&(Gx(t,t.next)||gn(t.prev,t,t.next)===0)){if(fy(t),t=r=t.prev,t===t.next)break;a=!0}else t=t.next;while(a||t!==r);return r}function sy(e,r,t,a,n,i,o){if(e){!o&&i&&q6e(e,a,n,i);for(var l=e,s,u;e.prev!==e.next;){if(s=e.prev,u=e.next,i?A6e(e,a,n,i):w6e(e)){r.push(s.i/t|0),r.push(e.i/t|0),r.push(u.i/t|0),fy(e),e=u.next,l=u.next;continue}if(e=u,e===l){o?o===1?(e=T6e(ov(e),r,t),sy(e,r,t,a,n,i,2)):o===2&&M6e(e,r,t,a,n,i):sy(ov(e),r,t,a,n,i,1);break}}}}function w6e(e){var r=e.prev,t=e,a=e.next;if(gn(r,t,a)>=0)return!1;for(var n=r.x,i=t.x,o=a.x,l=r.y,s=t.y,u=a.y,f=n<i?n<o?n:o:i<o?i:o,c=l<s?l<u?l:u:s<u?s:u,h=n>i?n>o?n:o:i>o?i:o,d=l>s?l>u?l:u:s>u?s:u,p=a.next;p!==r;){if(p.x>=f&&p.x<=h&&p.y>=c&&p.y<=d&&Vh(n,l,i,s,o,u,p.x,p.y)&&gn(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function A6e(e,r,t,a){var n=e.prev,i=e,o=e.next;if(gn(n,i,o)>=0)return!1;for(var l=n.x,s=i.x,u=o.x,f=n.y,c=i.y,h=o.y,d=l<s?l<u?l:u:s<u?s:u,p=f<c?f<h?f:h:c<h?c:h,g=l>s?l>u?l:u:s>u?s:u,y=f>c?f>h?f:h:c>h?c:h,b=lT(d,p,r,t,a),_=lT(g,y,r,t,a),w=e.prevZ,x=e.nextZ;w&&w.z>=b&&x&&x.z<=_;){if(w.x>=d&&w.x<=g&&w.y>=p&&w.y<=y&&w!==n&&w!==o&&Vh(l,f,s,c,u,h,w.x,w.y)&&gn(w.prev,w,w.next)>=0||(w=w.prevZ,x.x>=d&&x.x<=g&&x.y>=p&&x.y<=y&&x!==n&&x!==o&&Vh(l,f,s,c,u,h,x.x,x.y)&&gn(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;w&&w.z>=b;){if(w.x>=d&&w.x<=g&&w.y>=p&&w.y<=y&&w!==n&&w!==o&&Vh(l,f,s,c,u,h,w.x,w.y)&&gn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;x&&x.z<=_;){if(x.x>=d&&x.x<=g&&x.y>=p&&x.y<=y&&x!==n&&x!==o&&Vh(l,f,s,c,u,h,x.x,x.y)&&gn(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function T6e(e,r,t){var a=e;do{var n=a.prev,i=a.next.next;!Gx(n,i)&&R$(n,a,a.next,i)&&uy(n,i)&&uy(i,n)&&(r.push(n.i/t|0),r.push(a.i/t|0),r.push(i.i/t|0),fy(a),fy(a.next),a=e=i),a=a.next}while(a!==e);return ov(a)}function M6e(e,r,t,a,n,i){var o=e;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&R6e(o,l)){var s=P$(o,l);o=ov(o,o.next),s=ov(s,s.next),sy(o,r,t,a,n,i,0),sy(s,r,t,a,n,i,0);return}l=l.next}o=o.next}while(o!==e)}function S6e(e,r,t,a){var n=[],i,o,l,s,u;for(i=0,o=r.length;i<o;i++)l=r[i]*a,s=i<o-1?r[i+1]*a:e.length,u=F$(e,l,s,a,!1),u===u.next&&(u.steiner=!0),n.push(F6e(u));for(n.sort(k6e),i=0;i<n.length;i++)t=C6e(n[i],t);return t}function k6e(e,r){return e.x-r.x}function C6e(e,r){var t=E6e(e,r);if(!t)return r;var a=P$(t,e);return ov(a,a.next),ov(t,t.next)}function E6e(e,r){var t=r,a=e.x,n=e.y,i=-1/0,o;do{if(n<=t.y&&n>=t.next.y&&t.next.y!==t.y){var l=t.x+(n-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(l<=a&&l>i&&(i=l,o=t.x<t.next.x?t:t.next,l===a))return o}t=t.next}while(t!==r);if(!o)return null;var s=o,u=o.x,f=o.y,c=1/0,h;t=o;do a>=t.x&&t.x>=u&&a!==t.x&&Vh(n<f?a:i,n,u,f,n<f?i:a,n,t.x,t.y)&&(h=Math.abs(n-t.y)/(a-t.x),uy(t,e)&&(h<c||h===c&&(t.x>o.x||t.x===o.x&&L6e(o,t)))&&(o=t,c=h)),t=t.next;while(t!==s);return o}function L6e(e,r){return gn(e.prev,e,r.prev)<0&&gn(r.next,e,e.next)<0}function q6e(e,r,t,a){var n=e;do n.z===0&&(n.z=lT(n.x,n.y,r,t,a)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,D6e(n)}function D6e(e){var r,t,a,n,i,o,l,s,u=1;do{for(t=e,e=null,i=null,o=0;t;){for(o++,a=t,l=0,r=0;r<u&&(l++,a=a.nextZ,!!a);r++);for(s=u;l>0||s>0&&a;)l!==0&&(s===0||!a||t.z<=a.z)?(n=t,t=t.nextZ,l--):(n=a,a=a.nextZ,s--),i?i.nextZ=n:e=n,n.prevZ=i,i=n;t=a}i.nextZ=null,u*=2}while(o>1);return e}function lT(e,r,t,a,n){return e=(e-t)*n|0,r=(r-a)*n|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e|r<<1}function F6e(e){var r=e,t=e;do(r.x<t.x||r.x===t.x&&r.y<t.y)&&(t=r),r=r.next;while(r!==e);return t}function Vh(e,r,t,a,n,i,o,l){return(n-o)*(r-l)>=(e-o)*(i-l)&&(e-o)*(a-l)>=(t-o)*(r-l)&&(t-o)*(i-l)>=(n-o)*(a-l)}function R6e(e,r){return e.next.i!==r.i&&e.prev.i!==r.i&&!P6e(e,r)&&(uy(e,r)&&uy(r,e)&&N6e(e,r)&&(gn(e.prev,e,r.prev)||gn(e,r.prev,r))||Gx(e,r)&&gn(e.prev,e,e.next)>0&&gn(r.prev,r,r.next)>0)}function gn(e,r,t){return(r.y-e.y)*(t.x-r.x)-(r.x-e.x)*(t.y-r.y)}function Gx(e,r){return e.x===r.x&&e.y===r.y}function R$(e,r,t,a){var n=Ux(gn(e,r,t)),i=Ux(gn(e,r,a)),o=Ux(gn(t,a,e)),l=Ux(gn(t,a,r));return!!(n!==i&&o!==l||n===0&&Bx(e,t,r)||i===0&&Bx(e,a,r)||o===0&&Bx(t,e,a)||l===0&&Bx(t,r,a))}function Bx(e,r,t){return r.x<=Math.max(e.x,t.x)&&r.x>=Math.min(e.x,t.x)&&r.y<=Math.max(e.y,t.y)&&r.y>=Math.min(e.y,t.y)}function Ux(e){return e>0?1:e<0?-1:0}function P6e(e,r){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==r.i&&t.next.i!==r.i&&R$(t,t.next,e,r))return!0;t=t.next}while(t!==e);return!1}function uy(e,r){return gn(e.prev,e,e.next)<0?gn(e,r,e.next)>=0&&gn(e,e.prev,r)>=0:gn(e,r,e.prev)<0||gn(e,e.next,r)<0}function N6e(e,r){var t=e,a=!1,n=(e.x+r.x)/2,i=(e.y+r.y)/2;do t.y>i!=t.next.y>i&&t.next.y!==t.y&&n<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(a=!a),t=t.next;while(t!==e);return a}function P$(e,r){var t=new sT(e.i,e.x,e.y),a=new sT(r.i,r.x,r.y),n=e.next,i=r.prev;return e.next=r,r.prev=e,t.next=n,n.prev=t,a.next=t,t.prev=a,i.next=a,a.prev=i,a}function D$(e,r,t,a){var n=new sT(e,r,t);return a?(n.next=a.next,n.prev=a,a.next.prev=n,a.next=n):(n.prev=n,n.next=n),n}function fy(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function sT(e,r,t){this.i=e,this.x=r,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Hx.deviation=function(e,r,t,a){var n=r&&r.length,i=n?r[0]*t:e.length,o=Math.abs(uT(e,0,i,t));if(n)for(var l=0,s=r.length;l<s;l++){var u=r[l]*t,f=l<s-1?r[l+1]*t:e.length;o-=Math.abs(uT(e,u,f,t))}var c=0;for(l=0;l<a.length;l+=3){var h=a[l]*t,d=a[l+1]*t,p=a[l+2]*t;c+=Math.abs((e[h]-e[p])*(e[d+1]-e[h+1])-(e[h]-e[d])*(e[p+1]-e[h+1]))}return o===0&&c===0?0:Math.abs((c-o)/o)};function uT(e,r,t,a){for(var n=0,i=r,o=t-a;i<t;i+=a)n+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return n}Hx.flatten=function(e){for(var r=e[0][0].length,t={vertices:[],holes:[],dimensions:r},a=0,n=0;n<e.length;n++){for(var i=0;i<e[n].length;i++)for(var o=0;o<r;o++)t.vertices.push(e[n][i][o]);n>0&&(a+=e[n-1].length,t.holes.push(a))}return t}});var O$=R((FFe,I$)=>{"use strict";var I6e=Ah();I$.exports=O6e;function O6e(e,r,t){if(!e||e.length==null)throw Error("Argument should be an array");r==null&&(r=1),t==null&&(t=I6e(e,r));for(var a=0;a<r;a++){var n=t[r+a],i=t[a],o=a,l=e.length;if(n===1/0&&i===-1/0)for(o=a;o<l;o+=r)e[o]=e[o]===n?1:e[o]===i?0:.5;else if(n===1/0)for(o=a;o<l;o+=r)e[o]=e[o]===n?1:0;else if(i===-1/0)for(o=a;o<l;o+=r)e[o]=e[o]===i?0:1;else{var s=n-i;for(o=a;o<l;o+=r)isNaN(e[o])||(e[o]=s===0?.5:(e[o]-i)/s)}}return e}});var B$=R((RFe,z$)=>{"use strict";z$.exports=function(){var e,r;if(typeof WeakMap!="function")return!1;try{e=new WeakMap([[r={},"one"],[{},"two"],[{},"three"]])}catch(t){return!1}return!(String(e)!=="[object WeakMap]"||typeof e.set!="function"||e.set({},1)!==e||typeof e.delete!="function"||typeof e.has!="function"||e.get(r)!=="one")}});var H$=R((PFe,U$)=>{"use strict";U$.exports=function(){}});var wf=R((NFe,G$)=>{"use strict";var z6e=H$()();G$.exports=function(e){return e!==z6e&&e!==null}});var cT=R((IFe,Y$)=>{"use strict";var B6e=Object.create,U6e=Object.getPrototypeOf,V$={};Y$.exports=function(){var e=Object.setPrototypeOf,r=arguments[0]||B6e;return typeof e!="function"?!1:U6e(e(r(null),V$))===V$}});var vT=R((OFe,W$)=>{"use strict";var H6e=wf(),G6e={function:!0,object:!0};W$.exports=function(e){return H6e(e)&&G6e[typeof e]||!1}});var uu=R((zFe,j$)=>{"use strict";var V6e=wf();j$.exports=function(e){if(!V6e(e))throw new TypeError("Cannot use null or undefined");return e}});var Z$=R((BFe,X$)=>{"use strict";var hT=Object.create,Vx;cT()()||(Vx=dT());X$.exports=function(){var e,r,t;return!Vx||Vx.level!==1?hT:(e={},r={},t={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(a){if(a==="__proto__"){r[a]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}r[a]=t}),Object.defineProperties(e,r),Object.defineProperty(Vx,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(a,n){return hT(a===null?e:a,n)})}()});var dT=R((UFe,J$)=>{"use strict";var Y6e=vT(),W6e=uu(),j6e=Object.prototype.isPrototypeOf,X6e=Object.defineProperty,Z6e={configurable:!0,enumerable:!1,writable:!0,value:void 0},Yx;Yx=function(e,r){if(W6e(e),r===null||Y6e(r))return e;throw new TypeError("Prototype must be null or an object")};J$.exports=function(e){var r,t;return e?(e.level===2?e.set?(t=e.set,r=function(a,n){return t.call(Yx(a,n),n),a}):r=function(a,n){return Yx(a,n).__proto__=n,a}:r=function a(n,i){var o;return Yx(n,i),o=j6e.call(a.nullPolyfill,n),o&&delete a.nullPolyfill.__proto__,i===null&&(i=a.nullPolyfill),n.__proto__=i,o&&X6e(a.nullPolyfill,"__proto__",Z6e),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e=Object.create(null),r={},t,a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(a){try{t=a.set,t.call(e,r)}catch(n){}if(Object.getPrototypeOf(e)===r)return{set:t,level:2}}return e.__proto__=r,Object.getPrototypeOf(e)===r?{level:2}:(e={},e.__proto__=r,Object.getPrototypeOf(e)===r?{level:1}:!1)}());Z$()});var Wx=R((HFe,$$)=>{"use strict";$$.exports=cT()()?Object.setPrototypeOf:dT()});var Q$=R((GFe,K$)=>{"use strict";var J6e=vT();K$.exports=function(e){if(!J6e(e))throw new TypeError(e+" is not an Object");return e}});var rK=R((VFe,eK)=>{"use strict";var $6e=Object.create(null),K6e=Math.random;eK.exports=function(){var e;do e=K6e().toString(36).slice(2);while($6e[e]);return e}});var lv=R((YFe,tK)=>{"use strict";var Q6e=void 0;tK.exports=function(e){return e!==Q6e&&e!==null}});var jx=R((WFe,aK)=>{"use strict";var eAe=lv(),rAe={object:!0,function:!0,undefined:!0};aK.exports=function(e){return eAe(e)?hasOwnProperty.call(rAe,typeof e):!1}});var iK=R((jFe,nK)=>{"use strict";var tAe=jx();nK.exports=function(e){if(!tAe(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch(r){return!1}}});var lK=R((XFe,oK)=>{"use strict";var aAe=iK();oK.exports=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch(r){return!1}return!aAe(e)}});var pT=R((ZFe,sK)=>{"use strict";var nAe=lK(),iAe=/^\s*class[\s{/}]/,oAe=Function.prototype.toString;sK.exports=function(e){return!(!nAe(e)||iAe.test(oAe.call(e)))}});var fK=R((JFe,uK)=>{"use strict";uK.exports=function(){var e=Object.assign,r;return typeof e!="function"?!1:(r={foo:"raz"},e(r,{bar:"dwa"},{trzy:"trzy"}),r.foo+r.bar+r.trzy==="razdwatrzy")}});var vK=R(($Fe,cK)=>{"use strict";cK.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}});var dK=R((KFe,hK)=>{"use strict";var lAe=wf(),sAe=Object.keys;hK.exports=function(e){return sAe(lAe(e)?Object(e):e)}});var yK=R((QFe,pK)=>{"use strict";pK.exports=vK()()?Object.keys:dK()});var gK=R((eRe,mK)=>{"use strict";var uAe=yK(),fAe=uu(),cAe=Math.max;mK.exports=function(e,r){var t,a,n=cAe(arguments.length,2),i;for(e=Object(fAe(e)),i=function(o){try{e[o]=r[o]}catch(l){t||(t=l)}},a=1;a<n;++a)r=arguments[a],uAe(r).forEach(i);if(t!==void 0)throw t;return e}});var Xx=R((rRe,bK)=>{"use strict";bK.exports=fK()()?Object.assign:gK()});var yT=R((tRe,xK)=>{"use strict";var vAe=wf(),hAe=Array.prototype.forEach,dAe=Object.create,pAe=function(e,r){var t;for(t in e)r[t]=e[t]};xK.exports=function(e){var r=dAe(null);return hAe.call(arguments,function(t){vAe(t)&&pAe(Object(t),r)}),r}});var wK=R((aRe,_K)=>{"use strict";var mT="razdwatrzy";_K.exports=function(){return typeof mT.contains!="function"?!1:mT.contains("dwa")===!0&&mT.contains("foo")===!1}});var TK=R((nRe,AK)=>{"use strict";var yAe=String.prototype.indexOf;AK.exports=function(e){return yAe.call(this,e,arguments[1])>-1}});var gT=R((iRe,MK)=>{"use strict";MK.exports=wK()()?String.prototype.contains:TK()});var fu=R((oRe,EK)=>{"use strict";var Zx=lv(),SK=pT(),kK=Xx(),CK=yT(),cy=gT(),mAe=EK.exports=function(e,r){var t,a,n,i,o;return arguments.length<2||typeof e!="string"?(i=r,r=e,e=null):i=arguments[2],Zx(e)?(t=cy.call(e,"c"),a=cy.call(e,"e"),n=cy.call(e,"w")):(t=n=!0,a=!1),o={value:r,configurable:t,enumerable:a,writable:n},i?kK(CK(i),o):o};mAe.gs=function(e,r,t){var a,n,i,o;return typeof e!="string"?(i=t,t=r,r=e,e=null):i=arguments[3],Zx(r)?SK(r)?Zx(t)?SK(t)||(i=t,t=void 0):t=void 0:(i=r,r=t=void 0):r=void 0,Zx(e)?(a=cy.call(e,"c"),n=cy.call(e,"e")):(a=!0,n=!1),o={get:r,set:t,configurable:a,enumerable:n},i?kK(CK(i),o):o}});var vy=R((lRe,qK)=>{"use strict";var LK=Object.prototype.toString,gAe=LK.call(function(){return arguments}());qK.exports=function(e){return LK.call(e)===gAe}});var hy=R((sRe,FK)=>{"use strict";var DK=Object.prototype.toString,bAe=DK.call("");FK.exports=function(e){return typeof e=="string"||e&&typeof e=="object"&&(e instanceof String||DK.call(e)===bAe)||!1}});var PK=R((uRe,RK)=>{"use strict";RK.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}});var OK=R((fRe,IK)=>{var NK=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};IK.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return NK()}try{return __global__||NK()}finally{delete Object.prototype.__global__}}()});var dy=R((cRe,zK)=>{"use strict";zK.exports=PK()()?globalThis:OK()});var UK=R((vRe,BK)=>{"use strict";var xAe=dy(),bT={object:!0,symbol:!0};BK.exports=function(){var e=xAe.Symbol,r;if(typeof e!="function")return!1;r=e("test symbol");try{String(r)}catch(t){return!1}return!(!bT[typeof e.iterator]||!bT[typeof e.toPrimitive]||!bT[typeof e.toStringTag])}});var GK=R((hRe,HK)=>{"use strict";HK.exports=function(e){return e?typeof e=="symbol"?!0:!e.constructor||e.constructor.name!=="Symbol"?!1:e[e.constructor.toStringTag]==="Symbol":!1}});var xT=R((dRe,VK)=>{"use strict";var _Ae=GK();VK.exports=function(e){if(!_Ae(e))throw new TypeError(e+" is not a symbol");return e}});var ZK=R((pRe,XK)=>{"use strict";var YK=fu(),wAe=Object.create,WK=Object.defineProperty,AAe=Object.prototype,jK=wAe(null);XK.exports=function(e){for(var r=0,t,a;jK[e+(r||"")];)++r;return e+=r||"",jK[e]=!0,t="@@"+e,WK(AAe,t,YK.gs(null,function(n){a||(a=!0,WK(this,t,YK(n)),a=!1)})),t}});var $K=R((yRe,JK)=>{"use strict";var Ul=fu(),kn=dy().Symbol;JK.exports=function(e){return Object.defineProperties(e,{hasInstance:Ul("",kn&&kn.hasInstance||e("hasInstance")),isConcatSpreadable:Ul("",kn&&kn.isConcatSpreadable||e("isConcatSpreadable")),iterator:Ul("",kn&&kn.iterator||e("iterator")),match:Ul("",kn&&kn.match||e("match")),replace:Ul("",kn&&kn.replace||e("replace")),search:Ul("",kn&&kn.search||e("search")),species:Ul("",kn&&kn.species||e("species")),split:Ul("",kn&&kn.split||e("split")),toPrimitive:Ul("",kn&&kn.toPrimitive||e("toPrimitive")),toStringTag:Ul("",kn&&kn.toStringTag||e("toStringTag")),unscopables:Ul("",kn&&kn.unscopables||e("unscopables"))})}});var eQ=R((mRe,QK)=>{"use strict";var KK=fu(),TAe=xT(),py=Object.create(null);QK.exports=function(e){return Object.defineProperties(e,{for:KK(function(r){return py[r]?py[r]:py[r]=e(String(r))}),keyFor:KK(function(r){var t;TAe(r);for(t in py)if(py[t]===r)return t})})}});var aQ=R((gRe,tQ)=>{"use strict";var ms=fu(),_T=xT(),Jx=dy().Symbol,MAe=ZK(),SAe=$K(),kAe=eQ(),CAe=Object.create,wT=Object.defineProperties,$x=Object.defineProperty,Ni,Yh,rQ;if(typeof Jx=="function")try{String(Jx()),rQ=!0}catch(e){}else Jx=null;Yh=function(r){if(this instanceof Yh)throw new TypeError("Symbol is not a constructor");return Ni(r)};tQ.exports=Ni=function e(r){var t;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return rQ?Jx(r):(t=CAe(Yh.prototype),r=r===void 0?"":String(r),wT(t,{__description__:ms("",r),__name__:ms("",MAe(r))}))};SAe(Ni);kAe(Ni);wT(Yh.prototype,{constructor:ms(Ni),toString:ms("",function(){return this.__name__})});wT(Ni.prototype,{toString:ms(function(){return"Symbol ("+_T(this).__description__+")"}),valueOf:ms(function(){return _T(this)})});$x(Ni.prototype,Ni.toPrimitive,ms("",function(){var e=_T(this);return typeof e=="symbol"?e:e.toString()}));$x(Ni.prototype,Ni.toStringTag,ms("c","Symbol"));$x(Yh.prototype,Ni.toStringTag,ms("c",Ni.prototype[Ni.toStringTag]));$x(Yh.prototype,Ni.toPrimitive,ms("c",Ni.prototype[Ni.toPrimitive]))});var Af=R((bRe,nQ)=>{"use strict";nQ.exports=UK()()?dy().Symbol:aQ()});var oQ=R((xRe,iQ)=>{"use strict";var EAe=uu();iQ.exports=function(){return EAe(this).length=0,this}});var Wh=R((_Re,lQ)=>{"use strict";lQ.exports=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e}});var uQ=R((wRe,sQ)=>{"use strict";var LAe=lv(),qAe=jx(),DAe=Object.prototype.toString;sQ.exports=function(e){if(!LAe(e))return null;if(qAe(e)){var r=e.toString;if(typeof r!="function"||r===DAe)return null}try{return""+e}catch(t){return null}}});var cQ=R((ARe,fQ)=>{"use strict";fQ.exports=function(e){try{return e.toString()}catch(r){try{return String(e)}catch(t){return null}}}});var hQ=R((TRe,vQ)=>{"use strict";var FAe=cQ(),RAe=/[\n\r\u2028\u2029]/g;vQ.exports=function(e){var r=FAe(e);return r===null?"<Non-coercible to string value>":(r.length>100&&(r=r.slice(0,99)+"\u2026"),r=r.replace(RAe,function(t){switch(t){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),r)}});var AT=R((MRe,yQ)=>{"use strict";var dQ=lv(),PAe=jx(),NAe=uQ(),IAe=hQ(),pQ=function(e,r){return e.replace("%v",IAe(r))};yQ.exports=function(e,r,t){if(!PAe(t))throw new TypeError(pQ(r,e));if(!dQ(e)){if("default"in t)return t.default;if(t.isOptional)return null}var a=NAe(t.errorMessage);throw dQ(a)||(a=r),new TypeError(pQ(a,e))}});var gQ=R((SRe,mQ)=>{"use strict";var OAe=AT(),zAe=lv();mQ.exports=function(e){return zAe(e)?e:OAe(e,"Cannot use %v",arguments[1])}});var xQ=R((kRe,bQ)=>{"use strict";var BAe=AT(),UAe=pT();bQ.exports=function(e){return UAe(e)?e:BAe(e,"%v is not a plain function",arguments[1])}});var wQ=R((CRe,_Q)=>{"use strict";_Q.exports=function(){var e=Array.from,r,t;return typeof e!="function"?!1:(r=["raz","dwa"],t=e(r),!!(t&&t!==r&&t[1]==="dwa"))}});var TQ=R((ERe,AQ)=>{"use strict";var HAe=Object.prototype.toString,GAe=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);AQ.exports=function(e){return typeof e=="function"&&GAe(HAe.call(e))}});var SQ=R((LRe,MQ)=>{"use strict";MQ.exports=function(){var e=Math.sign;return typeof e!="function"?!1:e(10)===1&&e(-20)===-1}});var CQ=R((qRe,kQ)=>{"use strict";kQ.exports=function(e){return e=Number(e),isNaN(e)||e===0?e:e>0?1:-1}});var LQ=R((DRe,EQ)=>{"use strict";EQ.exports=SQ()()?Math.sign:CQ()});var DQ=R((FRe,qQ)=>{"use strict";var VAe=LQ(),YAe=Math.abs,WAe=Math.floor;qQ.exports=function(e){return isNaN(e)?0:(e=Number(e),e===0||!isFinite(e)?e:VAe(e)*WAe(YAe(e)))}});var RQ=R((RRe,FQ)=>{"use strict";var jAe=DQ(),XAe=Math.max;FQ.exports=function(e){return XAe(0,jAe(e))}});var OQ=R((PRe,IQ)=>{"use strict";var ZAe=Af().iterator,JAe=vy(),$Ae=TQ(),KAe=RQ(),PQ=Wh(),QAe=uu(),e8e=wf(),r8e=hy(),NQ=Array.isArray,TT=Function.prototype.call,sv={configurable:!0,enumerable:!0,writable:!0,value:null},MT=Object.defineProperty;IQ.exports=function(e){var r=arguments[1],t=arguments[2],a,n,i,o,l,s,u,f,c,h;if(e=Object(QAe(e)),e8e(r)&&PQ(r),!this||this===Array||!$Ae(this)){if(!r){if(JAe(e))return l=e.length,l!==1?Array.apply(null,e):(o=new Array(1),o[0]=e[0],o);if(NQ(e)){for(o=new Array(l=e.length),n=0;n<l;++n)o[n]=e[n];return o}}o=[]}else a=this;if(!NQ(e)){if((c=e[ZAe])!==void 0){for(u=PQ(c).call(e),a&&(o=new a),f=u.next(),n=0;!f.done;)h=r?TT.call(r,t,f.value,n):f.value,a?(sv.value=h,MT(o,n,sv)):o[n]=h,f=u.next(),++n;l=n}else if(r8e(e)){for(l=e.length,a&&(o=new a),n=0,i=0;n<l;++n)h=e[n],n+1<l&&(s=h.charCodeAt(0),s>=55296&&s<=56319&&(h+=e[++n])),h=r?TT.call(r,t,h,i):h,a?(sv.value=h,MT(o,i,sv)):o[i]=h,++i;l=i}}if(l===void 0)for(l=KAe(e.length),a&&(o=new a(l)),n=0;n<l;++n)h=r?TT.call(r,t,e[n],n):e[n],a?(sv.value=h,MT(o,n,sv)):o[n]=h;return a&&(sv.value=null,o.length=l),o}});var BQ=R((NRe,zQ)=>{"use strict";zQ.exports=wQ()()?Array.from:OQ()});var HQ=R((IRe,UQ)=>{"use strict";var t8e=BQ(),a8e=Xx(),n8e=uu();UQ.exports=function(e){var r=Object(n8e(e)),t=arguments[1],a=Object(arguments[2]);if(r!==e&&!t)return r;var n={};return t?t8e(t,function(i){(a.ensure||i in e)&&(n[i]=e[i])}):a8e(n,e),n}});var YQ=R((ORe,VQ)=>{"use strict";var i8e=Wh(),o8e=uu(),l8e=Function.prototype.bind,GQ=Function.prototype.call,s8e=Object.keys,u8e=Object.prototype.propertyIsEnumerable;VQ.exports=function(e,r){return function(t,a){var n,i=arguments[2],o=arguments[3];return t=Object(o8e(t)),i8e(a),n=s8e(t),o&&n.sort(typeof o=="function"?l8e.call(o,t):void 0),typeof e!="function"&&(e=n[e]),GQ.call(e,n,function(l,s){return u8e.call(t,l)?GQ.call(a,i,t[l],l,t,s):r})}}});var jQ=R((zRe,WQ)=>{"use strict";WQ.exports=YQ()("forEach")});var ZQ=R((BRe,XQ)=>{"use strict";var f8e=Wh(),c8e=jQ(),v8e=Function.prototype.call;XQ.exports=function(e,r){var t={},a=arguments[2];return f8e(r),c8e(e,function(n,i,o,l){t[i]=v8e.call(r,a,n,i,o,l)}),t}});var QQ=R((URe,KQ)=>{"use strict";var h8e=lv(),d8e=gQ(),JQ=xQ(),p8e=HQ(),y8e=yT(),m8e=ZQ(),g8e=Function.prototype.bind,b8e=Object.defineProperty,x8e=Object.prototype.hasOwnProperty,$Q;$Q=function(e,r,t){var a=d8e(r)&&JQ(r.value),n;return n=p8e(r),delete n.writable,delete n.value,n.get=function(){return!t.overwriteDefinition&&x8e.call(this,e)?a:(r.value=g8e.call(a,t.resolveContext?t.resolveContext(this):this),b8e(this,e,r),this[e])},n};KQ.exports=function(e){var r=y8e(arguments[1]);return h8e(r.resolveContext)&&JQ(r.resolveContext),m8e(e,function(t,a){return $Q(a,t,r)})}});var ST=R((HRe,aee)=>{"use strict";var _8e=oQ(),w8e=Xx(),A8e=Wh(),T8e=uu(),go=fu(),M8e=QQ(),eee=Af(),ree=Object.defineProperty,tee=Object.defineProperties,yy;aee.exports=yy=function(e,r){if(!(this instanceof yy))throw new TypeError("Constructor requires 'new'");tee(this,{__list__:go("w",T8e(e)),__context__:go("w",r),__nextIndex__:go("w",0)}),r&&(A8e(r.on),r.on("_add",this._onAdd),r.on("_delete",this._onDelete),r.on("_clear",this._onClear))};delete yy.prototype.constructor;tee(yy.prototype,w8e({_next:go(function(){var e;if(this.__list__){if(this.__redo__&&(e=this.__redo__.shift(),e!==void 0))return e;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:go(function(){return this._createResult(this._next())}),_createResult:go(function(e){return e===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:go(function(e){return this.__list__[e]}),_unBind:go(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:go(function(){return"[object "+(this[eee.toStringTag]||"Object")+"]"})},M8e({_onAdd:go(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){ree(this,"__redo__",go("c",[e]));return}this.__redo__.forEach(function(r,t){r>=e&&(this.__redo__[t]=++r)},this),this.__redo__.push(e)}}),_onDelete:go(function(e){var r;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(r=this.__redo__.indexOf(e),r!==-1&&this.__redo__.splice(r,1),this.__redo__.forEach(function(t,a){t>e&&(this.__redo__[a]=--t)},this)))}),_onClear:go(function(){this.__redo__&&_8e.call(this.__redo__),this.__nextIndex__=0})})));ree(yy.prototype,eee.iterator,go(function(){return this}))});var see=R((GRe,lee)=>{"use strict";var nee=Wx(),iee=gT(),kT=fu(),S8e=Af(),CT=ST(),oee=Object.defineProperty,jh;jh=lee.exports=function(e,r){if(!(this instanceof jh))throw new TypeError("Constructor requires 'new'");CT.call(this,e),r?iee.call(r,"key+value")?r="key+value":iee.call(r,"key")?r="key":r="value":r="value",oee(this,"__kind__",kT("",r))};nee&&nee(jh,CT);delete jh.prototype.constructor;jh.prototype=Object.create(CT.prototype,{_resolve:kT(function(e){return this.__kind__==="value"?this.__list__[e]:this.__kind__==="key+value"?[e,this.__list__[e]]:e})});oee(jh.prototype,S8e.toStringTag,kT("c","Array Iterator"))});var vee=R((VRe,cee)=>{"use strict";var uee=Wx(),Kx=fu(),k8e=Af(),ET=ST(),fee=Object.defineProperty,Xh;Xh=cee.exports=function(e){if(!(this instanceof Xh))throw new TypeError("Constructor requires 'new'");e=String(e),ET.call(this,e),fee(this,"__length__",Kx("",e.length))};uee&&uee(Xh,ET);delete Xh.prototype.constructor;Xh.prototype=Object.create(ET.prototype,{_next:Kx(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:Kx(function(e){var r=this.__list__[e],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})});fee(Xh.prototype,k8e.toStringTag,Kx("c","String Iterator"))});var dee=R((YRe,hee)=>{"use strict";var C8e=vy(),E8e=wf(),L8e=hy(),q8e=Af().iterator,D8e=Array.isArray;hee.exports=function(e){return E8e(e)?D8e(e)||L8e(e)||C8e(e)?!0:typeof e[q8e]=="function":!1}});var yee=R((WRe,pee)=>{"use strict";var F8e=dee();pee.exports=function(e){if(!F8e(e))throw new TypeError(e+" is not iterable");return e}});var LT=R((jRe,bee)=>{"use strict";var R8e=vy(),P8e=hy(),mee=see(),N8e=vee(),I8e=yee(),gee=Af().iterator;bee.exports=function(e){return typeof I8e(e)[gee]=="function"?e[gee]():R8e(e)?new mee(e):P8e(e)?new N8e(e):new mee(e)}});var _ee=R((XRe,xee)=>{"use strict";var O8e=vy(),z8e=Wh(),B8e=hy(),U8e=LT(),H8e=Array.isArray,qT=Function.prototype.call,G8e=Array.prototype.some;xee.exports=function(e,r){var t,a=arguments[2],n,i,o,l,s,u,f;if(H8e(e)||O8e(e)?t="array":B8e(e)?t="string":e=U8e(e),z8e(r),i=function(){o=!0},t==="array"){G8e.call(e,function(c){return qT.call(r,a,c,i),o});return}if(t==="string"){for(s=e.length,l=0;l<s&&(u=e[l],l+1<s&&(f=u.charCodeAt(0),f>=55296&&f<=56319&&(u+=e[++l])),qT.call(r,a,u,i),!o);++l);return}for(n=e.next();!n.done;){if(qT.call(r,a,n.value,i),o)return;n=e.next()}}});var Aee=R((ZRe,wee)=>{"use strict";wee.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()});var See=R((JRe,Mee)=>{"use strict";var V8e=wf(),e5=Wx(),Qx=Q$(),Y8e=uu(),W8e=rK(),cu=fu(),j8e=LT(),X8e=_ee(),Z8e=Af().toStringTag,Tee=Aee(),J8e=Array.isArray,FT=Object.defineProperty,DT=Object.prototype.hasOwnProperty,$8e=Object.getPrototypeOf,Tf;Mee.exports=Tf=function(){var e=arguments[0],r;if(!(this instanceof Tf))throw new TypeError("Constructor requires 'new'");return r=Tee&&e5&&WeakMap!==Tf?e5(new WeakMap,$8e(this)):this,V8e(e)&&(J8e(e)||(e=j8e(e))),FT(r,"__weakMapData__",cu("c","$weakMap$"+W8e())),e&&X8e(e,function(t){Y8e(t),r.set(t[0],t[1])}),r};Tee&&(e5&&e5(Tf,WeakMap),Tf.prototype=Object.create(WeakMap.prototype,{constructor:cu(Tf)}));Object.defineProperties(Tf.prototype,{delete:cu(function(e){return DT.call(Qx(e),this.__weakMapData__)?(delete e[this.__weakMapData__],!0):!1}),get:cu(function(e){if(DT.call(Qx(e),this.__weakMapData__))return e[this.__weakMapData__]}),has:cu(function(e){return DT.call(Qx(e),this.__weakMapData__)}),set:cu(function(e,r){return FT(Qx(e),this.__weakMapData__,cu("c",r)),this}),toString:cu(function(){return"[object WeakMap]"})});FT(Tf.prototype,Z8e,cu("c","WeakMap"))});var RT=R(($Re,kee)=>{"use strict";kee.exports=B$()()?WeakMap:See()});var Eee=R((KRe,Cee)=>{"use strict";Cee.exports=function(e,r,t){if(typeof Array.prototype.findIndex=="function")return e.findIndex(r,t);if(typeof r!="function")throw new TypeError("predicate must be a function");var a=Object(e),n=a.length;if(n===0)return-1;for(var i=0;i<n;i++)if(r.call(t,a[i],i,a))return i;return-1}});var Fee=R((QRe,Dee)=>{"use strict";var r5=av(),K8e=Ah(),NT=Sn(),Q8e=su(),e7e=Th(),Lee=N$(),r7e=O$(),{float32:t7e,fract32:PT}=Ix(),a7e=RT(),qee=Pp(),n7e=Eee(),i7e=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,o7e=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,l7e=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,s7e=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,u7e=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,f7e=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;Dee.exports=za;function za(e,r){if(!(this instanceof za))return new za(e,r);if(typeof e=="function"?(r||(r={}),r.regl=e):r=e,r.length&&(r.positions=r),e=r.regl,!e.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=e._gl,this.regl=e,this.passes=[],this.shaders=za.shaders.has(e)?za.shaders.get(e):za.shaders.set(e,za.createShaders(e)).get(e),this.update(r)}za.dashMult=2;za.maxPatternLength=256;za.precisionThreshold=3e6;za.maxPoints=1e4;za.maxLines=2048;za.shaders=new a7e;za.createShaders=function(e){let r=e.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),t={primitive:"triangle strip",instances:e.prop("count"),count:4,offset:0,uniforms:{miterMode:(o,l)=>l.join==="round"?2:1,miterLimit:e.prop("miterLimit"),scale:e.prop("scale"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),translate:e.prop("translate"),thickness:e.prop("thickness"),dashTexture:e.prop("dashTexture"),opacity:e.prop("opacity"),pixelRatio:e.context("pixelRatio"),id:e.prop("id"),dashLength:e.prop("dashLength"),viewport:(o,l)=>[l.viewport.x,l.viewport.y,o.viewportWidth,o.viewportHeight],depth:e.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:(o,l)=>!l.overlay},stencil:{enable:!1},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport")},a=e(NT({vert:i7e,frag:o7e,attributes:{lineEnd:{buffer:r,divisor:0,stride:8,offset:0},lineTop:{buffer:r,divisor:0,stride:8,offset:4},aCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:e.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},t)),n;try{n=e(NT({cull:{enable:!0,face:"back"},vert:u7e,frag:f7e,attributes:{lineEnd:{buffer:r,divisor:0,stride:8,offset:0},lineTop:{buffer:r,divisor:0,stride:8,offset:4},aColor:{buffer:e.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:e.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},t))}catch(o){n=a}return{fill:e({primitive:"triangle",elements:(o,l)=>l.triangles,offset:0,vert:l7e,frag:s7e,uniforms:{scale:e.prop("scale"),color:e.prop("fill"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),translate:e.prop("translate"),opacity:e.prop("opacity"),pixelRatio:e.context("pixelRatio"),id:e.prop("id"),viewport:(o,l)=>[l.viewport.x,l.viewport.y,o.viewportWidth,o.viewportHeight]},attributes:{position:{buffer:e.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:8}},blend:t.blend,depth:{enable:!1},scissor:t.scissor,stencil:t.stencil,viewport:t.viewport}),rect:a,miter:n}};za.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null};za.prototype.render=function(...e){e.length&&this.update(...e),this.draw()};za.prototype.draw=function(...e){return(e.length?e:this.passes).forEach((r,t)=>{if(r&&Array.isArray(r))return this.draw(...r);typeof r=="number"&&(r=this.passes[r]),r&&r.count>1&&r.opacity&&(this.regl._refresh(),r.fill&&r.triangles&&r.triangles.length>2&&this.shaders.fill(r),r.thickness&&(r.scale[0]*r.viewport.width>za.precisionThreshold||r.scale[1]*r.viewport.height>za.precisionThreshold?this.shaders.rect(r):r.join==="rect"||!r.join&&(r.thickness<=2||r.count>=za.maxPoints)?this.shaders.rect(r):this.shaders.miter(r)))}),this};za.prototype.update=function(e){if(!e)return;e.length!=null?typeof e[0]=="number"&&(e=[{positions:e}]):Array.isArray(e)||(e=[e]);let{regl:r,gl:t}=this;if(e.forEach((n,i)=>{let o=this.passes[i];if(n!==void 0){if(n===null){this.passes[i]=null;return}if(typeof n[0]=="number"&&(n={positions:n}),n=Q8e(n,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),o||(this.passes[i]=o={id:i,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:r.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:r.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:r.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:r.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},n=NT({},za.defaults,n)),n.thickness!=null&&(o.thickness=parseFloat(n.thickness)),n.opacity!=null&&(o.opacity=parseFloat(n.opacity)),n.miterLimit!=null&&(o.miterLimit=parseFloat(n.miterLimit)),n.overlay!=null&&(o.overlay=!!n.overlay,i<za.maxLines&&(o.depth=2*(za.maxLines-1-i%za.maxLines)/za.maxLines-1)),n.join!=null&&(o.join=n.join),n.hole!=null&&(o.hole=n.hole),n.fill!=null&&(o.fill=n.fill?r5(n.fill,"uint8"):null),n.viewport!=null&&(o.viewport=qee(n.viewport)),o.viewport||(o.viewport=qee([t.drawingBufferWidth,t.drawingBufferHeight])),n.close!=null&&(o.close=n.close),n.positions===null&&(n.positions=[]),n.positions){let u,f;if(n.positions.x&&n.positions.y){let p=n.positions.x,g=n.positions.y;f=o.count=Math.max(p.length,g.length),u=new Float64Array(f*2);for(let y=0;y<f;y++)u[y*2]=p[y],u[y*2+1]=g[y]}else u=e7e(n.positions,"float64"),f=o.count=Math.floor(u.length/2);let c=o.bounds=K8e(u,2);if(o.fill){let p=[],g={},y=0;for(let b=0,_=0,w=o.count;b<w;b++){let x=u[b*2],T=u[b*2+1];isNaN(x)||isNaN(T)||x==null||T==null?(x=u[y*2],T=u[y*2+1],g[b]=y):y=b,p[_++]=x,p[_++]=T}if(n.splitNull){o.count-1 in g||(g[o.count]=o.count-1);let b=Object.keys(g).map(Number).sort((T,S)=>T-S),_=[],w=0,x=o.hole!=null?o.hole[0]:null;if(x!=null){let T=n7e(b,S=>S>=x);b=b.slice(0,T),b.push(x)}for(let T=0;T<b.length;T++){let S=p.slice(w*2,b[T]*2).concat(x?p.slice(x*2):[]),M=(o.hole||[]).map(q=>q-x+(b[T]-w)),C=Lee(S,M);C=C.map(q=>q+w+(q+w<b[T]?0:x-b[T])),_.push(...C),w=b[T]+1}for(let T=0,S=_.length;T<S;T++)g[_[T]]!=null&&(_[T]=g[_[T]]);o.triangles=_}else{let b=Lee(p,o.hole||[]);for(let _=0,w=b.length;_<w;_++)g[b[_]]!=null&&(b[_]=g[b[_]]);o.triangles=b}}let h=new Float64Array(u);r7e(h,2,c);let d=new Float64Array(f*2+6);o.close?u[0]===u[f*2-2]&&u[1]===u[f*2-1]?(d[0]=h[f*2-4],d[1]=h[f*2-3]):(d[0]=h[f*2-2],d[1]=h[f*2-1]):(d[0]=h[0],d[1]=h[1]),d.set(h,2),o.close?u[0]===u[f*2-2]&&u[1]===u[f*2-1]?(d[f*2+2]=h[2],d[f*2+3]=h[3],o.count-=1):(d[f*2+2]=h[0],d[f*2+3]=h[1],d[f*2+4]=h[2],d[f*2+5]=h[3]):(d[f*2+2]=h[f*2-2],d[f*2+3]=h[f*2-1],d[f*2+4]=h[f*2-2],d[f*2+5]=h[f*2-1]);var l=t7e(d);o.positionBuffer(l);var s=PT(d,l);o.positionFractBuffer(s)}if(n.range?o.range=n.range:o.range||(o.range=o.bounds),(n.range||n.positions)&&o.count){let u=o.bounds,f=u[2]-u[0],c=u[3]-u[1],h=o.range[2]-o.range[0],d=o.range[3]-o.range[1];o.scale=[f/h,c/d],o.translate=[-o.range[0]/h+u[0]/h||0,-o.range[1]/d+u[1]/d||0],o.scaleFract=PT(o.scale),o.translateFract=PT(o.translate)}if(n.dashes){let u=0,f;if(!n.dashes||n.dashes.length<2)u=1,f=new Uint8Array([255,255,255,255,255,255,255,255]);else{u=0;for(let d=0;d<n.dashes.length;++d)u+=n.dashes[d];f=new Uint8Array(u*za.dashMult);let c=0,h=255;for(let d=0;d<2;d++)for(let p=0;p<n.dashes.length;++p){for(let g=0,y=n.dashes[p]*za.dashMult*.5;g<y;++g)f[c++]=h;h^=255}}o.dashLength=u,o.dashTexture({channels:1,data:f,width:f.length,height:1,mag:"linear",min:"linear"},0,0)}if(n.color){let u=o.count,f=n.color;f||(f="transparent");let c=new Uint8Array(u*4+4);if(!Array.isArray(f)||typeof f[0]=="number"){let h=r5(f,"uint8");for(let d=0;d<u+1;d++)c.set(h,d*4)}else{for(let h=0;h<u;h++){let d=r5(f[h],"uint8");c.set(d,h*4)}c.set(r5(f[0],"uint8"),u*4)}o.colorBuffer({usage:"dynamic",type:"uint8",data:c})}}}),e.length<this.passes.length){for(let n=e.length;n<this.passes.length;n++){let i=this.passes[n];i&&(i.colorBuffer.destroy(),i.positionBuffer.destroy(),i.dashTexture.destroy())}this.passes.length=e.length}let a=[];for(let n=0;n<this.passes.length;n++)this.passes[n]!==null&&a.push(this.passes[n]);return this.passes=a,this};za.prototype.destroy=function(){return this.passes.forEach(e=>{e.colorBuffer.destroy(),e.positionBuffer.destroy(),e.dashTexture.destroy()}),this.passes.length=0,this}});var Oee=R((ePe,Iee)=>{"use strict";var c7e=Ah(),v7e=av(),h7e=iT(),d7e=su(),Ree=Sn(),Pee=Th(),{float32:p7e,fract32:IT}=Ix();Iee.exports=y7e;var Nee=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function y7e(e,r){if(typeof e=="function"?(r||(r={}),r.regl=e):r=e,r.length&&(r.positions=r),e=r.regl,!e.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");let t=e._gl,a,n,i,o,l,s,u={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},f=[];return o=e.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),n=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),i=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),l=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),s=e.buffer({usage:"static",type:"float",data:Nee}),p(r),a=e({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:e.prop("range"),lineWidth:e.prop("lineWidth"),capSize:e.prop("capSize"),opacity:e.prop("opacity"),scale:e.prop("scale"),translate:e.prop("translate"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),viewport:(y,b)=>[b.viewport.x,b.viewport.y,y.viewportWidth,y.viewportHeight]},attributes:{color:{buffer:o,offset:(y,b)=>b.offset*4,divisor:1},position:{buffer:n,offset:(y,b)=>b.offset*8,divisor:1},positionFract:{buffer:i,offset:(y,b)=>b.offset*8,divisor:1},error:{buffer:l,offset:(y,b)=>b.offset*16,divisor:1},direction:{buffer:s,stride:24,offset:0},lineOffset:{buffer:s,stride:24,offset:8},capOffset:{buffer:s,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport"),stencil:!1,instances:e.prop("count"),count:Nee.length}),Ree(c,{update:p,draw:h,destroy:g,regl:e,gl:t,canvas:t.canvas,groups:f}),c;function c(y){y?p(y):y===null&&g(),h()}function h(y){if(typeof y=="number")return d(y);y&&!Array.isArray(y)&&(y=[y]),e._refresh(),f.forEach((b,_)=>{if(b){if(y&&(y[_]?b.draw=!0:b.draw=!1),!b.draw){b.draw=!0;return}d(_)}})}function d(y){typeof y=="number"&&(y=f[y]),y!=null&&y&&y.count&&y.color&&y.opacity&&y.positions&&y.positions.length>1&&(y.scaleRatio=[y.scale[0]*y.viewport.width,y.scale[1]*y.viewport.height],a(y),y.after&&y.after(y))}function p(y){if(!y)return;y.length!=null?typeof y[0]=="number"&&(y=[{positions:y}]):Array.isArray(y)||(y=[y]);let b=0,_=0;if(c.groups=f=y.map((T,S)=>{let M=f[S];if(T)typeof T=="function"?T={after:T}:typeof T[0]=="number"&&(T={positions:T});else return M;return T=d7e(T,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),M||(f[S]=M={id:S,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},T=Ree({},u,T)),h7e(M,T,[{lineWidth:C=>+C*.5,capSize:C=>+C*.5,opacity:parseFloat,errors:C=>(C=Pee(C),_+=C.length,C),positions:(C,q)=>(C=Pee(C,"float64"),q.count=Math.floor(C.length/2),q.bounds=c7e(C,2),q.offset=b,b+=q.count,C)},{color:(C,q)=>{let F=q.count;if(C||(C="transparent"),!Array.isArray(C)||typeof C[0]=="number"){let I=C;C=Array(F);for(let H=0;H<F;H++)C[H]=I}if(C.length<F)throw Error("Not enough colors");let P=new Uint8Array(F*4);for(let I=0;I<F;I++){let H=v7e(C[I],"uint8");P.set(H,I*4)}return P},range:(C,q,F)=>{let P=q.bounds;return C||(C=P),q.scale=[1/(C[2]-C[0]),1/(C[3]-C[1])],q.translate=[-C[0],-C[1]],q.scaleFract=IT(q.scale),q.translateFract=IT(q.translate),C},viewport:C=>{let q;return Array.isArray(C)?q={x:C[0],y:C[1],width:C[2]-C[0],height:C[3]-C[1]}:C?(q={x:C.x||C.left||0,y:C.y||C.top||0},C.right?q.width=C.right-q.x:q.width=C.w||C.width||0,C.bottom?q.height=C.bottom-q.y:q.height=C.h||C.height||0):q={x:0,y:0,width:t.drawingBufferWidth,height:t.drawingBufferHeight},q}}]),M}),b||_){let T=f.reduce((q,F,P)=>q+(F?F.count:0),0),S=new Float64Array(T*2),M=new Uint8Array(T*4),C=new Float32Array(T*4);f.forEach((q,F)=>{if(!q)return;let{positions:P,count:I,offset:H,color:V,errors:j}=q;I&&(M.set(V,H*4),C.set(j,H*4),S.set(P,H*2))});var w=p7e(S);n(w);var x=IT(S,w);i(x),o(M),l(C)}}function g(){n.destroy(),i.destroy(),o.destroy(),l.destroy(),s.destroy()}}});var Uee=R((rPe,Bee)=>{var zee=/[\'\"]/;Bee.exports=function(r){return r?(zee.test(r.charAt(0))&&(r=r.substr(1)),zee.test(r.charAt(r.length-1))&&(r=r.substr(0,r.length-1)),r):""}});var OT=R(()=>{});var zT=R(()=>{});var BT=R(()=>{});var UT=R(()=>{});var HT=R(()=>{});var Yee=R((vPe,Vee)=>{"use strict";function Hee(e,r){if(typeof e!="string")return[e];var t=[e];typeof r=="string"||Array.isArray(r)?r={brackets:r}:r||(r={});var a=r.brackets?Array.isArray(r.brackets)?r.brackets:[r.brackets]:["{}","[]","()"],n=r.escape||"___",i=!!r.flat;a.forEach(function(s){var u=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),f=[];function c(h,d,p){var g=t.push(h.slice(s[0].length,-s[1].length))-1;return f.push(g),n+g+n}t.forEach(function(h,d){for(var p,g=0;h!=p;)if(p=h,h=h.replace(u,c),g++>1e4)throw Error("References have circular dependency. Please, check them.");t[d]=h}),f=f.reverse(),t=t.map(function(h){return f.forEach(function(d){h=h.replace(new RegExp("(\\"+n+d+"\\"+n+")","g"),s[0]+"$1"+s[1])}),h})});var o=new RegExp("\\"+n+"([0-9]+)\\"+n);function l(s,u,f){for(var c=[],h,d=0;h=o.exec(s);){if(d++>1e4)throw Error("Circular references in parenthesis");c.push(s.slice(0,h.index)),c.push(l(u[h[1]],u)),s=s.slice(h.index+h[0].length)}return c.push(s),c}return i?t:l(t[0],t)}function Gee(e,r){if(r&&r.flat){var t=r&&r.escape||"___",a=e[0],n;if(!a)return"";for(var i=new RegExp("\\"+t+"([0-9]+)\\"+t),o=0;a!=n;){if(o++>1e4)throw Error("Circular references in "+e);n=a,a=a.replace(i,l)}return a}return e.reduce(function s(u,f){return Array.isArray(f)&&(f=f.reduce(s,"")),u+f},"");function l(s,u){if(e[u]==null)throw Error("Reference "+u+"is undefined");return e[u]}}function GT(e,r){return Array.isArray(e)?Gee(e,r):Hee(e,r)}GT.parse=Hee;GT.stringify=Gee;Vee.exports=GT});var Xee=R((hPe,jee)=>{"use strict";var Wee=Yee();jee.exports=function(r,t,a){if(r==null)throw Error("First argument should be a string");if(t==null)throw Error("Separator should be a string or a RegExp");a?(typeof a=="string"||Array.isArray(a))&&(a={ignore:a}):a={},a.escape==null&&(a.escape=!0),a.ignore==null?a.ignore=["[]","()","{}","<>",'""',"''","``","\u201C\u201D","\xAB\xBB"]:(typeof a.ignore=="string"&&(a.ignore=[a.ignore]),a.ignore=a.ignore.map(function(c){return c.length===1&&(c=c+c),c}));var n=Wee.parse(r,{flat:!0,brackets:a.ignore}),i=n[0],o=i.split(t);if(a.escape){for(var l=[],s=0;s<o.length;s++){var u=o[s],f=o[s+1];u[u.length-1]==="\\"&&u[u.length-2]!=="\\"?(l.push(u+t+f),s++):l.push(u)}o=l}for(var s=0;s<o.length;s++)n[0]=o[s],o[s]=Wee.stringify(n,{flat:!0});return o}});var Zee=R(()=>{});var VT=R((yPe,Jee)=>{"use strict";var m7e=Zee();Jee.exports={isSize:function(r){return/^[\d\.]/.test(r)||r.indexOf("/")!==-1||m7e.indexOf(r)!==-1}}});var ere=R((mPe,Qee)=>{"use strict";var g7e=Uee(),b7e=OT(),x7e=zT(),_7e=BT(),w7e=UT(),A7e=HT(),YT=Xee(),T7e=VT().isSize;Qee.exports=Kee;var my=Kee.cache={};function Kee(e){if(typeof e!="string")throw new Error("Font argument must be a string.");if(my[e])return my[e];if(e==="")throw new Error("Cannot parse an empty string.");if(x7e.indexOf(e)!==-1)return my[e]={system:e};for(var r={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},t=YT(e,/\s+/),a;a=t.shift();){if(b7e.indexOf(a)!==-1)return["style","variant","weight","stretch"].forEach(function(i){r[i]=a}),my[e]=r;if(w7e.indexOf(a)!==-1){r.style=a;continue}if(a==="normal"||a==="small-caps"){r.variant=a;continue}if(A7e.indexOf(a)!==-1){r.stretch=a;continue}if(_7e.indexOf(a)!==-1){r.weight=a;continue}if(T7e(a)){var n=YT(a,"/");if(r.size=n[0],n[1]!=null?r.lineHeight=$ee(n[1]):t[0]==="/"&&(t.shift(),r.lineHeight=$ee(t.shift())),!t.length)throw new Error("Missing required font-family.");return r.family=YT(t.join(" "),/\s*,\s*/).map(g7e),my[e]=r}throw new Error("Unknown or unsupported font token: "+a)}throw new Error("Missing required font-size.")}function $ee(e){var r=parseFloat(e);return r.toString()===e?r:e}});var jT=R((gPe,rre)=>{"use strict";var M7e=su(),S7e=VT().isSize,k7e=by(OT()),C7e=by(zT()),E7e=by(BT()),L7e=by(UT()),q7e=by(HT()),D7e={normal:1,"small-caps":1},F7e={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},WT={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};rre.exports=function(r){if(r=M7e(r,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),r.system)return r.system&&gy(r.system,C7e),r.system;if(gy(r.style,L7e),gy(r.variant,D7e),gy(r.weight,E7e),gy(r.stretch,q7e),r.size==null&&(r.size=WT.size),typeof r.size=="number"&&(r.size+="px"),!S7e)throw Error("Bad size value `"+r.size+"`");r.family||(r.family=WT.family),Array.isArray(r.family)&&(r.family.length||(r.family=[WT.family]),r.family=r.family.map(function(a){return F7e[a]?a:'"'+a+'"'}).join(", "));var t=[];return t.push(r.style),r.variant!==r.style&&t.push(r.variant),r.weight!==r.variant&&r.weight!==r.style&&t.push(r.weight),r.stretch!==r.weight&&r.stretch!==r.variant&&r.stretch!==r.style&&t.push(r.stretch),t.push(r.size+(r.lineHeight==null||r.lineHeight==="normal"||r.lineHeight+""=="1"?"":"/"+r.lineHeight)),t.push(r.family),t.filter(Boolean).join(" ")};function gy(e,r){if(e&&!r[e]&&!k7e[e])throw Error("Unknown keyword `"+e+"`");return e}function by(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=1;return r}});var are=R((bPe,tre)=>{"use strict";tre.exports={parse:ere(),stringify:jT()}});var JT=R((XT,ZT)=>{(function(e,r){typeof XT=="object"&&typeof ZT!="undefined"?ZT.exports=r():typeof define=="function"&&define.amd?define(r):e.createREGL=r()})(XT,function(){"use strict";var e=function(U,le){for(var ce=Object.keys(le),We=0;We<ce.length;++We)U[ce[We]]=le[ce[We]];return U},r=0,t=0,a=5,n=6;function i(U,le){this.id=r++,this.type=U,this.data=le}function o(U){return U.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function l(U){if(U.length===0)return[];var le=U.charAt(0),ce=U.charAt(U.length-1);if(U.length>1&&le===ce&&(le==='"'||le==="'"))return['"'+o(U.substr(1,U.length-2))+'"'];var We=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(U);if(We)return l(U.substr(0,We.index)).concat(l(We[1])).concat(l(U.substr(We.index+We[0].length)));var Qe=U.split(".");if(Qe.length===1)return['"'+o(U)+'"'];for(var nr=[],Ke=0;Ke<Qe.length;++Ke)nr=nr.concat(l(Qe[Ke]));return nr}function s(U){return"["+l(U).join("][")+"]"}function u(U,le){return new i(U,s(le+""))}function f(U){return typeof U=="function"&&!U._reglType||U instanceof i}function c(U,le){if(typeof U=="function")return new i(t,U);if(typeof U=="number"||typeof U=="boolean")return new i(a,U);if(Array.isArray(U))return new i(n,U.map(function(ce,We){return c(ce,le+"["+We+"]")}));if(U instanceof i)return U}var h={DynamicVariable:i,define:u,isDynamic:f,unbox:c,accessor:s},d={next:typeof requestAnimationFrame=="function"?function(U){return requestAnimationFrame(U)}:function(U){return setTimeout(U,16)},cancel:typeof cancelAnimationFrame=="function"?function(U){return cancelAnimationFrame(U)}:clearTimeout},p=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function g(){var U={"":0},le=[""];return{id:function(ce){var We=U[ce];return We||(We=U[ce]=le.length,le.push(ce),We)},str:function(ce){return le[ce]}}}function y(U,le,ce){var We=document.createElement("canvas");e(We.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),U.appendChild(We),U===document.body&&(We.style.position="absolute",e(U.style,{margin:0,padding:0}));function Qe(){var xr=window.innerWidth,qr=window.innerHeight;if(U!==document.body){var Dr=We.getBoundingClientRect();xr=Dr.right-Dr.left,qr=Dr.bottom-Dr.top}We.width=ce*xr,We.height=ce*qr}var nr;U!==document.body&&typeof ResizeObserver=="function"?(nr=new ResizeObserver(function(){setTimeout(Qe)}),nr.observe(U)):window.addEventListener("resize",Qe,!1);function Ke(){nr?nr.disconnect():window.removeEventListener("resize",Qe),U.removeChild(We)}return Qe(),{canvas:We,onDestroy:Ke}}function b(U,le){function ce(We){try{return U.getContext(We,le)}catch(Qe){return null}}return ce("webgl")||ce("experimental-webgl")||ce("webgl-experimental")}function _(U){return typeof U.nodeName=="string"&&typeof U.appendChild=="function"&&typeof U.getBoundingClientRect=="function"}function w(U){return typeof U.drawArrays=="function"||typeof U.drawElements=="function"}function x(U){return typeof U=="string"?U.split():U}function T(U){return typeof U=="string"?document.querySelector(U):U}function S(U){var le=U||{},ce,We,Qe,nr,Ke={},xr=[],qr=[],Dr=typeof window=="undefined"?1:window.devicePixelRatio,Fr=!1,xt={},ft=function(Be){},Zr=function(){};if(typeof le=="string"?ce=document.querySelector(le):typeof le=="object"&&(_(le)?ce=le:w(le)?(nr=le,Qe=nr.canvas):("gl"in le?nr=le.gl:"canvas"in le?Qe=T(le.canvas):"container"in le&&(We=T(le.container)),"attributes"in le&&(Ke=le.attributes),"extensions"in le&&(xr=x(le.extensions)),"optionalExtensions"in le&&(qr=x(le.optionalExtensions)),"onDone"in le&&(ft=le.onDone),"profile"in le&&(Fr=!!le.profile),"pixelRatio"in le&&(Dr=+le.pixelRatio),"cachedCode"in le&&(xt=le.cachedCode))),ce&&(ce.nodeName.toLowerCase()==="canvas"?Qe=ce:We=ce),!nr){if(!Qe){var hr=y(We||document.body,ft,Dr);if(!hr)return null;Qe=hr.canvas,Zr=hr.onDestroy}Ke.premultipliedAlpha===void 0&&(Ke.premultipliedAlpha=!0),nr=b(Qe,Ke)}return nr?{gl:nr,canvas:Qe,container:We,extensions:xr,optionalExtensions:qr,pixelRatio:Dr,profile:Fr,cachedCode:xt,onDone:ft,onDestroy:Zr}:(Zr(),ft("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function M(U,le){var ce={};function We(Ke){var xr=Ke.toLowerCase(),qr;try{qr=ce[xr]=U.getExtension(xr)}catch(Dr){}return!!qr}for(var Qe=0;Qe<le.extensions.length;++Qe){var nr=le.extensions[Qe];if(!We(nr))return le.onDestroy(),le.onDone('"'+nr+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return le.optionalExtensions.forEach(We),{extensions:ce,restore:function(){Object.keys(ce).forEach(function(Ke){if(ce[Ke]&&!We(Ke))throw new Error("(regl): error restoring extension "+Ke)})}}}function C(U,le){for(var ce=Array(U),We=0;We<U;++We)ce[We]=le(We);return ce}var q=5120,F=5121,P=5122,I=5123,H=5124,V=5125,j=5126;function W(U){for(var le=16;le<=1<<28;le*=16)if(U<=le)return le;return 0}function z(U){var le,ce;return le=(U>65535)<<4,U>>>=le,ce=(U>255)<<3,U>>>=ce,le|=ce,ce=(U>15)<<2,U>>>=ce,le|=ce,ce=(U>3)<<1,U>>>=ce,le|=ce,le|U>>1}function O(){var U=C(8,function(){return[]});function le(nr){var Ke=W(nr),xr=U[z(Ke)>>2];return xr.length>0?xr.pop():new ArrayBuffer(Ke)}function ce(nr){U[z(nr.byteLength)>>2].push(nr)}function We(nr,Ke){var xr=null;switch(nr){case q:xr=new Int8Array(le(Ke),0,Ke);break;case F:xr=new Uint8Array(le(Ke),0,Ke);break;case P:xr=new Int16Array(le(2*Ke),0,Ke);break;case I:xr=new Uint16Array(le(2*Ke),0,Ke);break;case H:xr=new Int32Array(le(4*Ke),0,Ke);break;case V:xr=new Uint32Array(le(4*Ke),0,Ke);break;case j:xr=new Float32Array(le(4*Ke),0,Ke);break;default:return null}return xr.length!==Ke?xr.subarray(0,Ke):xr}function Qe(nr){ce(nr.buffer)}return{alloc:le,free:ce,allocType:We,freeType:Qe}}var G=O();G.zero=O();var Z=3408,Q=3410,ie=3411,be=3412,ne=3413,de=3414,K=3415,me=33901,fe=33902,ke=3379,ve=3386,Ae=34921,Y=36347,ae=36348,X=35661,Se=35660,qe=34930,De=36349,tr=34076,$e=34024,Ze=7936,lr=7937,pr=7938,ir=35724,Xe=34047,Cr=36063,br=34852,pe=3553,Ie=34067,ze=34069,et=33984,zr=6408,Ve=5126,He=5121,dr=36160,Tr=36053,mr=36064,vr=16384,Er=function(U,le){var ce=1;le.ext_texture_filter_anisotropic&&(ce=U.getParameter(Xe));var We=1,Qe=1;le.webgl_draw_buffers&&(We=U.getParameter(br),Qe=U.getParameter(Cr));var nr=!!le.oes_texture_float;if(nr){var Ke=U.createTexture();U.bindTexture(pe,Ke),U.texImage2D(pe,0,zr,1,1,0,zr,Ve,null);var xr=U.createFramebuffer();if(U.bindFramebuffer(dr,xr),U.framebufferTexture2D(dr,mr,pe,Ke,0),U.bindTexture(pe,null),U.checkFramebufferStatus(dr)!==Tr)nr=!1;else{U.viewport(0,0,1,1),U.clearColor(1,0,0,1),U.clear(vr);var qr=G.allocType(Ve,4);U.readPixels(0,0,1,1,zr,Ve,qr),U.getError()?nr=!1:(U.deleteFramebuffer(xr),U.deleteTexture(Ke),nr=qr[0]===1),G.freeType(qr)}}var Dr=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Fr=!0;if(!Dr){var xt=U.createTexture(),ft=G.allocType(He,36);U.activeTexture(et),U.bindTexture(Ie,xt),U.texImage2D(ze,0,zr,3,3,0,zr,He,ft),G.freeType(ft),U.bindTexture(Ie,null),U.deleteTexture(xt),Fr=!U.getError()}return{colorBits:[U.getParameter(Q),U.getParameter(ie),U.getParameter(be),U.getParameter(ne)],depthBits:U.getParameter(de),stencilBits:U.getParameter(K),subpixelBits:U.getParameter(Z),extensions:Object.keys(le).filter(function(Zr){return!!le[Zr]}),maxAnisotropic:ce,maxDrawbuffers:We,maxColorAttachments:Qe,pointSizeDims:U.getParameter(me),lineWidthDims:U.getParameter(fe),maxViewportDims:U.getParameter(ve),maxCombinedTextureUnits:U.getParameter(X),maxCubeMapSize:U.getParameter(tr),maxRenderbufferSize:U.getParameter($e),maxTextureUnits:U.getParameter(qe),maxTextureSize:U.getParameter(ke),maxAttributes:U.getParameter(Ae),maxVertexUniforms:U.getParameter(Y),maxVertexTextureUnits:U.getParameter(Se),maxVaryingVectors:U.getParameter(ae),maxFragmentUniforms:U.getParameter(De),glsl:U.getParameter(ir),renderer:U.getParameter(lr),vendor:U.getParameter(Ze),version:U.getParameter(pr),readFloat:nr,npotTextureCube:Fr}},Ir=function(U){return U instanceof Uint8Array||U instanceof Uint16Array||U instanceof Uint32Array||U instanceof Int8Array||U instanceof Int16Array||U instanceof Int32Array||U instanceof Float32Array||U instanceof Float64Array||U instanceof Uint8ClampedArray};function Hr(U){return!!U&&typeof U=="object"&&Array.isArray(U.shape)&&Array.isArray(U.stride)&&typeof U.offset=="number"&&U.shape.length===U.stride.length&&(Array.isArray(U.data)||Ir(U.data))}var Je=function(U){return Object.keys(U).map(function(le){return U[le]})},se={shape:$r,flatten:tt};function we(U,le,ce){for(var We=0;We<le;++We)ce[We]=U[We]}function Ge(U,le,ce,We){for(var Qe=0,nr=0;nr<le;++nr)for(var Ke=U[nr],xr=0;xr<ce;++xr)We[Qe++]=Ke[xr]}function Oe(U,le,ce,We,Qe,nr){for(var Ke=nr,xr=0;xr<le;++xr)for(var qr=U[xr],Dr=0;Dr<ce;++Dr)for(var Fr=qr[Dr],xt=0;xt<We;++xt)Qe[Ke++]=Fr[xt]}function Wr(U,le,ce,We,Qe){for(var nr=1,Ke=ce+1;Ke<le.length;++Ke)nr*=le[Ke];var xr=le[ce];if(le.length-ce===4){var qr=le[ce+1],Dr=le[ce+2],Fr=le[ce+3];for(Ke=0;Ke<xr;++Ke)Oe(U[Ke],qr,Dr,Fr,We,Qe),Qe+=nr}else for(Ke=0;Ke<xr;++Ke)Wr(U[Ke],le,ce+1,We,Qe),Qe+=nr}function tt(U,le,ce,We){var Qe=1;if(le.length)for(var nr=0;nr<le.length;++nr)Qe*=le[nr];else Qe=0;var Ke=We||G.allocType(ce,Qe);switch(le.length){case 0:break;case 1:we(U,le[0],Ke);break;case 2:Ge(U,le[0],le[1],Ke);break;case 3:Oe(U,le[0],le[1],le[2],Ke,0);break;default:Wr(U,le,0,Ke,0)}return Ke}function $r(U){for(var le=[],ce=U;ce.length;ce=ce[0])le.push(ce.length);return le}var kt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ra=5120,pa=5122,na=5124,Ka=5121,En=5123,oi=5125,Ln=5126,Wi=5126,zn={int8:ra,int16:pa,int32:na,uint8:Ka,uint16:En,uint32:oi,float:Ln,float32:Wi},qn=35048,yi=35040,wt={dynamic:qn,stream:yi,static:35044},Ta=se.flatten,ta=se.shape,Ra=35044,ja=35040,Ma=5121,Ea=5126,Qa=[];Qa[5120]=1,Qa[5122]=2,Qa[5124]=4,Qa[5121]=1,Qa[5123]=2,Qa[5125]=4,Qa[5126]=4;function nn(U){return kt[Object.prototype.toString.call(U)]|0}function ji(U,le){for(var ce=0;ce<le.length;++ce)U[ce]=le[ce]}function Xi(U,le,ce,We,Qe,nr,Ke){for(var xr=0,qr=0;qr<ce;++qr)for(var Dr=0;Dr<We;++Dr)U[xr++]=le[Qe*qr+nr*Dr+Ke]}function bn(U,le,ce,We){var Qe=0,nr={};function Ke(Be){this.id=Qe++,this.buffer=U.createBuffer(),this.type=Be,this.usage=Ra,this.byteLength=0,this.dimension=1,this.dtype=Ma,this.persistentData=null,ce.profile&&(this.stats={size:0})}Ke.prototype.bind=function(){U.bindBuffer(this.type,this.buffer)},Ke.prototype.destroy=function(){ft(this)};var xr=[];function qr(Be,sr){var Sr=xr.pop();return Sr||(Sr=new Ke(Be)),Sr.bind(),xt(Sr,sr,ja,0,1,!1),Sr}function Dr(Be){xr.push(Be)}function Fr(Be,sr,Sr){Be.byteLength=sr.byteLength,U.bufferData(Be.type,sr,Sr)}function xt(Be,sr,Sr,Nr,Ar,rt){var Jr;if(Be.usage=Sr,Array.isArray(sr)){if(Be.dtype=Nr||Ea,sr.length>0){var At;if(Array.isArray(sr[0])){Jr=ta(sr);for(var _r=1,yr=1;yr<Jr.length;++yr)_r*=Jr[yr];Be.dimension=_r,At=Ta(sr,Jr,Be.dtype),Fr(Be,At,Sr),rt?Be.persistentData=At:G.freeType(At)}else if(typeof sr[0]=="number"){Be.dimension=Ar;var lt=G.allocType(Be.dtype,sr.length);ji(lt,sr),Fr(Be,lt,Sr),rt?Be.persistentData=lt:G.freeType(lt)}else Ir(sr[0])&&(Be.dimension=sr[0].length,Be.dtype=Nr||nn(sr[0])||Ea,At=Ta(sr,[sr.length,sr[0].length],Be.dtype),Fr(Be,At,Sr),rt?Be.persistentData=At:G.freeType(At))}}else if(Ir(sr))Be.dtype=Nr||nn(sr),Be.dimension=Ar,Fr(Be,sr,Sr),rt&&(Be.persistentData=new Uint8Array(new Uint8Array(sr.buffer)));else if(Hr(sr)){Jr=sr.shape;var Xr=sr.stride,Gr=sr.offset,Vr=0,st=0,Tt=0,zt=0;Jr.length===1?(Vr=Jr[0],st=1,Tt=Xr[0],zt=0):Jr.length===2&&(Vr=Jr[0],st=Jr[1],Tt=Xr[0],zt=Xr[1]),Be.dtype=Nr||nn(sr.data)||Ea,Be.dimension=st;var Kr=G.allocType(Be.dtype,Vr*st);Xi(Kr,sr.data,Vr,st,Tt,zt,Gr),Fr(Be,Kr,Sr),rt?Be.persistentData=Kr:G.freeType(Kr)}else sr instanceof ArrayBuffer&&(Be.dtype=Ma,Be.dimension=Ar,Fr(Be,sr,Sr),rt&&(Be.persistentData=new Uint8Array(new Uint8Array(sr))))}function ft(Be){le.bufferCount--,We(Be);var sr=Be.buffer;U.deleteBuffer(sr),Be.buffer=null,delete nr[Be.id]}function Zr(Be,sr,Sr,Nr){le.bufferCount++;var Ar=new Ke(sr);nr[Ar.id]=Ar;function rt(_r){var yr=Ra,lt=null,Xr=0,Gr=0,Vr=1;return Array.isArray(_r)||Ir(_r)||Hr(_r)||_r instanceof ArrayBuffer?lt=_r:typeof _r=="number"?Xr=_r|0:_r&&("data"in _r&&(lt=_r.data),"usage"in _r&&(yr=wt[_r.usage]),"type"in _r&&(Gr=zn[_r.type]),"dimension"in _r&&(Vr=_r.dimension|0),"length"in _r&&(Xr=_r.length|0)),Ar.bind(),lt?xt(Ar,lt,yr,Gr,Vr,Nr):(Xr&&U.bufferData(Ar.type,Xr,yr),Ar.dtype=Gr||Ma,Ar.usage=yr,Ar.dimension=Vr,Ar.byteLength=Xr),ce.profile&&(Ar.stats.size=Ar.byteLength*Qa[Ar.dtype]),rt}function Jr(_r,yr){U.bufferSubData(Ar.type,yr,_r)}function At(_r,yr){var lt=(yr||0)|0,Xr;if(Ar.bind(),Ir(_r)||_r instanceof ArrayBuffer)Jr(_r,lt);else if(Array.isArray(_r)){if(_r.length>0){if(typeof _r[0]=="number"){var Gr=G.allocType(Ar.dtype,_r.length);ji(Gr,_r),Jr(Gr,lt),G.freeType(Gr)}else if(Array.isArray(_r[0])||Ir(_r[0])){Xr=ta(_r);var Vr=Ta(_r,Xr,Ar.dtype);Jr(Vr,lt),G.freeType(Vr)}}}else if(Hr(_r)){Xr=_r.shape;var st=_r.stride,Tt=0,zt=0,Kr=0,vt=0;Xr.length===1?(Tt=Xr[0],zt=1,Kr=st[0],vt=0):Xr.length===2&&(Tt=Xr[0],zt=Xr[1],Kr=st[0],vt=st[1]);var Rt=Array.isArray(_r.data)?Ar.dtype:nn(_r.data),Pt=G.allocType(Rt,Tt*zt);Xi(Pt,_r.data,Tt,zt,Kr,vt,_r.offset),Jr(Pt,lt),G.freeType(Pt)}return rt}return Sr||rt(Be),rt._reglType="buffer",rt._buffer=Ar,rt.subdata=At,ce.profile&&(rt.stats=Ar.stats),rt.destroy=function(){ft(Ar)},rt}function hr(){Je(nr).forEach(function(Be){Be.buffer=U.createBuffer(),U.bindBuffer(Be.type,Be.buffer),U.bufferData(Be.type,Be.persistentData||Be.byteLength,Be.usage)})}return ce.profile&&(le.getTotalBufferSize=function(){var Be=0;return Object.keys(nr).forEach(function(sr){Be+=nr[sr].stats.size}),Be}),{create:Zr,createStream:qr,destroyStream:Dr,clear:function(){Je(nr).forEach(ft),xr.forEach(ft)},getBuffer:function(Be){return Be&&Be._buffer instanceof Ke?Be._buffer:null},restore:hr,_initBuffer:xt}}var wa=0,Bn=0,ws=1,As=1,Hl=4,gv=4,Ts={points:wa,point:Bn,lines:ws,line:As,triangles:Hl,triangle:gv,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Rf=0,Pf=1,ul=4,li=5120,fl=5121,Ms=5122,_o=5123,mt=5124,Xt=5125,ca=34963,jr=35040,Un=35044;function Ca(U,le,ce,We){var Qe={},nr=0,Ke={uint8:fl,uint16:_o};le.oes_element_index_uint&&(Ke.uint32=Xt);function xr(hr){this.id=nr++,Qe[this.id]=this,this.buffer=hr,this.primType=ul,this.vertCount=0,this.type=0}xr.prototype.bind=function(){this.buffer.bind()};var qr=[];function Dr(hr){var Be=qr.pop();return Be||(Be=new xr(ce.create(null,ca,!0,!1)._buffer)),xt(Be,hr,jr,-1,-1,0,0),Be}function Fr(hr){qr.push(hr)}function xt(hr,Be,sr,Sr,Nr,Ar,rt){hr.buffer.bind();var Jr;if(Be){var At=rt;!rt&&(!Ir(Be)||Hr(Be)&&!Ir(Be.data))&&(At=le.oes_element_index_uint?Xt:_o),ce._initBuffer(hr.buffer,Be,sr,At,3)}else U.bufferData(ca,Ar,sr),hr.buffer.dtype=Jr||fl,hr.buffer.usage=sr,hr.buffer.dimension=3,hr.buffer.byteLength=Ar;if(Jr=rt,!rt){switch(hr.buffer.dtype){case fl:case li:Jr=fl;break;case _o:case Ms:Jr=_o;break;case Xt:case mt:Jr=Xt;break;default:}hr.buffer.dtype=Jr}hr.type=Jr;var _r=Nr;_r<0&&(_r=hr.buffer.byteLength,Jr===_o?_r>>=1:Jr===Xt&&(_r>>=2)),hr.vertCount=_r;var yr=Sr;if(Sr<0){yr=ul;var lt=hr.buffer.dimension;lt===1&&(yr=Rf),lt===2&&(yr=Pf),lt===3&&(yr=ul)}hr.primType=yr}function ft(hr){We.elementsCount--,delete Qe[hr.id],hr.buffer.destroy(),hr.buffer=null}function Zr(hr,Be){var sr=ce.create(null,ca,!0),Sr=new xr(sr._buffer);We.elementsCount++;function Nr(Ar){if(!Ar)sr(),Sr.primType=ul,Sr.vertCount=0,Sr.type=fl;else if(typeof Ar=="number")sr(Ar),Sr.primType=ul,Sr.vertCount=Ar|0,Sr.type=fl;else{var rt=null,Jr=Un,At=-1,_r=-1,yr=0,lt=0;Array.isArray(Ar)||Ir(Ar)||Hr(Ar)?rt=Ar:("data"in Ar&&(rt=Ar.data),"usage"in Ar&&(Jr=wt[Ar.usage]),"primitive"in Ar&&(At=Ts[Ar.primitive]),"count"in Ar&&(_r=Ar.count|0),"type"in Ar&&(lt=Ke[Ar.type]),"length"in Ar?yr=Ar.length|0:(yr=_r,lt===_o||lt===Ms?yr*=2:(lt===Xt||lt===mt)&&(yr*=4))),xt(Sr,rt,Jr,At,_r,yr,lt)}return Nr}return Nr(hr),Nr._reglType="elements",Nr._elements=Sr,Nr.subdata=function(Ar,rt){return sr.subdata(Ar,rt),Nr},Nr.destroy=function(){ft(Sr)},Nr}return{create:Zr,createStream:Dr,destroyStream:Fr,getElements:function(hr){return typeof hr=="function"&&hr._elements instanceof xr?hr._elements:null},clear:function(){Je(Qe).forEach(ft)}}}var Dn=new Float32Array(1),Yt=new Uint32Array(Dn.buffer),wo=5123;function Gl(U){for(var le=G.allocType(wo,U.length),ce=0;ce<U.length;++ce)if(isNaN(U[ce]))le[ce]=65535;else if(U[ce]===1/0)le[ce]=31744;else if(U[ce]===-1/0)le[ce]=64512;else{Dn[0]=U[ce];var We=Yt[0],Qe=We>>>31<<15,nr=(We<<1>>>24)-127,Ke=We>>13&1023;if(nr<-24)le[ce]=Qe;else if(nr<-14){var xr=-14-nr;le[ce]=Qe+(Ke+1024>>xr)}else nr>15?le[ce]=Qe+31744:le[ce]=Qe+(nr+15<<10)+Ke}return le}function Vl(U){return Array.isArray(U)||Ir(U)}var x5=34467,Ii=3553,du=34067,Ss=34069,Fo=6408,bv=6406,ks=6407,Cs=6409,Nf=6410,td=32854,Yl=32855,pu=36194,ky=32819,_5=32820,xv=33635,ad=34042,If=6402,Of=34041,Wl=35904,cl=35906,Ao=36193,_v=33776,zf=33777,Es=33778,wv=33779,Cy=35986,nd=35987,Av=34798,Ey=35840,Ly=35841,id=35842,qy=35843,od=36196,yu=5121,Tv=5123,ld=5125,Ro=5126,mu=10242,w5=10243,A5=10497,sd=33071,Dy=33648,Bf=10240,T5=10241,gu=9728,Mv=9729,Uf=9984,Hf=9985,bu=9986,Ls=9987,Fy=33170,xu=4352,M5=4353,Sv=4354,S5=34046,k5=3317,C5=37440,Ry=37441,Gf=37443,Py=37444,qs=33984,Ny=[Uf,bu,Hf,Ls],Zi=[0,Cs,Nf,ks,Fo],Ji={};Ji[Cs]=Ji[bv]=Ji[If]=1,Ji[Of]=Ji[Nf]=2,Ji[ks]=Ji[Wl]=3,Ji[Fo]=Ji[cl]=4;function jl(U){return"[object "+U+"]"}var kv=jl("HTMLCanvasElement"),Xl=jl("OffscreenCanvas"),Vf=jl("CanvasRenderingContext2D"),ud=jl("ImageBitmap"),Iy=jl("HTMLImageElement"),Oy=jl("HTMLVideoElement"),E5=Object.keys(kt).concat([kv,Xl,Vf,ud,Iy,Oy]),Ds=[];Ds[yu]=1,Ds[Ro]=4,Ds[Ao]=2,Ds[Tv]=2,Ds[ld]=4;var Fn=[];Fn[td]=2,Fn[Yl]=2,Fn[pu]=2,Fn[Of]=4,Fn[_v]=.5,Fn[zf]=.5,Fn[Es]=1,Fn[wv]=1,Fn[Cy]=.5,Fn[nd]=1,Fn[Av]=1,Fn[Ey]=.5,Fn[Ly]=.25,Fn[id]=.5,Fn[qy]=.25,Fn[od]=.5;function zy(U){return Array.isArray(U)&&(U.length===0||typeof U[0]=="number")}function By(U){if(!Array.isArray(U))return!1;var le=U.length;return!(le===0||!Vl(U[0]))}function Fs(U){return Object.prototype.toString.call(U)}function Uy(U){return Fs(U)===kv}function Hy(U){return Fs(U)===Xl}function L5(U){return Fs(U)===Vf}function q5(U){return Fs(U)===ud}function D5(U){return Fs(U)===Iy}function F5(U){return Fs(U)===Oy}function fd(U){if(!U)return!1;var le=Fs(U);return E5.indexOf(le)>=0?!0:zy(U)||By(U)||Hr(U)}function Gy(U){return kt[Object.prototype.toString.call(U)]|0}function R5(U,le){var ce=le.length;switch(U.type){case yu:case Tv:case ld:case Ro:var We=G.allocType(U.type,ce);We.set(le),U.data=We;break;case Ao:U.data=Gl(le);break;default:}}function Vy(U,le){return G.allocType(U.type===Ao?Ro:U.type,le)}function cd(U,le){U.type===Ao?(U.data=Gl(le),G.freeType(le)):U.data=le}function Yy(U,le,ce,We,Qe,nr){for(var Ke=U.width,xr=U.height,qr=U.channels,Dr=Ke*xr*qr,Fr=Vy(U,Dr),xt=0,ft=0;ft<xr;++ft)for(var Zr=0;Zr<Ke;++Zr)for(var hr=0;hr<qr;++hr)Fr[xt++]=le[ce*Zr+We*ft+Qe*hr+nr];cd(U,Fr)}function Yf(U,le,ce,We,Qe,nr){var Ke;if(typeof Fn[U]!="undefined"?Ke=Fn[U]:Ke=Ji[U]*Ds[le],nr&&(Ke*=6),Qe){for(var xr=0,qr=ce;qr>=1;)xr+=Ke*qr*qr,qr/=2;return xr}else return Ke*ce*We}function Wy(U,le,ce,We,Qe,nr,Ke){var xr={"don't care":xu,"dont care":xu,nice:Sv,fast:M5},qr={repeat:A5,clamp:sd,mirror:Dy},Dr={nearest:gu,linear:Mv},Fr=e({mipmap:Ls,"nearest mipmap nearest":Uf,"linear mipmap nearest":Hf,"nearest mipmap linear":bu,"linear mipmap linear":Ls},Dr),xt={none:0,browser:Py},ft={uint8:yu,rgba4:ky,rgb565:xv,"rgb5 a1":_5},Zr={alpha:bv,luminance:Cs,"luminance alpha":Nf,rgb:ks,rgba:Fo,rgba4:td,"rgb5 a1":Yl,rgb565:pu},hr={};le.ext_srgb&&(Zr.srgb=Wl,Zr.srgba=cl),le.oes_texture_float&&(ft.float32=ft.float=Ro),le.oes_texture_half_float&&(ft.float16=ft["half float"]=Ao),le.webgl_depth_texture&&(e(Zr,{depth:If,"depth stencil":Of}),e(ft,{uint16:Tv,uint32:ld,"depth stencil":ad})),le.webgl_compressed_texture_s3tc&&e(hr,{"rgb s3tc dxt1":_v,"rgba s3tc dxt1":zf,"rgba s3tc dxt3":Es,"rgba s3tc dxt5":wv}),le.webgl_compressed_texture_atc&&e(hr,{"rgb atc":Cy,"rgba atc explicit alpha":nd,"rgba atc interpolated alpha":Av}),le.webgl_compressed_texture_pvrtc&&e(hr,{"rgb pvrtc 4bppv1":Ey,"rgb pvrtc 2bppv1":Ly,"rgba pvrtc 4bppv1":id,"rgba pvrtc 2bppv1":qy}),le.webgl_compressed_texture_etc1&&(hr["rgb etc1"]=od);var Be=Array.prototype.slice.call(U.getParameter(x5));Object.keys(hr).forEach(function(ue){var rr=hr[ue];Be.indexOf(rr)>=0&&(Zr[ue]=rr)});var sr=Object.keys(Zr);ce.textureFormats=sr;var Sr=[];Object.keys(Zr).forEach(function(ue){var rr=Zr[ue];Sr[rr]=ue});var Nr=[];Object.keys(ft).forEach(function(ue){var rr=ft[ue];Nr[rr]=ue});var Ar=[];Object.keys(Dr).forEach(function(ue){var rr=Dr[ue];Ar[rr]=ue});var rt=[];Object.keys(Fr).forEach(function(ue){var rr=Fr[ue];rt[rr]=ue});var Jr=[];Object.keys(qr).forEach(function(ue){var rr=qr[ue];Jr[rr]=ue});var At=sr.reduce(function(ue,rr){var ar=Zr[rr];return ar===Cs||ar===bv||ar===Cs||ar===Nf||ar===If||ar===Of||le.ext_srgb&&(ar===Wl||ar===cl)?ue[ar]=ar:ar===Yl||rr.indexOf("rgba")>=0?ue[ar]=Fo:ue[ar]=ks,ue},{});function _r(){this.internalformat=Fo,this.format=Fo,this.type=yu,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Py,this.width=0,this.height=0,this.channels=0}function yr(ue,rr){ue.internalformat=rr.internalformat,ue.format=rr.format,ue.type=rr.type,ue.compressed=rr.compressed,ue.premultiplyAlpha=rr.premultiplyAlpha,ue.flipY=rr.flipY,ue.unpackAlignment=rr.unpackAlignment,ue.colorSpace=rr.colorSpace,ue.width=rr.width,ue.height=rr.height,ue.channels=rr.channels}function lt(ue,rr){if(!(typeof rr!="object"||!rr)){if("premultiplyAlpha"in rr&&(ue.premultiplyAlpha=rr.premultiplyAlpha),"flipY"in rr&&(ue.flipY=rr.flipY),"alignment"in rr&&(ue.unpackAlignment=rr.alignment),"colorSpace"in rr&&(ue.colorSpace=xt[rr.colorSpace]),"type"in rr){var ar=rr.type;ue.type=ft[ar]}var pt=ue.width,ua=ue.height,Ia=ue.channels,ht=!1;"shape"in rr?(pt=rr.shape[0],ua=rr.shape[1],rr.shape.length===3&&(Ia=rr.shape[2],ht=!0)):("radius"in rr&&(pt=ua=rr.radius),"width"in rr&&(pt=rr.width),"height"in rr&&(ua=rr.height),"channels"in rr&&(Ia=rr.channels,ht=!0)),ue.width=pt|0,ue.height=ua|0,ue.channels=Ia|0;var te=!1;if("format"in rr){var he=rr.format,Te=ue.internalformat=Zr[he];ue.format=At[Te],he in ft&&("type"in rr||(ue.type=ft[he])),he in hr&&(ue.compressed=!0),te=!0}!ht&&te?ue.channels=Ji[ue.format]:ht&&!te&&ue.channels!==Zi[ue.format]&&(ue.format=ue.internalformat=Zi[ue.channels])}}function Xr(ue){U.pixelStorei(C5,ue.flipY),U.pixelStorei(Ry,ue.premultiplyAlpha),U.pixelStorei(Gf,ue.colorSpace),U.pixelStorei(k5,ue.unpackAlignment)}function Gr(){_r.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Vr(ue,rr){var ar=null;if(fd(rr)?ar=rr:rr&&(lt(ue,rr),"x"in rr&&(ue.xOffset=rr.x|0),"y"in rr&&(ue.yOffset=rr.y|0),fd(rr.data)&&(ar=rr.data)),rr.copy){var pt=Qe.viewportWidth,ua=Qe.viewportHeight;ue.width=ue.width||pt-ue.xOffset,ue.height=ue.height||ua-ue.yOffset,ue.needsCopy=!0}else if(!ar)ue.width=ue.width||1,ue.height=ue.height||1,ue.channels=ue.channels||4;else if(Ir(ar))ue.channels=ue.channels||4,ue.data=ar,!("type"in rr)&&ue.type===yu&&(ue.type=Gy(ar));else if(zy(ar))ue.channels=ue.channels||4,R5(ue,ar),ue.alignment=1,ue.needsFree=!0;else if(Hr(ar)){var Ia=ar.data;!Array.isArray(Ia)&&ue.type===yu&&(ue.type=Gy(Ia));var ht=ar.shape,te=ar.stride,he,Te,er,or,Ye,Ue;ht.length===3?(er=ht[2],Ue=te[2]):(er=1,Ue=1),he=ht[0],Te=ht[1],or=te[0],Ye=te[1],ue.alignment=1,ue.width=he,ue.height=Te,ue.channels=er,ue.format=ue.internalformat=Zi[er],ue.needsFree=!0,Yy(ue,Ia,or,Ye,Ue,ar.offset)}else if(Uy(ar)||Hy(ar)||L5(ar))Uy(ar)||Hy(ar)?ue.element=ar:ue.element=ar.canvas,ue.width=ue.element.width,ue.height=ue.element.height,ue.channels=4;else if(q5(ar))ue.element=ar,ue.width=ar.width,ue.height=ar.height,ue.channels=4;else if(D5(ar))ue.element=ar,ue.width=ar.naturalWidth,ue.height=ar.naturalHeight,ue.channels=4;else if(F5(ar))ue.element=ar,ue.width=ar.videoWidth,ue.height=ar.videoHeight,ue.channels=4;else if(By(ar)){var Fe=ue.width||ar[0].length,xe=ue.height||ar.length,Le=ue.channels;Vl(ar[0][0])?Le=Le||ar[0][0].length:Le=Le||1;for(var ye=se.shape(ar),je=1,ur=0;ur<ye.length;++ur)je*=ye[ur];var Lr=Vy(ue,je);se.flatten(ar,ye,"",Lr),cd(ue,Lr),ue.alignment=1,ue.width=Fe,ue.height=xe,ue.channels=Le,ue.format=ue.internalformat=Zi[Le],ue.needsFree=!0}ue.type===Ro||ue.type}function st(ue,rr,ar){var pt=ue.element,ua=ue.data,Ia=ue.internalformat,ht=ue.format,te=ue.type,he=ue.width,Te=ue.height;Xr(ue),pt?U.texImage2D(rr,ar,ht,ht,te,pt):ue.compressed?U.compressedTexImage2D(rr,ar,Ia,he,Te,0,ua):ue.needsCopy?(We(),U.copyTexImage2D(rr,ar,ht,ue.xOffset,ue.yOffset,he,Te,0)):U.texImage2D(rr,ar,ht,he,Te,0,ht,te,ua||null)}function Tt(ue,rr,ar,pt,ua){var Ia=ue.element,ht=ue.data,te=ue.internalformat,he=ue.format,Te=ue.type,er=ue.width,or=ue.height;Xr(ue),Ia?U.texSubImage2D(rr,ua,ar,pt,he,Te,Ia):ue.compressed?U.compressedTexSubImage2D(rr,ua,ar,pt,te,er,or,ht):ue.needsCopy?(We(),U.copyTexSubImage2D(rr,ua,ar,pt,ue.xOffset,ue.yOffset,er,or)):U.texSubImage2D(rr,ua,ar,pt,er,or,he,Te,ht)}var zt=[];function Kr(){return zt.pop()||new Gr}function vt(ue){ue.needsFree&&G.freeType(ue.data),Gr.call(ue),zt.push(ue)}function Rt(){_r.call(this),this.genMipmaps=!1,this.mipmapHint=xu,this.mipmask=0,this.images=Array(16)}function Pt(ue,rr,ar){var pt=ue.images[0]=Kr();ue.mipmask=1,pt.width=ue.width=rr,pt.height=ue.height=ar,pt.channels=ue.channels=4}function Qt(ue,rr){var ar=null;if(fd(rr))ar=ue.images[0]=Kr(),yr(ar,ue),Vr(ar,rr),ue.mipmask=1;else if(lt(ue,rr),Array.isArray(rr.mipmap))for(var pt=rr.mipmap,ua=0;ua<pt.length;++ua)ar=ue.images[ua]=Kr(),yr(ar,ue),ar.width>>=ua,ar.height>>=ua,Vr(ar,pt[ua]),ue.mipmask|=1<<ua;else ar=ue.images[0]=Kr(),yr(ar,ue),Vr(ar,rr),ue.mipmask=1;yr(ue,ue.images[0]),ue.compressed&&(ue.internalformat===_v||ue.internalformat===zf||ue.internalformat===Es||ue.internalformat)}function cn(ue,rr){for(var ar=ue.images,pt=0;pt<ar.length;++pt){if(!ar[pt])return;st(ar[pt],rr,pt)}}var Qn=[];function ia(){var ue=Qn.pop()||new Rt;_r.call(ue),ue.mipmask=0;for(var rr=0;rr<16;++rr)ue.images[rr]=null;return ue}function Ki(ue){for(var rr=ue.images,ar=0;ar<rr.length;++ar)rr[ar]&&vt(rr[ar]),rr[ar]=null;Qn.push(ue)}function Na(){this.minFilter=gu,this.magFilter=gu,this.wrapS=sd,this.wrapT=sd,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=xu}function Si(ue,rr){if("min"in rr){var ar=rr.min;ue.minFilter=Fr[ar],Ny.indexOf(ue.minFilter)>=0&&!("faces"in rr)&&(ue.genMipmaps=!0)}if("mag"in rr){var pt=rr.mag;ue.magFilter=Dr[pt]}var ua=ue.wrapS,Ia=ue.wrapT;if("wrap"in rr){var ht=rr.wrap;typeof ht=="string"?ua=Ia=qr[ht]:Array.isArray(ht)&&(ua=qr[ht[0]],Ia=qr[ht[1]])}else{if("wrapS"in rr){var te=rr.wrapS;ua=qr[te]}if("wrapT"in rr){var he=rr.wrapT;Ia=qr[he]}}if(ue.wrapS=ua,ue.wrapT=Ia,"anisotropic"in rr){var Te=rr.anisotropic;ue.anisotropic=rr.anisotropic}if("mipmap"in rr){var er=!1;switch(typeof rr.mipmap){case"string":ue.mipmapHint=xr[rr.mipmap],ue.genMipmaps=!0,er=!0;break;case"boolean":er=ue.genMipmaps=rr.mipmap;break;case"object":ue.genMipmaps=!1,er=!0;break;default:}er&&!("min"in rr)&&(ue.minFilter=Uf)}}function zi(ue,rr){U.texParameteri(rr,T5,ue.minFilter),U.texParameteri(rr,Bf,ue.magFilter),U.texParameteri(rr,mu,ue.wrapS),U.texParameteri(rr,w5,ue.wrapT),le.ext_texture_filter_anisotropic&&U.texParameteri(rr,S5,ue.anisotropic),ue.genMipmaps&&(U.hint(Fy,ue.mipmapHint),U.generateMipmap(rr))}var Qi=0,Gn={},Vn=ce.maxTextureUnits,ei=Array(Vn).map(function(){return null});function Wt(ue){_r.call(this),this.mipmask=0,this.internalformat=Fo,this.id=Qi++,this.refCount=1,this.target=ue,this.texture=U.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Na,Ke.profile&&(this.stats={size:0})}function si(ue){U.activeTexture(qs),U.bindTexture(ue.target,ue.texture)}function Ua(){var ue=ei[0];ue?U.bindTexture(ue.target,ue.texture):U.bindTexture(Ii,null)}function Bi(ue){var rr=ue.texture,ar=ue.unit,pt=ue.target;ar>=0&&(U.activeTexture(qs+ar),U.bindTexture(pt,null),ei[ar]=null),U.deleteTexture(rr),ue.texture=null,ue.params=null,ue.pixels=null,ue.refCount=0,delete Gn[ue.id],nr.textureCount--}e(Wt.prototype,{bind:function(){var ue=this;ue.bindCount+=1;var rr=ue.unit;if(rr<0){for(var ar=0;ar<Vn;++ar){var pt=ei[ar];if(pt){if(pt.bindCount>0)continue;pt.unit=-1}ei[ar]=ue,rr=ar;break}rr>=Vn,Ke.profile&&nr.maxTextureUnits<rr+1&&(nr.maxTextureUnits=rr+1),ue.unit=rr,U.activeTexture(qs+rr),U.bindTexture(ue.target,ue.texture)}return rr},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Bi(this)}});function eo(ue,rr){var ar=new Wt(Ii);Gn[ar.id]=ar,nr.textureCount++;function pt(ht,te){var he=ar.texInfo;Na.call(he);var Te=ia();return typeof ht=="number"?typeof te=="number"?Pt(Te,ht|0,te|0):Pt(Te,ht|0,ht|0):ht?(Si(he,ht),Qt(Te,ht)):Pt(Te,1,1),he.genMipmaps&&(Te.mipmask=(Te.width<<1)-1),ar.mipmask=Te.mipmask,yr(ar,Te),ar.internalformat=Te.internalformat,pt.width=Te.width,pt.height=Te.height,si(ar),cn(Te,Ii),zi(he,Ii),Ua(),Ki(Te),Ke.profile&&(ar.stats.size=Yf(ar.internalformat,ar.type,Te.width,Te.height,he.genMipmaps,!1)),pt.format=Sr[ar.internalformat],pt.type=Nr[ar.type],pt.mag=Ar[he.magFilter],pt.min=rt[he.minFilter],pt.wrapS=Jr[he.wrapS],pt.wrapT=Jr[he.wrapT],pt}function ua(ht,te,he,Te){var er=te|0,or=he|0,Ye=Te|0,Ue=Kr();return yr(Ue,ar),Ue.width=0,Ue.height=0,Vr(Ue,ht),Ue.width=Ue.width||(ar.width>>Ye)-er,Ue.height=Ue.height||(ar.height>>Ye)-or,si(ar),Tt(Ue,Ii,er,or,Ye),Ua(),vt(Ue),pt}function Ia(ht,te){var he=ht|0,Te=te|0||he;if(he===ar.width&&Te===ar.height)return pt;pt.width=ar.width=he,pt.height=ar.height=Te,si(ar);for(var er=0;ar.mipmask>>er;++er){var or=he>>er,Ye=Te>>er;if(!or||!Ye)break;U.texImage2D(Ii,er,ar.format,or,Ye,0,ar.format,ar.type,null)}return Ua(),Ke.profile&&(ar.stats.size=Yf(ar.internalformat,ar.type,he,Te,!1,!1)),pt}return pt(ue,rr),pt.subimage=ua,pt.resize=Ia,pt._reglType="texture2d",pt._texture=ar,Ke.profile&&(pt.stats=ar.stats),pt.destroy=function(){ar.decRef()},pt}function ro(ue,rr,ar,pt,ua,Ia){var ht=new Wt(du);Gn[ht.id]=ht,nr.cubeCount++;var te=new Array(6);function he(or,Ye,Ue,Fe,xe,Le){var ye,je=ht.texInfo;for(Na.call(je),ye=0;ye<6;++ye)te[ye]=ia();if(typeof or=="number"||!or){var ur=or|0||1;for(ye=0;ye<6;++ye)Pt(te[ye],ur,ur)}else if(typeof or=="object")if(Ye)Qt(te[0],or),Qt(te[1],Ye),Qt(te[2],Ue),Qt(te[3],Fe),Qt(te[4],xe),Qt(te[5],Le);else if(Si(je,or),lt(ht,or),"faces"in or){var Lr=or.faces;for(ye=0;ye<6;++ye)yr(te[ye],ht),Qt(te[ye],Lr[ye])}else for(ye=0;ye<6;++ye)Qt(te[ye],or);for(yr(ht,te[0]),je.genMipmaps?ht.mipmask=(te[0].width<<1)-1:ht.mipmask=te[0].mipmask,ht.internalformat=te[0].internalformat,he.width=te[0].width,he.height=te[0].height,si(ht),ye=0;ye<6;++ye)cn(te[ye],Ss+ye);for(zi(je,du),Ua(),Ke.profile&&(ht.stats.size=Yf(ht.internalformat,ht.type,he.width,he.height,je.genMipmaps,!0)),he.format=Sr[ht.internalformat],he.type=Nr[ht.type],he.mag=Ar[je.magFilter],he.min=rt[je.minFilter],he.wrapS=Jr[je.wrapS],he.wrapT=Jr[je.wrapT],ye=0;ye<6;++ye)Ki(te[ye]);return he}function Te(or,Ye,Ue,Fe,xe){var Le=Ue|0,ye=Fe|0,je=xe|0,ur=Kr();return yr(ur,ht),ur.width=0,ur.height=0,Vr(ur,Ye),ur.width=ur.width||(ht.width>>je)-Le,ur.height=ur.height||(ht.height>>je)-ye,si(ht),Tt(ur,Ss+or,Le,ye,je),Ua(),vt(ur),he}function er(or){var Ye=or|0;if(Ye!==ht.width){he.width=ht.width=Ye,he.height=ht.height=Ye,si(ht);for(var Ue=0;Ue<6;++Ue)for(var Fe=0;ht.mipmask>>Fe;++Fe)U.texImage2D(Ss+Ue,Fe,ht.format,Ye>>Fe,Ye>>Fe,0,ht.format,ht.type,null);return Ua(),Ke.profile&&(ht.stats.size=Yf(ht.internalformat,ht.type,he.width,he.height,!1,!0)),he}}return he(ue,rr,ar,pt,ua,Ia),he.subimage=Te,he.resize=er,he._reglType="textureCube",he._texture=ht,Ke.profile&&(he.stats=ht.stats),he.destroy=function(){ht.decRef()},he}function Ht(){for(var ue=0;ue<Vn;++ue)U.activeTexture(qs+ue),U.bindTexture(Ii,null),ei[ue]=null;Je(Gn).forEach(Bi),nr.cubeCount=0,nr.textureCount=0}Ke.profile&&(nr.getTotalTextureSize=function(){var ue=0;return Object.keys(Gn).forEach(function(rr){ue+=Gn[rr].stats.size}),ue});function ha(){for(var ue=0;ue<Vn;++ue){var rr=ei[ue];rr&&(rr.bindCount=0,rr.unit=-1,ei[ue]=null)}Je(Gn).forEach(function(ar){ar.texture=U.createTexture(),U.bindTexture(ar.target,ar.texture);for(var pt=0;pt<32;++pt)if(ar.mipmask&1<<pt)if(ar.target===Ii)U.texImage2D(Ii,pt,ar.internalformat,ar.width>>pt,ar.height>>pt,0,ar.internalformat,ar.type,null);else for(var ua=0;ua<6;++ua)U.texImage2D(Ss+ua,pt,ar.internalformat,ar.width>>pt,ar.height>>pt,0,ar.internalformat,ar.type,null);zi(ar.texInfo,ar.target)})}function Xa(){for(var ue=0;ue<Vn;++ue){var rr=ei[ue];rr&&(rr.bindCount=0,rr.unit=-1,ei[ue]=null),U.activeTexture(qs+ue),U.bindTexture(Ii,null),U.bindTexture(du,null)}}return{create2D:eo,createCube:ro,clear:Ht,getTexture:function(ue){return null},restore:ha,refresh:Xa}}var Zl=36161,Cv=32854,Rs=32855,jy=36194,Xy=33189,Zy=36168,Jy=34041,vd=35907,$y=34836,Ky=34842,Qy=34843,$i=[];$i[Cv]=2,$i[Rs]=2,$i[jy]=2,$i[Xy]=2,$i[Zy]=1,$i[Jy]=4,$i[vd]=4,$i[$y]=16,$i[Ky]=8,$i[Qy]=6;function em(U,le,ce){return $i[U]*le*ce}var P5=function(U,le,ce,We,Qe){var nr={rgba4:Cv,rgb565:jy,"rgb5 a1":Rs,depth:Xy,stencil:Zy,"depth stencil":Jy};le.ext_srgb&&(nr.srgba=vd),le.ext_color_buffer_half_float&&(nr.rgba16f=Ky,nr.rgb16f=Qy),le.webgl_color_buffer_float&&(nr.rgba32f=$y);var Ke=[];Object.keys(nr).forEach(function(Zr){var hr=nr[Zr];Ke[hr]=Zr});var xr=0,qr={};function Dr(Zr){this.id=xr++,this.refCount=1,this.renderbuffer=Zr,this.format=Cv,this.width=0,this.height=0,Qe.profile&&(this.stats={size:0})}Dr.prototype.decRef=function(){--this.refCount<=0&&Fr(this)};function Fr(Zr){var hr=Zr.renderbuffer;U.bindRenderbuffer(Zl,null),U.deleteRenderbuffer(hr),Zr.renderbuffer=null,Zr.refCount=0,delete qr[Zr.id],We.renderbufferCount--}function xt(Zr,hr){var Be=new Dr(U.createRenderbuffer());qr[Be.id]=Be,We.renderbufferCount++;function sr(Nr,Ar){var rt=0,Jr=0,At=Cv;if(typeof Nr=="object"&&Nr){var _r=Nr;if("shape"in _r){var yr=_r.shape;rt=yr[0]|0,Jr=yr[1]|0}else"radius"in _r&&(rt=Jr=_r.radius|0),"width"in _r&&(rt=_r.width|0),"height"in _r&&(Jr=_r.height|0);"format"in _r&&(At=nr[_r.format])}else typeof Nr=="number"?(rt=Nr|0,typeof Ar=="number"?Jr=Ar|0:Jr=rt):Nr||(rt=Jr=1);if(!(rt===Be.width&&Jr===Be.height&&At===Be.format))return sr.width=Be.width=rt,sr.height=Be.height=Jr,Be.format=At,U.bindRenderbuffer(Zl,Be.renderbuffer),U.renderbufferStorage(Zl,At,rt,Jr),Qe.profile&&(Be.stats.size=em(Be.format,Be.width,Be.height)),sr.format=Ke[Be.format],sr}function Sr(Nr,Ar){var rt=Nr|0,Jr=Ar|0||rt;return rt===Be.width&&Jr===Be.height||(sr.width=Be.width=rt,sr.height=Be.height=Jr,U.bindRenderbuffer(Zl,Be.renderbuffer),U.renderbufferStorage(Zl,Be.format,rt,Jr),Qe.profile&&(Be.stats.size=em(Be.format,Be.width,Be.height))),sr}return sr(Zr,hr),sr.resize=Sr,sr._reglType="renderbuffer",sr._renderbuffer=Be,Qe.profile&&(sr.stats=Be.stats),sr.destroy=function(){Be.decRef()},sr}Qe.profile&&(We.getTotalRenderbufferSize=function(){var Zr=0;return Object.keys(qr).forEach(function(hr){Zr+=qr[hr].stats.size}),Zr});function ft(){Je(qr).forEach(function(Zr){Zr.renderbuffer=U.createRenderbuffer(),U.bindRenderbuffer(Zl,Zr.renderbuffer),U.renderbufferStorage(Zl,Zr.format,Zr.width,Zr.height)}),U.bindRenderbuffer(Zl,null)}return{create:xt,clear:function(){Je(qr).forEach(Fr)},restore:ft}},vl=36160,hd=36161,_u=3553,dd=34069,rm=36064,tm=36096,am=36128,wu=33306,Wf=36053,Po=36193,N5=5121,I5=5126,O5=6407,z5=6408,Ev=[];Ev[z5]=4,Ev[O5]=3;var Lv=[];Lv[N5]=1,Lv[I5]=4,Lv[Po]=2;function B5(U,le,ce,We,Qe,nr){var Ke={cur:null,next:null,dirty:!1,setFBO:null},xr=["rgba"],qr=["rgba4","rgb565","rgb5 a1"];le.ext_srgb&&qr.push("srgba"),le.ext_color_buffer_half_float&&qr.push("rgba16f","rgb16f"),le.webgl_color_buffer_float&&qr.push("rgba32f");var Dr=["uint8"];le.oes_texture_half_float&&Dr.push("half float","float16"),le.oes_texture_float&&Dr.push("float","float32");function Fr(Gr,Vr,st){this.target=Gr,this.texture=Vr,this.renderbuffer=st;var Tt=0,zt=0;Vr?(Tt=Vr.width,zt=Vr.height):st&&(Tt=st.width,zt=st.height),this.width=Tt,this.height=zt}function xt(Gr){Gr&&(Gr.texture&&Gr.texture._texture.decRef(),Gr.renderbuffer&&Gr.renderbuffer._renderbuffer.decRef())}function ft(Gr,Vr,st){if(Gr)if(Gr.texture){var Tt=Gr.texture._texture,zt=Math.max(1,Tt.width),Kr=Math.max(1,Tt.height);Tt.refCount+=1}else{var vt=Gr.renderbuffer._renderbuffer;vt.refCount+=1}}function Zr(Gr,Vr){Vr&&(Vr.texture?U.framebufferTexture2D(vl,Gr,Vr.target,Vr.texture._texture.texture,0):U.framebufferRenderbuffer(vl,Gr,hd,Vr.renderbuffer._renderbuffer.renderbuffer))}function hr(Gr){var Vr=_u,st=null,Tt=null,zt=Gr;typeof Gr=="object"&&(zt=Gr.data,"target"in Gr&&(Vr=Gr.target|0));var Kr=zt._reglType;return Kr==="texture2d"||Kr==="textureCube"?st=zt:Kr==="renderbuffer"&&(Tt=zt,Vr=hd),new Fr(Vr,st,Tt)}function Be(Gr,Vr,st,Tt,zt){if(st){var Kr=We.create2D({width:Gr,height:Vr,format:Tt,type:zt});return Kr._texture.refCount=0,new Fr(_u,Kr,null)}else{var vt=Qe.create({width:Gr,height:Vr,format:Tt});return vt._renderbuffer.refCount=0,new Fr(hd,null,vt)}}function sr(Gr){return Gr&&(Gr.texture||Gr.renderbuffer)}function Sr(Gr,Vr,st){Gr&&(Gr.texture?Gr.texture.resize(Vr,st):Gr.renderbuffer&&Gr.renderbuffer.resize(Vr,st),Gr.width=Vr,Gr.height=st)}var Nr=0,Ar={};function rt(){this.id=Nr++,Ar[this.id]=this,this.framebuffer=U.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Jr(Gr){Gr.colorAttachments.forEach(xt),xt(Gr.depthAttachment),xt(Gr.stencilAttachment),xt(Gr.depthStencilAttachment)}function At(Gr){var Vr=Gr.framebuffer;U.deleteFramebuffer(Vr),Gr.framebuffer=null,nr.framebufferCount--,delete Ar[Gr.id]}function _r(Gr){var Vr;U.bindFramebuffer(vl,Gr.framebuffer);var st=Gr.colorAttachments;for(Vr=0;Vr<st.length;++Vr)Zr(rm+Vr,st[Vr]);for(Vr=st.length;Vr<ce.maxColorAttachments;++Vr)U.framebufferTexture2D(vl,rm+Vr,_u,null,0);U.framebufferTexture2D(vl,wu,_u,null,0),U.framebufferTexture2D(vl,tm,_u,null,0),U.framebufferTexture2D(vl,am,_u,null,0),Zr(tm,Gr.depthAttachment),Zr(am,Gr.stencilAttachment),Zr(wu,Gr.depthStencilAttachment);var Tt=U.checkFramebufferStatus(vl);U.isContextLost(),U.bindFramebuffer(vl,Ke.next?Ke.next.framebuffer:null),Ke.cur=Ke.next,U.getError()}function yr(Gr,Vr){var st=new rt;nr.framebufferCount++;function Tt(Kr,vt){var Rt,Pt=0,Qt=0,cn=!0,Qn=!0,ia=null,Ki=!0,Na="rgba",Si="uint8",zi=1,Qi=null,Gn=null,Vn=null,ei=!1;if(typeof Kr=="number")Pt=Kr|0,Qt=vt|0||Pt;else if(!Kr)Pt=Qt=1;else{var Wt=Kr;if("shape"in Wt){var si=Wt.shape;Pt=si[0],Qt=si[1]}else"radius"in Wt&&(Pt=Qt=Wt.radius),"width"in Wt&&(Pt=Wt.width),"height"in Wt&&(Qt=Wt.height);("color"in Wt||"colors"in Wt)&&(ia=Wt.color||Wt.colors,Array.isArray(ia)),ia||("colorCount"in Wt&&(zi=Wt.colorCount|0),"colorTexture"in Wt&&(Ki=!!Wt.colorTexture,Na="rgba4"),"colorType"in Wt&&(Si=Wt.colorType,Ki||(Si==="half float"||Si==="float16"?Na="rgba16f":(Si==="float"||Si==="float32")&&(Na="rgba32f"))),"colorFormat"in Wt&&(Na=Wt.colorFormat,xr.indexOf(Na)>=0?Ki=!0:qr.indexOf(Na)>=0&&(Ki=!1))),("depthTexture"in Wt||"depthStencilTexture"in Wt)&&(ei=!!(Wt.depthTexture||Wt.depthStencilTexture)),"depth"in Wt&&(typeof Wt.depth=="boolean"?cn=Wt.depth:(Qi=Wt.depth,Qn=!1)),"stencil"in Wt&&(typeof Wt.stencil=="boolean"?Qn=Wt.stencil:(Gn=Wt.stencil,cn=!1)),"depthStencil"in Wt&&(typeof Wt.depthStencil=="boolean"?cn=Qn=Wt.depthStencil:(Vn=Wt.depthStencil,cn=!1,Qn=!1))}var Ua=null,Bi=null,eo=null,ro=null;if(Array.isArray(ia))Ua=ia.map(hr);else if(ia)Ua=[hr(ia)];else for(Ua=new Array(zi),Rt=0;Rt<zi;++Rt)Ua[Rt]=Be(Pt,Qt,Ki,Na,Si);Pt=Pt||Ua[0].width,Qt=Qt||Ua[0].height,Qi?Bi=hr(Qi):cn&&!Qn&&(Bi=Be(Pt,Qt,ei,"depth","uint32")),Gn?eo=hr(Gn):Qn&&!cn&&(eo=Be(Pt,Qt,!1,"stencil","uint8")),Vn?ro=hr(Vn):!Qi&&!Gn&&Qn&&cn&&(ro=Be(Pt,Qt,ei,"depth stencil","depth stencil"));var Ht=null;for(Rt=0;Rt<Ua.length;++Rt)if(ft(Ua[Rt],Pt,Qt),Ua[Rt]&&Ua[Rt].texture){var ha=Ev[Ua[Rt].texture._texture.format]*Lv[Ua[Rt].texture._texture.type];Ht===null&&(Ht=ha)}return ft(Bi,Pt,Qt),ft(eo,Pt,Qt),ft(ro,Pt,Qt),Jr(st),st.width=Pt,st.height=Qt,st.colorAttachments=Ua,st.depthAttachment=Bi,st.stencilAttachment=eo,st.depthStencilAttachment=ro,Tt.color=Ua.map(sr),Tt.depth=sr(Bi),Tt.stencil=sr(eo),Tt.depthStencil=sr(ro),Tt.width=st.width,Tt.height=st.height,_r(st),Tt}function zt(Kr,vt){var Rt=Math.max(Kr|0,1),Pt=Math.max(vt|0||Rt,1);if(Rt===st.width&&Pt===st.height)return Tt;for(var Qt=st.colorAttachments,cn=0;cn<Qt.length;++cn)Sr(Qt[cn],Rt,Pt);return Sr(st.depthAttachment,Rt,Pt),Sr(st.stencilAttachment,Rt,Pt),Sr(st.depthStencilAttachment,Rt,Pt),st.width=Tt.width=Rt,st.height=Tt.height=Pt,_r(st),Tt}return Tt(Gr,Vr),e(Tt,{resize:zt,_reglType:"framebuffer",_framebuffer:st,destroy:function(){At(st),Jr(st)},use:function(Kr){Ke.setFBO({framebuffer:Tt},Kr)}})}function lt(Gr){var Vr=Array(6);function st(zt){var Kr,vt={color:null},Rt=0,Pt=null,Qt="rgba",cn="uint8",Qn=1;if(typeof zt=="number")Rt=zt|0;else if(!zt)Rt=1;else{var ia=zt;if("shape"in ia){var Ki=ia.shape;Rt=Ki[0]}else"radius"in ia&&(Rt=ia.radius|0),"width"in ia?(Rt=ia.width|0,"height"in ia):"height"in ia&&(Rt=ia.height|0);("color"in ia||"colors"in ia)&&(Pt=ia.color||ia.colors,Array.isArray(Pt)),Pt||("colorCount"in ia&&(Qn=ia.colorCount|0),"colorType"in ia&&(cn=ia.colorType),"colorFormat"in ia&&(Qt=ia.colorFormat)),"depth"in ia&&(vt.depth=ia.depth),"stencil"in ia&&(vt.stencil=ia.stencil),"depthStencil"in ia&&(vt.depthStencil=ia.depthStencil)}var Na;if(Pt)if(Array.isArray(Pt))for(Na=[],Kr=0;Kr<Pt.length;++Kr)Na[Kr]=Pt[Kr];else Na=[Pt];else{Na=Array(Qn);var Si={radius:Rt,format:Qt,type:cn};for(Kr=0;Kr<Qn;++Kr)Na[Kr]=We.createCube(Si)}for(vt.color=Array(Na.length),Kr=0;Kr<Na.length;++Kr){var zi=Na[Kr];Rt=Rt||zi.width,vt.color[Kr]={target:dd,data:Na[Kr]}}for(Kr=0;Kr<6;++Kr){for(var Qi=0;Qi<Na.length;++Qi)vt.color[Qi].target=dd+Kr;Kr>0&&(vt.depth=Vr[0].depth,vt.stencil=Vr[0].stencil,vt.depthStencil=Vr[0].depthStencil),Vr[Kr]?Vr[Kr](vt):Vr[Kr]=yr(vt)}return e(st,{width:Rt,height:Rt,color:Na})}function Tt(zt){var Kr,vt=zt|0;if(vt===st.width)return st;var Rt=st.color;for(Kr=0;Kr<Rt.length;++Kr)Rt[Kr].resize(vt);for(Kr=0;Kr<6;++Kr)Vr[Kr].resize(vt);return st.width=st.height=vt,st}return st(Gr),e(st,{faces:Vr,resize:Tt,_reglType:"framebufferCube",destroy:function(){Vr.forEach(function(zt){zt.destroy()})}})}function Xr(){Ke.cur=null,Ke.next=null,Ke.dirty=!0,Je(Ar).forEach(function(Gr){Gr.framebuffer=U.createFramebuffer(),_r(Gr)})}return e(Ke,{getFramebuffer:function(Gr){if(typeof Gr=="function"&&Gr._reglType==="framebuffer"){var Vr=Gr._framebuffer;if(Vr instanceof rt)return Vr}return null},create:yr,createCube:lt,clear:function(){Je(Ar).forEach(At)},restore:Xr})}var U5=5126,nm=34962,qv=34963;function jf(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=U5,this.offset=0,this.stride=0,this.divisor=0}function pd(U,le,ce,We,Qe,nr,Ke){for(var xr=ce.maxAttributes,qr=new Array(xr),Dr=0;Dr<xr;++Dr)qr[Dr]=new jf;var Fr=0,xt={},ft={Record:jf,scope:{},state:qr,currentVAO:null,targetVAO:null,restore:hr()?Jr:function(){},createVAO:At,getVAO:sr,destroyBuffer:Zr,setVAO:hr()?Sr:Nr,clear:hr()?Ar:function(){}};function Zr(_r){for(var yr=0;yr<qr.length;++yr){var lt=qr[yr];lt.buffer===_r&&(U.disableVertexAttribArray(yr),lt.buffer=null)}}function hr(){return le.oes_vertex_array_object}function Be(){return le.angle_instanced_arrays}function sr(_r){return typeof _r=="function"&&_r._vao?_r._vao:null}function Sr(_r){if(_r!==ft.currentVAO){var yr=hr();_r?yr.bindVertexArrayOES(_r.vao):yr.bindVertexArrayOES(null),ft.currentVAO=_r}}function Nr(_r){if(_r!==ft.currentVAO){if(_r)_r.bindAttrs();else{for(var yr=Be(),lt=0;lt<qr.length;++lt){var Xr=qr[lt];Xr.buffer?(U.enableVertexAttribArray(lt),Xr.buffer.bind(),U.vertexAttribPointer(lt,Xr.size,Xr.type,Xr.normalized,Xr.stride,Xr.offfset),yr&&Xr.divisor&&yr.vertexAttribDivisorANGLE(lt,Xr.divisor)):(U.disableVertexAttribArray(lt),U.vertexAttrib4f(lt,Xr.x,Xr.y,Xr.z,Xr.w))}Ke.elements?U.bindBuffer(qv,Ke.elements.buffer.buffer):U.bindBuffer(qv,null)}ft.currentVAO=_r}}function Ar(){Je(xt).forEach(function(_r){_r.destroy()})}function rt(){this.id=++Fr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var _r=hr();_r?this.vao=_r.createVertexArrayOES():this.vao=null,xt[this.id]=this,this.buffers=[]}rt.prototype.bindAttrs=function(){for(var _r=Be(),yr=this.attributes,lt=0;lt<yr.length;++lt){var Xr=yr[lt];Xr.buffer?(U.enableVertexAttribArray(lt),U.bindBuffer(nm,Xr.buffer.buffer),U.vertexAttribPointer(lt,Xr.size,Xr.type,Xr.normalized,Xr.stride,Xr.offset),_r&&Xr.divisor&&_r.vertexAttribDivisorANGLE(lt,Xr.divisor)):(U.disableVertexAttribArray(lt),U.vertexAttrib4f(lt,Xr.x,Xr.y,Xr.z,Xr.w))}for(var Gr=yr.length;Gr<xr;++Gr)U.disableVertexAttribArray(Gr);var Vr=nr.getElements(this.elements);Vr?U.bindBuffer(qv,Vr.buffer.buffer):U.bindBuffer(qv,null)},rt.prototype.refresh=function(){var _r=hr();_r&&(_r.bindVertexArrayOES(this.vao),this.bindAttrs(),ft.currentVAO=null,_r.bindVertexArrayOES(null))},rt.prototype.destroy=function(){if(this.vao){var _r=hr();this===ft.currentVAO&&(ft.currentVAO=null,_r.bindVertexArrayOES(null)),_r.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),xt[this.id]&&(delete xt[this.id],We.vaoCount-=1)};function Jr(){var _r=hr();_r&&Je(xt).forEach(function(yr){yr.refresh()})}function At(_r){var yr=new rt;We.vaoCount+=1;function lt(Xr){var Gr;if(Array.isArray(Xr))Gr=Xr,yr.elements&&yr.ownsElements&&yr.elements.destroy(),yr.elements=null,yr.ownsElements=!1,yr.offset=0,yr.count=0,yr.instances=-1,yr.primitive=4;else{if(Xr.elements){var Vr=Xr.elements;yr.ownsElements?typeof Vr=="function"&&Vr._reglType==="elements"?(yr.elements.destroy(),yr.ownsElements=!1):(yr.elements(Vr),yr.ownsElements=!1):nr.getElements(Xr.elements)?(yr.elements=Xr.elements,yr.ownsElements=!1):(yr.elements=nr.create(Xr.elements),yr.ownsElements=!0)}else yr.elements=null,yr.ownsElements=!1;Gr=Xr.attributes,yr.offset=0,yr.count=-1,yr.instances=-1,yr.primitive=4,yr.elements&&(yr.count=yr.elements._elements.vertCount,yr.primitive=yr.elements._elements.primType),"offset"in Xr&&(yr.offset=Xr.offset|0),"count"in Xr&&(yr.count=Xr.count|0),"instances"in Xr&&(yr.instances=Xr.instances|0),"primitive"in Xr&&(yr.primitive=Ts[Xr.primitive])}var st={},Tt=yr.attributes;Tt.length=Gr.length;for(var zt=0;zt<Gr.length;++zt){var Kr=Gr[zt],vt=Tt[zt]=new jf,Rt=Kr.data||Kr;if(Array.isArray(Rt)||Ir(Rt)||Hr(Rt)){var Pt;yr.buffers[zt]&&(Pt=yr.buffers[zt],Ir(Rt)&&Pt._buffer.byteLength>=Rt.byteLength?Pt.subdata(Rt):(Pt.destroy(),yr.buffers[zt]=null)),yr.buffers[zt]||(Pt=yr.buffers[zt]=Qe.create(Kr,nm,!1,!0)),vt.buffer=Qe.getBuffer(Pt),vt.size=vt.buffer.dimension|0,vt.normalized=!1,vt.type=vt.buffer.dtype,vt.offset=0,vt.stride=0,vt.divisor=0,vt.state=1,st[zt]=1}else Qe.getBuffer(Kr)?(vt.buffer=Qe.getBuffer(Kr),vt.size=vt.buffer.dimension|0,vt.normalized=!1,vt.type=vt.buffer.dtype,vt.offset=0,vt.stride=0,vt.divisor=0,vt.state=1):Qe.getBuffer(Kr.buffer)?(vt.buffer=Qe.getBuffer(Kr.buffer),vt.size=(+Kr.size||vt.buffer.dimension)|0,vt.normalized=!!Kr.normalized||!1,"type"in Kr?vt.type=zn[Kr.type]:vt.type=vt.buffer.dtype,vt.offset=(Kr.offset||0)|0,vt.stride=(Kr.stride||0)|0,vt.divisor=(Kr.divisor||0)|0,vt.state=1):"x"in Kr&&(vt.x=+Kr.x||0,vt.y=+Kr.y||0,vt.z=+Kr.z||0,vt.w=+Kr.w||0,vt.state=2)}for(var Qt=0;Qt<yr.buffers.length;++Qt)!st[Qt]&&yr.buffers[Qt]&&(yr.buffers[Qt].destroy(),yr.buffers[Qt]=null);return yr.refresh(),lt}return lt.destroy=function(){for(var Xr=0;Xr<yr.buffers.length;++Xr)yr.buffers[Xr]&&yr.buffers[Xr].destroy();yr.buffers.length=0,yr.ownsElements&&(yr.elements.destroy(),yr.elements=null,yr.ownsElements=!1),yr.destroy()},lt._vao=yr,lt._reglType="vao",lt(_r)}return ft}var im=35632,H5=35633,G5=35718,V5=35721;function om(U,le,ce,We){var Qe={},nr={};function Ke(Be,sr,Sr,Nr){this.name=Be,this.id=sr,this.location=Sr,this.info=Nr}function xr(Be,sr){for(var Sr=0;Sr<Be.length;++Sr)if(Be[Sr].id===sr.id){Be[Sr].location=sr.location;return}Be.push(sr)}function qr(Be,sr,Sr){var Nr=Be===im?Qe:nr,Ar=Nr[sr];if(!Ar){var rt=le.str(sr);Ar=U.createShader(Be),U.shaderSource(Ar,rt),U.compileShader(Ar),Nr[sr]=Ar}return Ar}var Dr={},Fr=[],xt=0;function ft(Be,sr){this.id=xt++,this.fragId=Be,this.vertId=sr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,We.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Zr(Be,sr,Sr){var Nr,Ar,rt=qr(im,Be.fragId),Jr=qr(H5,Be.vertId),At=Be.program=U.createProgram();if(U.attachShader(At,rt),U.attachShader(At,Jr),Sr)for(Nr=0;Nr<Sr.length;++Nr){var _r=Sr[Nr];U.bindAttribLocation(At,_r[0],_r[1])}U.linkProgram(At);var yr=U.getProgramParameter(At,G5);We.profile&&(Be.stats.uniformsCount=yr);var lt=Be.uniforms;for(Nr=0;Nr<yr;++Nr)if(Ar=U.getActiveUniform(At,Nr),Ar)if(Ar.size>1)for(var Xr=0;Xr<Ar.size;++Xr){var Gr=Ar.name.replace("[0]","["+Xr+"]");xr(lt,new Ke(Gr,le.id(Gr),U.getUniformLocation(At,Gr),Ar))}else xr(lt,new Ke(Ar.name,le.id(Ar.name),U.getUniformLocation(At,Ar.name),Ar));var Vr=U.getProgramParameter(At,V5);We.profile&&(Be.stats.attributesCount=Vr);var st=Be.attributes;for(Nr=0;Nr<Vr;++Nr)Ar=U.getActiveAttrib(At,Nr),Ar&&xr(st,new Ke(Ar.name,le.id(Ar.name),U.getAttribLocation(At,Ar.name),Ar))}We.profile&&(ce.getMaxUniformsCount=function(){var Be=0;return Fr.forEach(function(sr){sr.stats.uniformsCount>Be&&(Be=sr.stats.uniformsCount)}),Be},ce.getMaxAttributesCount=function(){var Be=0;return Fr.forEach(function(sr){sr.stats.attributesCount>Be&&(Be=sr.stats.attributesCount)}),Be});function hr(){Qe={},nr={};for(var Be=0;Be<Fr.length;++Be)Zr(Fr[Be],null,Fr[Be].attributes.map(function(sr){return[sr.location,sr.name]}))}return{clear:function(){var Be=U.deleteShader.bind(U);Je(Qe).forEach(Be),Qe={},Je(nr).forEach(Be),nr={},Fr.forEach(function(sr){U.deleteProgram(sr.program)}),Fr.length=0,Dr={},ce.shaderCount=0},program:function(Be,sr,Sr,Nr){var Ar=Dr[sr];Ar||(Ar=Dr[sr]={});var rt=Ar[Be];if(rt&&(rt.refCount++,!Nr))return rt;var Jr=new ft(sr,Be);return ce.shaderCount++,Zr(Jr,Sr,Nr),rt||(Ar[Be]=Jr),Fr.push(Jr),e(Jr,{destroy:function(){if(Jr.refCount--,Jr.refCount<=0){U.deleteProgram(Jr.program);var At=Fr.indexOf(Jr);Fr.splice(At,1),ce.shaderCount--}Ar[Jr.vertId].refCount<=0&&(U.deleteShader(nr[Jr.vertId]),delete nr[Jr.vertId],delete Dr[Jr.fragId][Jr.vertId]),Object.keys(Dr[Jr.fragId]).length||(U.deleteShader(Qe[Jr.fragId]),delete Qe[Jr.fragId],delete Dr[Jr.fragId])}})},restore:hr,shader:qr,frag:-1,vert:-1}}var Y5=6408,yd=5121,md=3333,gd=5126;function lm(U,le,ce,We,Qe,nr,Ke){function xr(Fr){var xt;le.next===null?xt=yd:xt=le.next.colorAttachments[0].texture._texture.type;var ft=0,Zr=0,hr=We.framebufferWidth,Be=We.framebufferHeight,sr=null;Ir(Fr)?sr=Fr:Fr&&(ft=Fr.x|0,Zr=Fr.y|0,hr=(Fr.width||We.framebufferWidth-ft)|0,Be=(Fr.height||We.framebufferHeight-Zr)|0,sr=Fr.data||null),ce();var Sr=hr*Be*4;return sr||(xt===yd?sr=new Uint8Array(Sr):xt===gd&&(sr=sr||new Float32Array(Sr))),U.pixelStorei(md,4),U.readPixels(ft,Zr,hr,Be,Y5,xt,sr),sr}function qr(Fr){var xt;return le.setFBO({framebuffer:Fr.framebuffer},function(){xt=xr(Fr)}),xt}function Dr(Fr){return!Fr||!("framebuffer"in Fr)?xr(Fr):qr(Fr)}return Dr}var sm=0,W5="";function j5(U){return fm(um(Z5(U)))}function um(U){return hm(Au(bd(U),U.length*8))}function X5(U,le){var ce=bd(U);ce.length>16&&(ce=Au(ce,U.length*8));for(var We=Array(16),Qe=Array(16),nr=0;nr<16;nr++)We[nr]=ce[nr]^909522486,Qe[nr]=ce[nr]^1549556828;var Ke=Au(We.concat(bd(le)),512+le.length*8);return hm(Au(Qe.concat(Ke),768))}function fm(U){for(var le=sm?"0123456789ABCDEF":"0123456789abcdef",ce="",We,Qe=0;Qe<U.length;Qe++)We=U.charCodeAt(Qe),ce+=le.charAt(We>>>4&15)+le.charAt(We&15);return ce}function cm(U){for(var le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ce="",We=U.length,Qe=0;Qe<We;Qe+=3)for(var nr=U.charCodeAt(Qe)<<16|(Qe+1<We?U.charCodeAt(Qe+1)<<8:0)|(Qe+2<We?U.charCodeAt(Qe+2):0),Ke=0;Ke<4;Ke++)Qe*8+Ke*6>U.length*8?ce+=W5:ce+=le.charAt(nr>>>6*(3-Ke)&63);return ce}function vm(U,le){var ce=le.length,We=Array(),Qe,nr,Ke,xr,qr=Array(Math.ceil(U.length/2));for(Qe=0;Qe<qr.length;Qe++)qr[Qe]=U.charCodeAt(Qe*2)<<8|U.charCodeAt(Qe*2+1);for(;qr.length>0;){for(xr=Array(),Ke=0,Qe=0;Qe<qr.length;Qe++)Ke=(Ke<<16)+qr[Qe],nr=Math.floor(Ke/ce),Ke-=nr*ce,(xr.length>0||nr>0)&&(xr[xr.length]=nr);We[We.length]=Ke,qr=xr}var Dr="";for(Qe=We.length-1;Qe>=0;Qe--)Dr+=le.charAt(We[Qe]);var Fr=Math.ceil(U.length*8/(Math.log(le.length)/Math.log(2)));for(Qe=Dr.length;Qe<Fr;Qe++)Dr=le[0]+Dr;return Dr}function Z5(U){for(var le="",ce=-1,We,Qe;++ce<U.length;)We=U.charCodeAt(ce),Qe=ce+1<U.length?U.charCodeAt(ce+1):0,55296<=We&&We<=56319&&56320<=Qe&&Qe<=57343&&(We=65536+((We&1023)<<10)+(Qe&1023),ce++),We<=127?le+=String.fromCharCode(We):We<=2047?le+=String.fromCharCode(192|We>>>6&31,128|We&63):We<=65535?le+=String.fromCharCode(224|We>>>12&15,128|We>>>6&63,128|We&63):We<=2097151&&(le+=String.fromCharCode(240|We>>>18&7,128|We>>>12&63,128|We>>>6&63,128|We&63));return le}function bd(U){for(var le=Array(U.length>>2),ce=0;ce<le.length;ce++)le[ce]=0;for(var ce=0;ce<U.length*8;ce+=8)le[ce>>5]|=(U.charCodeAt(ce/8)&255)<<24-ce%32;return le}function hm(U){for(var le="",ce=0;ce<U.length*32;ce+=8)le+=String.fromCharCode(U[ce>>5]>>>24-ce%32&255);return le}function No(U,le){return U>>>le|U<<32-le}function dm(U,le){return U>>>le}function pm(U,le,ce){return U&le^~U&ce}function ym(U,le,ce){return U&le^U&ce^le&ce}function xd(U){return No(U,2)^No(U,13)^No(U,22)}function mm(U){return No(U,6)^No(U,11)^No(U,25)}function Dv(U){return No(U,7)^No(U,18)^dm(U,3)}function Fv(U){return No(U,17)^No(U,19)^dm(U,10)}var J5=new Array(1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998);function Au(U,le){var ce=new Array(1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225),We=new Array(64),Qe,nr,Ke,xr,qr,Dr,Fr,xt,ft,Zr,hr,Be;for(U[le>>5]|=128<<24-le%32,U[(le+64>>9<<4)+15]=le,ft=0;ft<U.length;ft+=16){for(Qe=ce[0],nr=ce[1],Ke=ce[2],xr=ce[3],qr=ce[4],Dr=ce[5],Fr=ce[6],xt=ce[7],Zr=0;Zr<64;Zr++)Zr<16?We[Zr]=U[Zr+ft]:We[Zr]=Rn(Rn(Rn(Fv(We[Zr-2]),We[Zr-7]),Dv(We[Zr-15])),We[Zr-16]),hr=Rn(Rn(Rn(Rn(xt,mm(qr)),pm(qr,Dr,Fr)),J5[Zr]),We[Zr]),Be=Rn(xd(Qe),ym(Qe,nr,Ke)),xt=Fr,Fr=Dr,Dr=qr,qr=Rn(xr,hr),xr=Ke,Ke=nr,nr=Qe,Qe=Rn(hr,Be);ce[0]=Rn(Qe,ce[0]),ce[1]=Rn(nr,ce[1]),ce[2]=Rn(Ke,ce[2]),ce[3]=Rn(xr,ce[3]),ce[4]=Rn(qr,ce[4]),ce[5]=Rn(Dr,ce[5]),ce[6]=Rn(Fr,ce[6]),ce[7]=Rn(xt,ce[7])}return ce}function Rn(U,le){var ce=(U&65535)+(le&65535),We=(U>>16)+(le>>16)+(ce>>16);return We<<16|ce&65535}function Tu(U){return Array.prototype.slice.call(U)}function Mu(U){return Tu(U).join("")}function gm(U){var le=U&&U.cache,ce=0,We=[],Qe=[],nr=[];function Ke(hr,Be){var sr=Be&&Be.stable;if(!sr){for(var Sr=0;Sr<Qe.length;++Sr)if(Qe[Sr]===hr&&!nr[Sr])return We[Sr]}var Nr="g"+ce++;return We.push(Nr),Qe.push(hr),nr.push(sr),Nr}function xr(){var hr=[];function Be(){hr.push.apply(hr,Tu(arguments))}var sr=[];function Sr(){var Nr="v"+ce++;return sr.push(Nr),arguments.length>0&&(hr.push(Nr,"="),hr.push.apply(hr,Tu(arguments)),hr.push(";")),Nr}return e(Be,{def:Sr,toString:function(){return Mu([sr.length>0?"var "+sr.join(",")+";":"",Mu(hr)])}})}function qr(){var hr=xr(),Be=xr(),sr=hr.toString,Sr=Be.toString;function Nr(Ar,rt){Be(Ar,rt,"=",hr.def(Ar,rt),";")}return e(function(){hr.apply(hr,Tu(arguments))},{def:hr.def,entry:hr,exit:Be,save:Nr,set:function(Ar,rt,Jr){Nr(Ar,rt),hr(Ar,rt,"=",Jr,";")},toString:function(){return sr()+Sr()}})}function Dr(){var hr=Mu(arguments),Be=qr(),sr=qr(),Sr=Be.toString,Nr=sr.toString;return e(Be,{then:function(){return Be.apply(Be,Tu(arguments)),this},else:function(){return sr.apply(sr,Tu(arguments)),this},toString:function(){var Ar=Nr();return Ar&&(Ar="else{"+Ar+"}"),Mu(["if(",hr,"){",Sr(),"}",Ar])}})}var Fr=xr(),xt={};function ft(hr,Be){var sr=[];function Sr(){var At="a"+sr.length;return sr.push(At),At}Be=Be||0;for(var Nr=0;Nr<Be;++Nr)Sr();var Ar=qr(),rt=Ar.toString,Jr=xt[hr]=e(Ar,{arg:Sr,toString:function(){return Mu(["function(",sr.join(),"){",rt(),"}"])}});return Jr}function Zr(){var hr=['"use strict";',Fr,"return {"];Object.keys(xt).forEach(function(Nr){hr.push('"',Nr,'":',xt[Nr].toString(),",")}),hr.push("}");var Be=Mu(hr).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),sr;if(le&&(sr=j5(Be),le[sr]))return le[sr].apply(null,Qe);var Sr=Function.apply(null,We.concat(Be));return le&&(le[sr]=Sr),Sr.apply(null,Qe)}return{global:Fr,link:Ke,block:xr,proc:ft,scope:qr,cond:Dr,compile:Zr}}var Ps="xyzw".split(""),_d=5121,Jl=1,Xf=2,wd=0,Rv=1,bm=2,Pv=3,Nv=4,Ad=5,Zf=6,Td="dither",xm="blend.enable",_m="blend.color",Md="blend.equation",Sd="blend.func",kd="depth.enable",Cd="depth.func",Ed="depth.range",Ld="depth.mask",qd="colorMask",Jf="cull.enable",wm="cull.face",Dd="frontFace",Iv="lineWidth",Fd="polygonOffset.enable",Rd="polygonOffset.offset",$f="sample.alpha",Kf="sample.enable",Ov="sample.coverage",Pd="stencil.enable",zv="stencil.mask",Oi="stencil.func",Bv="stencil.opFront",Qf="stencil.opBack",Uv="scissor.enable",Su="scissor.box",hl="viewport",Hv="profile",ku="framebuffer",Ns="vert",Cu="frag",Is="elements",Eu="primitive",Lu="count",Nd="offset",Mi="instances",ec="vao",Gv="Width",Io="Height",$l=ku+Gv,Kl=ku+Io,$5=hl+Gv,K5=hl+Io,Am="drawingBuffer",Id=Am+Gv,Od=Am+Io,Tm=[Sd,Md,Oi,Bv,Qf,Ov,hl,Su,Rd],Os=34962,zd=34963,Mm=2884,Q5=3042,e_=3024,r_=2960,Sm=2929,km=3089,Vv=32823,Cm=32926,Yv=32928,Bd=5126,zs=35664,en=35665,Wv=35666,Ql=5124,qu=35667,rc=35668,Ud=35669,jv=35670,Du=35671,Xv=35672,Hd=35673,Gd=35674,Vd=35675,Yd=35676,tc=35678,Wd=35680,jd=4,v=1028,m=1029,A=2304,k=2305,E=32775,L=32776,N=519,D=7680,B=0,J=1,$=32774,ee=513,re=36160,Ee=36064,Re={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},oe={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ge={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Me={cw:A,ccw:k};function Pe(U){return Array.isArray(U)||Ir(U)||Hr(U)}function Ne(U){return U.sort(function(le,ce){return le===hl?-1:ce===hl?1:le<ce?-1:1})}function _e(U,le,ce,We){this.thisDep=U,this.contextDep=le,this.propDep=ce,this.append=We}function cr(U){return U&&!(U.thisDep||U.contextDep||U.propDep)}function Mr(U){return new _e(!1,!1,!1,U)}function Pr(U,le){var ce=U.type;if(ce===wd){var We=U.data.length;return new _e(!0,We>=1,We>=2,le)}else if(ce===Nv){var Qe=U.data;return new _e(Qe.thisDep,Qe.contextDep,Qe.propDep,le)}else{if(ce===Ad)return new _e(!1,!1,!1,le);if(ce===Zf){for(var nr=!1,Ke=!1,xr=!1,qr=0;qr<U.data.length;++qr){var Dr=U.data[qr];if(Dr.type===Rv)xr=!0;else if(Dr.type===bm)Ke=!0;else if(Dr.type===Pv)nr=!0;else if(Dr.type===wd){nr=!0;var Fr=Dr.data;Fr>=1&&(Ke=!0),Fr>=2&&(xr=!0)}else Dr.type===Nv&&(nr=nr||Dr.data.thisDep,Ke=Ke||Dr.data.contextDep,xr=xr||Dr.data.propDep)}return new _e(nr,Ke,xr,le)}else return new _e(ce===Pv,ce===bm,ce===Rv,le)}}var Yr=new _e(!1,!1,!1,function(){});function it(U,le,ce,We,Qe,nr,Ke,xr,qr,Dr,Fr,xt,ft,Zr,hr,Be){var sr=Dr.Record,Sr={add:32774,subtract:32778,"reverse subtract":32779};ce.ext_blend_minmax&&(Sr.min=E,Sr.max=L);var Nr=ce.angle_instanced_arrays,Ar=ce.webgl_draw_buffers,rt=ce.oes_vertex_array_object,Jr={dirty:!0,profile:Be.profile},At={},_r=[],yr={},lt={};function Xr(te){return te.replace(".","_")}function Gr(te,he,Te){var er=Xr(te);_r.push(te),At[er]=Jr[er]=!!Te,yr[er]=he}function Vr(te,he,Te){var er=Xr(te);_r.push(te),Array.isArray(Te)?(Jr[er]=Te.slice(),At[er]=Te.slice()):Jr[er]=At[er]=Te,lt[er]=he}function st(te){return!!isNaN(te)}Gr(Td,e_),Gr(xm,Q5),Vr(_m,"blendColor",[0,0,0,0]),Vr(Md,"blendEquationSeparate",[$,$]),Vr(Sd,"blendFuncSeparate",[J,B,J,B]),Gr(kd,Sm,!0),Vr(Cd,"depthFunc",ee),Vr(Ed,"depthRange",[0,1]),Vr(Ld,"depthMask",!0),Vr(qd,qd,[!0,!0,!0,!0]),Gr(Jf,Mm),Vr(wm,"cullFace",m),Vr(Dd,Dd,k),Vr(Iv,Iv,1),Gr(Fd,Vv),Vr(Rd,"polygonOffset",[0,0]),Gr($f,Cm),Gr(Kf,Yv),Vr(Ov,"sampleCoverage",[1,!1]),Gr(Pd,r_),Vr(zv,"stencilMask",-1),Vr(Oi,"stencilFunc",[N,0,-1]),Vr(Bv,"stencilOpSeparate",[v,D,D,D]),Vr(Qf,"stencilOpSeparate",[m,D,D,D]),Gr(Uv,km),Vr(Su,"scissor",[0,0,U.drawingBufferWidth,U.drawingBufferHeight]),Vr(hl,hl,[0,0,U.drawingBufferWidth,U.drawingBufferHeight]);var Tt={gl:U,context:ft,strings:le,next:At,current:Jr,draw:xt,elements:nr,buffer:Qe,shader:Fr,attributes:Dr.state,vao:Dr,uniforms:qr,framebuffer:xr,extensions:ce,timer:Zr,isBufferArgs:Pe},zt={primTypes:Ts,compareFuncs:oe,blendFuncs:Re,blendEquations:Sr,stencilOps:ge,glTypes:zn,orientationType:Me};Ar&&(zt.backBuffer=[m],zt.drawBuffer=C(We.maxDrawbuffers,function(te){return te===0?[0]:C(te,function(he){return Ee+he})}));var Kr=0;function vt(){var te=gm({cache:hr}),he=te.link,Te=te.global;te.id=Kr++,te.batchId="0";var er=he(Tt),or=te.shared={props:"a0"};Object.keys(Tt).forEach(function(Le){or[Le]=Te.def(er,".",Le)});var Ye=te.next={},Ue=te.current={};Object.keys(lt).forEach(function(Le){Array.isArray(Jr[Le])&&(Ye[Le]=Te.def(or.next,".",Le),Ue[Le]=Te.def(or.current,".",Le))});var Fe=te.constants={};Object.keys(zt).forEach(function(Le){Fe[Le]=Te.def(JSON.stringify(zt[Le]))}),te.invoke=function(Le,ye){switch(ye.type){case wd:var je=["this",or.context,or.props,te.batchId];return Le.def(he(ye.data),".call(",je.slice(0,Math.max(ye.data.length+1,4)),")");case Rv:return Le.def(or.props,ye.data);case bm:return Le.def(or.context,ye.data);case Pv:return Le.def("this",ye.data);case Nv:return ye.data.append(te,Le),ye.data.ref;case Ad:return ye.data.toString();case Zf:return ye.data.map(function(ur){return te.invoke(Le,ur)})}},te.attribCache={};var xe={};return te.scopeAttrib=function(Le){var ye=le.id(Le);if(ye in xe)return xe[ye];var je=Dr.scope[ye];je||(je=Dr.scope[ye]=new sr);var ur=xe[ye]=he(je);return ur},te}function Rt(te){var he=te.static,Te=te.dynamic,er;if(Hv in he){var or=!!he[Hv];er=Mr(function(Ue,Fe){return or}),er.enable=or}else if(Hv in Te){var Ye=Te[Hv];er=Pr(Ye,function(Ue,Fe){return Ue.invoke(Fe,Ye)})}return er}function Pt(te,he){var Te=te.static,er=te.dynamic;if(ku in Te){var or=Te[ku];return or?(or=xr.getFramebuffer(or),Mr(function(Ue,Fe){var xe=Ue.link(or),Le=Ue.shared;Fe.set(Le.framebuffer,".next",xe);var ye=Le.context;return Fe.set(ye,"."+$l,xe+".width"),Fe.set(ye,"."+Kl,xe+".height"),xe})):Mr(function(Ue,Fe){var xe=Ue.shared;Fe.set(xe.framebuffer,".next","null");var Le=xe.context;return Fe.set(Le,"."+$l,Le+"."+Id),Fe.set(Le,"."+Kl,Le+"."+Od),"null"})}else if(ku in er){var Ye=er[ku];return Pr(Ye,function(Ue,Fe){var xe=Ue.invoke(Fe,Ye),Le=Ue.shared,ye=Le.framebuffer,je=Fe.def(ye,".getFramebuffer(",xe,")");Fe.set(ye,".next",je);var ur=Le.context;return Fe.set(ur,"."+$l,je+"?"+je+".width:"+ur+"."+Id),Fe.set(ur,"."+Kl,je+"?"+je+".height:"+ur+"."+Od),je})}else return null}function Qt(te,he,Te){var er=te.static,or=te.dynamic;function Ye(xe){if(xe in er){var Le=er[xe],ye=!0,je=Le.x|0,ur=Le.y|0,Lr,St;return"width"in Le?Lr=Le.width|0:ye=!1,"height"in Le?St=Le.height|0:ye=!1,new _e(!ye&&he&&he.thisDep,!ye&&he&&he.contextDep,!ye&&he&&he.propDep,function(Mt,bt){var gt=Mt.shared.context,nt=Lr;"width"in Le||(nt=bt.def(gt,".",$l,"-",je));var dt=St;return"height"in Le||(dt=bt.def(gt,".",Kl,"-",ur)),[je,ur,nt,dt]})}else if(xe in or){var ut=or[xe],at=Pr(ut,function(Mt,bt){var gt=Mt.invoke(bt,ut),nt=Mt.shared.context,dt=bt.def(gt,".x|0"),yt=bt.def(gt,".y|0"),Bt=bt.def('"width" in ',gt,"?",gt,".width|0:","(",nt,".",$l,"-",dt,")"),Za=bt.def('"height" in ',gt,"?",gt,".height|0:","(",nt,".",Kl,"-",yt,")");return[dt,yt,Bt,Za]});return he&&(at.thisDep=at.thisDep||he.thisDep,at.contextDep=at.contextDep||he.contextDep,at.propDep=at.propDep||he.propDep),at}else return he?new _e(he.thisDep,he.contextDep,he.propDep,function(Mt,bt){var gt=Mt.shared.context;return[0,0,bt.def(gt,".",$l),bt.def(gt,".",Kl)]}):null}var Ue=Ye(hl);if(Ue){var Fe=Ue;Ue=new _e(Ue.thisDep,Ue.contextDep,Ue.propDep,function(xe,Le){var ye=Fe.append(xe,Le),je=xe.shared.context;return Le.set(je,"."+$5,ye[2]),Le.set(je,"."+K5,ye[3]),ye})}return{viewport:Ue,scissor_box:Ye(Su)}}function cn(te,he){var Te=te.static,er=typeof Te[Cu]=="string"&&typeof Te[Ns]=="string";if(er){if(Object.keys(he.dynamic).length>0)return null;var or=he.static,Ye=Object.keys(or);if(Ye.length>0&&typeof or[Ye[0]]=="number"){for(var Ue=[],Fe=0;Fe<Ye.length;++Fe)Ue.push([or[Ye[Fe]]|0,Ye[Fe]]);return Ue}}return null}function Qn(te,he,Te){var er=te.static,or=te.dynamic;function Ye(ye){if(ye in er){var je=le.id(er[ye]),ur=Mr(function(){return je});return ur.id=je,ur}else if(ye in or){var Lr=or[ye];return Pr(Lr,function(St,ut){var at=St.invoke(ut,Lr),Mt=ut.def(St.shared.strings,".id(",at,")");return Mt})}return null}var Ue=Ye(Cu),Fe=Ye(Ns),xe=null,Le;return cr(Ue)&&cr(Fe)?(xe=Fr.program(Fe.id,Ue.id,null,Te),Le=Mr(function(ye,je){return ye.link(xe)})):Le=new _e(Ue&&Ue.thisDep||Fe&&Fe.thisDep,Ue&&Ue.contextDep||Fe&&Fe.contextDep,Ue&&Ue.propDep||Fe&&Fe.propDep,function(ye,je){var ur=ye.shared.shader,Lr;Ue?Lr=Ue.append(ye,je):Lr=je.def(ur,".",Cu);var St;Fe?St=Fe.append(ye,je):St=je.def(ur,".",Ns);var ut=ur+".program("+St+","+Lr;return je.def(ut+")")}),{frag:Ue,vert:Fe,progVar:Le,program:xe}}function ia(te,he){var Te=te.static,er=te.dynamic,or={},Ye=!1;function Ue(){if(ec in Te){var bt=Te[ec];return bt!==null&&Dr.getVAO(bt)===null&&(bt=Dr.createVAO(bt)),Ye=!0,or.vao=bt,Mr(function(nt){var dt=Dr.getVAO(bt);return dt?nt.link(dt):"null"})}else if(ec in er){Ye=!0;var gt=er[ec];return Pr(gt,function(nt,dt){var yt=nt.invoke(dt,gt);return dt.def(nt.shared.vao+".getVAO("+yt+")")})}return null}var Fe=Ue(),xe=!1;function Le(){if(Is in Te){var bt=Te[Is];if(or.elements=bt,Pe(bt)){var gt=or.elements=nr.create(bt,!0);bt=nr.getElements(gt),xe=!0}else bt&&(bt=nr.getElements(bt),xe=!0);var nt=Mr(function(yt,Bt){if(bt){var Za=yt.link(bt);return yt.ELEMENTS=Za,Za}return yt.ELEMENTS=null,null});return nt.value=bt,nt}else if(Is in er){xe=!0;var dt=er[Is];return Pr(dt,function(yt,Bt){var Za=yt.shared,to=Za.isBufferArgs,Bs=Za.elements,Fu=yt.invoke(Bt,dt),Ru=Bt.def("null"),Oo=Bt.def(to,"(",Fu,")"),Xd=yt.cond(Oo).then(Ru,"=",Bs,".createStream(",Fu,");").else(Ru,"=",Bs,".getElements(",Fu,");");return Bt.entry(Xd),Bt.exit(yt.cond(Oo).then(Bs,".destroyStream(",Ru,");")),yt.ELEMENTS=Ru,Ru})}else if(Ye)return new _e(Fe.thisDep,Fe.contextDep,Fe.propDep,function(yt,Bt){return Bt.def(yt.shared.vao+".currentVAO?"+yt.shared.elements+".getElements("+yt.shared.vao+".currentVAO.elements):null")});return null}var ye=Le();function je(){if(Eu in Te){var bt=Te[Eu];return or.primitive=bt,Mr(function(nt,dt){return Ts[bt]})}else if(Eu in er){var gt=er[Eu];return Pr(gt,function(nt,dt){var yt=nt.constants.primTypes,Bt=nt.invoke(dt,gt);return dt.def(yt,"[",Bt,"]")})}else{if(xe)return cr(ye)?ye.value?Mr(function(nt,dt){return dt.def(nt.ELEMENTS,".primType")}):Mr(function(){return jd}):new _e(ye.thisDep,ye.contextDep,ye.propDep,function(nt,dt){var yt=nt.ELEMENTS;return dt.def(yt,"?",yt,".primType:",jd)});if(Ye)return new _e(Fe.thisDep,Fe.contextDep,Fe.propDep,function(nt,dt){return dt.def(nt.shared.vao+".currentVAO?"+nt.shared.vao+".currentVAO.primitive:"+jd)})}return null}function ur(bt,gt){if(bt in Te){var nt=Te[bt]|0;return gt?or.offset=nt:or.instances=nt,Mr(function(yt,Bt){return gt&&(yt.OFFSET=nt),nt})}else if(bt in er){var dt=er[bt];return Pr(dt,function(yt,Bt){var Za=yt.invoke(Bt,dt);return gt&&(yt.OFFSET=Za),Za})}else if(gt){if(xe)return Mr(function(yt,Bt){return yt.OFFSET=0,0});if(Ye)return new _e(Fe.thisDep,Fe.contextDep,Fe.propDep,function(yt,Bt){return Bt.def(yt.shared.vao+".currentVAO?"+yt.shared.vao+".currentVAO.offset:0")})}else if(Ye)return new _e(Fe.thisDep,Fe.contextDep,Fe.propDep,function(yt,Bt){return Bt.def(yt.shared.vao+".currentVAO?"+yt.shared.vao+".currentVAO.instances:-1")});return null}var Lr=ur(Nd,!0);function St(){if(Lu in Te){var bt=Te[Lu]|0;return or.count=bt,Mr(function(){return bt})}else if(Lu in er){var gt=er[Lu];return Pr(gt,function(Bt,Za){var to=Bt.invoke(Za,gt);return to})}else if(xe)if(cr(ye)){if(ye)return Lr?new _e(Lr.thisDep,Lr.contextDep,Lr.propDep,function(Bt,Za){var to=Za.def(Bt.ELEMENTS,".vertCount-",Bt.OFFSET);return to}):Mr(function(Bt,Za){return Za.def(Bt.ELEMENTS,".vertCount")});var nt=Mr(function(){return-1});return nt}else{var dt=new _e(ye.thisDep||Lr.thisDep,ye.contextDep||Lr.contextDep,ye.propDep||Lr.propDep,function(Bt,Za){var to=Bt.ELEMENTS;return Bt.OFFSET?Za.def(to,"?",to,".vertCount-",Bt.OFFSET,":-1"):Za.def(to,"?",to,".vertCount:-1")});return dt}else if(Ye){var yt=new _e(Fe.thisDep,Fe.contextDep,Fe.propDep,function(Bt,Za){return Za.def(Bt.shared.vao,".currentVAO?",Bt.shared.vao,".currentVAO.count:-1")});return yt}return null}var ut=je(),at=St(),Mt=ur(Mi,!1);return{elements:ye,primitive:ut,count:at,instances:Mt,offset:Lr,vao:Fe,vaoActive:Ye,elementsActive:xe,static:or}}function Ki(te,he){var Te=te.static,er=te.dynamic,or={};return _r.forEach(function(Ye){var Ue=Xr(Ye);function Fe(xe,Le){if(Ye in Te){var ye=xe(Te[Ye]);or[Ue]=Mr(function(){return ye})}else if(Ye in er){var je=er[Ye];or[Ue]=Pr(je,function(ur,Lr){return Le(ur,Lr,ur.invoke(Lr,je))})}}switch(Ye){case Jf:case xm:case Td:case Pd:case kd:case Uv:case Fd:case $f:case Kf:case Ld:return Fe(function(xe){return xe},function(xe,Le,ye){return ye});case Cd:return Fe(function(xe){return oe[xe]},function(xe,Le,ye){var je=xe.constants.compareFuncs;return Le.def(je,"[",ye,"]")});case Ed:return Fe(function(xe){return xe},function(xe,Le,ye){var je=Le.def("+",ye,"[0]"),ur=Le.def("+",ye,"[1]");return[je,ur]});case Sd:return Fe(function(xe){var Le="srcRGB"in xe?xe.srcRGB:xe.src,ye="srcAlpha"in xe?xe.srcAlpha:xe.src,je="dstRGB"in xe?xe.dstRGB:xe.dst,ur="dstAlpha"in xe?xe.dstAlpha:xe.dst;return[Re[Le],Re[je],Re[ye],Re[ur]]},function(xe,Le,ye){var je=xe.constants.blendFuncs;function ur(gt,nt){var dt=Le.def('"',gt,nt,'" in ',ye,"?",ye,".",gt,nt,":",ye,".",gt);return dt}var Lr=ur("src","RGB"),St=ur("dst","RGB"),ut=Le.def(je,"[",Lr,"]"),at=Le.def(je,"[",ur("src","Alpha"),"]"),Mt=Le.def(je,"[",St,"]"),bt=Le.def(je,"[",ur("dst","Alpha"),"]");return[ut,Mt,at,bt]});case Md:return Fe(function(xe){if(typeof xe=="string")return[Sr[xe],Sr[xe]];if(typeof xe=="object")return[Sr[xe.rgb],Sr[xe.alpha]]},function(xe,Le,ye){var je=xe.constants.blendEquations,ur=Le.def(),Lr=Le.def(),St=xe.cond("typeof ",ye,'==="string"');return St.then(ur,"=",Lr,"=",je,"[",ye,"];"),St.else(ur,"=",je,"[",ye,".rgb];",Lr,"=",je,"[",ye,".alpha];"),Le(St),[ur,Lr]});case _m:return Fe(function(xe){return C(4,function(Le){return+xe[Le]})},function(xe,Le,ye){return C(4,function(je){return Le.def("+",ye,"[",je,"]")})});case zv:return Fe(function(xe){return xe|0},function(xe,Le,ye){return Le.def(ye,"|0")});case Oi:return Fe(function(xe){var Le=xe.cmp||"keep",ye=xe.ref||0,je="mask"in xe?xe.mask:-1;return[oe[Le],ye,je]},function(xe,Le,ye){var je=xe.constants.compareFuncs,ur=Le.def('"cmp" in ',ye,"?",je,"[",ye,".cmp]",":",D),Lr=Le.def(ye,".ref|0"),St=Le.def('"mask" in ',ye,"?",ye,".mask|0:-1");return[ur,Lr,St]});case Bv:case Qf:return Fe(function(xe){var Le=xe.fail||"keep",ye=xe.zfail||"keep",je=xe.zpass||"keep";return[Ye===Qf?m:v,ge[Le],ge[ye],ge[je]]},function(xe,Le,ye){var je=xe.constants.stencilOps;function ur(Lr){return Le.def('"',Lr,'" in ',ye,"?",je,"[",ye,".",Lr,"]:",D)}return[Ye===Qf?m:v,ur("fail"),ur("zfail"),ur("zpass")]});case Rd:return Fe(function(xe){var Le=xe.factor|0,ye=xe.units|0;return[Le,ye]},function(xe,Le,ye){var je=Le.def(ye,".factor|0"),ur=Le.def(ye,".units|0");return[je,ur]});case wm:return Fe(function(xe){var Le=0;return xe==="front"?Le=v:xe==="back"&&(Le=m),Le},function(xe,Le,ye){return Le.def(ye,'==="front"?',v,":",m)});case Iv:return Fe(function(xe){return xe},function(xe,Le,ye){return ye});case Dd:return Fe(function(xe){return Me[xe]},function(xe,Le,ye){return Le.def(ye+'==="cw"?'+A+":"+k)});case qd:return Fe(function(xe){return xe.map(function(Le){return!!Le})},function(xe,Le,ye){return C(4,function(je){return"!!"+ye+"["+je+"]"})});case Ov:return Fe(function(xe){var Le="value"in xe?xe.value:1,ye=!!xe.invert;return[Le,ye]},function(xe,Le,ye){var je=Le.def('"value" in ',ye,"?+",ye,".value:1"),ur=Le.def("!!",ye,".invert");return[je,ur]})}}),or}function Na(te,he){var Te=te.static,er=te.dynamic,or={};return Object.keys(Te).forEach(function(Ye){var Ue=Te[Ye],Fe;if(typeof Ue=="number"||typeof Ue=="boolean")Fe=Mr(function(){return Ue});else if(typeof Ue=="function"){var xe=Ue._reglType;xe==="texture2d"||xe==="textureCube"?Fe=Mr(function(Le){return Le.link(Ue)}):(xe==="framebuffer"||xe==="framebufferCube")&&(Fe=Mr(function(Le){return Le.link(Ue.color[0])}))}else Vl(Ue)&&(Fe=Mr(function(Le){var ye=Le.global.def("[",C(Ue.length,function(je){return Ue[je]}),"]");return ye}));Fe.value=Ue,or[Ye]=Fe}),Object.keys(er).forEach(function(Ye){var Ue=er[Ye];or[Ye]=Pr(Ue,function(Fe,xe){return Fe.invoke(xe,Ue)})}),or}function Si(te,he){var Te=te.static,er=te.dynamic,or={};return Object.keys(Te).forEach(function(Ye){var Ue=Te[Ye],Fe=le.id(Ye),xe=new sr;if(Pe(Ue))xe.state=Jl,xe.buffer=Qe.getBuffer(Qe.create(Ue,Os,!1,!0)),xe.type=0;else{var Le=Qe.getBuffer(Ue);if(Le)xe.state=Jl,xe.buffer=Le,xe.type=0;else if("constant"in Ue){var ye=Ue.constant;xe.buffer="null",xe.state=Xf,typeof ye=="number"?xe.x=ye:Ps.forEach(function(Mt,bt){bt<ye.length&&(xe[Mt]=ye[bt])})}else{Pe(Ue.buffer)?Le=Qe.getBuffer(Qe.create(Ue.buffer,Os,!1,!0)):Le=Qe.getBuffer(Ue.buffer);var je=Ue.offset|0,ur=Ue.stride|0,Lr=Ue.size|0,St=!!Ue.normalized,ut=0;"type"in Ue&&(ut=zn[Ue.type]);var at=Ue.divisor|0;xe.buffer=Le,xe.state=Jl,xe.size=Lr,xe.normalized=St,xe.type=ut||Le.dtype,xe.offset=je,xe.stride=ur,xe.divisor=at}}or[Ye]=Mr(function(Mt,bt){var gt=Mt.attribCache;if(Fe in gt)return gt[Fe];var nt={isStream:!1};return Object.keys(xe).forEach(function(dt){nt[dt]=xe[dt]}),xe.buffer&&(nt.buffer=Mt.link(xe.buffer),nt.type=nt.type||nt.buffer+".dtype"),gt[Fe]=nt,nt})}),Object.keys(er).forEach(function(Ye){var Ue=er[Ye];function Fe(xe,Le){var ye=xe.invoke(Le,Ue),je=xe.shared,ur=xe.constants,Lr=je.isBufferArgs,St=je.buffer,ut={isStream:Le.def(!1)},at=new sr;at.state=Jl,Object.keys(at).forEach(function(nt){ut[nt]=Le.def(""+at[nt])});var Mt=ut.buffer,bt=ut.type;Le("if(",Lr,"(",ye,")){",ut.isStream,"=true;",Mt,"=",St,".createStream(",Os,",",ye,");",bt,"=",Mt,".dtype;","}else{",Mt,"=",St,".getBuffer(",ye,");","if(",Mt,"){",bt,"=",Mt,".dtype;",'}else if("constant" in ',ye,"){",ut.state,"=",Xf,";","if(typeof "+ye+'.constant === "number"){',ut[Ps[0]],"=",ye,".constant;",Ps.slice(1).map(function(nt){return ut[nt]}).join("="),"=0;","}else{",Ps.map(function(nt,dt){return ut[nt]+"="+ye+".constant.length>"+dt+"?"+ye+".constant["+dt+"]:0;"}).join(""),"}}else{","if(",Lr,"(",ye,".buffer)){",Mt,"=",St,".createStream(",Os,",",ye,".buffer);","}else{",Mt,"=",St,".getBuffer(",ye,".buffer);","}",bt,'="type" in ',ye,"?",ur.glTypes,"[",ye,".type]:",Mt,".dtype;",ut.normalized,"=!!",ye,".normalized;");function gt(nt){Le(ut[nt],"=",ye,".",nt,"|0;")}return gt("size"),gt("offset"),gt("stride"),gt("divisor"),Le("}}"),Le.exit("if(",ut.isStream,"){",St,".destroyStream(",Mt,");","}"),ut}or[Ye]=Pr(Ue,Fe)}),or}function zi(te){var he=te.static,Te=te.dynamic,er={};return Object.keys(he).forEach(function(or){var Ye=he[or];er[or]=Mr(function(Ue,Fe){return typeof Ye=="number"||typeof Ye=="boolean"?""+Ye:Ue.link(Ye)})}),Object.keys(Te).forEach(function(or){var Ye=Te[or];er[or]=Pr(Ye,function(Ue,Fe){return Ue.invoke(Fe,Ye)})}),er}function Qi(te,he,Te,er,or){var Ye=te.static,Ue=te.dynamic,Fe=cn(te,he),xe=Pt(te,or),Le=Qt(te,xe,or),ye=ia(te,or),je=Ki(te,or),ur=Qn(te,or,Fe);function Lr(gt){var nt=Le[gt];nt&&(je[gt]=nt)}Lr(hl),Lr(Xr(Su));var St=Object.keys(je).length>0,ut={framebuffer:xe,draw:ye,shader:ur,state:je,dirty:St,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(ut.profile=Rt(te,or),ut.uniforms=Na(Te,or),ut.drawVAO=ut.scopeVAO=ye.vao,!ut.drawVAO&&ur.program&&!Fe&&ce.angle_instanced_arrays&&ye.static.elements){var at=!0,Mt=ur.program.attributes.map(function(gt){var nt=he.static[gt];return at=at&&!!nt,nt});if(at&&Mt.length>0){var bt=Dr.getVAO(Dr.createVAO({attributes:Mt,elements:ye.static.elements}));ut.drawVAO=new _e(null,null,null,function(gt,nt){return gt.link(bt)}),ut.useVAO=!0}}return Fe?ut.useVAO=!0:ut.attributes=Si(he,or),ut.context=zi(er,or),ut}function Gn(te,he,Te){var er=te.shared,or=er.context,Ye=te.scope();Object.keys(Te).forEach(function(Ue){he.save(or,"."+Ue);var Fe=Te[Ue],xe=Fe.append(te,he);Array.isArray(xe)?Ye(or,".",Ue,"=[",xe.join(),"];"):Ye(or,".",Ue,"=",xe,";")}),he(Ye)}function Vn(te,he,Te,er){var or=te.shared,Ye=or.gl,Ue=or.framebuffer,Fe;Ar&&(Fe=he.def(or.extensions,".webgl_draw_buffers"));var xe=te.constants,Le=xe.drawBuffer,ye=xe.backBuffer,je;Te?je=Te.append(te,he):je=he.def(Ue,".next"),er||he("if(",je,"!==",Ue,".cur){"),he("if(",je,"){",Ye,".bindFramebuffer(",re,",",je,".framebuffer);"),Ar&&he(Fe,".drawBuffersWEBGL(",Le,"[",je,".colorAttachments.length]);"),he("}else{",Ye,".bindFramebuffer(",re,",null);"),Ar&&he(Fe,".drawBuffersWEBGL(",ye,");"),he("}",Ue,".cur=",je,";"),er||he("}")}function ei(te,he,Te){var er=te.shared,or=er.gl,Ye=te.current,Ue=te.next,Fe=er.current,xe=er.next,Le=te.cond(Fe,".dirty");_r.forEach(function(ye){var je=Xr(ye);if(!(je in Te.state)){var ur,Lr;if(je in Ue){ur=Ue[je],Lr=Ye[je];var St=C(Jr[je].length,function(at){return Le.def(ur,"[",at,"]")});Le(te.cond(St.map(function(at,Mt){return at+"!=="+Lr+"["+Mt+"]"}).join("||")).then(or,".",lt[je],"(",St,");",St.map(function(at,Mt){return Lr+"["+Mt+"]="+at}).join(";"),";"))}else{ur=Le.def(xe,".",je);var ut=te.cond(ur,"!==",Fe,".",je);Le(ut),je in yr?ut(te.cond(ur).then(or,".enable(",yr[je],");").else(or,".disable(",yr[je],");"),Fe,".",je,"=",ur,";"):ut(or,".",lt[je],"(",ur,");",Fe,".",je,"=",ur,";")}}}),Object.keys(Te.state).length===0&&Le(Fe,".dirty=false;"),he(Le)}function Wt(te,he,Te,er){var or=te.shared,Ye=te.current,Ue=or.current,Fe=or.gl,xe;Ne(Object.keys(Te)).forEach(function(Le){var ye=Te[Le];if(!(er&&!er(ye))){var je=ye.append(te,he);if(yr[Le]){var ur=yr[Le];cr(ye)?(xe=te.link(je,{stable:!0}),he(te.cond(xe).then(Fe,".enable(",ur,");").else(Fe,".disable(",ur,");")),he(Ue,".",Le,"=",xe,";")):(he(te.cond(je).then(Fe,".enable(",ur,");").else(Fe,".disable(",ur,");")),he(Ue,".",Le,"=",je,";"))}else if(Vl(je)){var Lr=Ye[Le];he(Fe,".",lt[Le],"(",je,");",je.map(function(St,ut){return Lr+"["+ut+"]="+St}).join(";"),";")}else cr(ye)?(xe=te.link(je,{stable:!0}),he(Fe,".",lt[Le],"(",xe,");",Ue,".",Le,"=",xe,";")):he(Fe,".",lt[Le],"(",je,");",Ue,".",Le,"=",je,";")}})}function si(te,he){Nr&&(te.instancing=he.def(te.shared.extensions,".angle_instanced_arrays"))}function Ua(te,he,Te,er,or){var Ye=te.shared,Ue=te.stats,Fe=Ye.current,xe=Ye.timer,Le=Te.profile;function ye(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var je,ur;function Lr(gt){je=he.def(),gt(je,"=",ye(),";"),typeof or=="string"?gt(Ue,".count+=",or,";"):gt(Ue,".count++;"),Zr&&(er?(ur=he.def(),gt(ur,"=",xe,".getNumPendingQueries();")):gt(xe,".beginQuery(",Ue,");"))}function St(gt){gt(Ue,".cpuTime+=",ye(),"-",je,";"),Zr&&(er?gt(xe,".pushScopeStats(",ur,",",xe,".getNumPendingQueries(),",Ue,");"):gt(xe,".endQuery();"))}function ut(gt){var nt=he.def(Fe,".profile");he(Fe,".profile=",gt,";"),he.exit(Fe,".profile=",nt,";")}var at;if(Le){if(cr(Le)){Le.enable?(Lr(he),St(he.exit),ut("true")):ut("false");return}at=Le.append(te,he),ut(at)}else at=he.def(Fe,".profile");var Mt=te.block();Lr(Mt),he("if(",at,"){",Mt,"}");var bt=te.block();St(bt),he.exit("if(",at,"){",bt,"}")}function Bi(te,he,Te,er,or){var Ye=te.shared;function Ue(xe){switch(xe){case zs:case qu:case Du:return 2;case en:case rc:case Xv:return 3;case Wv:case Ud:case Hd:return 4;default:return 1}}function Fe(xe,Le,ye){var je=Ye.gl,ur=he.def(xe,".location"),Lr=he.def(Ye.attributes,"[",ur,"]"),St=ye.state,ut=ye.buffer,at=[ye.x,ye.y,ye.z,ye.w],Mt=["buffer","normalized","offset","stride"];function bt(){he("if(!",Lr,".buffer){",je,".enableVertexAttribArray(",ur,");}");var nt=ye.type,dt;if(ye.size?dt=he.def(ye.size,"||",Le):dt=Le,he("if(",Lr,".type!==",nt,"||",Lr,".size!==",dt,"||",Mt.map(function(Bt){return Lr+"."+Bt+"!=="+ye[Bt]}).join("||"),"){",je,".bindBuffer(",Os,",",ut,".buffer);",je,".vertexAttribPointer(",[ur,dt,nt,ye.normalized,ye.stride,ye.offset],");",Lr,".type=",nt,";",Lr,".size=",dt,";",Mt.map(function(Bt){return Lr+"."+Bt+"="+ye[Bt]+";"}).join(""),"}"),Nr){var yt=ye.divisor;he("if(",Lr,".divisor!==",yt,"){",te.instancing,".vertexAttribDivisorANGLE(",[ur,yt],");",Lr,".divisor=",yt,";}")}}function gt(){he("if(",Lr,".buffer){",je,".disableVertexAttribArray(",ur,");",Lr,".buffer=null;","}if(",Ps.map(function(nt,dt){return Lr+"."+nt+"!=="+at[dt]}).join("||"),"){",je,".vertexAttrib4f(",ur,",",at,");",Ps.map(function(nt,dt){return Lr+"."+nt+"="+at[dt]+";"}).join(""),"}")}St===Jl?bt():St===Xf?gt():(he("if(",St,"===",Jl,"){"),bt(),he("}else{"),gt(),he("}"))}er.forEach(function(xe){var Le=xe.name,ye=Te.attributes[Le],je;if(ye){if(!or(ye))return;je=ye.append(te,he)}else{if(!or(Yr))return;var ur=te.scopeAttrib(Le);je={},Object.keys(new sr).forEach(function(Lr){je[Lr]=he.def(ur,".",Lr)})}Fe(te.link(xe),Ue(xe.info.type),je)})}function eo(te,he,Te,er,or,Ye){for(var Ue=te.shared,Fe=Ue.gl,xe,Le=0;Le<er.length;++Le){var ye=er[Le],je=ye.name,ur=ye.info.type,Lr=Te.uniforms[je],St=te.link(ye),ut=St+".location",at;if(Lr){if(!or(Lr))continue;if(cr(Lr)){var Mt=Lr.value;if(ur===tc||ur===Wd){var bt=te.link(Mt._texture||Mt.color[0]._texture);he(Fe,".uniform1i(",ut,",",bt+".bind());"),he.exit(bt,".unbind();")}else if(ur===Gd||ur===Vd||ur===Yd){var gt=te.global.def("new Float32Array(["+Array.prototype.slice.call(Mt)+"])"),nt=2;ur===Vd?nt=3:ur===Yd&&(nt=4),he(Fe,".uniformMatrix",nt,"fv(",ut,",false,",gt,");")}else{switch(ur){case Bd:xe="1f";break;case zs:xe="2f";break;case en:xe="3f";break;case Wv:xe="4f";break;case jv:xe="1i";break;case Ql:xe="1i";break;case Du:xe="2i";break;case qu:xe="2i";break;case Xv:xe="3i";break;case rc:xe="3i";break;case Hd:xe="4i";break;case Ud:xe="4i";break}he(Fe,".uniform",xe,"(",ut,",",Vl(Mt)?Array.prototype.slice.call(Mt):Mt,");")}continue}else at=Lr.append(te,he)}else{if(!or(Yr))continue;at=he.def(Ue.uniforms,"[",le.id(je),"]")}ur===tc?he("if(",at,"&&",at,'._reglType==="framebuffer"){',at,"=",at,".color[0];","}"):ur===Wd&&he("if(",at,"&&",at,'._reglType==="framebufferCube"){',at,"=",at,".color[0];","}");var dt=1;switch(ur){case tc:case Wd:var yt=he.def(at,"._texture");he(Fe,".uniform1i(",ut,",",yt,".bind());"),he.exit(yt,".unbind();");continue;case Ql:case jv:xe="1i";break;case qu:case Du:xe="2i",dt=2;break;case rc:case Xv:xe="3i",dt=3;break;case Ud:case Hd:xe="4i",dt=4;break;case Bd:xe="1f";break;case zs:xe="2f",dt=2;break;case en:xe="3f",dt=3;break;case Wv:xe="4f",dt=4;break;case Gd:xe="Matrix2fv";break;case Vd:xe="Matrix3fv";break;case Yd:xe="Matrix4fv";break}if(xe.charAt(0)==="M"){he(Fe,".uniform",xe,"(",ut,",");var Bt=Math.pow(ur-Gd+2,2),Za=te.global.def("new Float32Array(",Bt,")");Array.isArray(at)?he("false,(",C(Bt,function(Oo){return Za+"["+Oo+"]="+at[Oo]}),",",Za,")"):he("false,(Array.isArray(",at,")||",at," instanceof Float32Array)?",at,":(",C(Bt,function(Oo){return Za+"["+Oo+"]="+at+"["+Oo+"]"}),",",Za,")"),he(");")}else if(dt>1){for(var to=[],Bs=[],Fu=0;Fu<dt;++Fu)Array.isArray(at)?Bs.push(at[Fu]):Bs.push(he.def(at+"["+Fu+"]")),Ye&&to.push(he.def());Ye&&he("if(!",te.batchId,"||",to.map(function(Oo,Xd){return Oo+"!=="+Bs[Xd]}).join("||"),"){",to.map(function(Oo,Xd){return Oo+"="+Bs[Xd]+";"}).join("")),he(Fe,".uniform",xe,"(",ut,",",Bs.join(","),");"),Ye&&he("}")}else{if(Ye){var Ru=he.def();he("if(!",te.batchId,"||",Ru,"!==",at,"){",Ru,"=",at,";")}he(Fe,".uniform",xe,"(",ut,",",at,");"),Ye&&he("}")}}}function ro(te,he,Te,er){var or=te.shared,Ye=or.gl,Ue=or.draw,Fe=er.draw;function xe(){var dt=Fe.elements,yt,Bt=he;return dt?((dt.contextDep&&er.contextDynamic||dt.propDep)&&(Bt=Te),yt=dt.append(te,Bt),Fe.elementsActive&&Bt("if("+yt+")"+Ye+".bindBuffer("+zd+","+yt+".buffer.buffer);")):(yt=Bt.def(),Bt(yt,"=",Ue,".",Is,";","if(",yt,"){",Ye,".bindBuffer(",zd,",",yt,".buffer.buffer);}","else if(",or.vao,".currentVAO){",yt,"=",te.shared.elements+".getElements("+or.vao,".currentVAO.elements);",rt?"":"if("+yt+")"+Ye+".bindBuffer("+zd+","+yt+".buffer.buffer);","}")),yt}function Le(){var dt=Fe.count,yt,Bt=he;return dt?((dt.contextDep&&er.contextDynamic||dt.propDep)&&(Bt=Te),yt=dt.append(te,Bt)):yt=Bt.def(Ue,".",Lu),yt}var ye=xe();function je(dt){var yt=Fe[dt];return yt?yt.contextDep&&er.contextDynamic||yt.propDep?yt.append(te,Te):yt.append(te,he):he.def(Ue,".",dt)}var ur=je(Eu),Lr=je(Nd),St=Le();if(typeof St=="number"){if(St===0)return}else Te("if(",St,"){"),Te.exit("}");var ut,at;Nr&&(ut=je(Mi),at=te.instancing);var Mt=ye+".type",bt=Fe.elements&&cr(Fe.elements)&&!Fe.vaoActive;function gt(){function dt(){Te(at,".drawElementsInstancedANGLE(",[ur,St,Mt,Lr+"<<(("+Mt+"-"+_d+")>>1)",ut],");")}function yt(){Te(at,".drawArraysInstancedANGLE(",[ur,Lr,St,ut],");")}ye&&ye!=="null"?bt?dt():(Te("if(",ye,"){"),dt(),Te("}else{"),yt(),Te("}")):yt()}function nt(){function dt(){Te(Ye+".drawElements("+[ur,St,Mt,Lr+"<<(("+Mt+"-"+_d+")>>1)"]+");")}function yt(){Te(Ye+".drawArrays("+[ur,Lr,St]+");")}ye&&ye!=="null"?bt?dt():(Te("if(",ye,"){"),dt(),Te("}else{"),yt(),Te("}")):yt()}Nr&&(typeof ut!="number"||ut>=0)?typeof ut=="string"?(Te("if(",ut,">0){"),gt(),Te("}else if(",ut,"<0){"),nt(),Te("}")):gt():nt()}function Ht(te,he,Te,er,or){var Ye=vt(),Ue=Ye.proc("body",or);return Nr&&(Ye.instancing=Ue.def(Ye.shared.extensions,".angle_instanced_arrays")),te(Ye,Ue,Te,er),Ye.compile().body}function ha(te,he,Te,er){si(te,he),Te.useVAO?Te.drawVAO?he(te.shared.vao,".setVAO(",Te.drawVAO.append(te,he),");"):he(te.shared.vao,".setVAO(",te.shared.vao,".targetVAO);"):(he(te.shared.vao,".setVAO(null);"),Bi(te,he,Te,er.attributes,function(){return!0})),eo(te,he,Te,er.uniforms,function(){return!0},!1),ro(te,he,he,Te)}function Xa(te,he){var Te=te.proc("draw",1);si(te,Te),Gn(te,Te,he.context),Vn(te,Te,he.framebuffer),ei(te,Te,he),Wt(te,Te,he.state),Ua(te,Te,he,!1,!0);var er=he.shader.progVar.append(te,Te);if(Te(te.shared.gl,".useProgram(",er,".program);"),he.shader.program)ha(te,Te,he,he.shader.program);else{Te(te.shared.vao,".setVAO(null);");var or=te.global.def("{}"),Ye=Te.def(er,".id"),Ue=Te.def(or,"[",Ye,"]");Te(te.cond(Ue).then(Ue,".call(this,a0);").else(Ue,"=",or,"[",Ye,"]=",te.link(function(Fe){return Ht(ha,te,he,Fe,1)}),"(",er,");",Ue,".call(this,a0);"))}Object.keys(he.state).length>0&&Te(te.shared.current,".dirty=true;"),te.shared.vao&&Te(te.shared.vao,".setVAO(null);")}function ue(te,he,Te,er){te.batchId="a1",si(te,he);function or(){return!0}Bi(te,he,Te,er.attributes,or),eo(te,he,Te,er.uniforms,or,!1),ro(te,he,he,Te)}function rr(te,he,Te,er){si(te,he);var or=Te.contextDep,Ye=he.def(),Ue="a0",Fe="a1",xe=he.def();te.shared.props=xe,te.batchId=Ye;var Le=te.scope(),ye=te.scope();he(Le.entry,"for(",Ye,"=0;",Ye,"<",Fe,";++",Ye,"){",xe,"=",Ue,"[",Ye,"];",ye,"}",Le.exit);function je(Mt){return Mt.contextDep&&or||Mt.propDep}function ur(Mt){return!je(Mt)}if(Te.needsContext&&Gn(te,ye,Te.context),Te.needsFramebuffer&&Vn(te,ye,Te.framebuffer),Wt(te,ye,Te.state,je),Te.profile&&je(Te.profile)&&Ua(te,ye,Te,!1,!0),er)Te.useVAO?Te.drawVAO?je(Te.drawVAO)?ye(te.shared.vao,".setVAO(",Te.drawVAO.append(te,ye),");"):Le(te.shared.vao,".setVAO(",Te.drawVAO.append(te,Le),");"):Le(te.shared.vao,".setVAO(",te.shared.vao,".targetVAO);"):(Le(te.shared.vao,".setVAO(null);"),Bi(te,Le,Te,er.attributes,ur),Bi(te,ye,Te,er.attributes,je)),eo(te,Le,Te,er.uniforms,ur,!1),eo(te,ye,Te,er.uniforms,je,!0),ro(te,Le,ye,Te);else{var Lr=te.global.def("{}"),St=Te.shader.progVar.append(te,ye),ut=ye.def(St,".id"),at=ye.def(Lr,"[",ut,"]");ye(te.shared.gl,".useProgram(",St,".program);","if(!",at,"){",at,"=",Lr,"[",ut,"]=",te.link(function(Mt){return Ht(ue,te,Te,Mt,2)}),"(",St,");}",at,".call(this,a0[",Ye,"],",Ye,");")}}function ar(te,he){var Te=te.proc("batch",2);te.batchId="0",si(te,Te);var er=!1,or=!0;Object.keys(he.context).forEach(function(Lr){er=er||he.context[Lr].propDep}),er||(Gn(te,Te,he.context),or=!1);var Ye=he.framebuffer,Ue=!1;Ye?(Ye.propDep?er=Ue=!0:Ye.contextDep&&er&&(Ue=!0),Ue||Vn(te,Te,Ye)):Vn(te,Te,null),he.state.viewport&&he.state.viewport.propDep&&(er=!0);function Fe(Lr){return Lr.contextDep&&er||Lr.propDep}ei(te,Te,he),Wt(te,Te,he.state,function(Lr){return!Fe(Lr)}),(!he.profile||!Fe(he.profile))&&Ua(te,Te,he,!1,"a1"),he.contextDep=er,he.needsContext=or,he.needsFramebuffer=Ue;var xe=he.shader.progVar;if(xe.contextDep&&er||xe.propDep)rr(te,Te,he,null);else{var Le=xe.append(te,Te);if(Te(te.shared.gl,".useProgram(",Le,".program);"),he.shader.program)rr(te,Te,he,he.shader.program);else{Te(te.shared.vao,".setVAO(null);");var ye=te.global.def("{}"),je=Te.def(Le,".id"),ur=Te.def(ye,"[",je,"]");Te(te.cond(ur).then(ur,".call(this,a0,a1);").else(ur,"=",ye,"[",je,"]=",te.link(function(Lr){return Ht(rr,te,he,Lr,2)}),"(",Le,");",ur,".call(this,a0,a1);"))}}Object.keys(he.state).length>0&&Te(te.shared.current,".dirty=true;"),te.shared.vao&&Te(te.shared.vao,".setVAO(null);")}function pt(te,he){var Te=te.proc("scope",3);te.batchId="a2";var er=te.shared,or=er.current;if(Gn(te,Te,he.context),he.framebuffer&&he.framebuffer.append(te,Te),Ne(Object.keys(he.state)).forEach(function(Fe){var xe=he.state[Fe],Le=xe.append(te,Te);Vl(Le)?Le.forEach(function(ye,je){st(ye)?Te.set(te.next[Fe],"["+je+"]",ye):Te.set(te.next[Fe],"["+je+"]",te.link(ye,{stable:!0}))}):cr(xe)?Te.set(er.next,"."+Fe,te.link(Le,{stable:!0})):Te.set(er.next,"."+Fe,Le)}),Ua(te,Te,he,!0,!0),[Is,Nd,Lu,Mi,Eu].forEach(function(Fe){var xe=he.draw[Fe];if(xe){var Le=xe.append(te,Te);st(Le)?Te.set(er.draw,"."+Fe,Le):Te.set(er.draw,"."+Fe,te.link(Le),{stable:!0})}}),Object.keys(he.uniforms).forEach(function(Fe){var xe=he.uniforms[Fe].append(te,Te);Array.isArray(xe)&&(xe="["+xe.map(function(Le){return st(Le)?Le:te.link(Le,{stable:!0})})+"]"),Te.set(er.uniforms,"["+te.link(le.id(Fe),{stable:!0})+"]",xe)}),Object.keys(he.attributes).forEach(function(Fe){var xe=he.attributes[Fe].append(te,Te),Le=te.scopeAttrib(Fe);Object.keys(new sr).forEach(function(ye){Te.set(Le,"."+ye,xe[ye])})}),he.scopeVAO){var Ye=he.scopeVAO.append(te,Te);st(Ye)?Te.set(er.vao,".targetVAO",Ye):Te.set(er.vao,".targetVAO",te.link(Ye,{stable:!0}))}function Ue(Fe){var xe=he.shader[Fe];if(xe){var Le=xe.append(te,Te);st(Le)?Te.set(er.shader,"."+Fe,Le):Te.set(er.shader,"."+Fe,te.link(Le,{stable:!0}))}}Ue(Ns),Ue(Cu),Object.keys(he.state).length>0&&(Te(or,".dirty=true;"),Te.exit(or,".dirty=true;")),Te("a1(",te.shared.context,",a0,",te.batchId,");")}function ua(te){if(!(typeof te!="object"||Vl(te))){for(var he=Object.keys(te),Te=0;Te<he.length;++Te)if(h.isDynamic(te[he[Te]]))return!0;return!1}}function Ia(te,he,Te){var er=he.static[Te];if(!er||!ua(er))return;var or=te.global,Ye=Object.keys(er),Ue=!1,Fe=!1,xe=!1,Le=te.global.def("{}");Ye.forEach(function(je){var ur=er[je];if(h.isDynamic(ur)){typeof ur=="function"&&(ur=er[je]=h.unbox(ur));var Lr=Pr(ur,null);Ue=Ue||Lr.thisDep,xe=xe||Lr.propDep,Fe=Fe||Lr.contextDep}else{switch(or(Le,".",je,"="),typeof ur){case"number":or(ur);break;case"string":or('"',ur,'"');break;case"object":Array.isArray(ur)&&or("[",ur.join(),"]");break;default:or(te.link(ur));break}or(";")}});function ye(je,ur){Ye.forEach(function(Lr){var St=er[Lr];if(h.isDynamic(St)){var ut=je.invoke(ur,St);ur(Le,".",Lr,"=",ut,";")}})}he.dynamic[Te]=new h.DynamicVariable(Nv,{thisDep:Ue,contextDep:Fe,propDep:xe,ref:Le,append:ye}),delete he.static[Te]}function ht(te,he,Te,er,or){var Ye=vt();Ye.stats=Ye.link(or),Object.keys(he.static).forEach(function(Fe){Ia(Ye,he,Fe)}),Tm.forEach(function(Fe){Ia(Ye,te,Fe)});var Ue=Qi(te,he,Te,er,Ye);return Ue.shader.program&&(Ue.shader.program.attributes.sort(function(Fe,xe){return Fe.name<xe.name?-1:1}),Ue.shader.program.uniforms.sort(function(Fe,xe){return Fe.name<xe.name?-1:1})),Xa(Ye,Ue),pt(Ye,Ue),ar(Ye,Ue),e(Ye.compile(),{destroy:function(){Ue.shader.program.destroy()}})}return{next:At,current:Jr,procs:function(){var te=vt(),he=te.proc("poll"),Te=te.proc("refresh"),er=te.block();he(er),Te(er);var or=te.shared,Ye=or.gl,Ue=or.next,Fe=or.current;er(Fe,".dirty=false;"),Vn(te,he),Vn(te,Te,null,!0);var xe;Nr&&(xe=te.link(Nr)),ce.oes_vertex_array_object&&Te(te.link(ce.oes_vertex_array_object),".bindVertexArrayOES(null);");var Le=Te.def(or.attributes),ye=Te.def(0),je=te.cond(ye,".buffer");je.then(Ye,".enableVertexAttribArray(i);",Ye,".bindBuffer(",Os,",",ye,".buffer.buffer);",Ye,".vertexAttribPointer(i,",ye,".size,",ye,".type,",ye,".normalized,",ye,".stride,",ye,".offset);").else(Ye,".disableVertexAttribArray(i);",Ye,".vertexAttrib4f(i,",ye,".x,",ye,".y,",ye,".z,",ye,".w);",ye,".buffer=null;");var ur=te.link(We.maxAttributes,{stable:!0});return Te("for(var i=0;i<",ur,";++i){",ye,"=",Le,"[i];",je,"}"),Nr&&Te("for(var i=0;i<",ur,";++i){",xe,".vertexAttribDivisorANGLE(i,",Le,"[i].divisor);","}"),Te(te.shared.vao,".currentVAO=null;",te.shared.vao,".setVAO(",te.shared.vao,".targetVAO);"),Object.keys(yr).forEach(function(Lr){var St=yr[Lr],ut=er.def(Ue,".",Lr),at=te.block();at("if(",ut,"){",Ye,".enable(",St,")}else{",Ye,".disable(",St,")}",Fe,".",Lr,"=",ut,";"),Te(at),he("if(",ut,"!==",Fe,".",Lr,"){",at,"}")}),Object.keys(lt).forEach(function(Lr){var St=lt[Lr],ut=Jr[Lr],at,Mt,bt=te.block();if(bt(Ye,".",St,"("),Vl(ut)){var gt=ut.length;at=te.global.def(Ue,".",Lr),Mt=te.global.def(Fe,".",Lr),bt(C(gt,function(nt){return at+"["+nt+"]"}),");",C(gt,function(nt){return Mt+"["+nt+"]="+at+"["+nt+"];"}).join("")),he("if(",C(gt,function(nt){return at+"["+nt+"]!=="+Mt+"["+nt+"]"}).join("||"),"){",bt,"}")}else at=er.def(Ue,".",Lr),Mt=er.def(Fe,".",Lr),bt(at,");",Fe,".",Lr,"=",at,";"),he("if(",at,"!==",Mt,"){",bt,"}");Te(bt)}),te.compile()}(),compile:ht}}function ot(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Dt=34918,ct=34919,Ct=35007,va=function(U,le){if(!le.ext_disjoint_timer_query)return null;var ce=[];function We(){return ce.pop()||le.ext_disjoint_timer_query.createQueryEXT()}function Qe(Sr){ce.push(Sr)}var nr=[];function Ke(Sr){var Nr=We();le.ext_disjoint_timer_query.beginQueryEXT(Ct,Nr),nr.push(Nr),Zr(nr.length-1,nr.length,Sr)}function xr(){le.ext_disjoint_timer_query.endQueryEXT(Ct)}function qr(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Dr=[];function Fr(){return Dr.pop()||new qr}function xt(Sr){Dr.push(Sr)}var ft=[];function Zr(Sr,Nr,Ar){var rt=Fr();rt.startQueryIndex=Sr,rt.endQueryIndex=Nr,rt.sum=0,rt.stats=Ar,ft.push(rt)}var hr=[],Be=[];function sr(){var Sr,Nr,Ar=nr.length;if(Ar!==0){Be.length=Math.max(Be.length,Ar+1),hr.length=Math.max(hr.length,Ar+1),hr[0]=0,Be[0]=0;var rt=0;for(Sr=0,Nr=0;Nr<nr.length;++Nr){var Jr=nr[Nr];le.ext_disjoint_timer_query.getQueryObjectEXT(Jr,ct)?(rt+=le.ext_disjoint_timer_query.getQueryObjectEXT(Jr,Dt),Qe(Jr)):nr[Sr++]=Jr,hr[Nr+1]=rt,Be[Nr+1]=Sr}for(nr.length=Sr,Sr=0,Nr=0;Nr<ft.length;++Nr){var At=ft[Nr],_r=At.startQueryIndex,yr=At.endQueryIndex;At.sum+=hr[yr]-hr[_r];var lt=Be[_r],Xr=Be[yr];Xr===lt?(At.stats.gpuTime+=At.sum/1e6,xt(At)):(At.startQueryIndex=lt,At.endQueryIndex=Xr,ft[Sr++]=At)}ft.length=Sr}}return{beginQuery:Ke,endQuery:xr,pushScopeStats:Zr,update:sr,getNumPendingQueries:function(){return nr.length},clear:function(){ce.push.apply(ce,nr);for(var Sr=0;Sr<ce.length;Sr++)le.ext_disjoint_timer_query.deleteQueryEXT(ce[Sr]);nr.length=0,ce.length=0},restore:function(){nr.length=0,ce.length=0}}},rn=16384,ba=256,Br=1024,Ft=34962,Ut="webglcontextlost",sa="webglcontextrestored",Ba=1,fn=2,Hn=3;function Kn(U,le){for(var ce=0;ce<U.length;++ce)if(U[ce]===le)return ce;return-1}function mi(U){var le=S(U);if(!le)return null;var ce=le.gl,We=ce.getContextAttributes(),Qe=ce.isContextLost(),nr=M(ce,le);if(!nr)return null;var Ke=g(),xr=ot(),qr=le.cachedCode||{},Dr=nr.extensions,Fr=va(ce,Dr),xt=p(),ft=ce.drawingBufferWidth,Zr=ce.drawingBufferHeight,hr={tick:0,time:0,viewportWidth:ft,viewportHeight:Zr,framebufferWidth:ft,framebufferHeight:Zr,drawingBufferWidth:ft,drawingBufferHeight:Zr,pixelRatio:le.pixelRatio},Be={},sr={elements:null,primitive:4,count:-1,offset:0,instances:-1},Sr=Er(ce,Dr),Nr=bn(ce,xr,le,Jr),Ar=Ca(ce,Dr,Nr,xr),rt=pd(ce,Dr,Sr,xr,Nr,Ar,sr);function Jr(Ht){return rt.destroyBuffer(Ht)}var At=om(ce,Ke,xr,le),_r=Wy(ce,Dr,Sr,function(){Xr.procs.poll()},hr,xr,le),yr=P5(ce,Dr,Sr,xr,le),lt=B5(ce,Dr,Sr,_r,yr,xr),Xr=it(ce,Ke,Dr,Sr,Nr,Ar,_r,lt,Be,rt,At,sr,hr,Fr,qr,le),Gr=lm(ce,lt,Xr.procs.poll,hr,We,Dr,Sr),Vr=Xr.next,st=ce.canvas,Tt=[],zt=[],Kr=[],vt=[le.onDestroy],Rt=null;function Pt(){if(Tt.length===0){Fr&&Fr.update(),Rt=null;return}Rt=d.next(Pt),ei();for(var Ht=Tt.length-1;Ht>=0;--Ht){var ha=Tt[Ht];ha&&ha(hr,null,0)}ce.flush(),Fr&&Fr.update()}function Qt(){!Rt&&Tt.length>0&&(Rt=d.next(Pt))}function cn(){Rt&&(d.cancel(Pt),Rt=null)}function Qn(Ht){Ht.preventDefault(),Qe=!0,cn(),zt.forEach(function(ha){ha()})}function ia(Ht){ce.getError(),Qe=!1,nr.restore(),At.restore(),Nr.restore(),_r.restore(),yr.restore(),lt.restore(),rt.restore(),Fr&&Fr.restore(),Xr.procs.refresh(),Qt(),Kr.forEach(function(ha){ha()})}st&&(st.addEventListener(Ut,Qn,!1),st.addEventListener(sa,ia,!1));function Ki(){Tt.length=0,cn(),st&&(st.removeEventListener(Ut,Qn),st.removeEventListener(sa,ia)),At.clear(),lt.clear(),yr.clear(),rt.clear(),_r.clear(),Ar.clear(),Nr.clear(),Fr&&Fr.clear(),vt.forEach(function(Ht){Ht()})}function Na(Ht){function ha(Ye){var Ue=e({},Ye);delete Ue.uniforms,delete Ue.attributes,delete Ue.context,delete Ue.vao,"stencil"in Ue&&Ue.stencil.op&&(Ue.stencil.opBack=Ue.stencil.opFront=Ue.stencil.op,delete Ue.stencil.op);function Fe(xe){if(xe in Ue){var Le=Ue[xe];delete Ue[xe],Object.keys(Le).forEach(function(ye){Ue[xe+"."+ye]=Le[ye]})}}return Fe("blend"),Fe("depth"),Fe("cull"),Fe("stencil"),Fe("polygonOffset"),Fe("scissor"),Fe("sample"),"vao"in Ye&&(Ue.vao=Ye.vao),Ue}function Xa(Ye,Ue){var Fe={},xe={};return Object.keys(Ye).forEach(function(Le){var ye=Ye[Le];if(h.isDynamic(ye)){xe[Le]=h.unbox(ye,Le);return}else if(Ue&&Array.isArray(ye)){for(var je=0;je<ye.length;++je)if(h.isDynamic(ye[je])){xe[Le]=h.unbox(ye,Le);return}}Fe[Le]=ye}),{dynamic:xe,static:Fe}}var ue=Xa(Ht.context||{},!0),rr=Xa(Ht.uniforms||{},!0),ar=Xa(Ht.attributes||{},!1),pt=Xa(ha(Ht),!1),ua={gpuTime:0,cpuTime:0,count:0},Ia=Xr.compile(pt,ar,rr,ue,ua),ht=Ia.draw,te=Ia.batch,he=Ia.scope,Te=[];function er(Ye){for(;Te.length<Ye;)Te.push(null);return Te}function or(Ye,Ue){var Fe;if(typeof Ye=="function")return he.call(this,null,Ye,0);if(typeof Ue=="function")if(typeof Ye=="number")for(Fe=0;Fe<Ye;++Fe)he.call(this,null,Ue,Fe);else if(Array.isArray(Ye))for(Fe=0;Fe<Ye.length;++Fe)he.call(this,Ye[Fe],Ue,Fe);else return he.call(this,Ye,Ue,0);else if(typeof Ye=="number"){if(Ye>0)return te.call(this,er(Ye|0),Ye|0)}else if(Array.isArray(Ye)){if(Ye.length)return te.call(this,Ye,Ye.length)}else return ht.call(this,Ye)}return e(or,{stats:ua,destroy:function(){Ia.destroy()}})}var Si=lt.setFBO=Na({framebuffer:h.define.call(null,Ba,"framebuffer")});function zi(Ht,ha){var Xa=0;Xr.procs.poll();var ue=ha.color;ue&&(ce.clearColor(+ue[0]||0,+ue[1]||0,+ue[2]||0,+ue[3]||0),Xa|=rn),"depth"in ha&&(ce.clearDepth(+ha.depth),Xa|=ba),"stencil"in ha&&(ce.clearStencil(ha.stencil|0),Xa|=Br),ce.clear(Xa)}function Qi(Ht){if("framebuffer"in Ht)if(Ht.framebuffer&&Ht.framebuffer_reglType==="framebufferCube")for(var ha=0;ha<6;++ha)Si(e({framebuffer:Ht.framebuffer.faces[ha]},Ht),zi);else Si(Ht,zi);else zi(null,Ht)}function Gn(Ht){Tt.push(Ht);function ha(){var Xa=Kn(Tt,Ht);function ue(){var rr=Kn(Tt,ue);Tt[rr]=Tt[Tt.length-1],Tt.length-=1,Tt.length<=0&&cn()}Tt[Xa]=ue}return Qt(),{cancel:ha}}function Vn(){var Ht=Vr.viewport,ha=Vr.scissor_box;Ht[0]=Ht[1]=ha[0]=ha[1]=0,hr.viewportWidth=hr.framebufferWidth=hr.drawingBufferWidth=Ht[2]=ha[2]=ce.drawingBufferWidth,hr.viewportHeight=hr.framebufferHeight=hr.drawingBufferHeight=Ht[3]=ha[3]=ce.drawingBufferHeight}function ei(){hr.tick+=1,hr.time=si(),Vn(),Xr.procs.poll()}function Wt(){_r.refresh(),Vn(),Xr.procs.refresh(),Fr&&Fr.update()}function si(){return(p()-xt)/1e3}Wt();function Ua(Ht,ha){var Xa;switch(Ht){case"frame":return Gn(ha);case"lost":Xa=zt;break;case"restore":Xa=Kr;break;case"destroy":Xa=vt;break;default:}return Xa.push(ha),{cancel:function(){for(var ue=0;ue<Xa.length;++ue)if(Xa[ue]===ha){Xa[ue]=Xa[Xa.length-1],Xa.pop();return}}}}function Bi(){return qr}function eo(Ht){Object.entries(Ht).forEach(function(ha){qr[ha[0]]=ha[1]})}var ro=e(Na,{clear:Qi,prop:h.define.bind(null,Ba),context:h.define.bind(null,fn),this:h.define.bind(null,Hn),draw:Na({}),buffer:function(Ht){return Nr.create(Ht,Ft,!1,!1)},elements:function(Ht){return Ar.create(Ht,!1)},texture:_r.create2D,cube:_r.createCube,renderbuffer:yr.create,framebuffer:lt.create,framebufferCube:lt.createCube,vao:rt.createVAO,attributes:We,frame:Gn,on:Ua,limits:Sr,hasExtension:function(Ht){return Sr.extensions.indexOf(Ht.toLowerCase())>=0},read:Gr,destroy:Ki,_gl:ce,_refresh:Wt,poll:function(){ei(),Fr&&Fr.update()},now:si,stats:xr,getCachedCode:Bi,preloadCachedCode:eo});return le.onDone(null,ro),ro}return mi})});var sre=R((xPe,lre)=>{"use strict";var R7e=su();lre.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},ire(r)?r={container:r}:P7e(r)?r={container:r}:N7e(r)?r={gl:r}:r=R7e(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=window.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}ire(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=ore(),r.container.appendChild(r.canvas),nre(r))}else if(!r.canvas)if(typeof document!="undefined")r.container=document.body||document.documentElement,r.canvas=ore(),r.container.appendChild(r.canvas),nre(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(a){try{r.gl=r.canvas.getContext(a,r.attrs)}catch(n){}return r.gl}),r.gl};function nre(e){if(e.container)if(e.container==document.body)document.body.style.width||(e.canvas.width=e.width||e.pixelRatio*window.innerWidth),document.body.style.height||(e.canvas.height=e.height||e.pixelRatio*window.innerHeight);else{var r=e.container.getBoundingClientRect();e.canvas.width=e.width||r.right-r.left,e.canvas.height=e.height||r.bottom-r.top}}function ire(e){return typeof e.getContext=="function"&&"width"in e&&"height"in e}function P7e(e){return typeof e.nodeName=="string"&&typeof e.appendChild=="function"&&typeof e.getBoundingClientRect=="function"}function N7e(e){return typeof e.drawArrays=="function"||typeof e.drawElements=="function"}function ore(){var e=document.createElement("canvas");return e.style.position="absolute",e.style.top=0,e.style.left=0,e}});var fre=R((_Pe,ure)=>{"use strict";var I7e=jT(),O7e=[32,126];ure.exports=z7e;function z7e(e){e=e||{};var r=e.shape?e.shape:e.canvas?[e.canvas.width,e.canvas.height]:[512,512],t=e.canvas||document.createElement("canvas"),a=e.font,n=typeof e.step=="number"?[e.step,e.step]:e.step||[32,32],i=e.chars||O7e;if(a&&typeof a!="string"&&(a=I7e(a)),!Array.isArray(i))i=String(i).split("");else if(i.length===2&&typeof i[0]=="number"&&typeof i[1]=="number"){for(var o=[],l=i[0],s=0;l<=i[1];l++)o[s++]=String.fromCharCode(l);i=o}r=r.slice(),t.width=r[0],t.height=r[1];var u=t.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,t.width,t.height),u.font=a,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";for(var f=n[0]/2,c=n[1]/2,l=0;l<i.length;l++)u.fillText(i[l],f,c),(f+=n[0])>r[0]-n[0]/2&&(f=n[0]/2,c+=n[1]);return t}});var KT=R(Cn=>{"use strict";"use restrict";var $T=32;Cn.INT_BITS=$T;Cn.INT_MAX=2147483647;Cn.INT_MIN=-1<<$T-1;Cn.sign=function(e){return(e>0)-(e<0)};Cn.abs=function(e){var r=e>>$T-1;return(e^r)-r};Cn.min=function(e,r){return r^(e^r)&-(e<r)};Cn.max=function(e,r){return e^(e^r)&-(e<r)};Cn.isPow2=function(e){return!(e&e-1)&&!!e};Cn.log2=function(e){var r,t;return r=(e>65535)<<4,e>>>=r,t=(e>255)<<3,e>>>=t,r|=t,t=(e>15)<<2,e>>>=t,r|=t,t=(e>3)<<1,e>>>=t,r|=t,r|e>>1};Cn.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0};Cn.popCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function cre(e){var r=32;return e&=-e,e&&r--,e&65535&&(r-=16),e&16711935&&(r-=8),e&252645135&&(r-=4),e&858993459&&(r-=2),e&1431655765&&(r-=1),r}Cn.countTrailingZeros=cre;Cn.nextPow2=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1};Cn.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)};Cn.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var xy=new Array(256);(function(e){for(var r=0;r<256;++r){var t=r,a=r,n=7;for(t>>>=1;t;t>>>=1)a<<=1,a|=t&1,--n;e[r]=a<<n&255}})(xy);Cn.reverse=function(e){return xy[e&255]<<24|xy[e>>>8&255]<<16|xy[e>>>16&255]<<8|xy[e>>>24&255]};Cn.interleave2=function(e,r){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r&=65535,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e|r<<1};Cn.deinterleave2=function(e,r){return e=e>>>r&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16};Cn.interleave3=function(e,r,t){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,r&=1023,r=(r|r<<16)&4278190335,r=(r|r<<8)&251719695,r=(r|r<<4)&3272356035,r=(r|r<<2)&1227133513,e|=r<<1,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,e|t<<2};Cn.deinterleave3=function(e,r){return e=e>>>r&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22};Cn.nextCombination=function(e){var r=e|e-1;return r+1|(~r&-~r)-1>>>cre(e)+1}});var dre=R((APe,hre)=>{"use strict";function vre(e,r,t){var a=e[t]|0;if(a<=0)return[];var n=new Array(a),i;if(t===e.length-1)for(i=0;i<a;++i)n[i]=r;else for(i=0;i<a;++i)n[i]=vre(e,r,t+1);return n}function B7e(e,r){var t,a;for(t=new Array(e),a=0;a<e;++a)t[a]=r;return t}function U7e(e,r){switch(typeof r=="undefined"&&(r=0),typeof e){case"number":if(e>0)return B7e(e|0,r);break;case"object":if(typeof e.length=="number")return vre(e,r,0);break}return[]}hre.exports=U7e});var mre=R(t5=>{"use strict";t5.byteLength=G7e;t5.toByteArray=Y7e;t5.fromByteArray=X7e;var gs=[],ll=[],H7e=typeof Uint8Array!="undefined"?Uint8Array:Array,QT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(uv=0,pre=QT.length;uv<pre;++uv)gs[uv]=QT[uv],ll[QT.charCodeAt(uv)]=uv;var uv,pre;ll[45]=62;ll[95]=63;function yre(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=r);var a=t===r?0:4-t%4;return[t,a]}function G7e(e){var r=yre(e),t=r[0],a=r[1];return(t+a)*3/4-a}function V7e(e,r,t){return(r+t)*3/4-t}function Y7e(e){var r,t=yre(e),a=t[0],n=t[1],i=new H7e(V7e(e,a,n)),o=0,l=n>0?a-4:a,s;for(s=0;s<l;s+=4)r=ll[e.charCodeAt(s)]<<18|ll[e.charCodeAt(s+1)]<<12|ll[e.charCodeAt(s+2)]<<6|ll[e.charCodeAt(s+3)],i[o++]=r>>16&255,i[o++]=r>>8&255,i[o++]=r&255;return n===2&&(r=ll[e.charCodeAt(s)]<<2|ll[e.charCodeAt(s+1)]>>4,i[o++]=r&255),n===1&&(r=ll[e.charCodeAt(s)]<<10|ll[e.charCodeAt(s+1)]<<4|ll[e.charCodeAt(s+2)]>>2,i[o++]=r>>8&255,i[o++]=r&255),i}function W7e(e){return gs[e>>18&63]+gs[e>>12&63]+gs[e>>6&63]+gs[e&63]}function j7e(e,r,t){for(var a,n=[],i=r;i<t;i+=3)a=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),n.push(W7e(a));return n.join("")}function X7e(e){for(var r,t=e.length,a=t%3,n=[],i=16383,o=0,l=t-a;o<l;o+=i)n.push(j7e(e,o,o+i>l?l:o+i));return a===1?(r=e[t-1],n.push(gs[r>>2]+gs[r<<4&63]+"==")):a===2&&(r=(e[t-2]<<8)+e[t-1],n.push(gs[r>>10]+gs[r>>4&63]+gs[r<<2&63]+"=")),n.join("")}});var gre=R(e9=>{e9.read=function(e,r,t,a,n){var i,o,l=n*8-a-1,s=(1<<l)-1,u=s>>1,f=-7,c=t?n-1:0,h=t?-1:1,d=e[r+c];for(c+=h,i=d&(1<<-f)-1,d>>=-f,f+=l;f>0;i=i*256+e[r+c],c+=h,f-=8);for(o=i&(1<<-f)-1,i>>=-f,f+=a;f>0;o=o*256+e[r+c],c+=h,f-=8);if(i===0)i=1-u;else{if(i===s)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,a),i=i-u}return(d?-1:1)*o*Math.pow(2,i-a)};e9.write=function(e,r,t,a,n,i){var o,l,s,u=i*8-n-1,f=(1<<u)-1,c=f>>1,h=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=a?0:i-1,p=a?1:-1,g=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(l=isNaN(r)?1:0,o=f):(o=Math.floor(Math.log(r)/Math.LN2),r*(s=Math.pow(2,-o))<1&&(o--,s*=2),o+c>=1?r+=h/s:r+=h*Math.pow(2,1-c),r*s>=2&&(o++,s/=2),o+c>=f?(l=0,o=f):o+c>=1?(l=(r*s-1)*Math.pow(2,n),o=o+c):(l=r*Math.pow(2,c-1)*Math.pow(2,n),o=0));n>=8;e[t+d]=l&255,d+=p,l/=256,n-=8);for(o=o<<n|l,u+=n;u>0;e[t+d]=o&255,d+=p,o/=256,u-=8);e[t+d-p]|=g*128}});var Pre=R(Kh=>{"use strict";var r9=mre(),Jh=gre(),bre=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Kh.Buffer=wr;Kh.SlowBuffer=eTe;Kh.INSPECT_MAX_BYTES=50;var a5=2147483647;Kh.kMaxLength=a5;wr.TYPED_ARRAY_SUPPORT=Z7e();!wr.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Z7e(){try{let e=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(e,r),e.foo()===42}catch(e){return!1}}Object.defineProperty(wr.prototype,"parent",{enumerable:!0,get:function(){if(wr.isBuffer(this))return this.buffer}});Object.defineProperty(wr.prototype,"offset",{enumerable:!0,get:function(){if(wr.isBuffer(this))return this.byteOffset}});function vu(e){if(e>a5)throw new RangeError('The value "'+e+'" is invalid for option "size"');let r=new Uint8Array(e);return Object.setPrototypeOf(r,wr.prototype),r}function wr(e,r,t){if(typeof e=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return i9(e)}return Are(e,r,t)}wr.poolSize=8192;function Are(e,r,t){if(typeof e=="string")return $7e(e,r);if(ArrayBuffer.isView(e))return K7e(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(bs(e,ArrayBuffer)||e&&bs(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(bs(e,SharedArrayBuffer)||e&&bs(e.buffer,SharedArrayBuffer)))return a9(e,r,t);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let a=e.valueOf&&e.valueOf();if(a!=null&&a!==e)return wr.from(a,r,t);let n=Q7e(e);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return wr.from(e[Symbol.toPrimitive]("string"),r,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}wr.from=function(e,r,t){return Are(e,r,t)};Object.setPrototypeOf(wr.prototype,Uint8Array.prototype);Object.setPrototypeOf(wr,Uint8Array);function Tre(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function J7e(e,r,t){return Tre(e),e<=0?vu(e):r!==void 0?typeof t=="string"?vu(e).fill(r,t):vu(e).fill(r):vu(e)}wr.alloc=function(e,r,t){return J7e(e,r,t)};function i9(e){return Tre(e),vu(e<0?0:o9(e)|0)}wr.allocUnsafe=function(e){return i9(e)};wr.allocUnsafeSlow=function(e){return i9(e)};function $7e(e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!wr.isEncoding(r))throw new TypeError("Unknown encoding: "+r);let t=Mre(e,r)|0,a=vu(t),n=a.write(e,r);return n!==t&&(a=a.slice(0,n)),a}function t9(e){let r=e.length<0?0:o9(e.length)|0,t=vu(r);for(let a=0;a<r;a+=1)t[a]=e[a]&255;return t}function K7e(e){if(bs(e,Uint8Array)){let r=new Uint8Array(e);return a9(r.buffer,r.byteOffset,r.byteLength)}return t9(e)}function a9(e,r,t){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(t||0))throw new RangeError('"length" is outside of buffer bounds');let a;return r===void 0&&t===void 0?a=new Uint8Array(e):t===void 0?a=new Uint8Array(e,r):a=new Uint8Array(e,r,t),Object.setPrototypeOf(a,wr.prototype),a}function Q7e(e){if(wr.isBuffer(e)){let r=o9(e.length)|0,t=vu(r);return t.length===0||e.copy(t,0,0,r),t}if(e.length!==void 0)return typeof e.length!="number"||s9(e.length)?vu(0):t9(e);if(e.type==="Buffer"&&Array.isArray(e.data))return t9(e.data)}function o9(e){if(e>=a5)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a5.toString(16)+" bytes");return e|0}function eTe(e){return+e!=e&&(e=0),wr.alloc(+e)}wr.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==wr.prototype};wr.compare=function(r,t){if(bs(r,Uint8Array)&&(r=wr.from(r,r.offset,r.byteLength)),bs(t,Uint8Array)&&(t=wr.from(t,t.offset,t.byteLength)),!wr.isBuffer(r)||!wr.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===t)return 0;let a=r.length,n=t.length;for(let i=0,o=Math.min(a,n);i<o;++i)if(r[i]!==t[i]){a=r[i],n=t[i];break}return a<n?-1:n<a?1:0};wr.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};wr.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return wr.alloc(0);let a;if(t===void 0)for(t=0,a=0;a<r.length;++a)t+=r[a].length;let n=wr.allocUnsafe(t),i=0;for(a=0;a<r.length;++a){let o=r[a];if(bs(o,Uint8Array))i+o.length>n.length?(wr.isBuffer(o)||(o=wr.from(o)),o.copy(n,i)):Uint8Array.prototype.set.call(n,o,i);else if(wr.isBuffer(o))o.copy(n,i);else throw new TypeError('"list" argument must be an Array of Buffers');i+=o.length}return n};function Mre(e,r){if(wr.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||bs(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let t=e.length,a=arguments.length>2&&arguments[2]===!0;if(!a&&t===0)return 0;let n=!1;for(;;)switch(r){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return n9(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Rre(e).length;default:if(n)return a?-1:n9(e).length;r=(""+r).toLowerCase(),n=!0}}wr.byteLength=Mre;function rTe(e,r,t){let a=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,r>>>=0,t<=r))return"";for(e||(e="utf8");;)switch(e){case"hex":return cTe(this,r,t);case"utf8":case"utf-8":return kre(this,r,t);case"ascii":return uTe(this,r,t);case"latin1":case"binary":return fTe(this,r,t);case"base64":return lTe(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vTe(this,r,t);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}wr.prototype._isBuffer=!0;function fv(e,r,t){let a=e[r];e[r]=e[t],e[t]=a}wr.prototype.swap16=function(){let r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<r;t+=2)fv(this,t,t+1);return this};wr.prototype.swap32=function(){let r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<r;t+=4)fv(this,t,t+3),fv(this,t+1,t+2);return this};wr.prototype.swap64=function(){let r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<r;t+=8)fv(this,t,t+7),fv(this,t+1,t+6),fv(this,t+2,t+5),fv(this,t+3,t+4);return this};wr.prototype.toString=function(){let r=this.length;return r===0?"":arguments.length===0?kre(this,0,r):rTe.apply(this,arguments)};wr.prototype.toLocaleString=wr.prototype.toString;wr.prototype.equals=function(r){if(!wr.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:wr.compare(this,r)===0};wr.prototype.inspect=function(){let r="",t=Kh.INSPECT_MAX_BYTES;return r=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(r+=" ... "),"<Buffer "+r+">"};bre&&(wr.prototype[bre]=wr.prototype.inspect);wr.prototype.compare=function(r,t,a,n,i){if(bs(r,Uint8Array)&&(r=wr.from(r,r.offset,r.byteLength)),!wr.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(t===void 0&&(t=0),a===void 0&&(a=r?r.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),t<0||a>r.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=a)return 0;if(n>=i)return-1;if(t>=a)return 1;if(t>>>=0,a>>>=0,n>>>=0,i>>>=0,this===r)return 0;let o=i-n,l=a-t,s=Math.min(o,l),u=this.slice(n,i),f=r.slice(t,a);for(let c=0;c<s;++c)if(u[c]!==f[c]){o=u[c],l=f[c];break}return o<l?-1:l<o?1:0};function Sre(e,r,t,a,n){if(e.length===0)return-1;if(typeof t=="string"?(a=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,s9(t)&&(t=n?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(n)return-1;t=e.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof r=="string"&&(r=wr.from(r,a)),wr.isBuffer(r))return r.length===0?-1:xre(e,r,t,a,n);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(e,r,t):Uint8Array.prototype.lastIndexOf.call(e,r,t):xre(e,[r],t,a,n);throw new TypeError("val must be string, number or Buffer")}function xre(e,r,t,a,n){let i=1,o=e.length,l=r.length;if(a!==void 0&&(a=String(a).toLowerCase(),a==="ucs2"||a==="ucs-2"||a==="utf16le"||a==="utf-16le")){if(e.length<2||r.length<2)return-1;i=2,o/=2,l/=2,t/=2}function s(f,c){return i===1?f[c]:f.readUInt16BE(c*i)}let u;if(n){let f=-1;for(u=t;u<o;u++)if(s(e,u)===s(r,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===l)return f*i}else f!==-1&&(u-=u-f),f=-1}else for(t+l>o&&(t=o-l),u=t;u>=0;u--){let f=!0;for(let c=0;c<l;c++)if(s(e,u+c)!==s(r,c)){f=!1;break}if(f)return u}return-1}wr.prototype.includes=function(r,t,a){return this.indexOf(r,t,a)!==-1};wr.prototype.indexOf=function(r,t,a){return Sre(this,r,t,a,!0)};wr.prototype.lastIndexOf=function(r,t,a){return Sre(this,r,t,a,!1)};function tTe(e,r,t,a){t=Number(t)||0;let n=e.length-t;a?(a=Number(a),a>n&&(a=n)):a=n;let i=r.length;a>i/2&&(a=i/2);let o;for(o=0;o<a;++o){let l=parseInt(r.substr(o*2,2),16);if(s9(l))return o;e[t+o]=l}return o}function aTe(e,r,t,a){return n5(n9(r,e.length-t),e,t,a)}function nTe(e,r,t,a){return n5(yTe(r),e,t,a)}function iTe(e,r,t,a){return n5(Rre(r),e,t,a)}function oTe(e,r,t,a){return n5(mTe(r,e.length-t),e,t,a)}wr.prototype.write=function(r,t,a,n){if(t===void 0)n="utf8",a=this.length,t=0;else if(a===void 0&&typeof t=="string")n=t,a=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(a)?(a=a>>>0,n===void 0&&(n="utf8")):(n=a,a=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-t;if((a===void 0||a>i)&&(a=i),r.length>0&&(a<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return tTe(this,r,t,a);case"utf8":case"utf-8":return aTe(this,r,t,a);case"ascii":case"latin1":case"binary":return nTe(this,r,t,a);case"base64":return iTe(this,r,t,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oTe(this,r,t,a);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};wr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function lTe(e,r,t){return r===0&&t===e.length?r9.fromByteArray(e):r9.fromByteArray(e.slice(r,t))}function kre(e,r,t){t=Math.min(e.length,t);let a=[],n=r;for(;n<t;){let i=e[n],o=null,l=i>239?4:i>223?3:i>191?2:1;if(n+l<=t){let s,u,f,c;switch(l){case 1:i<128&&(o=i);break;case 2:s=e[n+1],(s&192)===128&&(c=(i&31)<<6|s&63,c>127&&(o=c));break;case 3:s=e[n+1],u=e[n+2],(s&192)===128&&(u&192)===128&&(c=(i&15)<<12|(s&63)<<6|u&63,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:s=e[n+1],u=e[n+2],f=e[n+3],(s&192)===128&&(u&192)===128&&(f&192)===128&&(c=(i&15)<<18|(s&63)<<12|(u&63)<<6|f&63,c>65535&&c<1114112&&(o=c))}}o===null?(o=65533,l=1):o>65535&&(o-=65536,a.push(o>>>10&1023|55296),o=56320|o&1023),a.push(o),n+=l}return sTe(a)}var _re=4096;function sTe(e){let r=e.length;if(r<=_re)return String.fromCharCode.apply(String,e);let t="",a=0;for(;a<r;)t+=String.fromCharCode.apply(String,e.slice(a,a+=_re));return t}function uTe(e,r,t){let a="";t=Math.min(e.length,t);for(let n=r;n<t;++n)a+=String.fromCharCode(e[n]&127);return a}function fTe(e,r,t){let a="";t=Math.min(e.length,t);for(let n=r;n<t;++n)a+=String.fromCharCode(e[n]);return a}function cTe(e,r,t){let a=e.length;(!r||r<0)&&(r=0),(!t||t<0||t>a)&&(t=a);let n="";for(let i=r;i<t;++i)n+=gTe[e[i]];return n}function vTe(e,r,t){let a=e.slice(r,t),n="";for(let i=0;i<a.length-1;i+=2)n+=String.fromCharCode(a[i]+a[i+1]*256);return n}wr.prototype.slice=function(r,t){let a=this.length;r=~~r,t=t===void 0?a:~~t,r<0?(r+=a,r<0&&(r=0)):r>a&&(r=a),t<0?(t+=a,t<0&&(t=0)):t>a&&(t=a),t<r&&(t=r);let n=this.subarray(r,t);return Object.setPrototypeOf(n,wr.prototype),n};function pi(e,r,t){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+r>t)throw new RangeError("Trying to access beyond buffer length")}wr.prototype.readUintLE=wr.prototype.readUIntLE=function(r,t,a){r=r>>>0,t=t>>>0,a||pi(r,t,this.length);let n=this[r],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[r+o]*i;return n};wr.prototype.readUintBE=wr.prototype.readUIntBE=function(r,t,a){r=r>>>0,t=t>>>0,a||pi(r,t,this.length);let n=this[r+--t],i=1;for(;t>0&&(i*=256);)n+=this[r+--t]*i;return n};wr.prototype.readUint8=wr.prototype.readUInt8=function(r,t){return r=r>>>0,t||pi(r,1,this.length),this[r]};wr.prototype.readUint16LE=wr.prototype.readUInt16LE=function(r,t){return r=r>>>0,t||pi(r,2,this.length),this[r]|this[r+1]<<8};wr.prototype.readUint16BE=wr.prototype.readUInt16BE=function(r,t){return r=r>>>0,t||pi(r,2,this.length),this[r]<<8|this[r+1]};wr.prototype.readUint32LE=wr.prototype.readUInt32LE=function(r,t){return r=r>>>0,t||pi(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216};wr.prototype.readUint32BE=wr.prototype.readUInt32BE=function(r,t){return r=r>>>0,t||pi(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])};wr.prototype.readBigUInt64LE=Mf(function(r){r=r>>>0,$h(r,"offset");let t=this[r],a=this[r+7];(t===void 0||a===void 0)&&_y(r,this.length-8);let n=t+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24,i=this[++r]+this[++r]*2**8+this[++r]*2**16+a*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))});wr.prototype.readBigUInt64BE=Mf(function(r){r=r>>>0,$h(r,"offset");let t=this[r],a=this[r+7];(t===void 0||a===void 0)&&_y(r,this.length-8);let n=t*2**24+this[++r]*2**16+this[++r]*2**8+this[++r],i=this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+a;return(BigInt(n)<<BigInt(32))+BigInt(i)});wr.prototype.readIntLE=function(r,t,a){r=r>>>0,t=t>>>0,a||pi(r,t,this.length);let n=this[r],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[r+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n};wr.prototype.readIntBE=function(r,t,a){r=r>>>0,t=t>>>0,a||pi(r,t,this.length);let n=t,i=1,o=this[r+--n];for(;n>0&&(i*=256);)o+=this[r+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o};wr.prototype.readInt8=function(r,t){return r=r>>>0,t||pi(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]};wr.prototype.readInt16LE=function(r,t){r=r>>>0,t||pi(r,2,this.length);let a=this[r]|this[r+1]<<8;return a&32768?a|4294901760:a};wr.prototype.readInt16BE=function(r,t){r=r>>>0,t||pi(r,2,this.length);let a=this[r+1]|this[r]<<8;return a&32768?a|4294901760:a};wr.prototype.readInt32LE=function(r,t){return r=r>>>0,t||pi(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24};wr.prototype.readInt32BE=function(r,t){return r=r>>>0,t||pi(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]};wr.prototype.readBigInt64LE=Mf(function(r){r=r>>>0,$h(r,"offset");let t=this[r],a=this[r+7];(t===void 0||a===void 0)&&_y(r,this.length-8);let n=this[r+4]+this[r+5]*2**8+this[r+6]*2**16+(a<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24)});wr.prototype.readBigInt64BE=Mf(function(r){r=r>>>0,$h(r,"offset");let t=this[r],a=this[r+7];(t===void 0||a===void 0)&&_y(r,this.length-8);let n=(t<<24)+this[++r]*2**16+this[++r]*2**8+this[++r];return(BigInt(n)<<BigInt(32))+BigInt(this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+a)});wr.prototype.readFloatLE=function(r,t){return r=r>>>0,t||pi(r,4,this.length),Jh.read(this,r,!0,23,4)};wr.prototype.readFloatBE=function(r,t){return r=r>>>0,t||pi(r,4,this.length),Jh.read(this,r,!1,23,4)};wr.prototype.readDoubleLE=function(r,t){return r=r>>>0,t||pi(r,8,this.length),Jh.read(this,r,!0,52,8)};wr.prototype.readDoubleBE=function(r,t){return r=r>>>0,t||pi(r,8,this.length),Jh.read(this,r,!1,52,8)};function bo(e,r,t,a,n,i){if(!wr.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>n||r<i)throw new RangeError('"value" argument is out of bounds');if(t+a>e.length)throw new RangeError("Index out of range")}wr.prototype.writeUintLE=wr.prototype.writeUIntLE=function(r,t,a,n){if(r=+r,t=t>>>0,a=a>>>0,!n){let l=Math.pow(2,8*a)-1;bo(this,r,t,a,l,0)}let i=1,o=0;for(this[t]=r&255;++o<a&&(i*=256);)this[t+o]=r/i&255;return t+a};wr.prototype.writeUintBE=wr.prototype.writeUIntBE=function(r,t,a,n){if(r=+r,t=t>>>0,a=a>>>0,!n){let l=Math.pow(2,8*a)-1;bo(this,r,t,a,l,0)}let i=a-1,o=1;for(this[t+i]=r&255;--i>=0&&(o*=256);)this[t+i]=r/o&255;return t+a};wr.prototype.writeUint8=wr.prototype.writeUInt8=function(r,t,a){return r=+r,t=t>>>0,a||bo(this,r,t,1,255,0),this[t]=r&255,t+1};wr.prototype.writeUint16LE=wr.prototype.writeUInt16LE=function(r,t,a){return r=+r,t=t>>>0,a||bo(this,r,t,2,65535,0),this[t]=r&255,this[t+1]=r>>>8,t+2};wr.prototype.writeUint16BE=wr.prototype.writeUInt16BE=function(r,t,a){return r=+r,t=t>>>0,a||bo(this,r,t,2,65535,0),this[t]=r>>>8,this[t+1]=r&255,t+2};wr.prototype.writeUint32LE=wr.prototype.writeUInt32LE=function(r,t,a){return r=+r,t=t>>>0,a||bo(this,r,t,4,4294967295,0),this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=r&255,t+4};wr.prototype.writeUint32BE=wr.prototype.writeUInt32BE=function(r,t,a){return r=+r,t=t>>>0,a||bo(this,r,t,4,4294967295,0),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4};function Cre(e,r,t,a,n){Fre(r,a,n,e,t,7);let i=Number(r&BigInt(4294967295));e[t++]=i,i=i>>8,e[t++]=i,i=i>>8,e[t++]=i,i=i>>8,e[t++]=i;let o=Number(r>>BigInt(32)&BigInt(4294967295));return e[t++]=o,o=o>>8,e[t++]=o,o=o>>8,e[t++]=o,o=o>>8,e[t++]=o,t}function Ere(e,r,t,a,n){Fre(r,a,n,e,t,7);let i=Number(r&BigInt(4294967295));e[t+7]=i,i=i>>8,e[t+6]=i,i=i>>8,e[t+5]=i,i=i>>8,e[t+4]=i;let o=Number(r>>BigInt(32)&BigInt(4294967295));return e[t+3]=o,o=o>>8,e[t+2]=o,o=o>>8,e[t+1]=o,o=o>>8,e[t]=o,t+8}wr.prototype.writeBigUInt64LE=Mf(function(r,t=0){return Cre(this,r,t,BigInt(0),BigInt("0xffffffffffffffff"))});wr.prototype.writeBigUInt64BE=Mf(function(r,t=0){return Ere(this,r,t,BigInt(0),BigInt("0xffffffffffffffff"))});wr.prototype.writeIntLE=function(r,t,a,n){if(r=+r,t=t>>>0,!n){let s=Math.pow(2,8*a-1);bo(this,r,t,a,s-1,-s)}let i=0,o=1,l=0;for(this[t]=r&255;++i<a&&(o*=256);)r<0&&l===0&&this[t+i-1]!==0&&(l=1),this[t+i]=(r/o>>0)-l&255;return t+a};wr.prototype.writeIntBE=function(r,t,a,n){if(r=+r,t=t>>>0,!n){let s=Math.pow(2,8*a-1);bo(this,r,t,a,s-1,-s)}let i=a-1,o=1,l=0;for(this[t+i]=r&255;--i>=0&&(o*=256);)r<0&&l===0&&this[t+i+1]!==0&&(l=1),this[t+i]=(r/o>>0)-l&255;return t+a};wr.prototype.writeInt8=function(r,t,a){return r=+r,t=t>>>0,a||bo(this,r,t,1,127,-128),r<0&&(r=255+r+1),this[t]=r&255,t+1};wr.prototype.writeInt16LE=function(r,t,a){return r=+r,t=t>>>0,a||bo(this,r,t,2,32767,-32768),this[t]=r&255,this[t+1]=r>>>8,t+2};wr.prototype.writeInt16BE=function(r,t,a){return r=+r,t=t>>>0,a||bo(this,r,t,2,32767,-32768),this[t]=r>>>8,this[t+1]=r&255,t+2};wr.prototype.writeInt32LE=function(r,t,a){return r=+r,t=t>>>0,a||bo(this,r,t,4,2147483647,-2147483648),this[t]=r&255,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24,t+4};wr.prototype.writeInt32BE=function(r,t,a){return r=+r,t=t>>>0,a||bo(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4};wr.prototype.writeBigInt64LE=Mf(function(r,t=0){return Cre(this,r,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});wr.prototype.writeBigInt64BE=Mf(function(r,t=0){return Ere(this,r,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Lre(e,r,t,a,n,i){if(t+a>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function qre(e,r,t,a,n){return r=+r,t=t>>>0,n||Lre(e,r,t,4,34028234663852886e22,-34028234663852886e22),Jh.write(e,r,t,a,23,4),t+4}wr.prototype.writeFloatLE=function(r,t,a){return qre(this,r,t,!0,a)};wr.prototype.writeFloatBE=function(r,t,a){return qre(this,r,t,!1,a)};function Dre(e,r,t,a,n){return r=+r,t=t>>>0,n||Lre(e,r,t,8,17976931348623157e292,-17976931348623157e292),Jh.write(e,r,t,a,52,8),t+8}wr.prototype.writeDoubleLE=function(r,t,a){return Dre(this,r,t,!0,a)};wr.prototype.writeDoubleBE=function(r,t,a){return Dre(this,r,t,!1,a)};wr.prototype.copy=function(r,t,a,n){if(!wr.isBuffer(r))throw new TypeError("argument should be a Buffer");if(a||(a=0),!n&&n!==0&&(n=this.length),t>=r.length&&(t=r.length),t||(t=0),n>0&&n<a&&(n=a),n===a||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),r.length-t<n-a&&(n=r.length-t+a);let i=n-a;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,a,n):Uint8Array.prototype.set.call(r,this.subarray(a,n),t),i};wr.prototype.fill=function(r,t,a,n){if(typeof r=="string"){if(typeof t=="string"?(n=t,t=0,a=this.length):typeof a=="string"&&(n=a,a=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!wr.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(r.length===1){let o=r.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(r=o)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(t<0||this.length<t||this.length<a)throw new RangeError("Out of range index");if(a<=t)return this;t=t>>>0,a=a===void 0?this.length:a>>>0,r||(r=0);let i;if(typeof r=="number")for(i=t;i<a;++i)this[i]=r;else{let o=wr.isBuffer(r)?r:wr.from(r,n),l=o.length;if(l===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(i=0;i<a-t;++i)this[i+t]=o[i%l]}return this};var Zh={};function l9(e,r,t){Zh[e]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}l9("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);l9("ERR_INVALID_ARG_TYPE",function(e,r){return`The "${e}" argument must be of type number. Received type ${typeof r}`},TypeError);l9("ERR_OUT_OF_RANGE",function(e,r,t){let a=`The value of "${e}" is out of range.`,n=t;return Number.isInteger(t)&&Math.abs(t)>2**32?n=wre(String(t)):typeof t=="bigint"&&(n=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(n=wre(n)),n+="n"),a+=` It must be ${r}. Received ${n}`,a},RangeError);function wre(e){let r="",t=e.length,a=e[0]==="-"?1:0;for(;t>=a+4;t-=3)r=`_${e.slice(t-3,t)}${r}`;return`${e.slice(0,t)}${r}`}function hTe(e,r,t){$h(r,"offset"),(e[r]===void 0||e[r+t]===void 0)&&_y(r,e.length-(t+1))}function Fre(e,r,t,a,n,i){if(e>t||e<r){let o=typeof r=="bigint"?"n":"",l;throw i>3?r===0||r===BigInt(0)?l=`>= 0${o} and < 2${o} ** ${(i+1)*8}${o}`:l=`>= -(2${o} ** ${(i+1)*8-1}${o}) and < 2 ** ${(i+1)*8-1}${o}`:l=`>= ${r}${o} and <= ${t}${o}`,new Zh.ERR_OUT_OF_RANGE("value",l,e)}hTe(a,n,i)}function $h(e,r){if(typeof e!="number")throw new Zh.ERR_INVALID_ARG_TYPE(r,"number",e)}function _y(e,r,t){throw Math.floor(e)!==e?($h(e,t),new Zh.ERR_OUT_OF_RANGE(t||"offset","an integer",e)):r<0?new Zh.ERR_BUFFER_OUT_OF_BOUNDS:new Zh.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${r}`,e)}var dTe=/[^+/0-9A-Za-z-_]/g;function pTe(e){if(e=e.split("=")[0],e=e.trim().replace(dTe,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function n9(e,r){r=r||1/0;let t,a=e.length,n=null,i=[];for(let o=0;o<a;++o){if(t=e.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(r-=3)>-1&&i.push(239,191,189);continue}else if(o+1===a){(r-=3)>-1&&i.push(239,191,189);continue}n=t;continue}if(t<56320){(r-=3)>-1&&i.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(r-=3)>-1&&i.push(239,191,189);if(n=null,t<128){if((r-=1)<0)break;i.push(t)}else if(t<2048){if((r-=2)<0)break;i.push(t>>6|192,t&63|128)}else if(t<65536){if((r-=3)<0)break;i.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((r-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return i}function yTe(e){let r=[];for(let t=0;t<e.length;++t)r.push(e.charCodeAt(t)&255);return r}function mTe(e,r){let t,a,n,i=[];for(let o=0;o<e.length&&!((r-=2)<0);++o)t=e.charCodeAt(o),a=t>>8,n=t%256,i.push(n),i.push(a);return i}function Rre(e){return r9.toByteArray(pTe(e))}function n5(e,r,t,a){let n;for(n=0;n<a&&!(n+t>=r.length||n>=e.length);++n)r[n+t]=e[n];return n}function bs(e,r){return e instanceof r||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===r.name}function s9(e){return e!==e}var gTe=function(){let e="0123456789abcdef",r=new Array(256);for(let t=0;t<16;++t){let a=t*16;for(let n=0;n<16;++n)r[a+n]=e[t]+e[n]}return r}();function Mf(e){return typeof BigInt=="undefined"?bTe:e}function bTe(){throw new Error("BigInt not supported")}});var Jre=R(_a=>{"use strict";var Sf=KT(),Ai=dre(),Nre=Pre().Buffer;window.__TYPEDARRAY_POOL||(window.__TYPEDARRAY_POOL={UINT8:Ai([32,0]),UINT16:Ai([32,0]),UINT32:Ai([32,0]),BIGUINT64:Ai([32,0]),INT8:Ai([32,0]),INT16:Ai([32,0]),INT32:Ai([32,0]),BIGINT64:Ai([32,0]),FLOAT:Ai([32,0]),DOUBLE:Ai([32,0]),DATA:Ai([32,0]),UINT8C:Ai([32,0]),BUFFER:Ai([32,0])});var xTe=typeof Uint8ClampedArray!="undefined",_Te=typeof BigUint64Array!="undefined",wTe=typeof BigInt64Array!="undefined",On=window.__TYPEDARRAY_POOL;On.UINT8C||(On.UINT8C=Ai([32,0]));On.BIGUINT64||(On.BIGUINT64=Ai([32,0]));On.BIGINT64||(On.BIGINT64=Ai([32,0]));On.BUFFER||(On.BUFFER=Ai([32,0]));var i5=On.DATA,o5=On.BUFFER;_a.free=function(r){if(Nre.isBuffer(r))o5[Sf.log2(r.length)].push(r);else{if(Object.prototype.toString.call(r)!=="[object ArrayBuffer]"&&(r=r.buffer),!r)return;var t=r.length||r.byteLength,a=Sf.log2(t)|0;i5[a].push(r)}};function Ire(e){if(e){var r=e.length||e.byteLength,t=Sf.log2(r);i5[t].push(e)}}function ATe(e){Ire(e.buffer)}_a.freeUint8=_a.freeUint16=_a.freeUint32=_a.freeBigUint64=_a.freeInt8=_a.freeInt16=_a.freeInt32=_a.freeBigInt64=_a.freeFloat32=_a.freeFloat=_a.freeFloat64=_a.freeDouble=_a.freeUint8Clamped=_a.freeDataView=ATe;_a.freeArrayBuffer=Ire;_a.freeBuffer=function(r){o5[Sf.log2(r.length)].push(r)};_a.malloc=function(r,t){if(t===void 0||t==="arraybuffer")return xo(r);switch(t){case"uint8":return u9(r);case"uint16":return Ore(r);case"uint32":return zre(r);case"int8":return Bre(r);case"int16":return Ure(r);case"int32":return Hre(r);case"float":case"float32":return Gre(r);case"double":case"float64":return Vre(r);case"uint8_clamped":return Yre(r);case"bigint64":return jre(r);case"biguint64":return Wre(r);case"buffer":return Zre(r);case"data":case"dataview":return Xre(r);default:return null}return null};function xo(r){var r=Sf.nextPow2(r),t=Sf.log2(r),a=i5[t];return a.length>0?a.pop():new ArrayBuffer(r)}_a.mallocArrayBuffer=xo;function u9(e){return new Uint8Array(xo(e),0,e)}_a.mallocUint8=u9;function Ore(e){return new Uint16Array(xo(2*e),0,e)}_a.mallocUint16=Ore;function zre(e){return new Uint32Array(xo(4*e),0,e)}_a.mallocUint32=zre;function Bre(e){return new Int8Array(xo(e),0,e)}_a.mallocInt8=Bre;function Ure(e){return new Int16Array(xo(2*e),0,e)}_a.mallocInt16=Ure;function Hre(e){return new Int32Array(xo(4*e),0,e)}_a.mallocInt32=Hre;function Gre(e){return new Float32Array(xo(4*e),0,e)}_a.mallocFloat32=_a.mallocFloat=Gre;function Vre(e){return new Float64Array(xo(8*e),0,e)}_a.mallocFloat64=_a.mallocDouble=Vre;function Yre(e){return xTe?new Uint8ClampedArray(xo(e),0,e):u9(e)}_a.mallocUint8Clamped=Yre;function Wre(e){return _Te?new BigUint64Array(xo(8*e),0,e):null}_a.mallocBigUint64=Wre;function jre(e){return wTe?new BigInt64Array(xo(8*e),0,e):null}_a.mallocBigInt64=jre;function Xre(e){return new DataView(xo(e),0,e)}_a.mallocDataView=Xre;function Zre(e){e=Sf.nextPow2(e);var r=Sf.log2(e),t=o5[r];return t.length>0?t.pop():new Nre(e)}_a.mallocBuffer=Zre;_a.clearCache=function(){for(var r=0;r<32;++r)On.UINT8[r].length=0,On.UINT16[r].length=0,On.UINT32[r].length=0,On.INT8[r].length=0,On.INT16[r].length=0,On.INT32[r].length=0,On.FLOAT[r].length=0,On.DOUBLE[r].length=0,On.BIGUINT64[r].length=0,On.BIGINT64[r].length=0,On.UINT8C[r].length=0,i5[r].length=0,o5[r].length=0}});var Kre=R((EPe,$re)=>{"use strict";var TTe=Object.prototype.toString;$re.exports=function(e){var r;return TTe.call(e)==="[object Object]"&&(r=Object.getPrototypeOf(e),r===null||r===Object.getPrototypeOf({}))}});var f9=R((LPe,Qre)=>{Qre.exports=function(r,t){t||(t=[0,""]),r=String(r);var a=parseFloat(r,10);return t[0]=a,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}});var tte=R((qPe,rte)=>{"use strict";var MTe=f9();rte.exports=ete;var wy=96;function c9(e,r){var t=MTe(getComputedStyle(e).getPropertyValue(r));return t[0]*ete(t[1],e)}function STe(e,r){var t=document.createElement("div");t.style["font-size"]="128"+e,r.appendChild(t);var a=c9(t,"font-size")/128;return r.removeChild(t),a}function ete(e,r){switch(r=r||document.body,e=(e||"px").trim().toLowerCase(),(r===window||r===document)&&(r=document.body),e){case"%":return r.clientHeight/100;case"ch":case"ex":return STe(e,r);case"em":return c9(r,"font-size");case"rem":return c9(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return wy;case"cm":return wy/2.54;case"mm":return wy/25.4;case"pt":return wy/72;case"pc":return wy/6}return 1}});var ite=R((DPe,nte)=>{"use strict";nte.exports=u5;var kTe=u5.canvas=document.createElement("canvas"),l5=kTe.getContext("2d"),ate=s5([32,126]);u5.createPairs=s5;u5.ascii=ate;function u5(e,r){Array.isArray(e)&&(e=e.join(", "));var t={},a,n=16,i=.05;r&&(r.length===2&&typeof r[0]=="number"?a=s5(r):Array.isArray(r)?a=r:(r.o?a=s5(r.o):r.pairs&&(a=r.pairs),r.fontSize&&(n=r.fontSize),r.threshold!=null&&(i=r.threshold))),a||(a=ate),l5.font=n+"px "+e;for(var o=0;o<a.length;o++){var l=a[o],s=l5.measureText(l[0]).width+l5.measureText(l[1]).width,u=l5.measureText(l).width;if(Math.abs(s-u)>n*i){var f=(u-s)/n;t[l]=f*1e3}}return t}function s5(e){for(var r=[],t=e[0];t<=e[1];t++)for(var a=String.fromCharCode(t),n=e[0];n<e[1];n++){var i=String.fromCharCode(n),o=a+i;r.push(o)}return r}});var ute=R((FPe,ste)=>{"use strict";ste.exports=kf;kf.canvas=document.createElement("canvas");kf.cache={};function kf(o,r){r||(r={}),(typeof o=="string"||Array.isArray(o))&&(r.family=o);var t=Array.isArray(r.family)?r.family.join(", "):r.family;if(!t)throw Error("`family` must be defined");var a=r.size||r.fontSize||r.em||48,n=r.weight||r.fontWeight||"",i=r.style||r.fontStyle||"",o=[i,n,a].join(" ")+"px "+t,l=r.origin||"top";if(kf.cache[t]&&a<=kf.cache[t].em)return ote(kf.cache[t],l);var s=r.canvas||kf.canvas,u=s.getContext("2d"),f={upper:r.upper!==void 0?r.upper:"H",lower:r.lower!==void 0?r.lower:"x",descent:r.descent!==void 0?r.descent:"p",ascent:r.ascent!==void 0?r.ascent:"h",tittle:r.tittle!==void 0?r.tittle:"i",overshoot:r.overshoot!==void 0?r.overshoot:"O"},c=Math.ceil(a*1.5);s.height=c,s.width=c*.5,u.font=o;var h="H",d={top:0};u.clearRect(0,0,c,c),u.textBaseline="top",u.fillStyle="black",u.fillText(h,0,0);var p=xs(u.getImageData(0,0,c,c));u.clearRect(0,0,c,c),u.textBaseline="bottom",u.fillText(h,0,c);var g=xs(u.getImageData(0,0,c,c));d.lineHeight=d.bottom=c-g+p,u.clearRect(0,0,c,c),u.textBaseline="alphabetic",u.fillText(h,0,c);var y=xs(u.getImageData(0,0,c,c)),b=c-y-1+p;d.baseline=d.alphabetic=b,u.clearRect(0,0,c,c),u.textBaseline="middle",u.fillText(h,0,c*.5);var _=xs(u.getImageData(0,0,c,c));d.median=d.middle=c-_-1+p-c*.5,u.clearRect(0,0,c,c),u.textBaseline="hanging",u.fillText(h,0,c*.5);var w=xs(u.getImageData(0,0,c,c));d.hanging=c-w-1+p-c*.5,u.clearRect(0,0,c,c),u.textBaseline="ideographic",u.fillText(h,0,c);var x=xs(u.getImageData(0,0,c,c));if(d.ideographic=c-x-1+p,f.upper&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.upper,0,0),d.upper=xs(u.getImageData(0,0,c,c)),d.capHeight=d.baseline-d.upper),f.lower&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.lower,0,0),d.lower=xs(u.getImageData(0,0,c,c)),d.xHeight=d.baseline-d.lower),f.tittle&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.tittle,0,0),d.tittle=xs(u.getImageData(0,0,c,c))),f.ascent&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.ascent,0,0),d.ascent=xs(u.getImageData(0,0,c,c))),f.descent&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.descent,0,0),d.descent=lte(u.getImageData(0,0,c,c))),f.overshoot){u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.overshoot,0,0);var T=lte(u.getImageData(0,0,c,c));d.overshoot=T-b}for(var S in d)d[S]/=a;return d.em=a,kf.cache[t]=d,ote(d,l)}function ote(e,r){var t={};typeof r=="string"&&(r=e[r]);for(var a in e)a!=="em"&&(t[a]=e[a]-r);return t}function xs(e){for(var r=e.height,t=e.data,a=3;a<t.length;a+=4)if(t[a]!==0)return Math.floor((a-3)*.25/r)}function lte(e){for(var r=e.height,t=e.data,a=t.length-1;a>0;a-=4)if(t[a]!==0)return Math.floor((a-3)*.25/r)}});var hte=R((RPe,vte)=>{"use strict";var Qh=are(),CTe=su(),ETe=JT(),LTe=sre(),qTe=RT(),v9=av(),DTe=fre(),Cf=Jre(),FTe=Pp(),RTe=Kre(),PTe=f9(),NTe=tte(),ITe=ite(),OTe=Sn(),zTe=ute(),BTe=Th(),UTe=KT(),fte=UTe.nextPow2,cte=new qTe,c5=!1;document.body&&(f5=document.body.appendChild(document.createElement("div")),f5.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(f5).fontStretch&&(c5=!0),document.body.removeChild(f5));var f5,Fa=function(r){HTe(r)?(r={regl:r},this.gl=r.regl._gl):this.gl=LTe(r),this.shader=cte.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=r.regl||ETe({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),cte.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(RTe(r)?r:{})};Fa.prototype.createShader=function(){var r=this.regl,t=r({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:r.prop("count"),offset:r.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:r.this("sizeBuffer")},width:{offset:0,stride:8,buffer:r.this("sizeBuffer")},char:r.this("charBuffer"),position:r.this("position")},uniforms:{atlasSize:function(n,i){return[i.atlas.width,i.atlas.height]},atlasDim:function(n,i){return[i.atlas.cols,i.atlas.rows]},atlas:function(n,i){return i.atlas.texture},charStep:function(n,i){return i.atlas.step},em:function(n,i){return i.atlas.em},color:r.prop("color"),opacity:r.prop("opacity"),viewport:r.this("viewportArray"),scale:r.this("scale"),align:r.prop("align"),baseline:r.prop("baseline"),translate:r.this("translate"),positionOffset:r.prop("positionOffset")},primitive:"points",viewport:r.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),a={};return{regl:r,draw:t,atlas:a}};Fa.prototype.update=function(r){var t=this;if(typeof r=="string")r={text:r};else if(!r)return;r=CTe(r,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),r.opacity!=null&&(Array.isArray(r.opacity)?this.opacity=r.opacity.map(function(ne){return parseFloat(ne)}):this.opacity=parseFloat(r.opacity)),r.viewport!=null&&(this.viewport=FTe(r.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),r.kerning!=null&&(this.kerning=r.kerning),r.offset!=null&&(typeof r.offset=="number"&&(r.offset=[r.offset,0]),this.positionOffset=BTe(r.offset)),r.direction&&(this.direction=r.direction),r.range&&(this.range=r.range,this.scale=[1/(r.range[2]-r.range[0]),1/(r.range[3]-r.range[1])],this.translate=[-r.range[0],-r.range[1]]),r.scale&&(this.scale=r.scale),r.translate&&(this.translate=r.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!r.font&&(r.font=Fa.baseFontSize+"px sans-serif");var a=!1,n=!1;if(r.font&&(Array.isArray(r.font)?r.font:[r.font]).forEach(function(ne,de){if(typeof ne=="string")try{ne=Qh.parse(ne)}catch(Se){ne=Qh.parse(Fa.baseFontSize+"px "+ne)}else{var K=ne.style,me=ne.weight,fe=ne.stretch,ke=ne.variant;ne=Qh.parse(Qh.stringify(ne)),K&&(ne.style=K),me&&(ne.weight=me),fe&&(ne.stretch=fe),ke&&(ne.variant=ke)}var ve=Qh.stringify({size:Fa.baseFontSize,family:ne.family,stretch:c5?ne.stretch:void 0,variant:ne.variant,weight:ne.weight,style:ne.style}),Ae=PTe(ne.size),Y=Math.round(Ae[0]*NTe(Ae[1]));if(Y!==t.fontSize[de]&&(n=!0,t.fontSize[de]=Y),(!t.font[de]||ve!=t.font[de].baseString)&&(a=!0,t.font[de]=Fa.fonts[ve],!t.font[de])){var ae=ne.family.join(", "),X=[ne.style];ne.style!=ne.variant&&X.push(ne.variant),ne.variant!=ne.weight&&X.push(ne.weight),c5&&ne.weight!=ne.stretch&&X.push(ne.stretch),t.font[de]={baseString:ve,family:ae,weight:ne.weight,stretch:ne.stretch,style:ne.style,variant:ne.variant,width:{},kerning:{},metrics:zTe(ae,{origin:"top",fontSize:Fa.baseFontSize,fontStyle:X.join(" ")})},Fa.fonts[ve]=t.font[de]}}),(a||n)&&this.font.forEach(function(ne,de){var K=Qh.stringify({size:t.fontSize[de],family:ne.family,stretch:c5?ne.stretch:void 0,variant:ne.variant,weight:ne.weight,style:ne.style});if(t.fontAtlas[de]=t.shader.atlas[K],!t.fontAtlas[de]){var me=ne.metrics;t.shader.atlas[K]=t.fontAtlas[de]={fontString:K,step:Math.ceil(t.fontSize[de]*me.bottom*.5)*2,em:t.fontSize[de],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:t.regl.texture()}}r.text==null&&(r.text=t.text)}),typeof r.text=="string"&&r.position&&r.position.length>2){for(var i=Array(r.position.length*.5),o=0;o<i.length;o++)i[o]=r.text;r.text=i}var l;if(r.text!=null||a){if(this.textOffsets=[0],Array.isArray(r.text)){this.count=r.text[0].length,this.counts=[this.count];for(var s=1;s<r.text.length;s++)this.textOffsets[s]=this.textOffsets[s-1]+r.text[s-1].length,this.count+=r.text[s].length,this.counts.push(r.text[s].length);this.text=r.text.join("")}else this.text=r.text,this.count=this.text.length,this.counts=[this.count];l=[],this.font.forEach(function(ne,de){Fa.atlasContext.font=ne.baseString;for(var K=t.fontAtlas[de],me=0;me<t.text.length;me++){var fe=t.text.charAt(me);if(K.ids[fe]==null&&(K.ids[fe]=K.chars.length,K.chars.push(fe),l.push(fe)),ne.width[fe]==null&&(ne.width[fe]=Fa.atlasContext.measureText(fe).width/Fa.baseFontSize,t.kerning)){var ke=[];for(var ve in ne.width)ke.push(ve+fe,fe+ve);OTe(ne.kerning,ITe(ne.family,{pairs:ke}))}}})}if(r.position)if(r.position.length>2){for(var u=!r.position[0].length,f=Cf.mallocFloat(this.count*2),c=0,h=0;c<this.counts.length;c++){var d=this.counts[c];if(u)for(var p=0;p<d;p++)f[h++]=r.position[c*2],f[h++]=r.position[c*2+1];else for(var g=0;g<d;g++)f[h++]=r.position[c][0],f[h++]=r.position[c][1]}this.position.call?this.position({type:"float",data:f}):this.position=this.regl.buffer({type:"float",data:f}),Cf.freeFloat(f)}else this.position.destroy&&this.position.destroy(),this.position={constant:r.position};if(r.text||a){var y=Cf.mallocUint8(this.count),b=Cf.mallocFloat(this.count*2);this.textWidth=[];for(var _=0,w=0;_<this.counts.length;_++){for(var x=this.counts[_],T=this.font[_]||this.font[0],S=this.fontAtlas[_]||this.fontAtlas[0],M=0;M<x;M++){var C=this.text.charAt(w),q=this.text.charAt(w-1);if(y[w]=S.ids[C],b[w*2]=T.width[C],M){var F=b[w*2-2],P=b[w*2],I=b[w*2-1],H=I+F*.5+P*.5;if(this.kerning){var V=T.kerning[q+C];V&&(H+=V*.001)}b[w*2+1]=H}else b[w*2+1]=b[w*2]*.5;w++}this.textWidth.push(b.length?b[w*2-2]*.5+b[w*2-1]:0)}r.align||(r.align=this.align),this.charBuffer({data:y,type:"uint8",usage:"stream"}),this.sizeBuffer({data:b,type:"float",usage:"stream"}),Cf.freeUint8(y),Cf.freeFloat(b),l.length&&this.font.forEach(function(ne,de){var K=t.fontAtlas[de],me=K.step,fe=Math.floor(Fa.maxAtlasSize/me),ke=Math.min(fe,K.chars.length),ve=Math.ceil(K.chars.length/ke),Ae=fte(ke*me),Y=fte(ve*me);K.width=Ae,K.height=Y,K.rows=ve,K.cols=ke,K.em&&K.texture({data:DTe({canvas:Fa.atlasCanvas,font:K.fontString,chars:K.chars,shape:[Ae,Y],step:[me,me]})})})}if(r.align&&(this.align=r.align,this.alignOffset=this.textWidth.map(function(ne,de){var K=Array.isArray(t.align)?t.align.length>1?t.align[de]:t.align[0]:t.align;if(typeof K=="number")return K;switch(K){case"right":case"end":return-ne;case"center":case"centre":case"middle":return-ne*.5}return 0})),this.baseline==null&&r.baseline==null&&(r.baseline=0),r.baseline!=null&&(this.baseline=r.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(ne,de){var K=(t.font[de]||t.font[0]).metrics,me=0;return me+=K.bottom*.5,typeof ne=="number"?me+=ne-K.baseline:me+=-K[ne],me*=-1,me})),r.color!=null)if(r.color||(r.color="transparent"),typeof r.color=="string"||!isNaN(r.color))this.color=v9(r.color,"uint8");else{var j;if(typeof r.color[0]=="number"&&r.color.length>this.counts.length){var W=r.color.length;j=Cf.mallocUint8(W);for(var z=(r.color.subarray||r.color.slice).bind(r.color),O=0;O<W;O+=4)j.set(v9(z(O,O+4),"uint8"),O)}else{var G=r.color.length;j=Cf.mallocUint8(G*4);for(var Z=0;Z<G;Z++)j.set(v9(r.color[Z]||0,"uint8"),Z*4)}this.color=j}if(r.position||r.text||r.color||r.baseline||r.align||r.font||r.offset||r.opacity){var Q=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Q){var ie=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(ie);for(var be=0;be<this.batch.length;be++)this.batch[be]={count:this.counts.length>1?this.counts[be]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[be]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(be*4,be*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[be]:this.opacity,baseline:this.baselineOffset[be]!=null?this.baselineOffset[be]:this.baselineOffset[0],align:this.align?this.alignOffset[be]!=null?this.alignOffset[be]:this.alignOffset[0]:0,atlas:this.fontAtlas[be]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(be*2,be*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}};Fa.prototype.destroy=function(){};Fa.prototype.kerning=!0;Fa.prototype.position={constant:new Float32Array(2)};Fa.prototype.translate=null;Fa.prototype.scale=null;Fa.prototype.font=null;Fa.prototype.text="";Fa.prototype.positionOffset=[0,0];Fa.prototype.opacity=1;Fa.prototype.color=new Uint8Array([0,0,0,255]);Fa.prototype.alignOffset=[0,0];Fa.maxAtlasSize=1024;Fa.atlasCanvas=document.createElement("canvas");Fa.atlasContext=Fa.atlasCanvas.getContext("2d",{alpha:!1});Fa.baseFontSize=64;Fa.fonts={};function HTe(e){return typeof e=="function"&&e._gl&&e.prop&&e.texture&&e.buffer}vte.exports=Fa});var yte=R((PPe,pte)=>{"use strict";var dte=Vt(),GTe=function(){};pte.exports=function(r){for(var t in r)typeof r[t]=="function"&&(r[t]=GTe);r.destroy=function(){r.container.parentNode.removeChild(r.container)};var a=document.createElement("div");a.className="no-webgl",a.style.cursor="pointer",a.style.fontSize="24px",a.style.color=dte.defaults[0],a.style.position="absolute",a.style.left=a.style.top="0px",a.style.width=a.style.height="100%",a.style["background-color"]=dte.lightLine,a.style["z-index"]=30;var n=document.createElement("p");return n.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",n.style.position="relative",n.style.top="50%",n.style.left="50%",n.style.height="30%",n.style.width="50%",n.style.margin="-15% 0 0 -25%",a.appendChild(n),r.container.appendChild(a),r.container.style.background="#FFFFFF",r.container.onclick=function(){window.open("https://get.webgl.org")},!1}});var gte=R((NPe,mte)=>{"use strict";var VTe=yte(),YTe=JT();mte.exports=function(r,t,a){var n=r._fullLayout,i=!0;return n._glcanvas.each(function(o){if(o.regl){o.regl.preloadCachedCode(a);return}if(!(o.pick&&!n._has("parcoords"))){try{o.regl=YTe({canvas:this,attributes:{antialias:!o.pick,preserveDrawingBuffer:!0},pixelRatio:r._context.plotGlPixelRatio||window.devicePixelRatio,extensions:t||[],cachedCode:a||{}})}catch(l){i=!1}o.regl||(i=!1),i&&this.addEventListener("webglcontextlost",function(l){r&&r.emit&&r.emit("plotly_webglcontextlost",{event:l,layer:o.key})},!1)}}),i||VTe({container:n._glcontainer.node()}),i}});var Tte=R((d9,Ate)=>{"use strict";var bte=q$(),xte=Fee(),WTe=Oee(),_te=hte(),h9=fr(),jTe=Dc().selectMode,XTe=gte(),ZTe=gi(),JTe=bA(),$Te=nT().styleTextSelection,wte={};function KTe(e,r,t,a){var n=e._size,i=e.width*a,o=e.height*a,l=n.l*a,s=n.b*a,u=n.r*a,f=n.t*a,c=n.w*a,h=n.h*a;return[l+r.domain[0]*c,s+t.domain[0]*h,i-u-(1-r.domain[1])*c,o-f-(1-t.domain[1])*h]}var d9=Ate.exports=function(r,t,a){if(a.length){var n=r._fullLayout,i=t._scene,o=t.xaxis,l=t.yaxis,s,u;if(i){var f=XTe(r,["ANGLE_instanced_arrays","OES_element_index_uint"],wte);if(!f){i.init();return}var c=i.count,h=n._glcanvas.data()[0].regl;if(JTe(r,t,a),i.dirty){if((i.line2d||i.error2d)&&!(i.scatter2d||i.fill2d||i.glText)&&h.clear({}),i.error2d===!0&&(i.error2d=WTe(h)),i.line2d===!0&&(i.line2d=xte(h)),i.scatter2d===!0&&(i.scatter2d=bte(h)),i.fill2d===!0&&(i.fill2d=xte(h)),i.glText===!0)for(i.glText=new Array(c),s=0;s<c;s++)i.glText[s]=new _te(h);if(i.glText){if(c>i.glText.length){var d=c-i.glText.length;for(s=0;s<d;s++)i.glText.push(new _te(h))}else if(c<i.glText.length){var p=i.glText.length-c,g=i.glText.splice(c,p);g.forEach(function(G){G.destroy()})}for(s=0;s<c;s++)i.glText[s].update(i.textOptions[s])}if(i.line2d&&(i.line2d.update(i.lineOptions),i.lineOptions=i.lineOptions.map(function(G){if(G&&G.positions){for(var Z=G.positions,Q=0;Q<Z.length&&(isNaN(Z[Q])||isNaN(Z[Q+1]));)Q+=2;for(var ie=Z.length-2;ie>Q&&(isNaN(Z[ie])||isNaN(Z[ie+1]));)ie-=2;G.positions=Z.slice(Q,ie+2)}return G}),i.line2d.update(i.lineOptions)),i.error2d){var y=(i.errorXOptions||[]).concat(i.errorYOptions||[]);i.error2d.update(y)}i.scatter2d&&i.scatter2d.update(i.markerOptions),i.fillOrder=h9.repeat(null,c),i.fill2d&&(i.fillOptions=i.fillOptions.map(function(G,Z){var Q=a[Z];if(!(!G||!Q||!Q[0]||!Q[0].trace)){var ie=Q[0],be=ie.trace,ne=ie.t,de=i.lineOptions[Z],K,me,fe=[];be._ownfill&&fe.push(Z),be._nexttrace&&fe.push(Z+1),fe.length&&(i.fillOrder[Z]=fe);var ke=[],ve=de&&de.positions||ne.positions,Ae,Y;if(be.fill==="tozeroy"){for(Ae=0;Ae<ve.length&&isNaN(ve[Ae+1]);)Ae+=2;for(Y=ve.length-2;Y>Ae&&isNaN(ve[Y+1]);)Y-=2;ve[Ae+1]!==0&&(ke=[ve[Ae],0]),ke=ke.concat(ve.slice(Ae,Y+2)),ve[Y+1]!==0&&(ke=ke.concat([ve[Y],0]))}else if(be.fill==="tozerox"){for(Ae=0;Ae<ve.length&&isNaN(ve[Ae]);)Ae+=2;for(Y=ve.length-2;Y>Ae&&isNaN(ve[Y]);)Y-=2;ve[Ae]!==0&&(ke=[0,ve[Ae+1]]),ke=ke.concat(ve.slice(Ae,Y+2)),ve[Y]!==0&&(ke=ke.concat([0,ve[Y+1]]))}else if(be.fill==="toself"||be.fill==="tonext"){for(ke=[],K=0,G.splitNull=!0,me=0;me<ve.length;me+=2)(isNaN(ve[me])||isNaN(ve[me+1]))&&(ke=ke.concat(ve.slice(K,me)),ke.push(ve[K],ve[K+1]),ke.push(null,null),K=me+2);ke=ke.concat(ve.slice(K)),K&&ke.push(ve[K],ve[K+1])}else{var ae=be._nexttrace;if(ae){var X=i.lineOptions[Z+1];if(X){var Se=X.positions;if(be.fill==="tonexty"){for(ke=ve.slice(),Z=Math.floor(Se.length/2);Z--;){var qe=Se[Z*2],De=Se[Z*2+1];isNaN(qe)||isNaN(De)||ke.push(qe,De)}G.fill=ae.fillcolor}}}}if(be._prevtrace&&be._prevtrace.fill==="tonext"){var tr=i.lineOptions[Z-1].positions,$e=ke.length/2;K=$e;var Ze=[K];for(me=0;me<tr.length;me+=2)(isNaN(tr[me])||isNaN(tr[me+1]))&&(Ze.push(me/2+$e+1),K=me+2);ke=ke.concat(tr),G.hole=Ze}return G.fillmode=be.fill,G.opacity=be.opacity,G.positions=ke,G}}),i.fill2d.update(i.fillOptions))}var b=n.dragmode,_=jTe(b),w=n.clickmode.indexOf("select")>-1;for(s=0;s<c;s++){var x=a[s][0],T=x.trace,S=x.t,M=S.index,C=T._length,q=S.x,F=S.y;if(T.selectedpoints||_||w){if(_||(_=!0),T.selectedpoints){var P=i.selectBatch[M]=h9.selIndices2selPoints(T),I={};for(u=0;u<P.length;u++)I[P[u]]=1;var H=[];for(u=0;u<C;u++)I[u]||H.push(u);i.unselectBatch[M]=H}var V=S.xpx=new Array(C),j=S.ypx=new Array(C);for(u=0;u<C;u++)V[u]=o.c2p(q[u]),j[u]=l.c2p(F[u])}else S.xpx=S.ypx=null}if(_){if(i.select2d||(i.select2d=bte(n._glcanvas.data()[1].regl)),i.scatter2d){var W=new Array(c);for(s=0;s<c;s++)W[s]=i.selectBatch[s].length||i.unselectBatch[s].length?i.markerUnselectedOptions[s]:{};i.scatter2d.update(W)}i.select2d&&(i.select2d.update(i.markerOptions),i.select2d.update(i.markerSelectedOptions)),i.glText&&a.forEach(function(G){var Z=((G||[])[0]||{}).trace||{};ZTe.hasText(Z)&&$Te(G)})}else i.scatter2d&&i.scatter2d.update(i.markerOptions);var z={viewport:KTe(n,o,l,r._context.plotGlPixelRatio),range:[(o._rl||o.range)[0],(l._rl||l.range)[0],(o._rl||o.range)[1],(l._rl||l.range)[1]]},O=h9.repeat(z,i.count);i.fill2d&&i.fill2d.update(O),i.line2d&&i.line2d.update(O),i.error2d&&i.error2d.update(O.concat(O)),i.scatter2d&&i.scatter2d.update(O),i.select2d&&i.select2d.update(O),i.glText&&i.glText.forEach(function(G){G.update(z)})}}};d9.reglPrecompiled=wte});var kte=R((IPe,Ste)=>{"use strict";var Mte=m$();Mte.plot=Tte();Ste.exports=Mte});var Ete=R((OPe,Cte)=>{"use strict";Cte.exports=kte()});var Ti=R((zPe,qte)=>{var h5=Sn();function Lte(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}h5(Lte.prototype,{instance:function(e,r){e=(e||"gregorian").toLowerCase(),r=r||"";var t=this._localCals[e+"-"+r];if(!t&&this.calendars[e]&&(t=new this.calendars[e](r),this._localCals[e+"-"+r]=t),!t)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return t},newDate:function(e,r,t,a,n){return a=(e!=null&&e.year?e.calendar():typeof a=="string"?this.instance(a,n):a)||this.instance(),a.newDate(e,r,t)},substituteDigits:function(e){return function(r){return(r+"").replace(/[0-9]/g,function(t){return e[t]})}},substituteChineseDigits:function(e,r){return function(t){for(var a="",n=0;t>0;){var i=t%10;a=(i===0?"":e[i]+r[n])+a,n++,t=Math.floor(t/10)}return a.indexOf(e[1]+r[1])===0&&(a=a.substr(1)),a||e[0]}}});function p9(e,r,t,a){if(this._calendar=e,this._year=r,this._month=t,this._day=a,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(jt.local.invalidDate||jt.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function v5(e,r){return e=""+e,"000000".substring(0,r-e.length)+e}h5(p9.prototype,{newDate:function(e,r,t){return this._calendar.newDate(e==null?this:e,r,t)},year:function(e){return arguments.length===0?this._year:this.set(e,"y")},month:function(e){return arguments.length===0?this._month:this.set(e,"m")},day:function(e){return arguments.length===0?this._day:this.set(e,"d")},date:function(e,r,t){if(!this._calendar.isValid(e,r,t))throw(jt.local.invalidDate||jt.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=e,this._month=r,this._day=t,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,r){return this._calendar.add(this,e,r)},set:function(e,r){return this._calendar.set(this,e,r)},compareTo:function(e){if(this._calendar.name!==e._calendar.name)throw(jt.local.differentCalendars||jt.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name);var r=this._year!==e._year?this._year-e._year:this._month!==e._month?this.monthOfYear()-e.monthOfYear():this._day-e._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?"-":"")+v5(Math.abs(this.year()),4)+"-"+v5(this.month(),2)+"-"+v5(this.day(),2)}});function y9(){this.shortYearCutoff="+10"}h5(y9.prototype,{_validateLevel:0,newDate:function(e,r,t){return e==null?this.today():(e.year&&(this._validate(e,r,t,jt.local.invalidDate||jt.regionalOptions[""].invalidDate),t=e.day(),r=e.month(),e=e.year()),new p9(this,e,r,t))},today:function(){return this.fromJSDate(new Date)},epoch:function(e){var r=this._validate(e,this.minMonth,this.minDay,jt.local.invalidYear||jt.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,jt.local.invalidYear||jt.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+v5(Math.abs(r.year()),4)},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,jt.local.invalidYear||jt.regionalOptions[""].invalidYear),12},monthOfYear:function(e,r){var t=this._validate(e,r,this.minDay,jt.local.invalidMonth||jt.regionalOptions[""].invalidMonth);return(t.month()+this.monthsInYear(t)-this.firstMonth)%this.monthsInYear(t)+this.minMonth},fromMonthOfYear:function(e,r){var t=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;return this._validate(e,t,this.minDay,jt.local.invalidMonth||jt.regionalOptions[""].invalidMonth),t},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,jt.local.invalidYear||jt.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(e,r,t){var a=this._validate(e,r,t,jt.local.invalidDate||jt.regionalOptions[""].invalidDate);return a.toJD()-this.newDate(a.year(),this.fromMonthOfYear(a.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,r,t){var a=this._validate(e,r,t,jt.local.invalidDate||jt.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(a))+2)%this.daysInWeek()},extraInfo:function(e,r,t){return this._validate(e,r,t,jt.local.invalidDate||jt.regionalOptions[""].invalidDate),{}},add:function(e,r,t){return this._validate(e,this.minMonth,this.minDay,jt.local.invalidDate||jt.regionalOptions[""].invalidDate),this._correctAdd(e,this._add(e,r,t),r,t)},_add:function(e,r,t){if(this._validateLevel++,t==="d"||t==="w"){var a=e.toJD()+r*(t==="w"?this.daysInWeek():1),n=e.calendar().fromJD(a);return this._validateLevel--,[n.year(),n.month(),n.day()]}try{var i=e.year()+(t==="y"?r:0),o=e.monthOfYear()+(t==="m"?r:0),n=e.day(),l=function(f){for(;o<f.minMonth;)i--,o+=f.monthsInYear(i);for(var c=f.monthsInYear(i);o>c-1+f.minMonth;)i++,o-=c,c=f.monthsInYear(i)};t==="y"?(e.month()!==this.fromMonthOfYear(i,o)&&(o=this.newDate(i,e.month(),this.minDay).monthOfYear()),o=Math.min(o,this.monthsInYear(i)),n=Math.min(n,this.daysInMonth(i,this.fromMonthOfYear(i,o)))):t==="m"&&(l(this),n=Math.min(n,this.daysInMonth(i,this.fromMonthOfYear(i,o))));var s=[i,this.fromMonthOfYear(i,o),n];return this._validateLevel--,s}catch(u){throw this._validateLevel--,u}},_correctAdd:function(e,r,t,a){if(!this.hasYearZero&&(a==="y"||a==="m")&&(r[0]===0||e.year()>0!=r[0]>0)){var n={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[a],i=t<0?-1:1;r=this._add(e,t*n[0]+i*n[1],n[2])}return e.date(r[0],r[1],r[2])},set:function(e,r,t){this._validate(e,this.minMonth,this.minDay,jt.local.invalidDate||jt.regionalOptions[""].invalidDate);var a=t==="y"?r:e.year(),n=t==="m"?r:e.month(),i=t==="d"?r:e.day();return(t==="y"||t==="m")&&(i=Math.min(i,this.daysInMonth(a,n))),e.date(a,n,i)},isValid:function(e,r,t){this._validateLevel++;var a=this.hasYearZero||e!==0;if(a){var n=this.newDate(e,r,this.minDay);a=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(n)&&t>=this.minDay&&t-this.minDay<this.daysInMonth(n)}return this._validateLevel--,a},toJSDate:function(e,r,t){var a=this._validate(e,r,t,jt.local.invalidDate||jt.regionalOptions[""].invalidDate);return jt.instance().fromJD(this.toJD(a)).toJSDate()},fromJSDate:function(e){return this.fromJD(jt.instance().fromJSDate(e).toJD())},_validate:function(e,r,t,a){if(e.year){if(this._validateLevel===0&&this.name!==e.calendar().name)throw(jt.local.differentCalendars||jt.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name);return e}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(e,r,t))throw a.replace(/\{0\}/,this.local.name);var n=this.newDate(e,r,t);return this._validateLevel--,n}catch(i){throw this._validateLevel--,i}}});function m9(e){this.local=this.regionalOptions[e]||this.regionalOptions[""]}m9.prototype=new y9;h5(m9.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,jt.local.invalidYear||jt.regionalOptions[""].invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===0&&(t%100!==0||t%400===0)},weekOfYear:function(e,r,t){var a=this.newDate(e,r,t);return a.add(4-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,jt.local.invalidMonth||jt.regionalOptions[""].invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var a=this._validate(e,r,t,jt.local.invalidDate||jt.regionalOptions[""].invalidDate);e=a.year(),r=a.month(),t=a.day(),e<0&&e++,r<3&&(r+=12,e--);var n=Math.floor(e/100),i=2-n+Math.floor(n/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t+i-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=Math.floor((r-186721625e-2)/36524.25);t=r+1+t-Math.floor(t/4);var a=t+1524,n=Math.floor((a-122.1)/365.25),i=Math.floor(365.25*n),o=Math.floor((a-i)/30.6001),l=a-i-Math.floor(o*30.6001),s=o-(o>13.5?13:1),u=n-(s>2.5?4716:4715);return u<=0&&u--,this.newDate(u,s,l)},toJSDate:function(e,r,t){var a=this._validate(e,r,t,jt.local.invalidDate||jt.regionalOptions[""].invalidDate),n=new Date(a.year(),a.month()-1,a.day());return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n.setHours(n.getHours()>12?n.getHours()+2:0),n},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var jt=qte.exports=new Lte;jt.cdate=p9;jt.baseCalendar=y9;jt.calendars.gregorian=m9});var Dte=R(()=>{var g9=Sn(),ii=Ti();g9(ii.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"});ii.local=ii.regionalOptions[""];g9(ii.cdate.prototype,{formatDate:function(e,r){return typeof e!="string"&&(r=e,e=""),this._calendar.formatDate(e||"",this,r)}});g9(ii.baseCalendar.prototype,{UNIX_EPOCH:ii.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:ii.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(e,r,t){if(typeof e!="string"&&(t=r,r=e,e=""),!r)return"";if(r.calendar()!==this)throw ii.local.invalidFormat||ii.regionalOptions[""].invalidFormat;e=e||this.local.dateFormat,t=t||{};for(var a=t.dayNamesShort||this.local.dayNamesShort,n=t.dayNames||this.local.dayNames,i=t.monthNumbers||this.local.monthNumbers,o=t.monthNamesShort||this.local.monthNamesShort,l=t.monthNames||this.local.monthNames,s=t.calculateWeek||this.local.calculateWeek,u=function(x,T){for(var S=1;w+S<e.length&&e.charAt(w+S)===x;)S++;return w+=S-1,Math.floor(S/(T||1))>1},f=function(x,T,S,M){var C=""+T;if(u(x,M))for(;C.length<S;)C="0"+C;return C},c=function(x,T,S,M){return u(x)?M[T]:S[T]},h=this,d=function(x){return typeof i=="function"?i.call(h,x,u("m")):y(f("m",x.month(),2))},p=function(x,T){return T?typeof l=="function"?l.call(h,x):l[x.month()-h.minMonth]:typeof o=="function"?o.call(h,x):o[x.month()-h.minMonth]},g=this.local.digits,y=function(x){return t.localNumbers&&g?g(x):x},b="",_=!1,w=0;w<e.length;w++)if(_)e.charAt(w)==="'"&&!u("'")?_=!1:b+=e.charAt(w);else switch(e.charAt(w)){case"d":b+=y(f("d",r.day(),2));break;case"D":b+=c("D",r.dayOfWeek(),a,n);break;case"o":b+=f("o",r.dayOfYear(),3);break;case"w":b+=f("w",r.weekOfYear(),2);break;case"m":b+=d(r);break;case"M":b+=p(r,u("M"));break;case"y":b+=u("y",2)?r.year():(r.year()%100<10?"0":"")+r.year()%100;break;case"Y":u("Y",2),b+=r.formatYear();break;case"J":b+=r.toJD();break;case"@":b+=(r.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":b+=(r.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?b+="'":_=!0;break;default:b+=e.charAt(w)}return b},parseDate:function(e,r,t){if(r==null)throw ii.local.invalidArguments||ii.regionalOptions[""].invalidArguments;if(r=typeof r=="object"?r.toString():r+"",r==="")return null;e=e||this.local.dateFormat,t=t||{};var a=t.shortYearCutoff||this.shortYearCutoff;a=typeof a!="string"?a:this.today().year()%100+parseInt(a,10);for(var n=t.dayNamesShort||this.local.dayNamesShort,i=t.dayNames||this.local.dayNames,o=t.parseMonth||this.local.parseMonth,l=t.monthNumbers||this.local.monthNumbers,s=t.monthNamesShort||this.local.monthNamesShort,u=t.monthNames||this.local.monthNames,f=-1,c=-1,h=-1,d=-1,p=-1,g=!1,y=!1,b=function(I,H){for(var V=1;q+V<e.length&&e.charAt(q+V)===I;)V++;return q+=V-1,Math.floor(V/(H||1))>1},_=function(I,H){var V=b(I,H),j=[2,3,V?4:2,V?4:2,10,11,20]["oyYJ@!".indexOf(I)+1],W=new RegExp("^-?\\d{1,"+j+"}"),z=r.substring(C).match(W);if(!z)throw(ii.local.missingNumberAt||ii.regionalOptions[""].missingNumberAt).replace(/\{0\}/,C);return C+=z[0].length,parseInt(z[0],10)},w=this,x=function(){if(typeof l=="function"){b("m");var I=l.call(w,r.substring(C));return C+=I.length,I}return _("m")},T=function(I,H,V,j){for(var W=b(I,j)?V:H,z=0;z<W.length;z++)if(r.substr(C,W[z].length).toLowerCase()===W[z].toLowerCase())return C+=W[z].length,z+w.minMonth;throw(ii.local.unknownNameAt||ii.regionalOptions[""].unknownNameAt).replace(/\{0\}/,C)},S=function(){if(typeof u=="function"){var I=b("M")?u.call(w,r.substring(C)):s.call(w,r.substring(C));return C+=I.length,I}return T("M",s,u)},M=function(){if(r.charAt(C)!==e.charAt(q))throw(ii.local.unexpectedLiteralAt||ii.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,C);C++},C=0,q=0;q<e.length;q++)if(y)e.charAt(q)==="'"&&!b("'")?y=!1:M();else switch(e.charAt(q)){case"d":d=_("d");break;case"D":T("D",n,i);break;case"o":p=_("o");break;case"w":_("w");break;case"m":h=x();break;case"M":h=S();break;case"y":var F=q;g=!b("y",2),q=F,c=_("y",2);break;case"Y":c=_("Y",2);break;case"J":f=_("J")+.5,r.charAt(C)==="."&&(C++,_("J"));break;case"@":f=_("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=_("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":C=r.length;break;case"'":b("'")?M():y=!0;break;default:M()}if(C<r.length)throw ii.local.unexpectedText||ii.regionalOptions[""].unexpectedText;if(c===-1?c=this.today().year():c<100&&g&&(c+=a===-1?1900:this.today().year()-this.today().year()%100-(c<=a?0:100)),typeof h=="string"&&(h=o.call(this,c,h)),p>-1){h=1,d=p;for(var P=this.daysInMonth(c,h);d>P;P=this.daysInMonth(c,h))h++,d-=P}return f>-1?this.fromJD(f):this.newDate(c,h,d)},determineDate:function(e,r,t,a,n){t&&typeof t!="object"&&(n=a,a=t,t=null),typeof a!="string"&&(n=a,a="");var i=this,o=function(l){try{return i.parseDate(a,l,n)}catch(c){}l=l.toLowerCase();for(var s=(l.match(/^c/)&&t?t.newDate():null)||i.today(),u=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=u.exec(l);f;)s.add(parseInt(f[1],10),f[2]||"d"),f=u.exec(l);return s};return r=r?r.newDate():null,e=e==null?r:typeof e=="string"?o(e):typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?r:i.today().add(e,"d"):i.newDate(e),e}})});var Fte=R(()=>{var Ef=Ti(),QTe=Sn(),b9=Ef.instance();function d5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}d5.prototype=new Ef.baseCalendar;QTe(d5.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(e,r){if(typeof e=="string"){var t=e.match(r9e);return t?t[0]:""}var a=this._validateYear(e),n=e.month(),i=""+this.toChineseMonth(a,n);return r&&i.length<2&&(i="0"+i),this.isIntercalaryMonth(a,n)&&(i+="i"),i},monthNames:function(e){if(typeof e=="string"){var r=e.match(t9e);return r?r[0]:""}var t=this._validateYear(e),a=e.month(),n=this.toChineseMonth(t,a),i=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][n-1];return this.isIntercalaryMonth(t,a)&&(i="\u95F0"+i),i},monthNamesShort:function(e){if(typeof e=="string"){var r=e.match(a9e);return r?r[0]:""}var t=this._validateYear(e),a=e.month(),n=this.toChineseMonth(t,a),i=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][n-1];return this.isIntercalaryMonth(t,a)&&(i="\u95F0"+i),i},parseMonth:function(e,r){e=this._validateYear(e);var t=parseInt(r),a;if(isNaN(t))r[0]==="\u95F0"&&(a=!0,r=r.substring(1)),r[r.length-1]==="\u6708"&&(r=r.substring(0,r.length-1)),t=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(r);else{var n=r[r.length-1];a=n==="i"||n==="I"}var i=this.toMonthIndex(e,t,a);return i},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(e,r){if(e.year&&(e=e.year()),typeof e!="number"||e<1888||e>2111)throw r.replace(/\{0\}/,this.local.name);return e},toMonthIndex:function(e,r,t){var a=this.intercalaryMonth(e),n=t&&r!==a;if(n||r<1||r>12)throw Ef.local.invalidMonth.replace(/\{0\}/,this.local.name);var i;return a?!t&&r<=a?i=r-1:i=r:i=r-1,i},toChineseMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e),a=t?12:11;if(r<0||r>a)throw Ef.local.invalidMonth.replace(/\{0\}/,this.local.name);var n;return t?r<t?n=r+1:n=r:n=r+1,n},intercalaryMonth:function(e){e=this._validateYear(e);var r=Lf[e-Lf[0]],t=r>>13;return t},isIntercalaryMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e);return!!t&&t===r},leapYear:function(e){return this.intercalaryMonth(e)!==0},weekOfYear:function(e,r,t){var a=this._validateYear(e,Ef.local.invalidyear),n=qf[a-qf[0]],i=n>>9&4095,o=n>>5&15,l=n&31,s;s=b9.newDate(i,o,l),s.add(4-(s.dayOfWeek()||7),"d");var u=this.toJD(e,r,t)-s.toJD();return 1+Math.floor(u/7)},monthsInYear:function(e){return this.leapYear(e)?13:12},daysInMonth:function(e,r){e.year&&(r=e.month(),e=e.year()),e=this._validateYear(e);var t=Lf[e-Lf[0]],a=t>>13,n=a?12:11;if(r>n)throw Ef.local.invalidMonth.replace(/\{0\}/,this.local.name);var i=t&1<<12-r?30:29;return i},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var a=this._validate(e,i,t,Ef.local.invalidDate);e=this._validateYear(a.year()),r=a.month(),t=a.day();var n=this.isIntercalaryMonth(e,r),i=this.toChineseMonth(e,r),o=i9e(e,i,t,n);return b9.toJD(o.year,o.month,o.day)},fromJD:function(e){var r=b9.fromJD(e),t=n9e(r.year(),r.month(),r.day()),a=this.toMonthIndex(t.year,t.month,t.isIntercalary);return this.newDate(t.year,a,t.day)},fromString:function(e){var r=e.match(e9e),t=this._validateYear(+r[1]),a=+r[2],n=!!r[3],i=this.toMonthIndex(t,a,n),o=+r[4];return this.newDate(t,i,o)},add:function(e,r,t){var a=e.year(),n=e.month(),i=this.isIntercalaryMonth(a,n),o=this.toChineseMonth(a,n),l=Object.getPrototypeOf(d5.prototype).add.call(this,e,r,t);if(t==="y"){var s=l.year(),u=l.month(),f=this.isIntercalaryMonth(s,o),c=i&&f?this.toMonthIndex(s,o,!0):this.toMonthIndex(s,o,!1);c!==u&&l.month(c)}return l}});var e9e=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,r9e=/^\d?\d[iI]?/m,t9e=/^闰?十?[一二三四五六七八九]?月/m,a9e=/^闰?十?[一二三四五六七八九]?/m;Ef.calendars.chinese=d5;var Lf=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],qf=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n9e(e,r,t,a){var n,i;if(typeof e=="object")n=e,i=r||{};else{var o=typeof e=="number"&&e>=1888&&e<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var l=typeof r=="number"&&r>=1&&r<=12;if(!l)throw new Error("Solar month outside range 1 - 12");var s=typeof t=="number"&&t>=1&&t<=31;if(!s)throw new Error("Solar day outside range 1 - 31");n={year:e,month:r,day:t},i=a||{}}var u=qf[n.year-qf[0]],f=n.year<<9|n.month<<5|n.day;i.year=f>=u?n.year:n.year-1,u=qf[i.year-qf[0]];var c=u>>9&4095,h=u>>5&15,d=u&31,p,g=new Date(c,h-1,d),y=new Date(n.year,n.month-1,n.day);p=Math.round((y-g)/(24*3600*1e3));var b=Lf[i.year-Lf[0]],_;for(_=0;_<13;_++){var w=b&1<<12-_?30:29;if(p<w)break;p-=w}var x=b>>13;return!x||_<x?(i.isIntercalary=!1,i.month=1+_):_===x?(i.isIntercalary=!0,i.month=_):(i.isIntercalary=!1,i.month=_),i.day=1+p,i}function i9e(e,r,t,a,n){var i,o;if(typeof e=="object")o=e,i=r||{};else{var l=typeof e=="number"&&e>=1888&&e<=2111;if(!l)throw new Error("Lunar year outside range 1888-2111");var s=typeof r=="number"&&r>=1&&r<=12;if(!s)throw new Error("Lunar month outside range 1 - 12");var u=typeof t=="number"&&t>=1&&t<=30;if(!u)throw new Error("Lunar day outside range 1 - 30");var f;typeof a=="object"?(f=!1,i=a):(f=!!a,i=n||{}),o={year:e,month:r,day:t,isIntercalary:f}}var c;c=o.day-1;var h=Lf[o.year-Lf[0]],d=h>>13,p;d&&(o.month>d||o.isIntercalary)?p=o.month:p=o.month-1;for(var g=0;g<p;g++){var y=h&1<<12-g?30:29;c+=y}var b=qf[o.year-qf[0]],_=b>>9&4095,w=b>>5&15,x=b&31,T=new Date(_,w-1,x+c);return i.year=T.getFullYear(),i.month=1+T.getMonth(),i.day=T.getDate(),i}});var Rte=R(()=>{var cv=Ti(),o9e=Sn();function x9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}x9.prototype=new cv.baseCalendar;o9e(x9.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,cv.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,cv.local.invalidYear||cv.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var a=this.newDate(e,r,t);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,cv.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var a=this._validate(e,r,t,cv.local.invalidDate);return e=a.year(),e<0&&e++,a.day()+(a.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var a=Math.floor(r/30)+1,n=r-(a-1)*30+1;return this.newDate(t,a,n)}});cv.calendars.coptic=x9});var Pte=R(()=>{var hu=Ti(),l9e=Sn();function _9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}_9.prototype=new hu.baseCalendar;l9e(_9.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,hu.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,hu.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,hu.local.invalidYear),400},weekOfYear:function(e,r,t){var a=this.newDate(e,r,t);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/8)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,hu.local.invalidMonth);return this.daysPerMonth[t.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,r,t){var a=this._validate(e,r,t,hu.local.invalidDate);return(a.day()+1)%8},weekDay:function(e,r,t){var a=this.dayOfWeek(e,r,t);return a>=2&&a<=6},extraInfo:function(e,r,t){var a=this._validate(e,r,t,hu.local.invalidDate);return{century:s9e[Math.floor((a.year()-1)/100)+1]||""}},toJD:function(e,r,t){var a=this._validate(e,r,t,hu.local.invalidDate);return e=a.year()+(a.year()<0?1:0),r=a.month(),t=a.day(),t+(r>1?16:0)+(r>2?(r-2)*32:0)+(e-1)*400+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var r=Math.floor(e/400)+1;e-=(r-1)*400,e+=e>15?16:0;var t=Math.floor(e/32)+1,a=e-(t-1)*32+1;return this.newDate(r<=0?r-1:r,t,a)}});var s9e={20:"Fruitbat",21:"Anchovy"};hu.calendars.discworld=_9});var Nte=R(()=>{var vv=Ti(),u9e=Sn();function w9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}w9.prototype=new vv.baseCalendar;u9e(w9.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,vv.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,vv.local.invalidYear||vv.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var a=this.newDate(e,r,t);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,vv.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var a=this._validate(e,r,t,vv.local.invalidDate);return e=a.year(),e<0&&e++,a.day()+(a.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var a=Math.floor(r/30)+1,n=r-(a-1)*30+1;return this.newDate(t,a,n)}});vv.calendars.ethiopian=w9});var Ite=R(()=>{var Df=Ti(),f9e=Sn();function A9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}A9.prototype=new Df.baseCalendar;f9e(A9.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Df.local.invalidYear);return this._leapYear(r.year())},_leapYear:function(e){return e=e<0?e+1:e,p5(e*7+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Df.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,r,t){var a=this.newDate(e,r,t);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Df.local.invalidYear);return e=r.year(),this.toJD(e===-1?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,Df.local.invalidMonth),r===12&&this.leapYear(e)||r===8&&p5(this.daysInYear(e),10)===5?30:r===9&&p5(this.daysInYear(e),10)===3?29:this.daysPerMonth[r-1]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},extraInfo:function(e,r,t){var a=this._validate(e,r,t,Df.local.invalidDate);return{yearType:(this.leapYear(a)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(a)%10-3]}},toJD:function(e,r,t){var a=this._validate(e,r,t,Df.local.invalidDate);e=a.year(),r=a.month(),t=a.day();var n=e<=0?e+1:e,i=this.jdEpoch+this._delay1(n)+this._delay2(n)+t+1;if(r<7){for(var o=7;o<=this.monthsInYear(e);o++)i+=this.daysInMonth(e,o);for(var o=1;o<r;o++)i+=this.daysInMonth(e,o)}else for(var o=7;o<r;o++)i+=this.daysInMonth(e,o);return i},_delay1:function(e){var r=Math.floor((235*e-234)/19),t=12084+13753*r,a=r*29+Math.floor(t/25920);return p5(3*(a+1),7)<3&&a++,a},_delay2:function(e){var r=this._delay1(e-1),t=this._delay1(e),a=this._delay1(e+1);return a-t===356?2:t-r===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var r=Math.floor((e-this.jdEpoch)*98496/35975351)-1;e>=this.toJD(r===-1?1:r+1,7,1);)r++;for(var t=e<this.toJD(r,1,1)?7:1;e>this.toJD(r,t,this.daysInMonth(r,t));)t++;var a=e-this.toJD(r,t,1)+1;return this.newDate(r,t,a)}});function p5(e,r){return e-r*Math.floor(e/r)}Df.calendars.hebrew=A9});var Ote=R(()=>{var Ay=Ti(),c9e=Sn();function T9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}T9.prototype=new Ay.baseCalendar;c9e(T9.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Ay.local.invalidYear);return(r.year()*11+14)%30<11},weekOfYear:function(e,r,t){var a=this.newDate(e,r,t);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Ay.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var a=this._validate(e,r,t,Ay.local.invalidDate);return e=a.year(),r=a.month(),t=a.day(),e=e<=0?e+1:e,t+Math.ceil(29.5*(r-1))+(e-1)*354+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=Math.floor((30*(e-this.jdEpoch)+10646)/10631);r=r<=0?r-1:r;var t=Math.min(12,Math.ceil((e-29-this.toJD(r,1,1))/29.5)+1),a=e-this.toJD(r,t,1)+1;return this.newDate(r,t,a)}});Ay.calendars.islamic=T9});var zte=R(()=>{var Ty=Ti(),v9e=Sn();function M9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}M9.prototype=new Ty.baseCalendar;v9e(M9.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,Ty.local.invalidYear),t=r.year()<0?r.year()+1:r.year();return t%4===0},weekOfYear:function(e,r,t){var a=this.newDate(e,r,t);return a.add(4-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Ty.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var a=this._validate(e,r,t,Ty.local.invalidDate);return e=a.year(),r=a.month(),t=a.day(),e<0&&e++,r<=2&&(e--,r+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=r+1524,a=Math.floor((t-122.1)/365.25),n=Math.floor(365.25*a),i=Math.floor((t-n)/30.6001),o=i-Math.floor(i<14?1:13),l=a-Math.floor(o>2?4716:4715),s=t-n-Math.floor(30.6001*i);return l<=0&&l--,this.newDate(l,o,s)}});Ty.calendars.julian=M9});var Ute=R(()=>{var sl=Ti(),h9e=Sn();function k9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}k9.prototype=new sl.baseCalendar;h9e(k9.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,sl.local.invalidYear),!1},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,sl.local.invalidYear);e=r.year();var t=Math.floor(e/400);e=e%400,e+=e<0?400:0;var a=Math.floor(e/20);return t+"."+a+"."+e%20},forYear:function(e){if(e=e.split("."),e.length<3)throw"Invalid Mayan year";for(var r=0,t=0;t<e.length;t++){var a=parseInt(e[t],10);if(Math.abs(a)>19||t>0&&a<0)throw"Invalid Mayan year";r=r*20+a}return r},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,sl.local.invalidYear),18},weekOfYear:function(e,r,t){return this._validate(e,r,t,sl.local.invalidDate),0},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,sl.local.invalidYear),360},daysInMonth:function(e,r){return this._validate(e,r,this.minDay,sl.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(e,r,t){var a=this._validate(e,r,t,sl.local.invalidDate);return a.day()},weekDay:function(e,r,t){return this._validate(e,r,t,sl.local.invalidDate),!0},extraInfo:function(e,r,t){var a=this._validate(e,r,t,sl.local.invalidDate),n=a.toJD(),i=this._toHaab(n),o=this._toTzolkin(n);return{haabMonthName:this.local.haabMonths[i[0]-1],haabMonth:i[0],haabDay:i[1],tzolkinDayName:this.local.tzolkinMonths[o[0]-1],tzolkinDay:o[0],tzolkinTrecena:o[1]}},_toHaab:function(e){e-=this.jdEpoch;var r=S9(e+8+17*20,365);return[Math.floor(r/20)+1,S9(r,20)]},_toTzolkin:function(e){return e-=this.jdEpoch,[Bte(e+20,20),Bte(e+4,13)]},toJD:function(e,r,t){var a=this._validate(e,r,t,sl.local.invalidDate);return a.day()+a.month()*20+a.year()*360+this.jdEpoch},fromJD:function(e){e=Math.floor(e)+.5-this.jdEpoch;var r=Math.floor(e/360);e=e%360,e+=e<0?360:0;var t=Math.floor(e/20),a=e%20;return this.newDate(r,t,a)}});function S9(e,r){return e-r*Math.floor(e/r)}function Bte(e,r){return S9(e-1,r)+1}sl.calendars.mayan=k9});var Gte=R(()=>{var hv=Ti(),d9e=Sn();function C9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}C9.prototype=new hv.baseCalendar;var Hte=hv.instance("gregorian");d9e(C9.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,hv.local.invalidYear||hv.regionalOptions[""].invalidYear);return Hte.leapYear(r.year()+(r.year()<1?1:0)+1469)},weekOfYear:function(e,r,t){var a=this.newDate(e,r,t);return a.add(1-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,hv.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(n,r,t){var a=this._validate(n,r,t,hv.local.invalidMonth),n=a.year();n<0&&n++;for(var i=a.day(),o=1;o<a.month();o++)i+=this.daysPerMonth[o-1];return i+Hte.toJD(n+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var r=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(r+1,1,1);)r++;for(var t=e-Math.floor(this.toJD(r,1,1)+.5)+1,a=1;t>this.daysInMonth(r,a);)t-=this.daysInMonth(r,a),a++;return this.newDate(r,a,t)}});hv.calendars.nanakshahi=C9});var Vte=R(()=>{var dv=Ti(),p9e=Sn();function E9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}E9.prototype=new dv.baseCalendar;p9e(E9.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,r,t){var a=this.newDate(e,r,t);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,dv.local.invalidYear);if(e=r.year(),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined")return this.daysPerYear;for(var t=0,a=this.minMonth;a<=12;a++)t+=this.NEPALI_CALENDAR_DATA[e][a];return t},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,dv.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined"?this.daysPerMonth[r-1]:this.NEPALI_CALENDAR_DATA[e][r]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},toJD:function(e,r,t){var a=this._validate(e,r,t,dv.local.invalidDate);e=a.year(),r=a.month(),t=a.day();var n=dv.instance(),i=0,o=r,l=e;this._createMissingCalendarData(e);var s=e-(o>9||o===9&&t>=this.NEPALI_CALENDAR_DATA[l][0]?56:57);for(r!==9&&(i=t,o--);o!==9;)o<=0&&(o=12,l--),i+=this.NEPALI_CALENDAR_DATA[l][o],o--;return r===9?(i+=t-this.NEPALI_CALENDAR_DATA[l][0],i<0&&(i+=n.daysInYear(s))):i+=this.NEPALI_CALENDAR_DATA[l][9]-this.NEPALI_CALENDAR_DATA[l][0],n.newDate(s,1,1).add(i,"d").toJD()},fromJD:function(e){var r=dv.instance(),t=r.fromJD(e),a=t.year(),n=t.dayOfYear(),i=a+56;this._createMissingCalendarData(i);for(var o=9,l=this.NEPALI_CALENDAR_DATA[i][0],s=this.NEPALI_CALENDAR_DATA[i][o]-l+1;n>s;)o++,o>12&&(o=1,i++),s+=this.NEPALI_CALENDAR_DATA[i][o];var u=this.NEPALI_CALENDAR_DATA[i][o]-(s-n);return this.newDate(i,o,u)},_createMissingCalendarData:function(e){var r=this.daysPerMonth.slice(0);r.unshift(17);for(var t=e-1;t<e+2;t++)typeof this.NEPALI_CALENDAR_DATA[t]=="undefined"&&(this.NEPALI_CALENDAR_DATA[t]=r)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}});dv.calendars.nepali=E9});var Yte=R(()=>{var ed=Ti(),y9e=Sn();function y5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}y5.prototype=new ed.baseCalendar;y9e(y5.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,ed.local.invalidYear);return((r.year()-(r.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(e,r,t){var a=this.newDate(e,r,t);return a.add(-((a.dayOfWeek()+1)%7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,ed.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var a=this._validate(e,r,t,ed.local.invalidDate);e=a.year(),r=a.month(),t=a.day();var n=e-(e>=0?474:473),i=474+L9(n,2820);return t+(r<=7?(r-1)*31:(r-1)*30+6)+Math.floor((i*682-110)/2816)+(i-1)*365+Math.floor(n/2820)*1029983+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=e-this.toJD(475,1,1),t=Math.floor(r/1029983),a=L9(r,1029983),n=2820;if(a!==1029982){var i=Math.floor(a/366),o=L9(a,366);n=Math.floor((2134*i+2816*o+2815)/1028522)+i+1}var l=n+2820*t+474;l=l<=0?l-1:l;var s=e-this.toJD(l,1,1)+1,u=s<=186?Math.ceil(s/31):Math.ceil((s-6)/30),f=e-this.toJD(l,u,1)+1;return this.newDate(l,u,f)}});function L9(e,r){return e-r*Math.floor(e/r)}ed.calendars.persian=y5;ed.calendars.jalali=y5});var Wte=R(()=>{var pv=Ti(),m9e=Sn(),m5=pv.instance();function q9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}q9.prototype=new pv.baseCalendar;m9e(q9.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,pv.local.invalidYear),t=this._t2gYear(r.year());return m5.leapYear(t)},weekOfYear:function(n,r,t){var a=this._validate(n,this.minMonth,this.minDay,pv.local.invalidYear),n=this._t2gYear(a.year());return m5.weekOfYear(n,a.month(),a.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,pv.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(n,r,t){var a=this._validate(n,r,t,pv.local.invalidDate),n=this._t2gYear(a.year());return m5.toJD(n,a.month(),a.day())},fromJD:function(e){var r=m5.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}});pv.calendars.taiwan=q9});var jte=R(()=>{var yv=Ti(),g9e=Sn(),g5=yv.instance();function D9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}D9.prototype=new yv.baseCalendar;g9e(D9.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,yv.local.invalidYear),t=this._t2gYear(r.year());return g5.leapYear(t)},weekOfYear:function(n,r,t){var a=this._validate(n,this.minMonth,this.minDay,yv.local.invalidYear),n=this._t2gYear(a.year());return g5.weekOfYear(n,a.month(),a.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,yv.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(n,r,t){var a=this._validate(n,r,t,yv.local.invalidDate),n=this._t2gYear(a.year());return g5.toJD(n,a.month(),a.day())},fromJD:function(e){var r=g5.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}});yv.calendars.thai=D9});var Xte=R(()=>{var mv=Ti(),b9e=Sn();function F9(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}F9.prototype=new mv.baseCalendar;b9e(F9.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,mv.local.invalidYear);return this.daysInYear(r.year())===355},weekOfYear:function(e,r,t){var a=this.newDate(e,r,t);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var r=0,t=1;t<=12;t++)r+=this.daysInMonth(e,t);return r},daysInMonth:function(e,r){for(var t=this._validate(e,r,this.minDay,mv.local.invalidMonth),a=t.toJD()-24e5+.5,n=0,i=0;i<Ff.length;i++){if(Ff[i]>a)return Ff[n]-Ff[n-1];n++}return 30},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var a=this._validate(e,r,t,mv.local.invalidDate),n=12*(a.year()-1)+a.month()-15292,i=a.day()+Ff[n-1]-1;return i+24e5-.5},fromJD:function(e){for(var r=e-24e5+.5,t=0,a=0;a<Ff.length&&!(Ff[a]>r);a++)t++;var n=t+15292,i=Math.floor((n-1)/12),o=i+1,l=n-12*i,s=r-Ff[t-1]+1;return this.newDate(o,l,s)},isValid:function(e,r,t){var a=mv.baseCalendar.prototype.isValid.apply(this,arguments);return a&&(e=e.year!=null?e.year:e,a=e>=1276&&e<=1500),a},_validate:function(e,r,t,a){var n=mv.baseCalendar.prototype._validate.apply(this,arguments);if(n.year<1276||n.year>1500)throw a.replace(/\{0\}/,this.local.name);return n}});mv.calendars.ummalqura=F9;var Ff=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]});var Jte=R((yNe,Zte)=>{"use strict";Zte.exports=Ti();Dte();Fte();Rte();Pte();Nte();Ite();Ote();zte();Ute();Gte();Vte();Yte();Wte();jte();Xte()});var aae=R((mNe,tae)=>{"use strict";var Kte=Jte(),My=fr(),Qte=vn(),x9e=Qte.EPOCHJD,_9e=Qte.ONEDAY,N9={valType:"enumerated",values:My.sortObjectKeys(Kte.calendars),editType:"calc",dflt:"gregorian"},eae=function(e,r,t,a){var n={};return n[t]=N9,My.coerce(e,r,n,t,a)},w9e=function(e,r,t,a){for(var n=0;n<t.length;n++)eae(e,r,t[n]+"calendar",a.calendar)},A9e={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},T9e={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},M9e={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},b5="##",S9e={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:b5,w:b5,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function k9e(e,r,t){for(var a=Math.floor((r+.05)/_9e)+x9e,n=rae(t).fromJD(a),i=0,o,l,s,u,f;(i=e.indexOf("%",i))!==-1;)o=e.charAt(i+1),o==="0"||o==="-"||o==="_"?(s=3,l=e.charAt(i+2),o==="_"&&(o="-")):(l=o,o="0",s=2),u=S9e[l],u?(u===b5?f=b5:f=n.formatDate(u[o]),e=e.substr(0,i)+f+e.substr(i+s),i+=f.length):i+=s;return e}var $te={};function rae(e){var r=$te[e];return r||(r=$te[e]=Kte.instance(e),r)}function Sy(e){return My.extendFlat({},N9,{description:e})}function I9(e){return"Sets the calendar system to use with `"+e+"` date data."}var P9={xcalendar:Sy(I9("x"))},_s=My.extendFlat({},P9,{ycalendar:Sy(I9("y"))}),R9=My.extendFlat({},_s,{zcalendar:Sy(I9("z"))}),rd=Sy(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));tae.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:_s,bar:_s,box:_s,heatmap:_s,contour:_s,histogram:_s,histogram2d:_s,histogram2dcontour:_s,scatter3d:R9,surface:R9,mesh3d:R9,scattergl:_s,ohlc:P9,candlestick:P9},layout:{calendar:Sy(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:rd},yaxis:{calendar:rd},scene:{xaxis:{calendar:rd},yaxis:{calendar:rd},zaxis:{calendar:rd}},polar:{radialaxis:{calendar:rd}}}},layoutAttributes:N9,handleDefaults:eae,handleTraceDefaults:w9e,CANONICAL_SUNDAY:T9e,CANONICAL_TICK:A9e,DFLTRANGE:M9e,getCal:rae,worldCalFmt:k9e}});var iae=R((gNe,nae)=>{"use strict";nae.exports=aae()});var C9e=R((bNe,lae)=>{var oae=WG();oae.register([XV(),NY(),Ete(),iae()]);lae.exports=oae});return C9e();})();
/*! Bundled license information:

native-promise-only/lib/npo.src.js:
  (*! Native Promise Only
      v0.8.1 (c) Kyle Simpson
      MIT License: http://getify.mit-license.org
  *)

polybooljs/index.js:
  (*
   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
   * @license MIT
   * @preserve Project Home: https://github.com/voidqk/polybooljs
   *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/

window.Plotly = Plotly;
return Plotly;
}));